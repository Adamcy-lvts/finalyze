import{d as q,Z as G,B as w,b as j,a as u,o,w as r,H as t,M as _,u as a,L as i,N as d,I as l,c,O as y,R as b,n as F,D as W,G as Z,P as k,Q as x}from"./app-B15nKlm-.js";import{_ as P,a as C}from"./index-DuXoxGyF.js";import{_ as H}from"./AlertTitle.vue_vue_type_script_setup_true_lang-CT1xC4kP.js";import{_ as S}from"./index-4ayiTDUc.js";import{_ as $,L as I}from"./index-BIkwlR5Z.js";import{_ as O,a as U}from"./CardContent.vue_vue_type_script_setup_true_lang-C6JuHEeQ.js";import{_ as J}from"./CardDescription.vue_vue_type_script_setup_true_lang-BcBdxBkX.js";import{_ as z}from"./CardFooter.vue_vue_type_script_setup_true_lang-CysTUaCG.js";import{_ as A,a as D}from"./CardTitle.vue_vue_type_script_setup_true_lang-BZFvhhbV.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-CsAILEEK.js";import{t as m}from"./index-q286Ob9m.js";import{C as Q}from"./circle-alert-Dl02Vqj-.js";import{C as N}from"./check-DKt0e7DM.js";import{S as X}from"./sparkles-BHcgps82.js";import{Z as ee}from"./zap-MKlRygs5.js";import"./index-CTRo8mFN.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-BmEvCB0-.js";import"./VisuallyHidden-BCa9kd-o.js";import"./useForwardExpose-U33qIo0r.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CaP9iNFX.js";import"./coins-GEWZB3D1.js";import"./log-out-D0aOHqBU.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BXunfRyg.js";import"./plus-BKHp2HUB.js";import"./chevron-right-CXz933zp.js";import"./Sonner.vue_vue_type_script_setup_true_lang-DacXCpKB.js";import"./triangle-alert-BsKFHmU0.js";import"./circle-check-DhKlf8kh.js";const te={class:"min-h-screen bg-gradient-to-b from-background to-muted/30"},se={class:"container mx-auto px-4 py-12"},ae={class:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto mb-16"},re={class:"mb-6"},oe={key:0},ie={key:1},ne={class:"text-4xl font-bold"},le={class:"bg-muted/50 rounded-lg p-4 mb-6"},de={class:"text-3xl font-bold text-primary"},ce={class:"space-y-3 text-left"},ue={class:"text-sm"},me={key:0},pe={key:1},fe={class:"max-w-4xl mx-auto"},ye={class:"text-center mb-8"},_e={class:"grid md:grid-cols-3 gap-6"},xe={class:"text-2xl font-bold mb-1"},ve={class:"text-primary font-medium mb-4"},ge={class:"space-y-1"},Ze=q({__name:"Pricing",props:{packages:{},wordBalance:{},paystackPublicKey:{},paystackConfigured:{type:Boolean},activePackageId:{}},setup(L){const T=L,h=G(),f=w(null),v=w(!1),V=w(null),g=j(()=>h.props.flash),Y=j(()=>!!h.props.auth?.user),E=async n=>{try{const e=await(await fetch(x("payments.verify"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({reference:n})})).json();e.success?(m.success(`Payment successful! ${e.data.words_credited.toLocaleString()} words added to your balance.`),k.reload()):m.error(e.message||"Payment verification failed")}catch(s){console.error("Payment verification error:",s),m.error("Could not verify payment. Please check your balance.")}},K=(n,s)=>{const e=h.props.auth?.user?.email;if(!e){m.error("User email is missing. Cannot proceed with payment.");return}PaystackPop.setup({key:T.paystackPublicKey,email:e,amount:s.price,ref:n.reference,access_code:n.access_code,onClose:()=>{m.info("Payment window closed")},callback:R=>{E(R.reference)}}).openIframe()},B=async n=>{if(!T.paystackConfigured){m.error("Payment system is not available at the moment. Please contact support.");return}if(!Y.value){k.visit(x("login"),{data:{redirect:x("pricing")}});return}if(n.price===0){m.success("Free credits claimed! Redirecting to dashboard..."),k.visit(x("dashboard"));return}f.value=n.id,V.value=n;try{const e=await(await fetch(x("payments.initialize"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({package_id:n.id})})).json();e.success?K(e.data,n):m.error(e.message||"Failed to initialize payment")}catch(s){console.error("Payment initialization error:",s),m.error("Something went wrong. Please try again.")}finally{f.value=null}};return(n,s)=>(o(),u(M,{title:"Pricing"},{default:r(()=>[t("div",te,[t("div",se,[s[10]||(s[10]=t("div",{class:"text-center mb-12"},[t("h1",{class:"text-4xl font-bold tracking-tight mb-4"}," Simple, Transparent Pricing "),t("p",{class:"text-xl text-muted-foreground max-w-2xl mx-auto"}," Pay once for your project. No subscriptions. Credits never expire. ")],-1)),n.paystackConfigured?_("",!0):(o(),u(a(P),{key:0,variant:"destructive",class:"mb-8 max-w-2xl mx-auto"},{default:r(()=>[i(a(Q),{class:"h-4 w-4"}),i(a(H),null,{default:r(()=>[...s[1]||(s[1]=[d("Payment System Unavailable",-1)])]),_:1}),i(a(C),null,{default:r(()=>[...s[2]||(s[2]=[d(" The payment system is currently not configured. You can view pricing, but payments cannot be processed at this time. Please contact support if you need to make a purchase. ",-1)])]),_:1})]),_:1})),g.value?.success?(o(),u(a(P),{key:1,class:"mb-8 max-w-2xl mx-auto border-green-500 bg-green-50 dark:bg-green-950"},{default:r(()=>[i(a(N),{class:"h-4 w-4 text-green-600"}),i(a(C),{class:"text-green-800 dark:text-green-200"},{default:r(()=>[d(l(g.value.success),1)]),_:1})]),_:1})):_("",!0),g.value?.error?(o(),u(a(P),{key:2,variant:"destructive",class:"mb-8 max-w-2xl mx-auto"},{default:r(()=>[i(a(C),null,{default:r(()=>[d(l(g.value.error),1)]),_:1})]),_:1})):_("",!0),t("div",ae,[(o(!0),c(y,null,b(n.packages.projects,e=>(o(),u(a(O),{key:e.id,class:F(["relative transition-all duration-300 hover:shadow-lg",e.is_popular?"border-primary shadow-md":"",n.activePackageId===e.id?"border-indigo-500 shadow-[0_0_30px_-5px_rgba(99,102,241,0.3)] ring-1 ring-indigo-500":""])},{default:r(()=>[n.activePackageId===e.id?(o(),u(a(S),{key:0,class:"absolute -top-3 right-4 bg-indigo-500 hover:bg-indigo-600"},{default:r(()=>[...s[3]||(s[3]=[d(" Active Plan ",-1)])]),_:1})):e.is_popular?(o(),u(a(S),{key:1,class:"absolute -top-3 left-1/2 -translate-x-1/2"},{default:r(()=>[i(a(X),{class:"w-3 h-3 mr-1"}),s[4]||(s[4]=d(" Most Popular ",-1))]),_:1})):_("",!0),i(a(A),{class:"text-center pb-2"},{default:r(()=>[i(a(D),{class:"text-2xl"},{default:r(()=>[d(l(e.name),1)]),_:2},1024),i(a(J),{class:"text-sm"},{default:r(()=>[d(l(e.description),1)]),_:2},1024)]),_:2},1024),i(a(U),{class:"text-center"},{default:r(()=>[t("div",re,[e.price===0?(o(),c("div",oe,[...s[5]||(s[5]=[t("span",{class:"text-4xl font-bold"},"Free",-1),t("span",{class:"text-muted-foreground ml-2"},"on signup",-1)])])):(o(),c("div",ie,[t("span",ne,l(e.formatted_price),1),s[6]||(s[6]=t("span",{class:"text-muted-foreground ml-2"},"one-time",-1))]))]),t("div",le,[t("div",de,l(e.formatted_words),1),s[7]||(s[7]=t("div",{class:"text-sm text-muted-foreground"},"credits included",-1))]),t("ul",ce,[(o(!0),c(y,null,b(e.features,p=>(o(),c("li",{key:p,class:"flex items-start gap-2"},[i(a(N),{class:"h-5 w-5 text-green-500 shrink-0 mt-0.5"}),t("span",ue,l(p),1)]))),128))])]),_:2},1024),i(a(z),null,{default:r(()=>[i(a($),{class:"w-full",size:"lg",variant:e.is_popular?"default":"outline",disabled:f.value===e.id||e.price>0&&!n.paystackConfigured,onClick:p=>B(e)},{default:r(()=>[f.value===e.id?(o(),u(a(I),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(o(),c(y,{key:1},[e.price===0?(o(),c("span",me,"Get Started Free")):(o(),c("span",pe,l(n.paystackConfigured?"Get Started":"Unavailable"),1))],64))]),_:2},1032,["variant","disabled","onClick"])]),_:2},1024)]),_:2},1032,["class"]))),128))]),t("div",fe,[t("div",ye,[i(a($),{variant:"ghost",onClick:s[0]||(s[0]=e=>v.value=!v.value),class:"text-muted-foreground"},{default:r(()=>[i(a(ee),{class:"w-4 h-4 mr-2"}),d(" "+l(v.value?"Hide":"Show")+" Top-up Packs ",1)]),_:1}),s[8]||(s[8]=t("p",{class:"text-sm text-muted-foreground mt-2"}," Need more credits? Buy additional credit packs anytime. ",-1))]),W(t("div",_e,[(o(!0),c(y,null,b(n.packages.topups,e=>(o(),u(a(O),{key:e.id,class:F(["relative transition-all duration-300 hover:shadow-md",e.is_popular?"border-primary":""])},{default:r(()=>[e.is_popular?(o(),u(a(S),{key:0,variant:"secondary",class:"absolute -top-2 right-4"},{default:r(()=>[...s[9]||(s[9]=[d(" Best Value ",-1)])]),_:1})):_("",!0),i(a(A),{class:"pb-2"},{default:r(()=>[i(a(D),{class:"text-lg"},{default:r(()=>[d(l(e.name),1)]),_:2},1024)]),_:2},1024),i(a(U),null,{default:r(()=>[t("div",xe,l(e.formatted_price),1),t("div",ve,l(e.formatted_words)+" credits ",1),t("ul",ge,[(o(!0),c(y,null,b(e.features,p=>(o(),c("li",{key:p,class:"flex items-center gap-2 text-xs text-muted-foreground"},[i(a(N),{class:"h-3 w-3 text-green-500"}),d(" "+l(p),1)]))),128))])]),_:2},1024),i(a(z),null,{default:r(()=>[i(a($),{variant:"outline",class:"w-full",disabled:!n.paystackConfigured||f.value===e.id,onClick:p=>B(e)},{default:r(()=>[f.value===e.id?(o(),u(a(I),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(o(),c(y,{key:1},[d(l(n.paystackConfigured?"Buy Now":"Unavailable"),1)],64))]),_:2},1032,["disabled","onClick"])]),_:2},1024)]),_:2},1032,["class"]))),128))],512),[[Z,v.value]])]),s[11]||(s[11]=t("div",{class:"max-w-2xl mx-auto mt-16 text-center"},[t("h2",{class:"text-xl font-semibold mb-6"},"Frequently Asked Questions"),t("div",{class:"space-y-4 text-left"},[t("div",{class:"p-4 rounded-lg bg-muted/30"},[t("h3",{class:"font-medium mb-1"},"Do credits expire?"),t("p",{class:"text-sm text-muted-foreground"}," No! Your credits never expire. Use them whenever you're ready. ")]),t("div",{class:"p-4 rounded-lg bg-muted/30"},[t("h3",{class:"font-medium mb-1"},"What if I run out of credits?"),t("p",{class:"text-sm text-muted-foreground"}," Simply purchase a top-up pack. Your new credits are added instantly. ")]),t("div",{class:"p-4 rounded-lg bg-muted/30"},[t("h3",{class:"font-medium mb-1"},"Can I use credits across multiple projects?"),t("p",{class:"text-sm text-muted-foreground"}," Yes! Your credit balance is account-wide. Use it for any project, seminar, or presentation. ")]),t("div",{class:"p-4 rounded-lg bg-muted/30"},[t("h3",{class:"font-medium mb-1"},"What payment methods are accepted?"),t("p",{class:"text-sm text-muted-foreground"}," We accept all Nigerian bank cards, bank transfers, and USSD payments via Paystack. ")])])],-1))])])]),_:1}))}});export{Ze as default};
