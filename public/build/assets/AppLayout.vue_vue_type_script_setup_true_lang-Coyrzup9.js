import{T as ge,v as be,h as he,o as ue,q as ye,k as j,l as W,m as K,p as ve,t as ie,r as we,S as Be,u as $e,C as qe,i as Pe,j as Ce,n as ke,s as Oe,F as xe,_ as Fe,a as Se,b as De,w as Ne}from"./UserInfo.vue_vue_type_script_setup_true_lang-fB50Q5dA.js";import{d as f,a as c,o as n,w as s,r as m,Q as P,u as e,C as Ae,B as q,K as r,ac as oe,a4 as Z,a6 as ee,I as de,a1 as te,b as B,c as v,n as y,W as E,N as S,U as ae,F as d,H as $,M as F,l as O,L as x,a3 as ce,O as Me,P as G,Z as Ee,J as Le}from"./app-D4j7Ev_F.js";import{P as Te,o as Ie,s as Re,n as ze,F as Ue,p as je,q as We,T as Ke,v as Ge,b as le,d as Q,c as X,e as He,_ as Ve,a as Je}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-IZ1ICnnZ.js";import{u as Qe,a as L}from"./useForwardExpose-DjZUvBl_.js";import{P as z,c as Xe,a as A,_ as se}from"./index-DFYl4CLt.js";import{C as H}from"./coins-nDXx96La.js";import{L as Ye}from"./log-out-BtOGtq1Q.js";import{_ as Ze}from"./AppLogo.vue_vue_type_script_setup_true_lang-BH4JEtI_.js";import{F as et,L as tt}from"./library-BZMPq6s1.js";import{P as re}from"./plus-CxuziGIX.js";import{B as at}from"./index-BoqwPLvl.js";import{C as st}from"./chevron-right-SJ85jLQI.js";import{d as rt,b as T,u as pe}from"./VisuallyHidden-N-Cfzidp.js";import{c as ot,P as lt}from"./Presence-Qj1FFS9B.js";import{r as fe}from"./index-C7Vr7qxw.js";import{_ as nt,a as ut}from"./CardContent.vue_vue_type_script_setup_true_lang-UOlpXwUF.js";import{I as it,_ as dt}from"./Sonner.vue_vue_type_script_setup_true_lang-CqBSImc2.js";import{S as ct,M as pt}from"./sun-D17KuV_j.js";var ft=f({__name:"MenuGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const t=l;return(a,o)=>(n(),c(e(z),P({role:"group"},t),{default:s(()=>[m(a.$slots,"default")]),_:3},16))}}),_t=ft;const[I,mt]=ot("PopoverRoot");var gt=f({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},modal:{type:Boolean,required:!1,default:!1}},emits:["update:open"],setup(l,{emit:t}){const a=l,o=t,{modal:u}=Ae(a),p=Qe(a,"open",o,{defaultValue:a.defaultOpen,passive:a.open===void 0}),i=q(),_=q(!1);return mt({contentId:"",triggerId:"",modal:u,open:p,onOpenChange:g=>{p.value=g},onOpenToggle:()=>{p.value=!p.value},triggerElement:i,hasCustomAnchor:_}),(g,b)=>(n(),c(e(Te),null,{default:s(()=>[m(g.$slots,"default",{open:e(p),close:()=>p.value=!1})]),_:3}))}}),bt=gt,ht=f({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(l,{emit:t}){const a=l,o=t,u=rt(fe(a,"trapFocus","disableOutsidePointerEvents")),{forwardRef:p}=L(),i=I();return Ie(),(_,g)=>(n(),c(e(Ue),{"as-child":"",loop:"",trapped:_.trapFocus,onMountAutoFocus:g[5]||(g[5]=b=>o("openAutoFocus",b)),onUnmountAutoFocus:g[6]||(g[6]=b=>o("closeAutoFocus",b))},{default:s(()=>[r(e(Re),{"as-child":"","disable-outside-pointer-events":_.disableOutsidePointerEvents,onPointerDownOutside:g[0]||(g[0]=b=>o("pointerDownOutside",b)),onInteractOutside:g[1]||(g[1]=b=>o("interactOutside",b)),onEscapeKeyDown:g[2]||(g[2]=b=>o("escapeKeyDown",b)),onFocusOutside:g[3]||(g[3]=b=>o("focusOutside",b)),onDismiss:g[4]||(g[4]=b=>e(i).onOpenChange(!1))},{default:s(()=>[r(e(ze),P(e(u),{id:e(i).contentId,ref:e(p),"data-state":e(i).open.value?"open":"closed","aria-labelledby":e(i).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:s(()=>[m(_.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),_e=ht,yt=f({__name:"PopoverContentModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(l,{emit:t}){const a=l,o=t,u=I(),p=q(!1);je(!0);const i=T(a,o),{forwardRef:_,currentElement:g}=L();return We(g),(b,h)=>(n(),c(_e,P(e(i),{ref:e(_),"trap-focus":e(u).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:h[0]||(h[0]=oe(C=>{o("closeAutoFocus",C),p.value||e(u).triggerElement.value?.focus()},["prevent"])),onPointerDownOutside:h[1]||(h[1]=C=>{o("pointerDownOutside",C);const D=C.detail.originalEvent,V=D.button===0&&D.ctrlKey===!0,J=D.button===2||V;p.value=J}),onFocusOutside:h[2]||(h[2]=oe(()=>{},["prevent"]))}),{default:s(()=>[m(b.$slots,"default")]),_:3},16,["trap-focus"]))}}),vt=yt,wt=f({__name:"PopoverContentNonModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(l,{emit:t}){const a=l,o=t,u=I(),p=q(!1),i=q(!1),_=T(a,o);return(g,b)=>(n(),c(_e,P(e(_),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:b[0]||(b[0]=h=>{o("closeAutoFocus",h),h.defaultPrevented||(p.value||e(u).triggerElement.value?.focus(),h.preventDefault()),p.value=!1,i.value=!1}),onInteractOutside:b[1]||(b[1]=async h=>{o("interactOutside",h),h.defaultPrevented||(p.value=!0,h.detail.originalEvent.type==="pointerdown"&&(i.value=!0));const C=h.target;e(u).triggerElement.value?.contains(C)&&h.preventDefault(),h.detail.originalEvent.type==="focusin"&&i.value&&h.preventDefault()})}),{default:s(()=>[m(g.$slots,"default")]),_:3},16))}}),Bt=wt,$t=f({__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(l,{emit:t}){const a=l,o=t,u=I(),p=T(a,o),{forwardRef:i}=L();return u.contentId||=pe(void 0,"reka-popover-content"),(_,g)=>(n(),c(e(lt),{present:_.forceMount||e(u).open.value},{default:s(()=>[e(u).modal.value?(n(),c(vt,P({key:0},e(p),{ref:e(i)}),{default:s(()=>[m(_.$slots,"default")]),_:3},16)):(n(),c(Bt,P({key:1},e(p),{ref:e(i)}),{default:s(()=>[m(_.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),qt=$t,Pt=f({__name:"PopoverPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(l){const t=l;return(a,o)=>(n(),c(e(Ke),Z(ee(t)),{default:s(()=>[m(a.$slots,"default")]),_:3},16))}}),Ct=Pt,kt=f({__name:"PopoverTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(l){const t=l,a=I(),{forwardRef:o,currentElement:u}=L();return a.triggerId||=pe(void 0,"reka-popover-trigger"),de(()=>{a.triggerElement.value=u.value}),(p,i)=>(n(),c(te(e(a).hasCustomAnchor.value?e(z):e(Ge)),{"as-child":""},{default:s(()=>[r(e(z),{id:e(a).triggerId,ref:e(o),type:p.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(a).open.value,"aria-controls":e(a).contentId,"data-state":e(a).open.value?"open":"closed",as:p.as,"as-child":t.asChild,onClick:e(a).onOpenToggle},{default:s(()=>[m(p.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),Ot=kt,xt=f({__name:"DropdownMenuGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const t=l;return L(),(a,o)=>(n(),c(e(_t),Z(ee(t)),{default:s(()=>[m(a.$slots,"default")]),_:3},16))}}),Ft=xt;/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=Xe("HouseIcon",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Dt=f({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(l){const t=l;return(a,o)=>(n(),c(e(ge),Z(ee(t)),{default:s(()=>[m(a.$slots,"default")]),_:3},16))}}),Nt=f({__name:"DropdownMenuGroup",props:{asChild:{type:Boolean},as:{}},setup(l){const t=l;return(a,o)=>(n(),c(e(Ft),P({"data-slot":"dropdown-menu-group"},t),{default:s(()=>[m(a.$slots,"default")]),_:3},16))}}),At=f({__name:"AppContent",props:{variant:{},class:{}},setup(l){const t=l,a=B(()=>t.class);return(o,u)=>t.variant==="sidebar"?(n(),c(e(be),{key:0,class:y(a.value)},{default:s(()=>[m(o.$slots,"default")]),_:3},8,["class"])):(n(),v("main",{key:1,class:y(["mx-auto flex h-full w-full max-w-7xl flex-1 flex-col gap-4 rounded-xl",a.value])},[m(o.$slots,"default")],2))}}),Mt=f({__name:"AppShell",props:{variant:{},class:{}},setup(l){const t=l,a=E().props.sidebarOpen;return(o,u)=>o.variant==="header"?(n(),v("div",{key:0,class:y(["flex min-h-screen w-full flex-col",t.class])},[m(o.$slots,"default")],2)):(n(),c(e(he),{key:1,"default-open":e(a),class:y(t.class)},{default:s(()=>[m(o.$slots,"default")]),_:3},8,["default-open","class"]))}}),Et=["href"],Lt=f({__name:"NavFooter",props:{items:{},class:{}},setup(l){return(t,a)=>(n(),c(e(ue),{class:y(`group-data-[collapsible=icon]:p-0 ${t.$props.class||""}`)},{default:s(()=>[r(e(ye),null,{default:s(()=>[r(e(j),null,{default:s(()=>[(n(!0),v(S,null,ae(t.items,o=>(n(),c(e(W),{key:o.title},{default:s(()=>[r(e(K),{class:"text-neutral-600 hover:text-neutral-800 dark:text-neutral-300 dark:hover:text-neutral-100","as-child":""},{default:s(()=>[d("a",{href:o.href,target:"_blank",rel:"noopener noreferrer"},[(n(),c(te(o.icon))),d("span",null,$(o.title),1)],8,Et)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["class"]))}}),Tt=f({__name:"NavMain",props:{items:{}},setup(l){const t=E();return(a,o)=>(n(),c(e(ue),{class:"px-2 py-0"},{default:s(()=>[r(e(ve),null,{default:s(()=>[...o[0]||(o[0]=[F("Platform",-1)])]),_:1}),r(e(j),null,{default:s(()=>[(n(!0),v(S,null,ae(a.items,u=>(n(),c(e(W),{key:u.title},{default:s(()=>[r(e(K),{"as-child":"","is-active":u.href===e(t).url,tooltip:u.title},{default:s(()=>[r(e(O),{href:u.href},{default:s(()=>[(n(),c(te(u.icon))),d("span",null,$(u.title),1)]),_:2},1032,["href"])]),_:2},1032,["is-active","tooltip"])]),_:2},1024))),128))]),_:1})]),_:1}))}}),It={class:"flex items-center gap-2 px-1 py-1.5 text-left text-sm"},Rt={class:"flex items-center justify-between text-xs"},zt={class:"flex items-center gap-1.5 text-muted-foreground"},Ut={class:"font-semibold text-foreground"},jt={class:"mt-1.5 h-1 w-full overflow-hidden rounded-full bg-muted"},Wt=f({__name:"UserMenuContent",props:{user:{}},setup(l){const t=()=>{Me.flushAll()},a=E(),o=B(()=>a.props.auth),u=B(()=>o.value?.user?.word_balance_data);return(p,i)=>(n(),v(S,null,[r(e(le),{class:"p-0 font-normal"},{default:s(()=>[d("div",It,[r(ie,{user:p.user,"show-email":!0},null,8,["user"])])]),_:1}),u.value?(n(),c(e(Q),{key:0})):x("",!0),u.value?(n(),c(e(le),{key:1,class:"px-2 py-1.5"},{default:s(()=>[d("div",Rt,[d("div",zt,[r(e(H),{class:"h-3.5 w-3.5"}),i[0]||(i[0]=d("span",null,"Credit Balance",-1))]),d("span",Ut,$(u.value.formatted_balance),1)]),d("div",jt,[d("div",{class:"h-full bg-primary transition-all duration-300",style:ce({width:`${u.value.percentage_remaining}%`})},null,4)])]),_:1})):x("",!0),r(e(Q)),r(e(Nt),null,{default:s(()=>[r(e(X),{"as-child":!0},{default:s(()=>[r(e(O),{class:"block w-full",href:p.route("pricing"),prefetch:"",as:"button"},{default:s(()=>[r(e(we),{class:"mr-2 h-4 w-4"}),i[1]||(i[1]=F(" Buy Credits ",-1))]),_:1},8,["href"])]),_:1}),r(e(X),{"as-child":!0},{default:s(()=>[r(e(O),{class:"block w-full",href:p.route("profile.edit"),prefetch:"",as:"button"},{default:s(()=>[r(e(Be),{class:"mr-2 h-4 w-4"}),i[2]||(i[2]=F(" Settings ",-1))]),_:1},8,["href"])]),_:1})]),_:1}),r(e(Q)),r(e(X),{"as-child":!0},{default:s(()=>[r(e(O),{class:"block w-full",method:"post",href:p.route("logout"),onClick:t,as:"button"},{default:s(()=>[r(e(Ye),{class:"mr-2 h-4 w-4"}),i[3]||(i[3]=F(" Log out ",-1))]),_:1},8,["href"])]),_:1})],64))}}),Kt=f({__name:"NavUser",setup(l){const a=E().props.auth?.user,{isMobile:o,state:u}=$e();return(p,i)=>e(a)?(n(),c(e(j),{key:0},{default:s(()=>[r(e(W),null,{default:s(()=>[r(e(He),null,{default:s(()=>[r(e(Ve),{"as-child":""},{default:s(()=>[r(e(K),{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground"},{default:s(()=>[r(ie,{user:e(a)},null,8,["user"]),r(e(qe),{class:"ml-auto size-4"})]),_:1})]),_:1}),r(e(Je),{class:"w-(--reka-dropdown-menu-trigger-width) min-w-56 rounded-lg",side:e(o)?"bottom":e(u)==="collapsed"?"left":"bottom",align:"end","side-offset":4},{default:s(()=>[r(Wt,{user:e(a)},null,8,["user"])]),_:1},8,["side"])]),_:1})]),_:1})]),_:1})):x("",!0)}}),Gt={class:"flex items-center justify-center"},Ht=f({__name:"AppSidebar",setup(l){const t=[{title:"Dashboard",href:"/dashboard",icon:St},{title:"My Projects",href:"/projects",icon:et},{title:"Topic Library",href:"/projects/topics",icon:tt},{title:"New Project",href:"/projects/create",icon:re},{title:"Buy Credits",href:"/pricing",icon:H}],a=[{title:"Github Repo",href:"https://github.com/Adamcy-lvts/finalyze",icon:xe},{title:"Documentation",href:"#",icon:at}];return(o,u)=>(n(),v(S,null,[r(e(Pe),{collapsible:"icon",variant:"inset"},{default:s(()=>[r(e(Ce),null,{default:s(()=>[r(e(j),null,{default:s(()=>[r(e(W),null,{default:s(()=>[r(e(K),{size:"lg","as-child":""},{default:s(()=>[r(e(O),{href:o.route("dashboard")},{default:s(()=>[d("div",Gt,[r(Ze,{class:"h-10 w-auto"})])]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})]),_:1}),r(e(ke),null,{default:s(()=>[r(Tt,{items:t})]),_:1}),r(e(Oe),null,{default:s(()=>[r(Lt,{items:a}),r(Kt)]),_:1})]),_:1}),m(o.$slots,"default")],64))}}),Vt=f({__name:"Breadcrumb",props:{class:{}},setup(l){const t=l;return(a,o)=>(n(),v("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",class:y(t.class)},[m(a.$slots,"default")],2))}}),Jt=f({__name:"BreadcrumbItem",props:{class:{}},setup(l){const t=l;return(a,o)=>(n(),v("li",{"data-slot":"breadcrumb-item",class:y(e(A)("inline-flex items-center gap-1.5",t.class))},[m(a.$slots,"default")],2))}}),Qt=f({__name:"BreadcrumbLink",props:{asChild:{type:Boolean},as:{default:"a"},class:{}},setup(l){const t=l;return(a,o)=>(n(),c(e(z),{"data-slot":"breadcrumb-link",as:a.as,"as-child":a.asChild,class:y(e(A)("hover:text-foreground transition-colors",t.class))},{default:s(()=>[m(a.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),Xt=f({__name:"BreadcrumbList",props:{class:{}},setup(l){const t=l;return(a,o)=>(n(),v("ol",{"data-slot":"breadcrumb-list",class:y(e(A)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t.class))},[m(a.$slots,"default")],2))}}),Yt=f({__name:"BreadcrumbPage",props:{class:{}},setup(l){const t=l;return(a,o)=>(n(),v("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",class:y(e(A)("text-foreground font-normal",t.class))},[m(a.$slots,"default")],2))}}),Zt=f({__name:"BreadcrumbSeparator",props:{class:{}},setup(l){const t=l;return(a,o)=>(n(),v("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",class:y(e(A)("[&>svg]:size-3.5",t.class))},[m(a.$slots,"default",{},()=>[r(e(st))])],2))}}),ea=f({__name:"Breadcrumbs",props:{breadcrumbs:{}},setup(l){return(t,a)=>(n(),c(e(Vt),null,{default:s(()=>[r(e(Xt),null,{default:s(()=>[(n(!0),v(S,null,ae(t.breadcrumbs,(o,u)=>(n(),v(S,{key:u},[r(e(Jt),null,{default:s(()=>[u===t.breadcrumbs.length-1?(n(),c(e(Yt),{key:0},{default:s(()=>[F($(o.title),1)]),_:2},1024)):(n(),c(e(Qt),{key:1,"as-child":""},{default:s(()=>[r(e(O),{href:o.href??"#"},{default:s(()=>[F($(o.title),1)]),_:2},1032,["href"])]),_:2},1024))]),_:2},1024),u!==t.breadcrumbs.length-1?(n(),c(e(Zt),{key:0})):x("",!0)],64))),128))]),_:1})]),_:1}))}}),ta=f({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(l,{emit:t}){const u=T(l,t);return(p,i)=>(n(),c(e(bt),P({"data-slot":"popover"},e(u)),{default:s(()=>[m(p.$slots,"default")]),_:3},16))}}),aa=f({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{default:"center"},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(l,{emit:t}){const a=l,o=t,u=fe(a,"class"),p=T(u,o);return(i,_)=>(n(),c(e(Ct),null,{default:s(()=>[r(e(qt),P({"data-slot":"popover-content"},{...e(p),...i.$attrs},{class:e(A)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md origin-(--reka-popover-content-transform-origin) outline-hidden",a.class)}),{default:s(()=>[m(i.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),sa=f({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(l){const t=l;return(a,o)=>(n(),c(e(Ot),P({"data-slot":"popover-trigger"},t),{default:s(()=>[m(a.$slots,"default")]),_:3},16))}}),ra={class:"flex items-start justify-between mb-4"},oa={class:"flex items-center gap-2"},la={class:"p-2 rounded-lg bg-primary/10"},na={class:"text-center py-4"},ua={class:"mb-4"},ia={class:"flex justify-between text-xs text-muted-foreground mb-1"},da={class:"h-2 bg-muted rounded-full overflow-hidden"},ca={class:"grid grid-cols-2 gap-4 text-center text-sm"},pa={class:"p-2 rounded bg-muted/30"},fa={class:"font-medium"},_a={class:"p-2 rounded bg-muted/30"},ma={class:"font-medium"},ne=f({__name:"CreditBalanceCard",props:{balance:{},showTopUp:{type:Boolean,default:!0},className:{default:""}},setup(l){const t=l,a=B(()=>t.balance.percentage_remaining),o=B(()=>{const i=t.balance.percentage_remaining;return i>50?"healthy":i>20?"warning":"critical"}),u=B(()=>{switch(o.value){case"healthy":return"bg-green-500";case"warning":return"bg-yellow-500";case"critical":return"bg-red-500";default:return"bg-primary"}}),p=B(()=>{switch(o.value){case"healthy":return"text-green-600 dark:text-green-400";case"warning":return"text-yellow-600 dark:text-yellow-400";case"critical":return"text-red-600 dark:text-red-400";default:return"text-foreground"}});return(i,_)=>(n(),c(e(nt),{class:y(["overflow-hidden",i.className])},{default:s(()=>[r(e(ut),{class:"p-6"},{default:s(()=>[d("div",ra,[d("div",oa,[d("div",la,[r(e(H),{class:"w-5 h-5 text-primary"})]),_[0]||(_[0]=d("div",null,[d("h3",{class:"font-semibold"},"Credit Balance"),d("p",{class:"text-xs text-muted-foreground"},"Your available credits")],-1))]),r(e(Dt),null,{default:s(()=>[r(e(Fe),null,{default:s(()=>[r(e(Se),null,{default:s(()=>[r(e(it),{class:"w-4 h-4 text-muted-foreground"})]),_:1}),r(e(De),null,{default:s(()=>[..._[1]||(_[1]=[d("p",null,"Credits are used for AI generation features.",-1),d("p",null,"They never expire!",-1)])]),_:1})]),_:1})]),_:1})]),d("div",na,[d("div",{class:y(["text-4xl font-bold",p.value])},$(i.balance.formatted_balance),3),_[2]||(_[2]=d("div",{class:"text-sm text-muted-foreground"},"credits remaining",-1))]),d("div",ua,[d("div",ia,[d("span",null,$(i.balance.percentage_remaining.toFixed(0))+"% remaining",1),d("span",null,$(i.balance.total_used.toLocaleString())+" used",1)]),d("div",da,[d("div",{class:y(["h-full transition-all duration-500",u.value]),style:ce({width:`${a.value}%`})},null,6)])]),d("div",ca,[d("div",pa,[d("div",fa,$(i.balance.total_purchased.toLocaleString()),1),_[3]||(_[3]=d("div",{class:"text-xs text-muted-foreground"},"Purchased",-1))]),d("div",_a,[d("div",ma,$(i.balance.bonus_received.toLocaleString()),1),_[4]||(_[4]=d("div",{class:"text-xs text-muted-foreground"},"Bonus",-1))])]),i.showTopUp?(n(),c(e(O),{key:0,href:e(G)("pricing"),class:"block mt-4"},{default:s(()=>[r(e(se),{variant:"outline",class:"w-full"},{default:s(()=>[r(e(re),{class:"w-4 h-4 mr-2"}),_[5]||(_[5]=F(" Buy More Credits ",-1))]),_:1})]),_:1},8,["href"])):x("",!0)]),_:1})]),_:1},8,["class"]))}}),ga={key:0,class:"flex items-center gap-2"},ba={class:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-muted/50 hover:bg-muted transition-colors cursor-pointer"},ha={class:"font-medium text-sm text-foreground"},ya=f({__name:"WordBalanceDisplay",props:{balance:{},compact:{type:Boolean,default:!1},showTopUp:{type:Boolean,default:!0}},setup(l){return(t,a)=>t.compact?(n(),v("div",ga,[r(e(ta),null,{default:s(()=>[r(e(sa),{"as-child":""},{default:s(()=>[d("div",ba,[r(e(H),{class:"w-4 h-4 text-primary"}),d("span",ha,$(t.balance.formatted_balance),1),a[0]||(a[0]=d("span",{class:"text-xs text-muted-foreground"},"credits",-1))])]),_:1}),r(e(aa),{class:"w-80 p-0",align:"end"},{default:s(()=>[r(ne,{balance:t.balance,"show-top-up":t.showTopUp,class:"border-0 shadow-none"},null,8,["balance","show-top-up"])]),_:1})]),_:1}),t.showTopUp?(n(),c(e(O),{key:0,href:e(G)("pricing")},{default:s(()=>[r(e(se),{variant:"ghost",size:"icon",class:"h-8 w-8 text-foreground"},{default:s(()=>[r(e(re),{class:"w-4 h-4"})]),_:1})]),_:1},8,["href"])):x("",!0)])):(n(),c(ne,{key:1,balance:t.balance,"show-top-up":t.showTopUp},null,8,["balance","show-top-up"]))}}),va=f({__name:"ThemeToggle",setup(l){const{toggle:t}=Ee(),a=()=>{t()};return(o,u)=>(n(),c(e(se),{variant:"ghost",size:"icon",onClick:u[0]||(u[0]=p=>a()),class:"w-9 h-9 rounded-full relative overflow-hidden text-foreground"},{default:s(()=>[r(e(ct),{class:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),r(e(pt),{class:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),u[1]||(u[1]=d("span",{class:"sr-only"},"Toggle theme",-1))]),_:1}))}}),Y=q(null);let M=!1,U=0,R=null;function wa(l){if(U++,console.log(`[WordBalance] Init listener called, subscriber count: ${U}, already subscribed: ${M}`),M){console.log("[WordBalance] Already subscribed, skipping");return}if(!window.Echo){console.warn("[WordBalance] window.Echo not available");return}try{console.log(`[WordBalance] Subscribing to private channel: user.${l}`);const t=window.Echo.private(`user.${l}`);t.listen(".balance.updated",a=>{console.log("ðŸ’° [WordBalance] Event received:",a),console.log(`ðŸ’° [WordBalance] New balance: ${a.balance.formatted_balance} (reason: ${a.reason})`),Y.value=a.balance}),t.subscribed(()=>{console.log(`âœ… [WordBalance] Successfully subscribed to user.${l} channel`)}),t.error(a=>{console.error("[WordBalance] Channel error:",a)}),M=!0,R=l,console.log(`âœ… [WordBalance] Listener registered for user.${l}`)}catch(t){console.error("[WordBalance] Failed to subscribe to balance channel:",t)}}function Ba(){if(U--,!(U>0||!M||!window.Echo||!R))try{window.Echo.leave(`user.${R}`),M=!1,R=null,console.log("ðŸ”Œ Unsubscribed from balance updates channel")}catch(l){console.error("Failed to unsubscribe from balance channel:",l)}}function $a(){const l=E(),t=q(!1),a=q(!1),o=q(0),u=q(""),p=B(()=>l.props.auth?.user?.id??null),i=B(()=>Y.value?Y.value:l.props.auth?.user?.word_balance_data??null),_=B(()=>i.value?.balance??0),g=B(()=>i.value?.formatted_balance??"0"),b=B(()=>_.value>0),h=B(()=>i.value?i.value.percentage_remaining<20:!1),C=w=>{const k=_.value,N=k>=w;return{canProceed:N,balance:k,required:w,shortage:N?0:w-k}},D=(w,k="continue")=>C(w).canProceed?!0:(o.value=w,u.value=k,a.value=!0,!1),V=async()=>{t.value=!0;try{const k=await(await fetch(G("api.balance"))).json();if(k.balance){const N=l.props.auth;N?.user&&(N.user.word_balance_data=k.balance)}return k.balance}catch(w){return console.error("Failed to fetch balance:",w),null}finally{t.value=!1}},J={chapter:w=>Math.ceil(w*1.1),suggestion:()=>200,chat:()=>500,defense:()=>1e3,expand:()=>300,rephrase:()=>150},me=()=>{a.value=!1,o.value=0,u.value=""};return de(()=>{p.value&&wa(p.value)}),Le(()=>{Ba()}),{wordBalance:i,balance:_,formattedBalance:g,hasWords:b,isLowBalance:h,isLoading:t,showPurchaseModal:a,requiredWordsForModal:o,actionDescriptionForModal:u,checkBalance:C,checkAndPrompt:D,refreshBalance:V,closePurchaseModal:me,estimates:J}}async function Ha(l,t,a,o){try{await fetch(G("api.words.record-usage"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({words:l,description:t,reference_type:a,reference_id:o})})}catch(u){console.error("Failed to record word usage:",u)}}const qa={class:"flex h-16 shrink-0 items-center gap-2 border-b border-sidebar-border/70 px-6 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-4"},Pa={class:"flex items-center gap-2"},Ca={class:"ml-auto flex items-center gap-2"},ka=f({__name:"AppSidebarHeader",props:{breadcrumbs:{default:()=>[]}},setup(l){const{wordBalance:t}=$a();return(a,o)=>(n(),v("header",qa,[d("div",Pa,[r(e(Ne),{class:"-ml-1"}),a.breadcrumbs&&a.breadcrumbs.length>0?(n(),c(ea,{key:0,breadcrumbs:a.breadcrumbs},null,8,["breadcrumbs"])):x("",!0)]),d("div",Ca,[r(va),e(t)?(n(),c(ya,{key:0,balance:e(t),compact:""},null,8,["balance"])):x("",!0)])]))}}),Oa=f({__name:"AppSidebarLayout",props:{breadcrumbs:{default:()=>[]},class:{default:""},title:{default:""}},setup(l){return(t,a)=>(n(),v(S,null,[r(Mt,{variant:"sidebar",class:y(t.$props.class)},{default:s(()=>[r(Ht),r(At,{variant:"sidebar",class:"overflow-x-hidden"},{default:s(()=>[r(ka,{breadcrumbs:t.breadcrumbs},null,8,["breadcrumbs"]),m(t.$slots,"default")]),_:3})]),_:3},8,["class"]),r(e(dt),{position:"top-right",expand:!1,"rich-colors":!0,"close-button":!0})],64))}}),Va=f({__name:"AppLayout",props:{breadcrumbs:{default:()=>[]},class:{default:""}},setup(l){return(t,a)=>(n(),c(Oa,{breadcrumbs:t.breadcrumbs,class:y(t.$props.class)},{default:s(()=>[m(t.$slots,"default")]),_:3},8,["breadcrumbs","class"]))}});export{Va as _,va as a,Dt as b,ne as c,ta as d,sa as e,aa as f,Ha as r,$a as u};
