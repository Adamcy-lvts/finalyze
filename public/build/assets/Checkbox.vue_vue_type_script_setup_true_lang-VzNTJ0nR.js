import{P as g,c as F}from"./index-Bt90G_JS.js";import{c as V,P as I,b as $}from"./Presence-CF0v4nrQ.js";import{i as _}from"./nullish-CHIgUVhi.js";import{i as x}from"./isValueEqualOrExist-DSClXoPv.js";import{u as M}from"./useFormControl-DZHITw7J.js";import{b as q,u as G}from"./useForwardExpose-RFhk291K.js";import{R as N}from"./RovingFocusItem-BKrtReCo.js";import{V as j}from"./VisuallyHiddenInput-k5clDSmU.js";import{d as h,m as v,g as d,o as u,w as p,l as k,a as z,u as e,N as y,a_ as A,a7 as K,aA as D,e as w,ca as H,aP as L}from"./vendor-Bi-OfESq.js";import{i as O}from"./ohash.D__AXeF1-C-E83dC9.js";const[T,ue]=V("CheckboxGroupRoot");function b(r){return r==="indeterminate"}function B(r){return b(r)?"indeterminate":r?"checked":"unchecked"}const[J,Q]=V("CheckboxRoot");var U=h({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(r,{emit:n}){const a=r,l=n,{forwardRef:f,currentElement:m}=q(),o=T(null),s=G(a,"modelValue",l,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),c=v(()=>o?.disabled.value||a.disabled),i=v(()=>_(o?.modelValue.value)?s.value==="indeterminate"?"indeterminate":s.value:x(o.modelValue.value,a.value));function R(){if(_(o?.modelValue.value))s.value=b(s.value)?!0:!s.value;else{const t=[...o.modelValue.value||[]];if(x(t,a.value)){const C=t.findIndex(E=>O(E,a.value));t.splice(C,1)}else t.push(a.value);o.modelValue.value=t}}const S=M(m),P=v(()=>a.id&&m.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return Q({disabled:c,state:i}),(t,C)=>(u(),d(D(e(o)?.rovingFocus.value?e(N):e(g)),y(t.$attrs,{id:t.id,ref:e(f),role:"checkbox","as-child":t.asChild,as:t.as,type:t.as==="button"?"button":void 0,"aria-checked":e(b)(i.value)?"mixed":i.value,"aria-required":t.required,"aria-label":t.$attrs["aria-label"]||P.value,"data-state":e(B)(i.value),"data-disabled":c.value?"":void 0,disabled:c.value,focusable:e(o)?.rovingFocus.value?!c.value:void 0,onKeydown:A(K(()=>{},["prevent"]),["enter"]),onClick:R}),{default:p(()=>[k(t.$slots,"default",{modelValue:e(s),state:i.value}),e(S)&&t.name&&!e(o)?(u(),d(e(j),{key:0,type:"checkbox",checked:!!i.value,name:t.name,value:t.value,disabled:c.value,required:t.required},null,8,["checked","name","value","disabled","required"])):z("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),W=U,X=h({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(r){const{forwardRef:n}=q(),a=J();return(l,f)=>(u(),d(e(I),{present:l.forceMount||e(b)(e(a).state.value)||e(a).state.value===!0},{default:p(()=>[w(e(g),y({ref:e(n),"data-state":e(B)(e(a).state.value),"data-disabled":e(a).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":l.asChild,as:l.as},l.$attrs),{default:p(()=>[k(l.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),Y=X;const ne=h({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(r,{emit:n}){const a=r,l=n,f=v(()=>{const{class:o,...s}=a;return s}),m=$(f,l);return(o,s)=>(u(),d(e(W),y({"data-slot":"checkbox"},e(m),{class:e(F)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a.class)}),{default:p(()=>[w(e(Y),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:p(()=>[k(o.$slots,"default",{},()=>[a.checked==="indeterminate"?(u(),d(e(H),{key:0,class:"size-3.5"})):(u(),d(e(L),{key:1,class:"size-3.5"}))])]),_:3})]),_:3},16,["class"]))}});export{ne as _};
