import{bu as R,ch as W,bt as w,ck as j,cn as u,co as o,cp as r,cr as t,cI as _,bF as a,cq as i,dU as G,cs as d,ev as k,ct as l,cD as c,cT as y,df as g,cu as B,cN as J,dT as U,cw as X,cF as H,cx as M,cj as m,ce as P,cl as x}from"./vendor-BXA9o5aE.js";import{_ as C,a as S}from"./index-B53LDMjq.js";import{_ as Q}from"./AlertTitle.vue_vue_type_script_setup_true_lang-CZIIJo6Y.js";import{_ as $}from"./index-Cg1WdiVg.js";import{_ as N}from"./index-6eDBshV0.js";import{_ as I,a as z}from"./CardContent.vue_vue_type_script_setup_true_lang-DFMxMKv_.js";import{_ as Z}from"./CardDescription.vue_vue_type_script_setup_true_lang-XcLFZcgR.js";import{_ as A}from"./CardFooter.vue_vue_type_script_setup_true_lang-BjyXV6K-.js";import{_ as O,a as D}from"./CardTitle.vue_vue_type_script_setup_true_lang-t06-cWzD.js";import{a as ee}from"./AppLayout.vue_vue_type_script_setup_true_lang-CGmAoU48.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-6eK1qtia.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-au1PkDWt.js";import"./Sonner.vue_vue_type_script_setup_true_lang-Be-IVUv0.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-ddGrV9YK.js";import"./WordBalanceDisplay.vue_vue_type_script_setup_true_lang-VrZcqttV.js";import"./useAppearance-DVNTga11.js";import"./useWordBalance-B5l8ItG4.js";import"./PWAInstallPrompt.vue_vue_type_script_setup_true_lang-Du9fvJu_.js";const te={class:"min-h-screen bg-gradient-to-b from-background to-muted/30"},se={class:"container mx-auto px-4 py-12"},ae={class:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto mb-16"},re={class:"mb-6"},oe={key:0},ie={key:1},ne={class:"text-4xl font-bold"},le={class:"bg-muted/50 rounded-lg p-4 mb-6"},de={class:"text-3xl font-bold text-primary"},ce={class:"space-y-3 text-left"},ue={class:"text-sm"},me={key:0},pe={key:1},fe={class:"max-w-4xl mx-auto"},ye={class:"text-center mb-8"},_e={class:"grid md:grid-cols-3 gap-6"},xe={class:"text-2xl font-bold mb-1"},ve={class:"text-primary font-medium mb-4"},be={class:"space-y-1"},De=R({__name:"Pricing",props:{packages:{},wordBalance:{},paystackPublicKey:{},paystackConfigured:{type:Boolean},activePackageId:{}},setup(V){const T=V,h=W(),f=w(null),v=w(!1),Y=w(null),b=j(()=>h.props.flash),q=j(()=>!!h.props.auth?.user),E=async n=>{try{const e=await(await fetch(x("payments.verify"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({reference:n})})).json();e.success?(m.success(`Payment successful! ${e.data.words_credited.toLocaleString()} words added to your balance.`),P.reload()):m.error(e.message||"Payment verification failed")}catch(s){console.error("Payment verification error:",s),m.error("Could not verify payment. Please check your balance.")}},K=(n,s)=>{const e=h.props.auth?.user?.email;if(!e){m.error("User email is missing. Cannot proceed with payment.");return}PaystackPop.setup({key:T.paystackPublicKey,email:e,amount:s.price,ref:n.reference,access_code:n.access_code,onClose:()=>{m.info("Payment window closed")},callback:L=>{E(L.reference)}}).openIframe()},F=async n=>{if(!T.paystackConfigured){m.error("Payment system is not available at the moment. Please contact support.");return}if(!q.value){P.visit(x("login"),{data:{redirect:x("pricing")}});return}if(n.price===0){m.success("Free credits claimed! Redirecting to dashboard..."),P.visit(x("dashboard"));return}f.value=n.id,Y.value=n;try{const e=await(await fetch(x("payments.initialize"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({package_id:n.id})})).json();e.success?K(e.data,n):m.error(e.message||"Failed to initialize payment")}catch(s){console.error("Payment initialization error:",s),m.error("Something went wrong. Please try again.")}finally{f.value=null}};return(n,s)=>(o(),u(ee,{title:"Pricing"},{default:r(()=>[t("div",te,[t("div",se,[s[10]||(s[10]=t("div",{class:"text-center mb-12"},[t("h1",{class:"text-4xl font-bold tracking-tight mb-4"}," Simple, Transparent Pricing "),t("p",{class:"text-xl text-muted-foreground max-w-2xl mx-auto"}," Pay once for your project. No subscriptions. Credits never expire. ")],-1)),n.paystackConfigured?_("",!0):(o(),u(a(C),{key:0,variant:"destructive",class:"mb-8 max-w-2xl mx-auto"},{default:r(()=>[i(a(G),{class:"h-4 w-4"}),i(a(Q),null,{default:r(()=>[...s[1]||(s[1]=[d("Payment System Unavailable",-1)])]),_:1}),i(a(S),null,{default:r(()=>[...s[2]||(s[2]=[d(" The payment system is currently not configured. You can view pricing, but payments cannot be processed at this time. Please contact support if you need to make a purchase. ",-1)])]),_:1})]),_:1})),b.value?.success?(o(),u(a(C),{key:1,class:"mb-8 max-w-2xl mx-auto border-green-500 bg-green-50 dark:bg-green-950"},{default:r(()=>[i(a(k),{class:"h-4 w-4 text-green-600"}),i(a(S),{class:"text-green-800 dark:text-green-200"},{default:r(()=>[d(l(b.value.success),1)]),_:1})]),_:1})):_("",!0),b.value?.error?(o(),u(a(C),{key:2,variant:"destructive",class:"mb-8 max-w-2xl mx-auto"},{default:r(()=>[i(a(S),null,{default:r(()=>[d(l(b.value.error),1)]),_:1})]),_:1})):_("",!0),t("div",ae,[(o(!0),c(y,null,g(n.packages.projects,e=>(o(),u(a(I),{key:e.id,class:B(["relative transition-all duration-300 hover:shadow-lg",e.is_popular?"border-primary shadow-md":"",n.activePackageId===e.id?"border-indigo-500 shadow-[0_0_30px_-5px_rgba(99,102,241,0.3)] ring-1 ring-indigo-500":""])},{default:r(()=>[n.activePackageId===e.id?(o(),u(a($),{key:0,class:"absolute -top-3 right-4 bg-indigo-500 hover:bg-indigo-600"},{default:r(()=>[...s[3]||(s[3]=[d(" Active Plan ",-1)])]),_:1})):e.is_popular?(o(),u(a($),{key:1,class:"absolute -top-3 left-1/2 -translate-x-1/2"},{default:r(()=>[i(a(J),{class:"w-3 h-3 mr-1"}),s[4]||(s[4]=d(" Most Popular ",-1))]),_:1})):_("",!0),i(a(O),{class:"text-center pb-2"},{default:r(()=>[i(a(D),{class:"text-2xl"},{default:r(()=>[d(l(e.name),1)]),_:2},1024),i(a(Z),{class:"text-sm"},{default:r(()=>[d(l(e.description),1)]),_:2},1024)]),_:2},1024),i(a(z),{class:"text-center"},{default:r(()=>[t("div",re,[e.price===0?(o(),c("div",oe,[...s[5]||(s[5]=[t("span",{class:"text-4xl font-bold"},"Free",-1),t("span",{class:"text-muted-foreground ml-2"},"on signup",-1)])])):(o(),c("div",ie,[t("span",ne,l(e.formatted_price),1),s[6]||(s[6]=t("span",{class:"text-muted-foreground ml-2"},"one-time",-1))]))]),t("div",le,[t("div",de,l(e.formatted_words),1),s[7]||(s[7]=t("div",{class:"text-sm text-muted-foreground"},"credits included",-1))]),t("ul",ce,[(o(!0),c(y,null,g(e.features,p=>(o(),c("li",{key:p,class:"flex items-start gap-2"},[i(a(k),{class:"h-5 w-5 text-green-500 shrink-0 mt-0.5"}),t("span",ue,l(p),1)]))),128))])]),_:2},1024),i(a(A),null,{default:r(()=>[i(a(N),{class:"w-full",size:"lg",variant:e.is_popular?"default":"outline",disabled:f.value===e.id||e.price>0&&!n.paystackConfigured,onClick:p=>F(e)},{default:r(()=>[f.value===e.id?(o(),u(a(U),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(o(),c(y,{key:1},[e.price===0?(o(),c("span",me,"Get Started Free")):(o(),c("span",pe,l(n.paystackConfigured?"Get Started":"Unavailable"),1))],64))]),_:2},1032,["variant","disabled","onClick"])]),_:2},1024)]),_:2},1032,["class"]))),128))]),t("div",fe,[t("div",ye,[i(a(N),{variant:"ghost",onClick:s[0]||(s[0]=e=>v.value=!v.value),class:"text-muted-foreground"},{default:r(()=>[i(a(H),{class:"w-4 h-4 mr-2"}),d(" "+l(v.value?"Hide":"Show")+" Top-up Packs ",1)]),_:1}),s[8]||(s[8]=t("p",{class:"text-sm text-muted-foreground mt-2"}," Need more credits? Buy additional credit packs anytime. ",-1))]),X(t("div",_e,[(o(!0),c(y,null,g(n.packages.topups,e=>(o(),u(a(I),{key:e.id,class:B(["relative transition-all duration-300 hover:shadow-md",e.is_popular?"border-primary":""])},{default:r(()=>[e.is_popular?(o(),u(a($),{key:0,variant:"secondary",class:"absolute -top-2 right-4"},{default:r(()=>[...s[9]||(s[9]=[d(" Best Value ",-1)])]),_:1})):_("",!0),i(a(O),{class:"pb-2"},{default:r(()=>[i(a(D),{class:"text-lg"},{default:r(()=>[d(l(e.name),1)]),_:2},1024)]),_:2},1024),i(a(z),null,{default:r(()=>[t("div",xe,l(e.formatted_price),1),t("div",ve,l(e.formatted_words)+" credits ",1),t("ul",be,[(o(!0),c(y,null,g(e.features,p=>(o(),c("li",{key:p,class:"flex items-center gap-2 text-xs text-muted-foreground"},[i(a(k),{class:"h-3 w-3 text-green-500"}),d(" "+l(p),1)]))),128))])]),_:2},1024),i(a(A),null,{default:r(()=>[i(a(N),{variant:"outline",class:"w-full",disabled:!n.paystackConfigured||f.value===e.id,onClick:p=>F(e)},{default:r(()=>[f.value===e.id?(o(),u(a(U),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(o(),c(y,{key:1},[d(l(n.paystackConfigured?"Buy Now":"Unavailable"),1)],64))]),_:2},1032,["disabled","onClick"])]),_:2},1024)]),_:2},1032,["class"]))),128))],512),[[M,v.value]])]),s[11]||(s[11]=t("div",{class:"max-w-2xl mx-auto mt-16 text-center"},[t("h2",{class:"text-xl font-semibold mb-6"},"Frequently Asked Questions"),t("div",{class:"space-y-4 text-left"},[t("div",{class:"p-4 rounded-lg bg-muted/30"},[t("h3",{class:"font-medium mb-1"},"Do credits expire?"),t("p",{class:"text-sm text-muted-foreground"}," No! Your credits never expire. Use them whenever you're ready. ")]),t("div",{class:"p-4 rounded-lg bg-muted/30"},[t("h3",{class:"font-medium mb-1"},"What if I run out of credits?"),t("p",{class:"text-sm text-muted-foreground"}," Simply purchase a top-up pack. Your new credits are added instantly. ")]),t("div",{class:"p-4 rounded-lg bg-muted/30"},[t("h3",{class:"font-medium mb-1"},"Can I use credits across multiple projects?"),t("p",{class:"text-sm text-muted-foreground"}," Yes! Your credit balance is account-wide. Use it for any project, seminar, or presentation. ")]),t("div",{class:"p-4 rounded-lg bg-muted/30"},[t("h3",{class:"font-medium mb-1"},"What payment methods are accepted?"),t("p",{class:"text-sm text-muted-foreground"}," We accept all Nigerian bank cards, bank transfers, and USSD payments via Paystack. ")])])],-1))])])]),_:1}))}});export{De as default};
