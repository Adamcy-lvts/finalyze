import{d as ve,s as g,h as he,g as xe,c as k,o as m,w as n,e as t,k as i,u as a,A as d,t as c,a as y,z as Y,n as I,b as X,S as H,T as J,F as U,D as B,K as F}from"./app-OLVDhRZX.js";import{_ as A}from"./index-CTuvqQIe.js";import{_ as P,L as $}from"./index-DaGexGBE.js";import{_ as D,a as K}from"./CardContent.vue_vue_type_script_setup_true_lang-B_TDzyV0.js";import{_ as W}from"./CardDescription.vue_vue_type_script_setup_true_lang-Cg2sHJFK.js";import{_ as Q,a as Z}from"./CardTitle.vue_vue_type_script_setup_true_lang-DnhGlQuz.js";import{_ as be}from"./Input.vue_vue_type_script_setup_true_lang-BuMZTJY2.js";import{_ as L}from"./Label.vue_vue_type_script_setup_true_lang-Bc4kLZ7-.js";import{_ as ye,a as Se,b as ee,c as te}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-C_Rq5FJS.js";import{_ as se}from"./Textarea.vue_vue_type_script_setup_true_lang-D8o3Lums.js";import{_ as we}from"./AppLayout.vue_vue_type_script_setup_true_lang-B2Ylnxoa.js";import{t as f}from"./Sonner.vue_vue_type_script_setup_true_lang-CkU99PnM.js";import{A as _e}from"./arrow-left-WZQ1E_YE.js";import{L as j}from"./lightbulb-C_Ac6sVN.js";import{A as oe}from"./arrow-right-zrCrOdnP.js";import{R as Te}from"./refresh-cw-Bl5T-FU2.js";import{C as Ie}from"./chevron-down--OS8kMi_.js";import"./useForwardExpose-D3ZCYv78.js";import"./VisuallyHidden-3WsZiUdH.js";import"./RovingFocusItem-CjzULylu.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-BUzJpQxu.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-xauyJFI0.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-i34iy7x6.js";import"./chevron-right-CwFDWBJh.js";import"./triangle-alert-Vj-YkvmG.js";import"./circle-check-BwYxi1af.js";const Ce={class:"min-h-screen bg-gradient-to-b from-background via-background/95 to-muted/20"},Oe={class:"mx-auto max-w-5xl space-y-10 p-6 pb-20 lg:p-10"},ke={class:"flex items-center justify-between"},Pe={class:"flex h-8 w-8 items-center justify-center rounded-full bg-muted/50 group-hover:bg-primary/10 transition-colors mr-2"},je={class:"space-y-4 text-center animate-in fade-in slide-in-from-bottom-4 duration-700"},Ee={class:"mx-auto flex h-20 w-20 items-center justify-center rounded-2xl bg-gradient-to-br from-primary/20 to-primary/5 shadow-lg shadow-primary/10 ring-1 ring-white/20"},Ne={class:"space-y-2"},Re={class:"mx-auto max-w-2xl text-lg text-muted-foreground leading-relaxed"},Ae={class:"font-medium text-foreground"},Me={class:"font-medium text-foreground"},Ue={class:"animate-in fade-in slide-in-from-bottom-6 duration-700 delay-100"},Be={class:"grid grid-cols-1 divide-y divide-border/40 md:grid-cols-4 md:divide-x md:divide-y-0"},Fe={class:"p-6 flex flex-col gap-2"},$e={class:"flex items-center gap-2 font-semibold"},De={class:"p-6 flex flex-col gap-2"},Le={class:"flex items-center gap-2 font-semibold"},ze={class:"capitalize"},Ge={class:"p-6 flex flex-col gap-2"},Ve={class:"flex items-center gap-2 font-semibold"},qe=["title"],Ye={class:"p-6 flex flex-col gap-2"},Xe={class:"flex items-center gap-2 font-semibold"},He={class:"animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200"},Je={class:"flex justify-center"},Ke={class:"space-y-2"},We={class:"space-y-2"},Qe={class:"space-y-2"},Ze={class:"pt-4"},et={key:1,class:"flex items-center"},tt={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},st={class:"space-y-1"},ot={class:"p-1.5 rounded-md bg-primary/10 text-primary"},rt={class:"flex items-center gap-3"},at={key:0,class:"mt-6 flex flex-wrap items-center gap-4 animate-in fade-in slide-in-from-top-2"},it={class:"flex items-center gap-2 bg-background/50 p-1 rounded-lg border border-border/50"},nt={class:"flex items-center gap-2 bg-background/50 p-1 rounded-lg border border-border/50"},lt={class:"ml-auto"},dt={key:0,class:"flex flex-col items-center justify-center h-[400px] p-8 text-center space-y-8 animate-in fade-in duration-500"},ct={class:"relative"},ut={class:"relative flex items-center justify-center h-20 w-20 rounded-full bg-background border-2 border-primary/20 shadow-xl"},pt={class:"space-y-4 max-w-md w-full"},mt={class:"space-y-2"},gt={class:"flex justify-between text-xs font-medium text-muted-foreground px-1"},ft={class:"h-2 w-full bg-muted/50 rounded-full overflow-hidden"},vt={class:"grid grid-cols-4 gap-2 pt-4"},ht={key:1,class:"flex flex-col items-center justify-center h-[400px] p-8 text-center space-y-6 animate-in fade-in zoom-in-95 duration-500"},xt={class:"h-24 w-24 rounded-3xl bg-muted/30 flex items-center justify-center mb-2"},bt={key:2,class:"p-6 grid gap-6 md:grid-cols-1 lg:grid-cols-1 xl:grid-cols-1"},yt={class:"flex flex-col gap-4"},St={class:"flex items-start justify-between gap-4"},wt={class:"space-y-1"},_t={class:"text-lg font-semibold leading-tight text-foreground group-hover:text-primary transition-colors"},Tt={class:"flex flex-wrap gap-2 pt-1"},It={class:"relative"},Ct=["onClick"],Ot={class:"flex items-center justify-between pt-2 border-t border-border/30 mt-2"},kt={class:"flex gap-2"},Pt={class:"flex items-center gap-2",title:"Feasibility Score"},jt={class:"flex flex-col items-end"},Et={class:"h-8 w-1 rounded-full bg-muted overflow-hidden"},rs=ve({__name:"TopicSelection",props:{project:{},savedTopics:{}},setup(re){const l=re,T=g("existing"),S=g(!1),E=g(!1),p=g([]),ae=g(""),ie=g(""),v=g(""),h=g(""),w=g(""),N=g("all"),R=g("all"),C=g(new Set);he(()=>{console.log("üìã TOPIC SELECTION - Project data received:",{topic:l.project.topic,title:l.project.title,description:l.project.description,description_exists:!!l.project.description,description_length:l.project.description?.length||0}),l.project.topic&&(v.value=l.project.topic,h.value=l.project.description||"",w.value=l.project.title||"",T.value="existing",console.log("‚úÖ TOPIC SELECTION - Form fields populated:",{customTopic:v.value?.substring(0,50),customDescription:h.value?.substring(0,50),customTitle:w.value})),l.savedTopics&&l.savedTopics.length>0&&(p.value=l.savedTopics,console.log("üì¶ SAVED TOPICS - Loaded from database",{count:l.savedTopics.length,topics:l.savedTopics.map(o=>o.title)}),l.project.topic||(T.value="generated"))});const u=g(""),x=g(""),O={connecting:{order:1,label:"Connecting to AI service"},analyzing:{order:2,label:"Analyzing your project context"},generating:{order:3,label:"Generating research topics"},enriching:{order:4,label:"Enriching with metadata"},complete:{order:5,label:"Complete"}},ne=o=>{const e=O[x.value]?.order||0,s=O[o]?.order||0;return s<e?"h-3 w-3 rounded-full bg-green-500":s===e?"h-3 w-3 rounded-full bg-primary animate-pulse":"h-3 w-3 rounded-full bg-muted"},z=()=>{const o=O[x.value]?.order||0,e=Object.keys(O).length;return Math.min(o/e*100,100)},G=async()=>{console.log("üöÄ TOPIC GENERATION - Starting streaming topic generation"),S.value=!0,p.value=[];try{x.value="connecting",u.value="Connecting to AI service...";const o=route("topics.stream",l.project.slug)+"?regenerate=true";console.log("üì° TOPIC GENERATION - Connecting to stream:",o);const e=new EventSource(o);e.onopen=()=>{console.log("üì° SSE - Connection opened"),x.value="connecting",u.value="Connected to AI service - analyzing your project..."},e.onmessage=s=>{try{const r=JSON.parse(s.data);switch(console.log("üì° SSE - Message received:",r.type,r),r.type){case"start":x.value="analyzing",u.value=r.message||"Starting topic generation...";break;case"progress":r.message&&r.message.includes("academic context")?x.value="analyzing":r.message&&r.message.includes("generating")?x.value="generating":r.message&&r.message.includes("enriching")&&(x.value="enriching"),u.value=r.message||"Processing...",r.context&&console.log("üéì Academic context:",r.context);break;case"content":if(x.value="generating",r.chunk){const b=r.word_count||0;u.value=`Generating topics... (${b} words generated)`}r.topics&&r.from_cache&&(x.value="enriching",u.value="Loading topics from cache for faster response...");break;case"complete":x.value="complete",r.topics&&Array.isArray(r.topics)?(p.value=r.topics,u.value=`‚úì Successfully generated ${r.topics.length} personalized research topics!`,T.value="generated",f("Success",{description:`${r.topics.length} research topics generated successfully!`})):u.value=r.message||"Topics generated successfully!";break;case"error":throw new Error(r.message||"Stream error occurred");case"end":console.log("üì° SSE - Stream ended"),e.close(),S.value=!1;break}}catch(r){console.error("üì° SSE - Failed to parse message:",r,s.data)}},e.onerror=s=>{console.error("üì° SSE - Connection error:",s),e.close(),p.value.length>0?(u.value=`‚úì Generated ${p.value.length} topics (connection ended early)`,T.value="generated",f("Partial Success",{description:`${p.value.length} topics generated before connection ended.`})):(console.log("üì° TOPIC GENERATION - Falling back to regular endpoint"),le().catch(r=>{console.error("Fallback also failed:",r),u.value="Failed to generate topics. Please try again.",f("Error",{description:"Failed to generate topics. Please try again."})})),S.value=!1},setTimeout(()=>{S.value&&(console.log("‚è∞ TOPIC GENERATION - Timeout reached, closing stream"),e.close(),p.value.length>0?(u.value=`‚úì Generated ${p.value.length} topics (timeout reached)`,T.value="generated"):(u.value="Generation timed out. Please try again.",f("Timeout",{description:"Topic generation took longer than expected. Please try again."})),S.value=!1)},3e5)}catch(o){console.error("üí• TOPIC GENERATION - Error:",o),u.value="Failed to generate topics. Please try again.",f("Error",{description:o.message||"Failed to generate topics. Please try again."}),S.value=!1}},le=async()=>{console.log("üîÑ TOPIC GENERATION - Using fallback method"),u.value="Retrying with fallback method...";try{const o=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(!o)throw new Error("CSRF token not found. Please refresh the page and try again.");const e=new AbortController,s=setTimeout(()=>e.abort(),3e5),r=await fetch(route("topics.generate",l.project.slug),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":o,Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({regenerate:!0}),signal:e.signal});if(clearTimeout(s),!r.ok){let _=`HTTP error! status: ${r.status}`;try{_=(await r.clone().json()).message||_}catch{try{const M=await r.text();r.status===419?_="Session expired. Please refresh the page and try again.":r.status===504?_="Request timed out. Please try again in a few moments.":M.includes("<!DOCTYPE")&&(_="Server returned an error page instead of data. Please try again.")}catch{r.status===504&&(_="Request timed out. Please try again in a few moments.")}}throw new Error(_)}const b=await r.json();if(b.topics&&Array.isArray(b.topics))p.value=b.topics,u.value=`‚úì Successfully generated ${b.topics.length} research topics!`,T.value="generated",f("Success",{description:`${b.topics.length} research topics generated successfully!`});else throw new Error("Invalid response format: topics array not found")}catch(o){console.error("üí• FALLBACK GENERATION - Error:",o),u.value="Failed to generate topics. Please try again.",f("Error",{description:o.message||"Failed to generate topics. Please try again."})}},de=o=>{ae.value=o.title,ie.value=o.description,v.value=o.title,h.value=o.description,w.value=V(o.title),T.value="existing"},V=o=>o.length>100?o.substring(0,100)+"...":o,q=xe(()=>{let o=p.value;return N.value!=="all"&&(o=o.filter(e=>e.difficulty.toLowerCase().includes(N.value.toLowerCase()))),R.value!=="all"&&(o=o.filter(e=>e.timeline===R.value)),o.sort((e,s)=>s.feasibility_score-e.feasibility_score)}),ce=o=>{switch(o.toLowerCase()){case"beginner friendly":return"secondary";case"intermediate":return"default";case"advanced":return"destructive";default:return"secondary"}},ue=o=>{C.value.has(o)?C.value.delete(o):C.value.add(o)},pe=(o,e=150)=>o.length>e,me=async()=>{if(console.log("üöÄ TOPIC SUBMISSION - Starting",{customTopic:v.value?.substring(0,50)+"...",customDescription:h.value?.substring(0,50)+"...",customTitle:w.value,project_slug:l.project.slug,current_url:window.location.href,timestamp:new Date().toISOString()}),console.log("üîç TOPIC SUBMISSION - Full form data:",{customTopic:v.value,customDescription:h.value,customTitle:w.value,customTopic_length:v.value?.length||0,customDescription_length:h.value?.length||0,customTitle_length:w.value?.length||0}),!v.value.trim()&&!h.value.trim()){console.log("‚ùå TOPIC SUBMISSION - Validation failed: No topic or description"),f("Error",{description:"Please enter a project topic and description."});return}E.value=!0;try{const o={topic:v.value.trim()||w.value.trim()||"Research Topic",title:w.value.trim()||V(v.value||h.value),description:h.value.trim()};console.log("üì§ TOPIC SUBMISSION - Request data:",o),console.log("üìç TOPIC SUBMISSION - Request URL:",route("topics.select",l.project.slug));const e=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(console.log("üîê TOPIC SUBMISSION - CSRF token found:",!!e),console.log("üîê TOPIC SUBMISSION - CSRF token preview:",e?.substring(0,10)+"..."),!e)throw new Error("CSRF token not found. Please refresh the page and try again.");console.log("üì° TOPIC SUBMISSION - Making fetch request...");const s=await fetch(route("topics.select",l.project.slug),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":e,Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(o)});if(console.log("üì• TOPIC SUBMISSION - Response received"),console.log("üì• TOPIC SUBMISSION - Response status:",s.status),console.log("üì• TOPIC SUBMISSION - Response statusText:",s.statusText),console.log("üì• TOPIC SUBMISSION - Response ok:",s.ok),console.log("üì• TOPIC SUBMISSION - Response headers:",Object.fromEntries(s.headers.entries())),s.ok){console.log("‚úÖ TOPIC SUBMISSION - Success! Processing response...");const r=await s.json();console.log("‚úÖ TOPIC SUBMISSION - Response data:",r),f("Topic Selected!",{description:"Your project topic has been set. You can now submit it for supervisor approval."}),console.log("üîÑ TOPIC SUBMISSION - Letting middleware handle redirect"),console.log("üîÑ TOPIC SUBMISSION - Current project slug:",l.project.slug),console.log("üîÑ TOPIC SUBMISSION - Target route:",route("projects.show",l.project.slug)),F.visit(route("projects.show",l.project.slug),{method:"get",replace:!0})}else{console.error("‚ùå TOPIC SUBMISSION - Request failed"),console.error("‚ùå TOPIC SUBMISSION - Status:",s.status),console.error("‚ùå TOPIC SUBMISSION - StatusText:",s.statusText);let r=`HTTP error! status: ${s.status}`;try{const b=await s.json();console.error("‚ùå TOPIC SUBMISSION - Error JSON:",b),r=b.message||r}catch{const _=await s.text();console.error("‚ùå TOPIC SUBMISSION - Error HTML (first 500 chars):",_.substring(0,500)),s.status===419?r="Session expired. Please refresh the page and try again.":_.includes("<!DOCTYPE")&&(r="Server returned an error page instead of data. Please try again.")}throw new Error(r)}}catch(o){console.error("üí• TOPIC SUBMISSION - Exception:",o),f("Error",{description:"Failed to select topic. Please try again."})}finally{E.value=!1,console.log("üèÅ TOPIC SUBMISSION - Finished (isSelecting set to false)")}},ge=async()=>{try{F.post(route("projects.go-back-to-wizard",l.project.slug),{},{onSuccess:()=>{f("Success",{description:"Returned to project setup"}),F.visit(route("projects.create"))},onError:()=>{f("Error",{description:"Failed to go back to setup. Please try again."})}})}catch{f("Error",{description:"Failed to go back to setup. Please try again."})}};return(o,e)=>(m(),k(we,{title:"Select Project Topic"},{default:n(()=>[t("div",Ce,[t("div",Oe,[t("div",ke,[i(a(P),{onClick:ge,variant:"ghost",size:"sm",class:"group text-muted-foreground hover:text-foreground transition-colors"},{default:n(()=>[t("div",Pe,[i(a(_e),{class:"h-4 w-4 transition-transform group-hover:-translate-x-0.5"})]),e[6]||(e[6]=d(" Back to Project Setup ",-1))]),_:1})]),t("div",je,[t("div",Ee,[i(a(j),{class:"h-10 w-10 text-primary"})]),t("div",Ne,[e[9]||(e[9]=t("h1",{class:"text-4xl font-bold tracking-tight sm:text-5xl bg-gradient-to-br from-foreground to-foreground/70 bg-clip-text text-transparent"}," Choose Your Project Topic ",-1)),t("p",Re,[e[7]||(e[7]=d(" Select or generate a research topic for your ",-1)),t("span",Ae,c(o.project.type),1),t("span",Me,c(o.project.field_of_study),1),e[8]||(e[8]=d(" project. ",-1))])])]),t("div",Ue,[i(a(D),{class:"overflow-hidden border-border/40 bg-card/50 backdrop-blur-sm shadow-sm"},{default:n(()=>[t("div",Be,[t("div",Fe,[e[11]||(e[11]=t("span",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Field of Study",-1)),t("div",$e,[e[10]||(e[10]=t("div",{class:"h-2 w-2 rounded-full bg-blue-500"},null,-1)),d(" "+c(o.project.field_of_study),1)])]),t("div",De,[e[13]||(e[13]=t("span",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Academic Level",-1)),t("div",Le,[e[12]||(e[12]=t("div",{class:"h-2 w-2 rounded-full bg-purple-500"},null,-1)),t("span",ze,c(o.project.type),1)])]),t("div",Ge,[e[15]||(e[15]=t("span",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"University",-1)),t("div",Ve,[e[14]||(e[14]=t("div",{class:"h-2 w-2 rounded-full bg-orange-500"},null,-1)),t("span",{class:"truncate",title:o.project.full_university_name||o.project.university},c(o.project.full_university_name||o.project.university),9,qe)])]),t("div",Ye,[e[17]||(e[17]=t("span",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Course",-1)),t("div",Xe,[e[16]||(e[16]=t("div",{class:"h-2 w-2 rounded-full bg-green-500"},null,-1)),d(" "+c(o.project.course),1)])])])]),_:1})]),t("div",He,[i(a(ye),{modelValue:T.value,"onUpdate:modelValue":e[5]||(e[5]=s=>T.value=s),class:"space-y-8"},{default:n(()=>[t("div",Je,[i(a(Se),{class:"grid w-full max-w-md grid-cols-2 p-1 bg-muted/50 backdrop-blur-sm"},{default:n(()=>[i(a(ee),{value:"existing",class:"data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all duration-300"},{default:n(()=>[...e[18]||(e[18]=[d(" Enter Topic ",-1)])]),_:1}),i(a(ee),{value:"generated",class:"data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all duration-300"},{default:n(()=>[...e[19]||(e[19]=[d(" AI Generated Topics ",-1)])]),_:1})]),_:1})]),i(a(te),{value:"existing",class:"focus-visible:outline-none"},{default:n(()=>[i(a(D),{class:"border-border/40 shadow-lg shadow-primary/5 overflow-hidden"},{default:n(()=>[e[28]||(e[28]=t("div",{class:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/50 to-transparent opacity-20"},null,-1)),i(a(Q),{class:"pb-2"},{default:n(()=>[i(a(Z),{class:"text-xl"},{default:n(()=>[...e[20]||(e[20]=[d("Enter Your Project Topic",-1)])]),_:1}),i(a(W),null,{default:n(()=>[...e[21]||(e[21]=[d(" If you already have a project topic (approved by supervisor or from your own research), enter it below. ",-1)])]),_:1})]),_:1}),i(a(K),{class:"space-y-6 pt-6"},{default:n(()=>[t("div",Ke,[i(a(L),{for:"custom-title",class:"text-sm font-medium text-foreground/80"},{default:n(()=>[...e[22]||(e[22]=[d("Project Title",-1)])]),_:1}),i(a(be),{id:"custom-title",modelValue:w.value,"onUpdate:modelValue":e[0]||(e[0]=s=>w.value=s),placeholder:"A concise title for your project...",class:"h-12 bg-muted/30 border-border/50 focus:bg-background transition-all"},null,8,["modelValue"])]),t("div",We,[i(a(L),{for:"custom-topic",class:"text-sm font-medium text-foreground/80"},{default:n(()=>[...e[23]||(e[23]=[d("Research Topic",-1)])]),_:1}),i(a(se),{id:"custom-topic",modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=s=>v.value=s),placeholder:"Enter your research topic or question...",rows:"3",class:"resize-none bg-muted/30 border-border/50 focus:bg-background transition-all min-h-[100px]"},null,8,["modelValue"]),e[24]||(e[24]=t("p",{class:"text-xs text-muted-foreground"},"The main research topic or question you want to investigate.",-1))]),t("div",Qe,[i(a(L),{for:"custom-description",class:"text-sm font-medium text-foreground/80"},{default:n(()=>[...e[25]||(e[25]=[d("Project Description",-1)])]),_:1}),i(a(se),{id:"custom-description",modelValue:h.value,"onUpdate:modelValue":e[2]||(e[2]=s=>h.value=s),placeholder:"Describe your research topic, problem statement, and what you plan to investigate...",rows:"6",class:"resize-none bg-muted/30 border-border/50 focus:bg-background transition-all min-h-[160px]"},null,8,["modelValue"]),e[26]||(e[26]=t("p",{class:"text-xs text-muted-foreground"}," Provide a detailed description of your research focus, objectives, and scope. ",-1))]),t("div",Ze,[i(a(P),{onClick:me,disabled:!v.value.trim()&&!h.value.trim()||E.value,class:"w-full h-12 text-base font-medium shadow-lg shadow-primary/20 hover:shadow-primary/30 transition-all"},{default:n(()=>[E.value?(m(),k(a($),{key:0,class:"mr-2 h-5 w-5 animate-spin"})):(m(),y("span",et,[e[27]||(e[27]=d(" Continue with This Topic ",-1)),i(a(oe),{class:"ml-2 h-5 w-5"})]))]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1}),i(a(te),{value:"generated",class:"focus-visible:outline-none"},{default:n(()=>[i(a(D),{class:"border-border/40 shadow-lg shadow-primary/5 overflow-hidden min-h-[500px] flex flex-col"},{default:n(()=>[i(a(Q),{class:"border-b border-border/40 bg-muted/10 pb-6"},{default:n(()=>[t("div",tt,[t("div",st,[i(a(Z),{class:"flex items-center gap-2 text-xl"},{default:n(()=>[t("div",ot,[i(a(j),{class:"h-5 w-5"})]),e[29]||(e[29]=d(" AI Generated Suggestions ",-1))]),_:1}),i(a(W),null,{default:n(()=>[...e[30]||(e[30]=[d(" Tailored research topics based on your academic profile. ",-1)])]),_:1})]),t("div",rt,[i(a(P),{onClick:G,disabled:S.value,variant:p.value.length>0?"outline":"default",class:I(["h-10 transition-all",p.value.length===0?"shadow-lg shadow-primary/20 hover:shadow-primary/30":""])},{default:n(()=>[S.value?(m(),k(a($),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):p.value.length>0?(m(),k(a(Te),{key:1,class:"mr-2 h-4 w-4"})):(m(),k(a(j),{key:2,class:"mr-2 h-4 w-4"})),d(" "+c(S.value?"Generating...":p.value.length>0?"Regenerate":"Generate Topics"),1)]),_:1},8,["disabled","variant","class"])])]),p.value.length>0?(m(),y("div",at,[t("div",it,[e[32]||(e[32]=t("span",{class:"text-xs font-medium px-2 text-muted-foreground"},"Difficulty",-1)),X(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>N.value=s),class:"h-8 rounded-md border-0 bg-transparent text-xs font-medium focus:ring-0 cursor-pointer hover:bg-muted/50 transition-colors"},[...e[31]||(e[31]=[t("option",{value:"all"},"All Levels",-1),t("option",{value:"beginner"},"Beginner Friendly",-1),t("option",{value:"intermediate"},"Intermediate",-1),t("option",{value:"advanced"},"Advanced",-1)])],512),[[H,N.value]])]),t("div",nt,[e[34]||(e[34]=t("span",{class:"text-xs font-medium px-2 text-muted-foreground"},"Timeline",-1)),X(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>R.value=s),class:"h-8 rounded-md border-0 bg-transparent text-xs font-medium focus:ring-0 cursor-pointer hover:bg-muted/50 transition-colors"},[...e[33]||(e[33]=[t("option",{value:"all"},"Any Duration",-1),t("option",{value:"6-9 months"},"6-9 months",-1),t("option",{value:"9-12 months"},"9-12 months",-1),t("option",{value:"12+ months"},"12+ months",-1)])],512),[[H,R.value]])]),t("div",lt,[i(a(A),{variant:"secondary",class:"h-8 px-3 text-xs font-medium"},{default:n(()=>[d(c(q.value.length)+" results ",1)]),_:1})])])):Y("",!0)]),_:1}),i(a(K),{class:"p-0 flex-1 bg-muted/5"},{default:n(()=>[S.value?(m(),y("div",dt,[t("div",ct,[e[35]||(e[35]=t("div",{class:"absolute inset-0 rounded-full bg-primary/20 animate-ping opacity-75"},null,-1)),t("div",ut,[i(a($),{class:"h-10 w-10 text-primary animate-spin"})])]),t("div",pt,[e[37]||(e[37]=t("h3",{class:"text-xl font-semibold bg-gradient-to-br from-foreground to-muted-foreground bg-clip-text text-transparent"}," Crafting Your Topics ",-1)),t("div",mt,[t("div",gt,[t("span",null,c(u.value||"Initializing..."),1),t("span",null,c(Math.round(z()))+"%",1)]),t("div",ft,[t("div",{class:"h-full bg-primary transition-all duration-500 ease-out relative overflow-hidden",style:J(`width: ${z()}%`)},[...e[36]||(e[36]=[t("div",{class:"absolute inset-0 bg-white/20 animate-[shimmer_2s_infinite]"},null,-1)])],4)])]),t("div",vt,[(m(),y(U,null,B(O,(s,r)=>t("div",{key:r,class:I(["flex flex-col items-center gap-2",r==="complete"?"hidden":""])},[t("div",{class:I(["h-2 w-2 rounded-full transition-colors duration-300",ne(r)])},null,2),t("span",{class:I(["text-[10px] uppercase tracking-wider font-medium text-muted-foreground",x.value===r?"text-primary":""])},c(r),3)],2)),64))])])])):p.value.length===0?(m(),y("div",ht,[t("div",xt,[i(a(j),{class:"h-12 w-12 text-muted-foreground/50"})]),e[39]||(e[39]=t("div",{class:"max-w-sm space-y-2"},[t("h3",{class:"text-lg font-semibold"},"No Topics Generated Yet"),t("p",{class:"text-muted-foreground text-sm"},' Click the "Generate Topics" button to let our AI analyze your profile and suggest personalized research topics. ')],-1)),i(a(P),{onClick:G,size:"lg",class:"shadow-lg shadow-primary/20 hover:shadow-primary/30 transition-all"},{default:n(()=>[i(a(j),{class:"mr-2 h-5 w-5"}),e[38]||(e[38]=d(" Generate Topics ",-1))]),_:1})])):(m(),y("div",bt,[(m(!0),y(U,null,B(q.value,s=>(m(),y("div",{key:s.id,class:"group relative rounded-xl border border-border/50 bg-card p-6 transition-all duration-300 hover:shadow-lg hover:border-primary/20 hover:-translate-y-0.5"},[t("div",yt,[t("div",St,[t("div",wt,[t("h3",_t,c(s.title),1),t("div",Tt,[i(a(A),{variant:ce(s.difficulty),class:"text-[10px] uppercase tracking-wider font-medium bg-opacity-10 hover:bg-opacity-20"},{default:n(()=>[d(c(s.difficulty),1)]),_:2},1032,["variant"]),i(a(A),{variant:"outline",class:"text-[10px] uppercase tracking-wider font-medium border-primary/20 text-primary/80"},{default:n(()=>[d(c(s.timeline),1)]),_:2},1024),i(a(A),{variant:"secondary",class:"text-[10px] uppercase tracking-wider font-medium"},{default:n(()=>[d(c(s.research_type),1)]),_:2},1024)])]),i(a(P),{size:"sm",class:"shrink-0 opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-md translate-x-2 group-hover:translate-x-0",onClick:r=>de(s)},{default:n(()=>[e[40]||(e[40]=d(" Select ",-1)),i(a(oe),{class:"ml-2 h-4 w-4"})]),_:2},1032,["onClick"])]),t("div",It,[t("p",{class:I(["text-sm text-muted-foreground leading-relaxed",C.value.has(s.id)?"":"line-clamp-2"])},c(s.description),3),pe(s.description)?(m(),y("button",{key:0,onClick:r=>ue(s.id),class:"mt-1 text-xs font-medium text-primary hover:underline flex items-center gap-1"},[d(c(C.value.has(s.id)?"Show less":"Read more")+" ",1),i(a(Ie),{class:I(["h-3 w-3 transition-transform",C.value.has(s.id)?"rotate-180":""])},null,8,["class"])],8,Ct)):Y("",!0)]),t("div",Ot,[t("div",kt,[(m(!0),y(U,null,B(s.keywords.slice(0,3),r=>(m(),y("span",{key:r,class:"text-xs text-muted-foreground/70 bg-muted/30 px-2 py-0.5 rounded-full"}," #"+c(r),1))),128))]),t("div",Pt,[t("div",jt,[e[41]||(e[41]=t("span",{class:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider"},"Feasibility",-1)),t("span",{class:I(["text-sm font-bold",s.feasibility_score>=80?"text-green-500":s.feasibility_score>=60?"text-yellow-500":"text-red-500"])},c(s.feasibility_score)+"% ",3)]),t("div",Et,[t("div",{class:I(["w-full rounded-full transition-all duration-500 bg-current",s.feasibility_score>=80?"text-green-500":s.feasibility_score>=60?"text-yellow-500":"text-red-500"]),style:J(`height: ${s.feasibility_score}%`)},null,6)])])])])]))),128))]))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])])])]),_:1}))}});export{rs as default};
