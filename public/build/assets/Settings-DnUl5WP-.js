import{_ as A}from"./AdminLayout.vue_vue_type_script_setup_true_lang-B-851hYY.js";import{_ as F,a as N}from"./CardContent.vue_vue_type_script_setup_true_lang-Inj97kMy.js";import{_ as B}from"./CardDescription.vue_vue_type_script_setup_true_lang-DRGhurAy.js";import{_ as E,a as L}from"./CardTitle.vue_vue_type_script_setup_true_lang-mTag2pdV.js";import{_ as M}from"./Input.vue_vue_type_script_setup_true_lang-0iIQAkgW.js";import{_ as T}from"./Textarea.vue_vue_type_script_setup_true_lang-DYAne4do.js";import{_ as W}from"./index-CeE5dpwC.js";import{_ as I,a as P,b as G,c as O}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-p8G1QzJT.js";import{_ as y}from"./index-DoaZXG4c.js";import{_ as q}from"./Label.vue_vue_type_script_setup_true_lang-DRSnzPnQ.js";import{bt as D,dF as H,go as J,bs as R,ch as z,cj as K,cm as n,cn as l,co as i,cq as d,cp as o,bE as a,cr as c,dw as Q,cx as X,cs as u,cC as p,cS as g,dh as v,d_ as Y,cL as Z,cH as ee,ck as se,ci as h}from"./vendor-B0P7kkmx.js";import"./Sonner.vue_vue_type_script_setup_true_lang-DEHww6d5.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-mfygCHkH.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-j6BVOz2e.js";const ae={class:"space-y-6 max-w-5xl mx-auto"},te={class:"flex items-center justify-between pb-4 border-b"},re={class:"flex items-center justify-between"},le={class:"flex items-center gap-2"},ie={class:"text-xs px-2 py-0.5 rounded bg-muted text-muted-foreground font-mono"},oe={class:"grid gap-2"},ne={key:2,class:"text-sm text-muted-foreground"},Ve=D({__name:"Settings",props:{settings:{}},setup(x){const S=x.settings.map(e=>({key:e.key,value:typeof e.value=="object"?JSON.stringify(e.value,null,2):e.value,type:e.type,group:e.group,description:e.description})),m=H({settings:S}),b=J("history"),f=R(b.tab||"general");z(f,e=>{b.tab=e});const w=["refund_policy","support_email"],V=e=>w.includes(e),k=K(()=>{const e={general:{id:"general",label:"General",description:"General system configurations",settings:[]},ai:{id:"ai",label:"AI & Prompts",description:"Configure AI models and system prompts",settings:[]},affiliate:{id:"affiliate",label:"Affiliate System",description:"Manage affiliate program settings",settings:[]},feedback:{id:"feedback",label:"User Feedback",description:"Feedback collection triggers and limits",settings:[]}};return m.settings.forEach(s=>{s.key.startsWith("ai.")||s.key.includes("prompt")?e.ai.settings.push(s):s.key.startsWith("affiliate.")?e.affiliate.settings.push(s):s.key.startsWith("feedback.")?e.feedback.settings.push(s):e.general.settings.push(s)}),Object.values(e).filter(s=>s.settings.length>0)}),$=(e,s)=>{const r=String(e??""),t=String(s??"");return!!(r.startsWith("ai.")||r.includes("prompt")||t.includes(`
`)||t.length>80)},C=e=>{const r=String(e??"").split(`
`).length;return Math.min(15,Math.max(3,r))},U=e=>e.split(".").pop()?.split("_").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")||e,j=()=>{console.log("Saving settings:",m.settings),m.put(se("admin.system.update-settings"),{preserveScroll:!0,onSuccess:()=>{console.log("Save success"),h("Settings Saved",{description:"System settings have been updated successfully."})},onError:e=>{console.error("Save error:",e),h("Save Failed",{description:"There was an error saving the settings. Please check your inputs."})}})};return(e,s)=>(l(),n(A,{title:"System Settings"},{default:i(()=>[d("div",ae,[d("div",te,[s[1]||(s[1]=d("div",null,[d("h1",{class:"text-2xl font-bold tracking-tight text-foreground"},"System Settings"),d("p",{class:"text-muted-foreground mt-1"},"Manage global application configurations and parameters.")],-1)),o(a(W),{onClick:j,disabled:a(m).processing,class:"gap-2"},{default:i(()=>[a(m).processing?(l(),n(a(Q),{key:0,class:"w-4 h-4 animate-spin"})):(l(),n(a(X),{key:1,class:"w-4 h-4"})),c(" "+u(a(m).processing?"Saving...":"Save Changes"),1)]),_:1},8,["disabled"])]),o(a(I),{modelValue:f.value,"onUpdate:modelValue":s[0]||(s[0]=r=>f.value=r),class:"space-y-6"},{default:i(()=>[o(a(P),{class:"grid w-full grid-cols-4 lg:w-[600px]"},{default:i(()=>[(l(!0),p(g,null,v(k.value,r=>(l(),n(a(G),{key:r.id,value:r.id},{default:i(()=>[c(u(r.label),1)]),_:2},1032,["value"]))),128))]),_:1}),(l(!0),p(g,null,v(k.value,r=>(l(),n(a(O),{key:r.id,value:r.id,class:"space-y-4"},{default:i(()=>[o(a(F),null,{default:i(()=>[o(a(E),null,{default:i(()=>[o(a(L),null,{default:i(()=>[c(u(r.label),1)]),_:2},1024),o(a(B),null,{default:i(()=>[c(u(r.description),1)]),_:2},1024)]),_:2},1024),o(a(N),{class:"grid gap-6"},{default:i(()=>[(l(!0),p(g,null,v(r.settings,(t,ce)=>(l(),p("div",{key:t.key,class:"grid gap-3 p-4 rounded-lg border bg-card hover:bg-accent/5 transition-colors"},[d("div",re,[d("div",le,[o(a(q),{for:t.key,class:"text-base font-semibold text-foreground"},{default:i(()=>[c(u(U(t.key)),1)]),_:2},1032,["for"]),d("code",ie,u(t.key),1)]),V(t.key)?(l(),n(a(y),{key:0,variant:"destructive",class:"gap-1"},{default:i(()=>[o(a(Y),{class:"w-3 h-3"}),s[2]||(s[2]=c(" Not Implemented ",-1))]),_:1})):(l(),n(a(y),{key:1,variant:"outline",class:"gap-1 text-emerald-600 border-emerald-200 bg-emerald-50 dark:bg-emerald-950/30 dark:border-emerald-800 dark:text-emerald-400"},{default:i(()=>[o(a(Z),{class:"w-3 h-3"}),s[3]||(s[3]=c(" Active ",-1))]),_:1}))]),d("div",oe,[$(t.key,t.value)?(l(),n(a(T),{key:0,id:t.key,modelValue:t.value,"onUpdate:modelValue":_=>t.value=_,rows:C(t.value),class:"font-mono text-sm leading-relaxed"},null,8,["id","modelValue","onUpdate:modelValue","rows"])):(l(),n(a(M),{key:1,id:t.key,modelValue:t.value,"onUpdate:modelValue":_=>t.value=_,class:"max-w-md"},null,8,["id","modelValue","onUpdate:modelValue"])),t.description?(l(),p("p",ne,u(t.description),1)):ee("",!0)])]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])]),_:1}))}});export{Ve as default};
