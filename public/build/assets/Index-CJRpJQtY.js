import{bt as T,dS as q,cn as U,co as c,cp as o,cq as t,bE as e,cr as a,dT as G,cs as r,dk as M,dU as W,ce as F,cl as h,bx as g,dV as H,ch as J,ck as C,bs as O,dE as Q,bu as R,cG as f,gf as X,ct as m,cA as Y,cL as Z,dL as ee,cB as _,du as se}from"./vendor-DgjuSLrY.js";import{_ as te}from"./AdminLayout.vue_vue_type_script_setup_true_lang-nXq3DGFH.js";import{_ as le}from"./DataTable.vue_vue_type_script_setup_true_lang-DtblwGBv.js";import{_ as oe}from"./index-CnOHeVck.js";import{_ as K}from"./Switch.vue_vue_type_script_setup_true_lang-CVqm-wvl.js";import{_ as $}from"./index-BevM4Rk7.js";import{_ as re,a as ae,b as ie,c as D,d as ne,e as de}from"./Sonner.vue_vue_type_script_setup_true_lang-oHQkWKcv.js";import{_ as S,a as A}from"./CardContent.vue_vue_type_script_setup_true_lang-CzDqfk0_.js";import{_ as ue}from"./CardDescription.vue_vue_type_script_setup_true_lang-refoYnBx.js";import{_ as E,a as N}from"./CardTitle.vue_vue_type_script_setup_true_lang-BXn45Ckp.js";import{_ as y}from"./Input.vue_vue_type_script_setup_true_lang-D350FEG5.js";import{_ as v}from"./Label.vue_vue_type_script_setup_true_lang-Dev0TU-a.js";import{_ as me}from"./Textarea.vue_vue_type_script_setup_true_lang-OVMI9mdh.js";import{_ as ce,a as pe}from"./index-oG5WRuwW.js";import{_ as fe}from"./AlertTitle.vue_vue_type_script_setup_true_lang-BO4Sh3ZR.js";import{_ as _e,a as ve}from"./DialogContent.vue_vue_type_script_setup_true_lang-DJU0p3Yl.js";import{_ as ge}from"./DialogDescription.vue_vue_type_script_setup_true_lang-Dnnzz5pW.js";import{_ as ye,a as xe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CMbLdFHY.js";import{_ as be,a as Ve,b as $e,c as ke,d as w}from"./SelectValue.vue_vue_type_script_setup_true_lang-BB_zbU6x.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-Bih4cv7s.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-D_wg_4gP.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-Co_WJCK5.js";const we=T({__name:"UniversityActions",props:{university:{}},setup(n){const p=n,V=q("onEditUniversity"),x=()=>{confirm(`Delete ${p.university.name}?`)&&F.delete(h("admin.system.universities.destroy",{university:p.university.id}),{preserveScroll:!0})};return(j,u)=>(c(),U(e(de),null,{default:o(()=>[t(e(re),{"as-child":""},{default:o(()=>[t(e($),{variant:"ghost",class:"h-8 w-8 p-0"},{default:o(()=>[u[1]||(u[1]=a("span",{class:"sr-only"},"Open menu",-1)),t(e(G),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(ae),{align:"end"},{default:o(()=>[t(e(ie),null,{default:o(()=>[...u[2]||(u[2]=[r("Actions",-1)])]),_:1}),t(e(D),{onClick:u[0]||(u[0]=b=>e(V)?.(p.university))},{default:o(()=>[t(e(M),{class:"mr-2 h-4 w-4"}),u[3]||(u[3]=r(" Edit ",-1))]),_:1}),t(e(ne)),t(e(D),{onClick:x,class:"text-rose-600 focus:text-rose-600 focus:bg-rose-50"},{default:o(()=>[t(e(W),{class:"mr-2 h-4 w-4"}),u[4]||(u[4]=r(" Delete ",-1))]),_:1})]),_:1})]),_:1}))}}),Ue=(n,p)=>{F.put(h("admin.system.universities.toggle-active",{university:n.id}),{is_active:p},{preserveScroll:!0})},he=[{accessorKey:"name",header:({column:n})=>g($,{variant:"ghost",class:"-ml-2 text-xs hover:bg-muted/50",onClick:()=>n.toggleSorting(n.getIsSorted()==="asc")},()=>["Name",g(H,{class:"ml-2 h-3 w-3"})]),cell:({row:n})=>{const p=n.getValue("name"),V=n.original.short_name,x=n.original.slug;return g("div",{class:"flex flex-col"},[g("span",{class:"font-medium"},p),g("span",{class:"text-xs text-muted-foreground"},V?`${V} · ${x}`:x)])}},{accessorKey:"type",header:"Type",cell:({row:n})=>{const p=n.getValue("type");return g(oe,{variant:"outline",class:"capitalize"},()=>p)}},{accessorKey:"state",header:"State",cell:({row:n})=>n.getValue("state")||"—"},{accessorKey:"sort_order",header:"Order",cell:({row:n})=>n.getValue("sort_order")},{accessorKey:"is_active",header:"Active",cell:({row:n})=>g(K,{checked:n.original.is_active,"onUpdate:checked":p=>Ue(n.original,p)})},{id:"actions",cell:({row:n})=>g(we,{university:n.original})}],Ce={class:"grid gap-4 md:grid-cols-2 mb-6"},Se={class:"text-2xl font-bold"},Ae={class:"text-2xl font-bold"},Ee={class:"grid gap-4 py-4"},Ne={class:"grid gap-4 md:grid-cols-2"},je={class:"space-y-1"},Be={key:0,class:"text-xs text-rose-500"},Le={class:"space-y-1"},Oe={key:0,class:"text-xs text-rose-500"},De={class:"grid gap-4 md:grid-cols-2"},Te={class:"space-y-1"},Fe={key:0,class:"text-xs text-rose-500"},Ke={class:"space-y-1"},Ie={key:0,class:"text-xs text-rose-500"},Pe={class:"grid gap-4 md:grid-cols-2"},ze={class:"space-y-1"},qe={key:0,class:"text-xs text-rose-500"},Ge={class:"space-y-1"},Me={key:0,class:"text-xs text-rose-500"},We={class:"grid gap-4 md:grid-cols-2"},He={class:"space-y-1"},Je={key:0,class:"text-xs text-rose-500"},Qe={class:"space-y-1"},Re={key:0,class:"text-xs text-rose-500"},Xe={class:"space-y-1"},Ye={key:0,class:"text-xs text-rose-500"},Ze={class:"grid gap-4 md:grid-cols-2"},es={class:"space-y-1"},ss={key:0,class:"text-xs text-rose-500"},ts={class:"flex items-center justify-between rounded-md border border-border/70 bg-muted/30 px-3 py-2 text-sm"},ls={class:"flex justify-end gap-2"},hs=T({__name:"Index",props:{universities:{},stats:{}},setup(n){const p=n,V=J(),x=C(()=>V.props.flash),j=C(()=>p.universities??[]),u=O(null),b=O(!1),B=()=>({name:"",short_name:"",slug:"",type:"federal",location:"",state:"",country:"Nigeria",website:"",description:"",sort_order:0,is_active:!0}),l=Q({...B()}),k=C(()=>u.value!==null),L=()=>{u.value=null,l.clearErrors(),Object.assign(l,B())},I=()=>{L(),b.value=!0},P=d=>{u.value=d.id,l.clearErrors(),l.name=d.name??"",l.short_name=d.short_name??"",l.slug=d.slug??"",l.type=d.type??"federal",l.location=d.location??"",l.state=d.state??"",l.country=d.country??"Nigeria",l.website=d.website??"",l.description=d.description??"",l.sort_order=Number(d.sort_order??0),l.is_active=!!d.is_active,b.value=!0},z=()=>{const d={preserveScroll:!0,onSuccess:()=>{b.value=!1,L()}};if(k.value&&u.value!==null){l.put(h("admin.system.universities.update",{university:u.value}),d);return}l.post(h("admin.system.universities.store"),d)};return R("onEditUniversity",P),(d,s)=>(c(),U(te,{title:"Universities",subtitle:"Manage universities available for project setup."},{default:o(()=>[a("div",Ce,[t(e(S),{class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:o(()=>[t(e(E),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:o(()=>[t(e(N),{class:"text-sm font-medium text-muted-foreground"},{default:o(()=>[...s[13]||(s[13]=[r("Total Universities",-1)])]),_:1}),t(e(X),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),t(e(A),null,{default:o(()=>[a("div",Se,m(d.stats.total),1)]),_:1})]),_:1}),t(e(S),{class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:o(()=>[t(e(E),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:o(()=>[t(e(N),{class:"text-sm font-medium text-muted-foreground"},{default:o(()=>[...s[14]||(s[14]=[r("Active",-1)])]),_:1}),t(e(Y),{class:"h-4 w-4 text-emerald-500"})]),_:1}),t(e(A),null,{default:o(()=>[a("div",Ae,m(d.stats.active),1)]),_:1})]),_:1})]),x.value?.success?(c(),U(e(ce),{key:0,class:"mb-6 border border-emerald-500/40 bg-emerald-500/10"},{default:o(()=>[t(e(Z),{class:"h-4 w-4 text-emerald-500"}),t(e(fe),null,{default:o(()=>[...s[15]||(s[15]=[r("Updated",-1)])]),_:1}),t(e(pe),null,{default:o(()=>[r(m(x.value.success),1)]),_:1})]),_:1})):f("",!0),t(e(S),{class:"border border-border/50 bg-card shadow-sm"},{default:o(()=>[t(e(E),{class:"flex flex-row items-center justify-between pb-3"},{default:o(()=>[a("div",null,[t(e(N),{class:"text-base font-semibold text-foreground"},{default:o(()=>[...s[16]||(s[16]=[r("Universities",-1)])]),_:1}),t(e(ue),null,{default:o(()=>[...s[17]||(s[17]=[r("Control what appears in the institution wizard.",-1)])]),_:1})]),t(e($),{size:"sm",onClick:I},{default:o(()=>[t(e(ee),{class:"mr-2 h-4 w-4"}),s[18]||(s[18]=r(" Add University ",-1))]),_:1})]),_:1}),t(e(A),null,{default:o(()=>[t(le,{columns:e(he),data:j.value,"search-key":"name","search-placeholder":"Filter universities..."},null,8,["columns","data"])]),_:1})]),_:1}),t(e(_e),{open:b.value,"onUpdate:open":s[12]||(s[12]=i=>b.value=i)},{default:o(()=>[t(e(ve),{class:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto"},{default:o(()=>[t(e(ye),null,{default:o(()=>[t(e(xe),null,{default:o(()=>[r(m(k.value?"Edit university":"Create university"),1)]),_:1}),t(e(ge),null,{default:o(()=>[r(m(k.value?"Update university details.":"Add a new university to the catalog."),1)]),_:1})]),_:1}),a("div",Ee,[a("div",Ne,[a("div",je,[t(e(v),null,{default:o(()=>[...s[19]||(s[19]=[r("Name",-1)])]),_:1}),t(e(y),{modelValue:e(l).name,"onUpdate:modelValue":s[0]||(s[0]=i=>e(l).name=i),placeholder:"University of Lagos"},null,8,["modelValue"]),e(l).errors.name?(c(),_("p",Be,m(e(l).errors.name),1)):f("",!0)]),a("div",Le,[t(e(v),null,{default:o(()=>[...s[20]||(s[20]=[r("Short Name",-1)])]),_:1}),t(e(y),{modelValue:e(l).short_name,"onUpdate:modelValue":s[1]||(s[1]=i=>e(l).short_name=i),placeholder:"UNILAG"},null,8,["modelValue"]),e(l).errors.short_name?(c(),_("p",Oe,m(e(l).errors.short_name),1)):f("",!0)])]),a("div",De,[a("div",Te,[t(e(v),null,{default:o(()=>[...s[21]||(s[21]=[r("Slug",-1)])]),_:1}),t(e(y),{modelValue:e(l).slug,"onUpdate:modelValue":s[2]||(s[2]=i=>e(l).slug=i),placeholder:"unilag"},null,8,["modelValue"]),e(l).errors.slug?(c(),_("p",Fe,m(e(l).errors.slug),1)):f("",!0)]),a("div",Ke,[t(e(v),null,{default:o(()=>[...s[22]||(s[22]=[r("Type",-1)])]),_:1}),t(e(be),{modelValue:e(l).type,"onUpdate:modelValue":s[3]||(s[3]=i=>e(l).type=i)},{default:o(()=>[t(e(Ve),null,{default:o(()=>[t(e($e),{placeholder:"Select type"})]),_:1}),t(e(ke),null,{default:o(()=>[t(e(w),{value:"federal"},{default:o(()=>[...s[23]||(s[23]=[r("Federal",-1)])]),_:1}),t(e(w),{value:"state"},{default:o(()=>[...s[24]||(s[24]=[r("State",-1)])]),_:1}),t(e(w),{value:"private"},{default:o(()=>[...s[25]||(s[25]=[r("Private",-1)])]),_:1}),t(e(w),{value:"other"},{default:o(()=>[...s[26]||(s[26]=[r("Other",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(l).errors.type?(c(),_("p",Ie,m(e(l).errors.type),1)):f("",!0)])]),a("div",Pe,[a("div",ze,[t(e(v),null,{default:o(()=>[...s[27]||(s[27]=[r("Location",-1)])]),_:1}),t(e(y),{modelValue:e(l).location,"onUpdate:modelValue":s[4]||(s[4]=i=>e(l).location=i),placeholder:"Akoka, Lagos"},null,8,["modelValue"]),e(l).errors.location?(c(),_("p",qe,m(e(l).errors.location),1)):f("",!0)]),a("div",Ge,[t(e(v),null,{default:o(()=>[...s[28]||(s[28]=[r("State",-1)])]),_:1}),t(e(y),{modelValue:e(l).state,"onUpdate:modelValue":s[5]||(s[5]=i=>e(l).state=i),placeholder:"Lagos"},null,8,["modelValue"]),e(l).errors.state?(c(),_("p",Me,m(e(l).errors.state),1)):f("",!0)])]),a("div",We,[a("div",He,[t(e(v),null,{default:o(()=>[...s[29]||(s[29]=[r("Country",-1)])]),_:1}),t(e(y),{modelValue:e(l).country,"onUpdate:modelValue":s[6]||(s[6]=i=>e(l).country=i),placeholder:"Nigeria"},null,8,["modelValue"]),e(l).errors.country?(c(),_("p",Je,m(e(l).errors.country),1)):f("",!0)]),a("div",Qe,[t(e(v),null,{default:o(()=>[...s[30]||(s[30]=[r("Website",-1)])]),_:1}),t(e(y),{modelValue:e(l).website,"onUpdate:modelValue":s[7]||(s[7]=i=>e(l).website=i),placeholder:"https://unilag.edu.ng"},null,8,["modelValue"]),e(l).errors.website?(c(),_("p",Re,m(e(l).errors.website),1)):f("",!0)])]),a("div",Xe,[t(e(v),null,{default:o(()=>[...s[31]||(s[31]=[r("Description",-1)])]),_:1}),t(e(me),{modelValue:e(l).description,"onUpdate:modelValue":s[8]||(s[8]=i=>e(l).description=i),rows:"3",placeholder:"Optional description..."},null,8,["modelValue"]),e(l).errors.description?(c(),_("p",Ye,m(e(l).errors.description),1)):f("",!0)]),a("div",Ze,[a("div",es,[t(e(v),null,{default:o(()=>[...s[32]||(s[32]=[r("Sort Order",-1)])]),_:1}),t(e(y),{modelValue:e(l).sort_order,"onUpdate:modelValue":s[9]||(s[9]=i=>e(l).sort_order=i),type:"number",min:"0"},null,8,["modelValue"]),e(l).errors.sort_order?(c(),_("p",ss,m(e(l).errors.sort_order),1)):f("",!0)]),a("label",ts,[s[33]||(s[33]=a("span",{class:"text-foreground"},"Active",-1)),t(e(K),{checked:e(l).is_active,"onUpdate:checked":s[10]||(s[10]=i=>e(l).is_active=i)},null,8,["checked"])])])]),a("div",ls,[t(e($),{variant:"ghost",onClick:s[11]||(s[11]=i=>b.value=!1)},{default:o(()=>[...s[34]||(s[34]=[r("Cancel",-1)])]),_:1}),t(e($),{disabled:e(l).processing,onClick:z},{default:o(()=>[e(l).processing?(c(),U(e(se),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):f("",!0),a("span",null,m(k.value?"Update university":"Add university"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["open"])]),_:1}))}});export{hs as default};
