import{c as xt,P as te,a as G,_ as L}from"./index-CgLP59YT.js";import{_ as nt,a as ut}from"./CardContent.vue_vue_type_script_setup_true_lang-BzdaijRh.js";import{u as kt,o as Te,n as we,f as Me,s as se,F as wt,t as jt,g as F,h as N,i as O,j as z,l as U,_ as Ee,a as Fe,c as Ne,b as Oe,d as ze,e as Ue,k as Ct}from"./vee-validate-zod-DTzllQJW.js";import{_ as le}from"./Input.vue_vue_type_script_setup_true_lang-DGnGMdUc.js";import{b as Le,c as Ge,d as Ke}from"./WordBalanceDisplay.vue_vue_type_script_setup_true_lang-CSNTrGY4.js";import{d as dt,c as Ie,P as It,a as st,g as Vt,b as ct,u as be}from"./Presence-CxvUdqX-.js";import{u as pt,V as ft}from"./VisuallyHiddenInput-DLf9WDkl.js";import{u as Ye,a as Q,c as lt}from"./useForwardExpose-CCubejfB.js";import{R as qt}from"./VisuallyHidden-CWjcrOI1.js";import{d as P,P as Ve,e as T,i as k,o as g,j as a,r as E,f as M,u as e,m as B,a3 as He,k as t,b as C,a2 as vt,t as re,q as Ce,g as n,z as I,p as mt,T as At,x as qe,a8 as Ae,c as D,y,n as W,F as X,h as fe,aa as $t,v as Dt,U as rt,X as Bt}from"./app-Bgp9Ah4M.js";import{r as oe}from"./index-DfNGxhKz.js";import{R as Rt}from"./RovingFocusItem-BRizaEdi.js";import{h as Pt}from"./DialogTitle-VCYIJ3PW.js";import{i as Tt}from"./ohash.D__AXeF1-C-E83dC9.js";import{j as Mt}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BLfEqrc4.js";import{_ as ye}from"./index-BneSV3ha.js";import{_ as Et,a as Ft}from"./CardTitle.vue_vue_type_script_setup_true_lang-DzsLSsD4.js";import{E as Nt}from"./eye-Bde_bS5a.js";import{E as Ot}from"./eye-off-g5oJxdwA.js";import{D as zt}from"./download-JX5TQwFT.js";import{T as Ut}from"./trash-2-v5fRH4M9.js";import{R as Lt}from"./refresh-cw-BqYKjBR_.js";import{_ as Gt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Kt}from"./AppLayout.vue_vue_type_script_setup_true_lang-LpAZ_Ivm.js";import{t as K}from"./index-BuZzZ-m6.js";import{G as ot}from"./graduation-cap-9KS8Ux2w.js";import{S as Wt}from"./school-DuZur4ce.js";import{F as it}from"./file-text-MoFYUjiJ.js";import{C as je}from"./check-GE7eRY7c.js";import{B as Jt}from"./book-open-CWJ86bNf.js";import{C as We}from"./UserInfo.vue_vue_type_script_setup_true_lang-BBxxp6Qp.js";import"./search-DeJ4_h6v.js";import"./Label.vue_vue_type_script_setup_true_lang-CPKGhh_h.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-CppFsSbV.js";import"./coins-BCKUMIwG.js";import"./plus-DG50jX5S.js";import"./x-BJZchuQz.js";import"./loader-circle-Chi0vZAo.js";import"./log-out-oD-JmEo1.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-CrS2M0c1.js";import"./library-Bvyft1u9.js";import"./chevron-right-CJhsJ7Lp.js";import"./sun-BjLx__jj.js";import"./useWordBalance-CHUQ8TYa.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=xt("CircleIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Ht="radio.select";function Xt(h,d,r){Pt(Ht,r,{originalEvent:h,value:d})}var Qt=P({__name:"Radio",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},checked:{type:Boolean,required:!1,default:void 0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:checked","select"],setup(h,{emit:d}){const r=h,v=d,_=Ye(r,"checked",v,{passive:r.checked===void 0}),{value:i}=Ve(r),{forwardRef:b,currentElement:x}=Q(),w=pt(x),m=T(()=>r.id&&x.value?document.querySelector(`[for="${r.id}"]`)?.innerText??r.value:void 0);function f(l){r.disabled||Xt(l,r.value,j=>{v("select",j),!j?.defaultPrevented&&(_.value=!0,w.value&&j.stopPropagation())})}return(l,j)=>(g(),k(e(te),B(l.$attrs,{id:l.id,ref:e(b),role:"radio",type:l.as==="button"?"button":void 0,as:l.as,"aria-checked":e(_),"aria-label":m.value,"as-child":l.asChild,disabled:l.disabled?"":void 0,"data-state":e(_)?"checked":"unchecked","data-disabled":l.disabled?"":void 0,value:e(i),required:l.required,name:l.name,onClick:He(f,["stop"])}),{default:a(()=>[E(l.$slots,"default",{checked:e(_)}),e(w)&&l.name?(g(),k(e(ft),{key:0,type:"radio",tabindex:"-1",value:e(i),checked:!!e(_),name:l.name,disabled:l.disabled,required:l.required},null,8,["value","checked","name","disabled","required"])):M("v-if",!0)]),_:3},16,["id","type","as","aria-checked","aria-label","as-child","disabled","data-state","data-disabled","value","required","name"]))}}),Zt=Qt;const[ea,ta]=Ie("RadioGroupRoot");var aa=P({__name:"RadioGroupRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(h,{emit:d}){const r=h,v=d,{forwardRef:_,currentElement:i}=Q(),b=Ye(r,"modelValue",v,{defaultValue:r.defaultValue,passive:r.modelValue===void 0}),{disabled:x,loop:w,orientation:m,name:f,required:l,dir:j}=Ve(r),V=dt(j),$=pt(i);return ta({modelValue:b,changeModelValue:q=>{b.value=q},disabled:x,loop:w,orientation:m,name:f?.value,required:l}),(q,ie)=>(g(),k(e(qt),{"as-child":"",orientation:e(m),dir:e(V),loop:e(w)},{default:a(()=>[t(e(te),{ref:e(_),role:"radiogroup","data-disabled":e(x)?"":void 0,"as-child":q.asChild,as:q.as,"aria-orientation":e(m),"aria-required":e(l),dir:e(V)},{default:a(()=>[E(q.$slots,"default",{modelValue:e(b)}),e($)&&e(f)?(g(),k(e(ft),{key:0,required:e(l),disabled:e(x),value:e(b),name:e(f)},null,8,["required","disabled","value","name"])):M("v-if",!0)]),_:3},8,["data-disabled","as-child","as","aria-orientation","aria-required","dir"])]),_:3},8,["orientation","dir","loop"]))}}),sa=aa;const[la,ra]=Ie("RadioGroupItem");var oa=P({inheritAttrs:!1,__name:"RadioGroupItem",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["select"],setup(h,{emit:d}){const r=h,v=d,{forwardRef:_,currentElement:i}=Q(),b=ea(),x=T(()=>b.disabled.value||r.disabled),w=T(()=>b.required.value||r.required),m=T(()=>Tt(b.modelValue?.value,r.value));ra({disabled:x,checked:m});const f=C(!1),l=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];lt("keydown",V=>{l.includes(V.key)&&(f.value=!0)}),lt("keyup",()=>{f.value=!1});function j(){setTimeout(()=>{f.value&&i.value?.click()},0)}return(V,$)=>(g(),k(e(Rt),{checked:m.value,disabled:x.value,"as-child":"",focusable:!x.value,active:m.value},{default:a(()=>[t(Zt,B({...V.$attrs,...r},{ref:e(_),checked:m.value,required:w.value,disabled:x.value,"onUpdate:checked":$[0]||($[0]=q=>e(b).changeModelValue(V.value)),onSelect:$[1]||($[1]=q=>v("select",q)),onKeydown:$[2]||($[2]=vt(He(()=>{},["prevent"]),["enter"])),onFocus:j}),{default:a(()=>[E(V.$slots,"default",{checked:m.value,required:w.value,disabled:x.value})]),_:3},16,["checked","required","disabled"])]),_:3},8,["checked","disabled","focusable","active"]))}}),ia=oa,na=P({__name:"RadioGroupIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(h){const{forwardRef:d}=Q(),r=la();return(v,_)=>(g(),k(e(It),{present:v.forceMount||e(r).checked.value},{default:a(()=>[t(e(te),B({ref:e(d),"data-state":e(r).checked.value?"checked":"unchecked","data-disabled":e(r).disabled.value?"":void 0,"as-child":v.asChild,as:v.as},v.$attrs),{default:a(()=>[E(v.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),ua=na;const da={"aria-live":"polite","aria-atomic":"true",role:"status",style:{transform:"translateX(-100%)",position:"absolute",pointerEvents:"none",opacity:0,margin:0}},[gt,ca]=Ie("StepperRoot");var pa=P({__name:"StepperRoot",props:{defaultValue:{type:Number,required:!1,default:1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},modelValue:{type:Number,required:!1},linear:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(h,{expose:d,emit:r}){const v=h,_=r,{dir:i,orientation:b,linear:x}=Ve(v),w=dt(i),m=C(new Set),f=Ye(v,"modelValue",_,{defaultValue:v.defaultValue,passive:v.modelValue===void 0}),l=T(()=>Array.from(m.value)),j=T(()=>f.value===1),V=T(()=>f.value===l.value.length),$=T(()=>m.value.size);function q(R){R>$.value||R<1||m.value.size&&l.value[R]&&l.value[R].getAttribute("disabled")||x.value&&R>(f.value??1)+1||(f.value=R)}function ie(){q((f.value??1)+1)}function ae(){q((f.value??1)-1)}function H(){return(f.value??1)<$.value}function he(){return(f.value??1)>1}const Z=C(null),ee=C(null),ne=T(()=>Z.value?Z.value.getAttribute("disabled")==="":!0),ue=T(()=>ee.value?ee.value.getAttribute("disabled")==="":!0);return re(f,async()=>{await Ce(()=>{Z.value=l.value.length&&f.value<l.value.length?l.value[f.value]:null,ee.value=l.value.length&&f.value>1?l.value[f.value-2]:null})}),re(l,async()=>{await Ce(()=>{Z.value=l.value.length&&f.value<l.value.length?l.value[f.value]:null,ee.value=l.value.length&&f.value>1?l.value[f.value-2]:null})}),ca({modelValue:f,changeModelValue:R=>{f.value=R},orientation:b,dir:w,linear:x,totalStepperItems:m}),d({goToStep:q,nextStep:ie,prevStep:ae,modelValue:f,totalSteps:$,isNextDisabled:ne,isPrevDisabled:ue,isFirstStep:j,isLastStep:V,hasNext:H,hasPrev:he}),Q(),(R,Qe)=>(g(),k(e(te),{role:"group","aria-label":"progress",as:R.as,"as-child":R.asChild,"data-linear":e(x)?"":void 0,"data-orientation":R.orientation},{default:a(()=>[E(R.$slots,"default",{modelValue:e(f),totalSteps:m.value.size,isNextDisabled:ne.value,isPrevDisabled:ue.value,isFirstStep:j.value,isLastStep:V.value,goToStep:q,nextStep:ie,prevStep:ae,hasNext:H,hasPrev:he}),n("div",da," Step "+I(e(f))+" of "+I(m.value.size),1)]),_:3},8,["as","as-child","data-linear","data-orientation"]))}}),fa=pa;const[Xe,va]=Ie("StepperItem");var ma=P({__name:"StepperItem",props:{step:{type:Number,required:!0},disabled:{type:Boolean,required:!1,default:!1},completed:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(h){const d=h,{disabled:r,step:v,completed:_}=Ve(d),{forwardRef:i}=Q(),b=gt(),x=st(void 0,"reka-stepper-item-title"),w=st(void 0,"reka-stepper-item-description"),m=T(()=>_.value?"completed":b.modelValue.value===v.value?"active":b.modelValue.value>v.value?"completed":"inactive"),f=T(()=>r.value?!1:b.linear.value?v.value<=b.modelValue.value||v.value===b.modelValue.value+1:!0);return va({titleId:x,descriptionId:w,state:m,disabled:r,step:v,isFocusable:f}),(l,j)=>(g(),k(e(te),{ref:e(i),as:l.as,"as-child":l.asChild,"aria-current":m.value==="active"?"true":void 0,"data-state":m.value,disabled:e(r)||!f.value?"":void 0,"data-disabled":e(r)||!f.value?"":void 0,"data-orientation":e(b).orientation.value},{default:a(()=>[E(l.$slots,"default",{state:m.value})]),_:3},8,["as","as-child","aria-current","data-state","disabled","data-disabled","data-orientation"]))}}),ga=ma,ya=P({__name:"StepperDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(h){const d=h;Q();const r=Xe();return(v,_)=>(g(),k(e(te),B(d,{id:e(r).descriptionId}),{default:a(()=>[E(v.$slots,"default")]),_:3},16,["id"]))}}),_a=ya,ba=P({__name:"StepperTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h4"}},setup(h){const d=h,r=Xe();return Q(),(v,_)=>(g(),k(e(te),B(d,{id:e(r).titleId}),{default:a(()=>[E(v.$slots,"default")]),_:3},16,["id"]))}}),ha=ba,Sa=P({__name:"StepperTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(h){const d=gt(),r=Xe(),v=kt(),_=T(()=>Array.from(d.totalStepperItems.value));function i(m){if(!r.disabled.value){if(d.linear.value){if((r.step.value<=d.modelValue.value||r.step.value===d.modelValue.value+1)&&m.ctrlKey===!1){d.changeModelValue(r.step.value);return}}else if(m.ctrlKey===!1){d.changeModelValue(r.step.value);return}m.preventDefault()}}function b(m){m.preventDefault(),!r.disabled.value&&((m.key===v.ENTER||m.key===v.SPACE)&&!m.ctrlKey&&!m.shiftKey&&d.changeModelValue(r.step.value),[v.ARROW_LEFT,v.ARROW_RIGHT,v.ARROW_UP,v.ARROW_DOWN].includes(m.key)&&Mt(m,Vt(),void 0,{itemsArray:_.value,focus:!0,loop:!1,arrowKeyOptions:d.orientation.value,dir:d.dir.value}))}const{forwardRef:x,currentElement:w}=Q();return mt(()=>{d.totalStepperItems.value.add(w.value)}),At(()=>{d.totalStepperItems.value.delete(w.value)}),(m,f)=>(g(),k(e(te),{ref:e(x),type:m.as==="button"?"button":void 0,as:m.as,"as-child":m.asChild,"data-state":e(r).state.value,disabled:e(r).disabled.value||!e(r).isFocusable.value?"":void 0,"data-disabled":e(r).disabled.value||!e(r).isFocusable.value?"":void 0,"data-orientation":e(d).orientation.value,tabindex:e(r).isFocusable.value?0:-1,"aria-describedby":e(r).descriptionId,"aria-labelledby":e(r).titleId,onMousedown:He(i,["left"]),onKeydown:vt(b,["enter","space","left","right","up","down"])},{default:a(()=>[E(m.$slots,"default")]),_:3},8,["type","as","as-child","data-state","disabled","data-disabled","data-orientation","tabindex","aria-describedby","aria-labelledby"]))}}),xa=Sa;const Je=P({__name:"RadioGroup",props:{modelValue:{},defaultValue:{},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(h,{emit:d}){const r=h,v=d,_=oe(r,"class"),i=ct(_,v);return(b,x)=>(g(),k(e(sa),B({"data-slot":"radio-group",class:e(G)("grid gap-3",r.class)},e(i)),{default:a(()=>[E(b.$slots,"default")]),_:3},16,["class"]))}}),_e=P({__name:"RadioGroupItem",props:{id:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},setup(h){const d=h,r=oe(d,"class"),v=be(r);return(_,i)=>(g(),k(e(ia),B({"data-slot":"radio-group-item"},e(v),{class:e(G)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",d.class)}),{default:a(()=>[t(e(ua),{"data-slot":"radio-group-indicator",class:"relative flex items-center justify-center"},{default:a(()=>[t(e(Yt),{class:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})]),_:1})]),_:1},16,["class"]))}}),ka=P({__name:"Stepper",props:{defaultValue:{},orientation:{},dir:{},modelValue:{},linear:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue"],setup(h,{emit:d}){const r=h,v=d,_=oe(r,"class"),i=ct(_,v);return(b,x)=>(g(),k(e(fa),B({class:e(G)("flex gap-2",r.class)},e(i)),{default:a(w=>[E(b.$slots,"default",qe(Ae(w)))]),_:3},16,["class"]))}}),wa=P({__name:"StepperDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(h){const d=h,r=oe(d,"class"),v=be(r);return(_,i)=>(g(),k(e(_a),B(e(v),{class:e(G)("text-xs text-muted-foreground",d.class)}),{default:a(b=>[E(_.$slots,"default",qe(Ae(b)))]),_:3},16,["class"]))}}),ja=P({__name:"StepperItem",props:{step:{},disabled:{type:Boolean},completed:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(h){const d=h,r=oe(d,"class"),v=be(r);return(_,i)=>(g(),k(e(ga),B(e(v),{class:e(G)("flex items-center gap-2 group data-[disabled]:pointer-events-none",d.class)}),{default:a(b=>[E(_.$slots,"default",qe(Ae(b)))]),_:3},16,["class"]))}}),Ca=P({__name:"StepperTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(h){const d=h,r=oe(d,"class"),v=be(r);return(_,i)=>(g(),k(e(ha),B(e(v),{class:e(G)("text-md font-semibold whitespace-nowrap",d.class)}),{default:a(()=>[E(_.$slots,"default")]),_:3},16,["class"]))}}),Ia=P({__name:"StepperTrigger",props:{asChild:{type:Boolean},as:{},class:{}},setup(h){const d=h,r=oe(d,"class"),v=be(r);return(_,i)=>(g(),k(e(xa),B(e(v),{class:e(G)("p-1 flex flex-col items-center text-center gap-1 rounded-md",d.class)}),{default:a(()=>[E(_.$slots,"default")]),_:3},16,["class"]))}}),Va={class:"fixed right-4 bottom-4 z-50"},qa={class:"flex items-center justify-between"},Aa={class:"flex gap-1"},$a={class:"space-y-2"},Da={class:"space-y-1"},Ba={class:"flex justify-between"},Ra={class:"flex justify-between"},Pa={class:"flex justify-between"},Ta={class:"flex justify-between"},Ma={key:0,class:"space-y-2"},Ea={class:"space-y-1"},Fa={class:"space-y-2"},Na={class:"max-h-40 overflow-auto rounded bg-muted p-2 font-mono text-[10px]"},Oa={class:"space-y-2"},za={class:"max-h-40 overflow-auto rounded bg-muted p-2 font-mono text-[10px]"},Ua={class:"space-y-2"},La={class:"flex gap-2"},Ga=P({__name:"WizardDebugPanel",props:{currentStep:{},projectId:{},formValues:{},savedValues:{},isInitializing:{type:Boolean}},emits:["force-save","reset-form"],setup(h,{emit:d}){const r=h,v=d,_=C(!1),i=C(!0),b=T(()=>JSON.stringify(r.formValues)===JSON.stringify(r.savedValues)),x=T(()=>{const f=[];for(const l in r.formValues)r.formValues[l]!==r.savedValues[l]&&f.push(l);return f}),w=()=>{const f={timestamp:new Date().toISOString(),currentStep:r.currentStep,projectId:r.projectId,formValues:r.formValues,savedValues:r.savedValues,unsavedFields:x.value,localStorage:{}};for(let $=0;$<localStorage.length;$++){const q=localStorage.key($);q&&q.includes("project")&&(f.localStorage[q]=localStorage.getItem(q))}const l=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),j=URL.createObjectURL(l),V=document.createElement("a");V.href=j,V.download=`wizard-debug-${Date.now()}.json`,V.click()},m=()=>{if(confirm("This will clear all saved wizard data. Are you sure?")){const f=[];for(let l=0;l<localStorage.length;l++){const j=localStorage.key(l);j&&j.includes("project")&&f.push(j)}f.forEach(l=>localStorage.removeItem(l)),typeof window<"u"&&window.location.reload()}};return re(()=>r.formValues,()=>{i.value&&console.log("Form values changed:",r.formValues)},{deep:!0}),(f,l)=>(g(),D(X,null,[n("div",Va,[t(e(L),{onClick:l[0]||(l[0]=j=>_.value=!_.value),size:"icon",variant:"outline",class:"bg-background shadow-lg"},{default:a(()=>[_.value?(g(),k(e(Ot),{key:1,class:"h-4 w-4"})):(g(),k(e(Nt),{key:0,class:"h-4 w-4"}))]),_:1})]),t($t,{name:"slide"},{default:a(()=>[_.value?(g(),k(e(nt),{key:0,class:"fixed right-4 bottom-20 z-40 max-h-[600px] w-96 overflow-auto shadow-xl"},{default:a(()=>[t(e(Et),{class:"pb-3"},{default:a(()=>[n("div",qa,[t(e(Ft),{class:"text-sm font-medium"},{default:a(()=>[...l[4]||(l[4]=[y("Wizard Debug Panel",-1)])]),_:1}),n("div",Aa,[t(e(L),{size:"icon",variant:"ghost",class:"h-6 w-6",onClick:w},{default:a(()=>[t(e(zt),{class:"h-3 w-3"})]),_:1}),t(e(L),{size:"icon",variant:"ghost",class:"h-6 w-6",onClick:m},{default:a(()=>[t(e(Ut),{class:"h-3 w-3"})]),_:1}),t(e(L),{size:"icon",variant:"ghost",class:"h-6 w-6",onClick:l[1]||(l[1]=j=>i.value=!i.value)},{default:a(()=>[t(e(Lt),{class:W(["h-3 w-3",i.value&&"animate-spin"])},null,8,["class"])]),_:1})])])]),_:1}),t(e(ut),{class:"space-y-4 text-xs"},{default:a(()=>[n("div",$a,[l[9]||(l[9]=n("div",{class:"font-semibold"},"Status",-1)),n("div",Da,[n("div",Ba,[l[5]||(l[5]=n("span",{class:"text-muted-foreground"},"Current Step:",-1)),t(e(ye),{variant:"outline"},{default:a(()=>[y(I(f.currentStep),1)]),_:1})]),n("div",Ra,[l[6]||(l[6]=n("span",{class:"text-muted-foreground"},"Project ID:",-1)),t(e(ye),{variant:"outline"},{default:a(()=>[y(I(f.projectId||"Not created"),1)]),_:1})]),n("div",Pa,[l[7]||(l[7]=n("span",{class:"text-muted-foreground"},"Initializing:",-1)),t(e(ye),{variant:f.isInitializing?"destructive":"default"},{default:a(()=>[y(I(f.isInitializing?"Yes":"No"),1)]),_:1},8,["variant"])]),n("div",Ta,[l[8]||(l[8]=n("span",{class:"text-muted-foreground"},"Values Synced:",-1)),t(e(ye),{variant:b.value?"default":"destructive"},{default:a(()=>[y(I(b.value?"Yes":"No"),1)]),_:1},8,["variant"])])])]),x.value.length>0?(g(),D("div",Ma,[l[10]||(l[10]=n("div",{class:"font-semibold text-amber-600"},"Unsaved Fields",-1)),n("div",Ea,[(g(!0),D(X,null,fe(x.value,j=>(g(),k(e(ye),{key:j,variant:"destructive",class:"mr-1 mb-1"},{default:a(()=>[y(I(j),1)]),_:2},1024))),128))])])):M("",!0),n("div",Fa,[l[11]||(l[11]=n("div",{class:"font-semibold"},"Current Form Values",-1)),n("div",Na,[n("pre",null,I(JSON.stringify(f.formValues,null,2)),1)])]),n("div",Oa,[l[12]||(l[12]=n("div",{class:"font-semibold"},"Saved Values",-1)),n("div",za,[n("pre",null,I(JSON.stringify(f.savedValues,null,2)),1)])]),n("div",Ua,[l[15]||(l[15]=n("div",{class:"font-semibold"},"Debug Actions",-1)),n("div",La,[t(e(L),{size:"sm",variant:"outline",onClick:l[2]||(l[2]=j=>v("force-save"))},{default:a(()=>[...l[13]||(l[13]=[y(" Force Save ",-1)])]),_:1}),t(e(L),{size:"sm",variant:"outline",onClick:l[3]||(l[3]=j=>v("reset-form"))},{default:a(()=>[...l[14]||(l[14]=[y(" Reset Form ",-1)])]),_:1})])])]),_:1})]),_:1})):M("",!0)]),_:1})],64))}}),Ka=Gt(Ga,[["__scopeId","data-v-1bbff090"]]),Wa={class:"min-h-screen bg-gradient-to-b from-background via-background/95 to-muted/20"},Ja={class:"mx-auto max-w-4xl space-y-6 p-6 pb-20 lg:p-10 animate-in fade-in slide-in-from-bottom-4 duration-700"},Ya={key:0,class:"mt-4 rounded-lg border border-blue-200 bg-blue-50/50 p-4 text-sm text-blue-600 backdrop-blur-sm flex items-start gap-3 shadow-sm"},Ha=["onSubmit"],Xa={class:"flex w-full flex-col items-start justify-start gap-4 md:flex-row md:gap-0"},Qa={class:"flex flex-col items-start text-left md:mt-5 md:items-center md:text-center"},Za={key:0,class:"mt-1 block text-xs text-blue-600"},es={class:"mt-8 space-y-6"},ts={key:0,class:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500"},as={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ss={class:"flex cursor-pointer items-center space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},ls={class:"flex cursor-pointer items-center space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},rs={class:"space-y-3"},os={class:"flex-1 space-y-2"},is={class:"font-medium"},ns={class:"text-sm text-muted-foreground"},us={class:"grid grid-cols-1 gap-2 text-xs text-muted-foreground sm:grid-cols-3"},ds={class:"flex items-center gap-1"},cs={class:"flex items-center gap-1"},ps={class:"flex items-center gap-1"},fs={key:0,class:"py-8 text-center text-muted-foreground"},vs={key:1,class:"py-8 text-center text-muted-foreground"},ms={key:1,class:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-500"},gs={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ys={key:2,class:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500"},_s={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},bs={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},hs={class:"space-y-3"},Ss={class:"flex cursor-pointer items-start space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},xs={class:"flex cursor-pointer items-start space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},ks={class:"mt-8 flex justify-between"},ws={class:"flex gap-3"},ml=P({__name:"Create",props:{projectCategories:{},resumeProject:{}},setup(h){const d=h,r=[Te({projectType:Me(["undergraduate","postgraduate"]),projectCategoryId:we({required_error:"Please select a project category"})}),Te({universityId:we({required_error:"Please select your university"}),facultyId:we({required_error:"Please select your faculty"}),departmentId:we({required_error:"Please select your department"}),course:se().min(2,"Course of study is required")}),Te({fieldOfStudy:se().optional(),supervisorName:se().optional(),matricNumber:se().optional(),academicSession:se().min(1,"Academic session is required"),degree:se().min(2,"Degree is required"),degreeAbbreviation:se().min(2,"Degree abbreviation is required"),workingMode:Me(["auto","manual"]),aiAssistanceLevel:Me(["minimal","moderate","maximum"]).optional()})],v=T(()=>r[i.value-1]),_=!1,i=C(1),b=C(null),x=C(!0),w=C({format_version:"2.0",steps:{},current_step:1,furthest_completed_step:0}),m=C("");let f=null;const l=C([]),j=C([]),V=C([]),$=C(!1),q=C(!1),ie=C(!1),ae=C(null),H=C(null),he=(u,s,c)=>{const S=Y=>String(Y??"").toLowerCase(),A=j.value.find(Y=>Y.id===s)?.name??"",o=V.value.find(Y=>Y.id===c)?.name??"",p=`${S(A)} ${S(o)}`,J=S(u),pe={degree:"Bachelor of Science",degreeAbbreviation:"B.Sc."},ke={degree:"Master of Science",degreeAbbreviation:"M.Sc."},me=[{keywords:["engineering","engineer"],undergraduate:{degree:"Bachelor of Engineering",degreeAbbreviation:"B.Eng."},postgraduate:{degree:"Master of Engineering",degreeAbbreviation:"M.Eng."}},{keywords:["technology","polytechnic","technological"],undergraduate:{degree:"Bachelor of Technology",degreeAbbreviation:"B.Tech."},postgraduate:{degree:"Master of Technology",degreeAbbreviation:"M.Tech."}},{keywords:["management","business","administration","accounting","finance","marketing","economics"],undergraduate:pe,postgraduate:{degree:"Master of Business Administration",degreeAbbreviation:"MBA"}},{keywords:["education"],undergraduate:{degree:"Bachelor of Education",degreeAbbreviation:"B.Ed."},postgraduate:{degree:"Master of Education",degreeAbbreviation:"M.Ed."}},{keywords:["law","legal","jurisprud"],undergraduate:{degree:"Bachelor of Laws",degreeAbbreviation:"LL.B."},postgraduate:{degree:"Master of Laws",degreeAbbreviation:"LL.M."}},{keywords:["arts","humanities","history","linguistics","language","philosophy","literature"],undergraduate:{degree:"Bachelor of Arts",degreeAbbreviation:"B.A."},postgraduate:{degree:"Master of Arts",degreeAbbreviation:"M.A."}},{keywords:["agric","agriculture","forestry"],undergraduate:{degree:"Bachelor of Agriculture",degreeAbbreviation:"B.Agric."},postgraduate:{degree:"Master of Agriculture",degreeAbbreviation:"M.Agric."}},{keywords:["medicine","medical","health","nursing","pharmacy","dentistry"],undergraduate:{degree:"Bachelor of Medicine, Bachelor of Surgery",degreeAbbreviation:"MBBS"},postgraduate:ke}],Pe=J==="postgraduate";for(const Y of me)if(Y.keywords.some(ge=>p.includes(ge)))return Pe?Y.postgraduate:Y.undergraduate;return Pe?ke:pe},Z=C(!1),ee=C(!1),ne=C(!1),ue=u=>{const s=u.toString();return w.value.steps[s]?.data??{}},R=(u,s)=>{const c=u.toString();w.value.steps[c]={data:s,completed:Qe(u,s),timestamp:new Date().toISOString()},w.value.current_step=Math.max(w.value.current_step,u),w.value.steps[c].completed&&(w.value.furthest_completed_step=Math.max(w.value.furthest_completed_step,u))},Qe=(u,s)=>({1:["projectType","projectCategoryId"],2:["universityId","facultyId","departmentId","course"],3:["academicSession","degreeAbbreviation","workingMode"]}[u]||[]).every(A=>s[A]&&s[A]!==""),Ze=()=>{const u={};return Object.values(w.value.steps).forEach(s=>{Object.assign(u,s.data)}),u};re(i,u=>{console.log("ðŸ‘€ Step changed to:",u),w.value.current_step=u,Ce(()=>{const s=ue(u),c=Ze();if(u===3){const S=he(c.projectType,c.facultyId,c.departmentId),A=St=>String(St??"").trim(),o=A(s.degree),p=A(s.degreeAbbreviation);!H.value&&o===S.degree&&p===S.degreeAbbreviation&&(H.value=S);const J=H.value&&o===H.value.degree&&p===H.value.degreeAbbreviation,pe=o==="Bachelor of Science"&&p==="B.Sc."||o===""||p==="",ke=o==="Master of Science"&&p==="M.Sc."||o===""||p==="",me=String(c.projectType??"")==="postgraduate",ge=me&&p==="B.Sc."||!me&&(p==="M.Sc."||p==="M.Eng."||p==="MBA")||J||(me?ke:pe)?{...s,...S}:s;JSON.stringify(ge)!==JSON.stringify(s)&&(R(u,ge),H.value=S),ce.value=ge}else ce.value=s;xe.value++,s.projectType&&(m.value=s.projectType),u===2&&s.facultyId&&(ae.value=s.facultyId,$e(s.facultyId))})}),mt(()=>{if(yt(),_t(),d.resumeProject){console.log("ðŸ“„ Resuming project setup...",d.resumeProject),i.value=d.resumeProject.current_step,b.value=d.resumeProject.id,w.value=d.resumeProject.wizard_data;const u=ue(i.value);ce.value=u,u.projectType&&(m.value=u.projectType),u.facultyId&&(ae.value=u.facultyId,$e(u.facultyId)),xe.value=Date.now(),console.log("âœ… Step-aware state restored:",{step:i.value,wizardData:w.value,currentStepData:u,selectedProjectType:m.value})}else console.log("ðŸ†• Starting fresh project setup"),ce.value={},xe.value=Date.now();Ce(()=>{x.value=!1})});const yt=async()=>{$.value=!0;try{const s=await(await fetch("/api/universities")).json();l.value=s.universities}catch(u){console.error("Failed to fetch universities:",u),K("Error loading universities")}finally{$.value=!1}},_t=async()=>{q.value=!0;try{const s=await(await fetch("/api/faculties")).json();j.value=s.faculties}catch(u){console.error("Failed to fetch faculties:",u),K("Error loading faculties")}finally{q.value=!1}},$e=async u=>{ie.value=!0;try{const c=await(await fetch(`/api/faculties/${u}/departments`)).json();V.value=c.departments}catch(s){console.error("Failed to fetch departments:",s),K("Error loading departments")}finally{ie.value=!1}};re(ae,u=>{u?$e(u):V.value=[]});const De=async(u,s)=>{try{if(console.log("ðŸ’¾ Saving progress - Step:",u,"Data:",s),x.value){console.log("â¸ï¸ Skipping save during initialization");return}const c=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(!c){console.error("âŒ CSRF token not found"),K("Error",{description:"Security token missing. Please refresh the page."});return}const S=await fetch(rt("projects.save-wizard-progress"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":c,"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin",body:JSON.stringify({project_id:b.value,step:u,data:s})});if(S.ok){const A=await S.json();A.success?(b.value=A.project_id,Be.value={...s},console.log("âœ… Progress saved successfully")):(console.error("âŒ Save failed:",A),K("Save Failed",{description:A.message||"Failed to save progress."}))}else{if(console.error("âŒ Save request failed:",S.status,S.statusText),S.status===419){K("Session Expired",{description:"Please refresh the page to continue."});return}else if(S.status===422){const A=await S.json().catch(()=>({}));console.error("âŒ Validation errors:",A),K("Validation Error",{description:"Some form data is invalid."});return}throw new Error(`HTTP ${S.status}: ${S.statusText}`)}}catch(c){console.error("âŒ Failed to save progress:",c),c instanceof SyntaxError&&c.message.includes("Unexpected token")?K("Session Error",{description:"Your session may have expired. Please refresh the page."}):K("Auto-save Error",{description:"Failed to save your progress automatically."})}},et=(u,s)=>{f&&clearTimeout(f),f=setTimeout(()=>{De(u,s)},1e3)},Se=async(u,s)=>{if(u===i.value)return;console.log("ðŸ“„ Navigating from step",i.value,"to step",u);const c=Re(s,i.value);Object.keys(c).length>0&&(console.log("ðŸ’¾ Saving step",i.value,"data before navigation:",c),R(i.value,c),await De(i.value,c)),i.value=u,console.log("âœ… Navigation complete - now on step:",i.value)},de=T(()=>(u,s,c)=>{const S=Math.max(s,d.resumeProject?.setup_step??1);return!!(u<=S||u===s+1&&c)}),ve=[{step:1,title:"Academic Setup",description:"Level & project type",icon:ot},{step:2,title:"Institution",description:"University details",icon:Wt},{step:3,title:"Research Details",description:"Field & supervisor info",icon:it}],tt=u=>d.projectCategories[u]||[];re(m,u=>{if(u&&!x.value){const s={...Be.value,projectType:u};et(i.value,s)}});const at=C({}),Be=C({}),ce=C({}),xe=C(0);re(ce,u=>{u?.projectType&&u.projectType!==m.value&&(m.value=u.projectType,console.log("ðŸ”„ Synced selectedProjectType from form values:",u.projectType))},{deep:!0,immediate:!0});const Re=(u,s)=>{const S={1:["projectType","projectCategoryId"],2:["universityId","facultyId","departmentId","course"],3:["fieldOfStudy","supervisorName","matricNumber","academicSession","degree","degreeAbbreviation","workingMode","aiAssistanceLevel"]}[s]||[];return Object.fromEntries(Object.entries(u||{}).filter(([A,o])=>S.includes(A)&&o!==null&&o!==void 0&&o!==""))},bt=u=>{if(x.value)return"";const s=Re(u,i.value);if(Object.keys(s).length>0){const c=ue(i.value);JSON.stringify(s)!==JSON.stringify(c)&&(console.log("ðŸ”„ Step",i.value,"data changed:",s),R(i.value,s),s.projectType&&(m.value=s.projectType),et(i.value,s))}return""};function ht(u){console.log("ðŸš€ Submitting final step with current values:",u);const s=Re(u,i.value);R(i.value,s);const c=Ze();if(console.log("ðŸ“‹ All steps data for submission:",c),!c.projectType||!c.universityId||!c.facultyId||!c.departmentId){K("Incomplete Data",{description:"Please complete all previous steps before submitting."});return}const S={project_category_id:c.projectCategoryId,type:c.projectType,university_id:c.universityId,faculty_id:c.facultyId,department_id:c.departmentId,course:c.course,field_of_study:c.fieldOfStudy,supervisor_name:c.supervisorName,matric_number:c.matricNumber,academic_session:c.academicSession,degree:c.degree,degree_abbreviation:c.degreeAbbreviation,mode:c.workingMode,ai_assistance_level:c.aiAssistanceLevel};console.log("ðŸŽ¯ Final project data for submission:",S),Bt.post(rt("projects.store"),S,{onSuccess:()=>{K("Project Created!",{description:"Your project has been set up successfully."})},onError:A=>{console.error("âŒ Project creation failed:",A),K("Error",{description:"Failed to create project. Please try again."})}})}return(u,s)=>(g(),k(Kt,{title:"Create New Project"},{default:a(()=>[n("div",Wa,[n("div",Ja,[n("div",null,[s[6]||(s[6]=n("h1",{class:"text-3xl font-bold tracking-tight bg-gradient-to-br from-foreground to-foreground/70 bg-clip-text text-transparent"},"Create Your Project",-1)),s[7]||(s[7]=n("p",{class:"text-muted-foreground mt-2 text-lg"},"Set up your final year project in just a few steps",-1)),i.value>1?(g(),D("div",Ya,[...s[5]||(s[5]=[n("span",{class:"text-lg"},"ðŸ’¡",-1),n("div",null,[n("strong",null,"Tip:"),y(" You can click on any previous step to go back and make changes. Your progress is automatically saved! ")],-1)])])):M("",!0)]),t(e(nt),null,{default:a(()=>[t(e(ut),{class:"pt-6"},{default:a(()=>[(g(),k(e(wt),{key:xe.value,as:"","keep-values":"","validation-schema":e(jt)(v.value),"initial-values":ce.value},{default:a(({meta:c,values:S,validate:A})=>[x.value?M("",!0):(g(),D(X,{key:0},[y(I(bt(S)),1)],64)),t(e(ka),{modelValue:i.value,"onUpdate:modelValue":s[3]||(s[3]=o=>i.value=o),class:"w-full"},{default:a(()=>[n("form",{onSubmit:o=>{o.preventDefault(),A(),i.value===ve.length&&c.valid&&ht(S)},class:"w-full"},[n("div",Xa,[(g(),D(X,null,fe(ve,(o,p)=>(g(),D(X,{key:o.step},[t(e(ja),{class:"relative flex flex-shrink-0 flex-row items-center gap-4 md:flex-col md:gap-0",step:o.step},{default:a(({state:J})=>[t(e(Ia),{"as-child":""},{default:a(()=>[t(e(L),{variant:J==="completed"||J==="active"?"default":"outline",size:"icon",class:W(["relative z-10 shrink-0 rounded-full",[J==="active"&&"ring-2 ring-ring ring-offset-2 ring-offset-background",!de.value(o.step,i.value,c.valid)&&"cursor-not-allowed opacity-50"]]),disabled:!de.value(o.step,i.value,c.valid),onClick:pe=>Se(o.step,S),type:"button"},{default:a(()=>[J==="completed"?(g(),k(e(je),{key:0,class:"size-5"})):(g(),k(Dt(o.icon),{key:1,class:"size-5"}))]),_:2},1032,["variant","class","disabled","onClick"])]),_:2},1024),n("div",Qa,[t(e(Ca),{class:W([[J==="active"&&"text-primary",de.value(o.step,i.value,c.valid)&&o.step!==i.value&&"cursor-pointer text-blue-600 hover:text-blue-800"],"text-sm font-semibold transition lg:text-base"]),onClick:pe=>de.value(o.step,i.value,c.valid)?Se(o.step,S):null},{default:a(()=>[y(I(o.title),1)]),_:2},1032,["class","onClick"]),t(e(wa),{class:W([[J==="active"&&"text-primary",de.value(o.step,i.value,c.valid)&&o.step!==i.value&&"text-blue-500"],"text-xs text-muted-foreground transition md:text-sm"])},{default:a(()=>[y(I(o.description)+" ",1),de.value(o.step,i.value,c.valid)&&o.step<i.value?(g(),D("span",Za," (click to edit) ")):M("",!0)]),_:2},1032,["class"])])]),_:2},1032,["step"]),p<ve.length-1?(g(),D("div",{key:0,class:W(["mt-5 hidden h-0.5 w-full max-w-[200px] transition-all duration-300 md:block",i.value>o.step?"bg-primary":"bg-muted"])},null,2)):M("",!0)],64))),64))]),n("div",es,[i.value===1?(g(),D("div",ts,[t(e(F),{name:"projectType"},{default:a(({componentField:o})=>[t(e(N),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[8]||(s[8]=[y("What is your academic level?",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(Je),{"model-value":o.modelValue,"onUpdate:modelValue":p=>{o["onUpdate:modelValue"]?.(p),m.value=p}},{default:a(()=>[n("div",as,[n("label",ss,[t(e(_e),{value:"undergraduate"}),s[9]||(s[9]=n("div",{class:"space-y-1"},[n("p",{class:"text-sm font-medium"},"Undergraduate"),n("p",{class:"text-xs text-muted-foreground"},"BSc/BTech final year project")],-1))]),n("label",ls,[t(e(_e),{value:"postgraduate"}),s[10]||(s[10]=n("div",{class:"space-y-1"},[n("p",{class:"text-sm font-medium"},"Postgraduate"),n("p",{class:"text-xs text-muted-foreground"},"MSc/PhD thesis")],-1))])])]),_:2},1032,["model-value","onUpdate:modelValue"])]),_:2},1024),t(e(U))]),_:2},1024)]),_:1}),t(e(F),{name:"projectCategoryId"},{default:a(({componentField:o})=>[t(e(N),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[11]||(s[11]=[y("What type of project are you creating?",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(Je),{"model-value":o.modelValue?.toString(),"onUpdate:modelValue":p=>o["onUpdate:modelValue"]?.(parseInt(p))},{default:a(()=>[n("div",rs,[(g(!0),D(X,null,fe(tt(m.value),p=>(g(),D("label",{key:p.id,class:"flex cursor-pointer items-start space-y-0 space-x-3 rounded-md border p-4 transition-all duration-200 hover:border-primary hover:bg-accent/50 has-[[data-state=checked]]:border-primary has-[[data-state=checked]]:bg-primary/5"},[t(e(_e),{value:p.id.toString(),class:"mt-1"},null,8,["value"]),n("div",os,[n("div",null,[n("p",is,I(p.name),1),n("p",ns,I(p.description),1)]),n("div",us,[n("div",ds,[t(e(Jt),{class:"h-3 w-3"}),y(" "+I(p.default_chapter_count)+" chapters ",1)]),n("div",cs,[t(e(it),{class:"h-3 w-3"}),y(" ~"+I((p.target_word_count/1e3).toFixed(0))+"k words ",1)]),n("div",ps,[t(e(ot),{class:"h-3 w-3"}),y(" "+I(p.target_duration),1)])])])]))),128)),m.value?tt(m.value).length===0?(g(),D("div",vs," No project categories available for this academic level ")):M("",!0):(g(),D("div",fs," Please select an academic level first "))])]),_:2},1032,["model-value","onUpdate:modelValue"])]),_:2},1024),t(e(U))]),_:2},1024)]),_:1})])):M("",!0),i.value===2?(g(),D("div",ms,[t(e(F),{name:"universityId"},{default:a(({componentField:o})=>[t(e(N),{class:"flex flex-col"},{default:a(()=>[t(e(O),null,{default:a(()=>[...s[12]||(s[12]=[y("University",-1)])]),_:1}),t(e(Le),{open:Z.value,"onUpdate:open":s[0]||(s[0]=p=>Z.value=p)},{default:a(()=>[t(e(Ge),{"as-child":""},{default:a(()=>[t(e(z),null,{default:a(()=>[t(e(L),{variant:"outline",role:"combobox",class:W(e(G)("w-full justify-between",!o.modelValue&&"text-muted-foreground"))},{default:a(()=>[y(I(o.modelValue?l.value.find(p=>p.id===o.modelValue)?.name:"Select your university...")+" ",1),t(e(We),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024),t(e(Ke),{class:"w-full p-0",align:"start"},{default:a(()=>[t(e(Ee),null,{default:a(()=>[t(e(Fe),{placeholder:"Search university..."}),t(e(Ne),null,{default:a(()=>[...s[13]||(s[13]=[y("No university found.",-1)])]),_:1}),t(e(Oe),null,{default:a(()=>[t(e(ze),null,{default:a(()=>[(g(!0),D(X,null,fe(l.value,p=>(g(),k(e(Ue),{key:p.id,value:p.name,onSelect:()=>{o["onUpdate:modelValue"]?.(p.id),Z.value=!1}},{default:a(()=>[y(I(p.name)+" ",1),t(e(je),{class:W(e(G)("ml-auto h-4 w-4",p.id===o.modelValue?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["open"]),t(e(U))]),_:2},1024)]),_:1}),n("div",gs,[t(e(F),{name:"facultyId"},{default:a(({componentField:o})=>[t(e(N),{class:"flex flex-col"},{default:a(()=>[t(e(O),null,{default:a(()=>[...s[14]||(s[14]=[y("Faculty",-1)])]),_:1}),t(e(Le),{open:ee.value,"onUpdate:open":s[1]||(s[1]=p=>ee.value=p)},{default:a(()=>[t(e(Ge),{"as-child":""},{default:a(()=>[t(e(z),null,{default:a(()=>[t(e(L),{variant:"outline",role:"combobox",class:W(e(G)("w-full justify-between",!o.modelValue&&"text-muted-foreground"))},{default:a(()=>[y(I(o.modelValue?"Faculty of "+j.value.find(p=>p.id===o.modelValue)?.name:"Select faculty...")+" ",1),t(e(We),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024),t(e(Ke),{class:"w-[300px] p-0"},{default:a(()=>[t(e(Ee),null,{default:a(()=>[t(e(Fe),{placeholder:"Search faculty..."}),t(e(Ne),null,{default:a(()=>[...s[15]||(s[15]=[y("No faculty found.",-1)])]),_:1}),t(e(Oe),null,{default:a(()=>[t(e(ze),null,{default:a(()=>[(g(!0),D(X,null,fe(j.value,p=>(g(),k(e(Ue),{key:p.id,value:p.id,onSelect:()=>{o["onUpdate:modelValue"]?.(p.id),ae.value=p.id,ee.value=!1}},{default:a(()=>[t(e(je),{class:W(e(G)("mr-2 h-4 w-4",o.modelValue===p.id?"opacity-100":"opacity-0"))},null,8,["class"]),y(" Faculty of "+I(p.name),1)]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["open"]),t(e(U))]),_:2},1024)]),_:1}),t(e(F),{name:"departmentId"},{default:a(({componentField:o})=>[t(e(N),{class:"flex flex-col"},{default:a(()=>[t(e(O),null,{default:a(()=>[...s[16]||(s[16]=[y("Department",-1)])]),_:1}),t(e(Le),{open:ne.value,"onUpdate:open":s[2]||(s[2]=p=>ne.value=p)},{default:a(()=>[t(e(Ge),{"as-child":""},{default:a(()=>[t(e(z),null,{default:a(()=>[t(e(L),{variant:"outline",role:"combobox",class:W(e(G)("w-full justify-between",!o.modelValue&&"text-muted-foreground"))},{default:a(()=>[y(I(o.modelValue?V.value.find(p=>p.id===o.modelValue)?.name:"Select department...")+" ",1),t(e(We),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024),t(e(Ke),{class:"w-[350px] p-0"},{default:a(()=>[t(e(Ee),null,{default:a(()=>[t(e(Fe),{placeholder:"Search department..."}),t(e(Ne),null,{default:a(()=>[...s[17]||(s[17]=[y("No department found.",-1)])]),_:1}),t(e(Oe),null,{default:a(()=>[t(e(ze),null,{default:a(()=>[(g(!0),D(X,null,fe(V.value,p=>(g(),k(e(Ue),{key:p.id,value:p.id,onSelect:()=>{o["onUpdate:modelValue"]?.(p.id),ne.value=!1}},{default:a(()=>[t(e(je),{class:W(e(G)("mr-2 h-4 w-4",o.modelValue===p.id?"opacity-100":"opacity-0"))},null,8,["class"]),y(" "+I(p.name),1)]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["open"]),t(e(U))]),_:2},1024)]),_:1})]),t(e(F),{name:"course"},{default:a(({componentField:o})=>[t(e(N),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[18]||(s[18]=[y("Course of Study",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(le),B({type:"text",placeholder:"e.g., Computer Science"},o),null,16)]),_:2},1024),t(e(U))]),_:2},1024)]),_:1})])):M("",!0),i.value===3?(g(),D("div",ys,[t(e(F),{name:"fieldOfStudy"},{default:a(({componentField:o})=>[t(e(N),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[19]||(s[19]=[y("Field/Area of Research (Optional)",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(le),B({type:"text",placeholder:"e.g., Artificial Intelligence, Web Development (leave blank if unsure)"},o),null,16)]),_:2},1024),t(e(Ct),null,{default:a(()=>[...s[20]||(s[20]=[y(" Your specific area of focus for this project. Leave blank if you need AI guidance in choosing a research area. ",-1)])]),_:1}),t(e(U))]),_:2},1024)]),_:1}),t(e(F),{name:"supervisorName"},{default:a(({componentField:o})=>[t(e(N),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[21]||(s[21]=[y("Supervisor Name (Optional)",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(le),B({type:"text",placeholder:"e.g., Dr. John Doe"},o),null,16)]),_:2},1024),t(e(U))]),_:2},1024)]),_:1}),n("div",_s,[t(e(F),{name:"matricNumber"},{default:a(({componentField:o})=>[t(e(N),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[22]||(s[22]=[y("Matric Number (Optional)",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(le),B({type:"text",placeholder:"e.g., 2019/1234"},o),null,16)]),_:2},1024),t(e(U))]),_:2},1024)]),_:1}),t(e(F),{name:"academicSession"},{default:a(({componentField:o})=>[t(e(N),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[23]||(s[23]=[y("Academic Session",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(le),B({type:"text",placeholder:"e.g., 2024/2025"},o),null,16)]),_:2},1024),t(e(U))]),_:2},1024)]),_:1})]),n("div",bs,[t(e(F),{name:"degree"},{default:a(({componentField:o})=>[t(e(N),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[24]||(s[24]=[y("Degree",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(le),B({type:"text",placeholder:"e.g., Bachelor of Science"},o),null,16)]),_:2},1024),t(e(U))]),_:2},1024)]),_:1}),t(e(F),{name:"degreeAbbreviation"},{default:a(({componentField:o})=>[t(e(N),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[25]||(s[25]=[y("Degree Abbreviation",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(le),B({type:"text",placeholder:"e.g., B.Sc., M.Sc."},o),null,16)]),_:2},1024),t(e(U))]),_:2},1024)]),_:1})]),t(e(F),{name:"workingMode"},{default:a(({componentField:o})=>[t(e(N),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[26]||(s[26]=[y("How would you like to work on your project?",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(Je),qe(Ae(o)),{default:a(()=>[n("div",hs,[n("label",Ss,[t(e(_e),{value:"auto",class:"mt-1"}),s[27]||(s[27]=n("div",{class:"space-y-1"},[n("p",{class:"font-medium"},"Auto Mode"),n("p",{class:"text-sm text-muted-foreground"}," AI generates complete chapters. You review and approve each section. Perfect for quick completion. ")],-1))]),n("label",xs,[t(e(_e),{value:"manual",class:"mt-1"}),s[28]||(s[28]=n("div",{class:"space-y-1"},[n("p",{class:"font-medium"},"Manual Mode"),n("p",{class:"text-sm text-muted-foreground"}," Co-write with AI assistance. Get suggestions as you type, maintain full control. ")],-1))])])]),_:2},1040)]),_:2},1024),t(e(U))]),_:2},1024)]),_:1})])):M("",!0)]),n("div",ks,[t(e(L),{disabled:i.value<=1,variant:"outline",onClick:o=>Se(i.value-1,S),type:"button"},{default:a(()=>[...s[29]||(s[29]=[y(" Back ",-1)])]),_:2},1032,["disabled","onClick"]),n("div",ws,[i.value!==ve.length?(g(),k(e(L),{key:0,disabled:!c.valid,onClick:o=>Se(i.value+1,S),type:"button"},{default:a(()=>[...s[30]||(s[30]=[y(" Next ",-1)])]),_:2},1032,["disabled","onClick"])):M("",!0),i.value===ve.length?(g(),k(e(L),{key:1,type:"submit",disabled:!c.valid},{default:a(()=>[...s[31]||(s[31]=[y(" Complete Setup ",-1)])]),_:2},1032,["disabled"])):M("",!0)])])],40,Ha)]),_:2},1032,["modelValue"])]),_:1},8,["validation-schema","initial-values"]))]),_:1})]),_:1})]),e(_)?(g(),k(Ka,{key:0,"current-step":i.value,"project-id":b.value,"form-values":at.value,"saved-values":Be.value,"is-initializing":x.value,onForceSave:s[4]||(s[4]=()=>De(i.value,at.value)),onResetForm:()=>{}},null,8,["current-step","project-id","form-values","saved-values","is-initializing"])):M("",!0)])]),_:1}))}});export{ml as default};
