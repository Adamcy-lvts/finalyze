import{d as me,I as fe,a as _,y as k,j as q,w as pe,c as f,o as u,H as o,K as r,u as i,Y as xe,O as A,E as c,J as g,N as w,P as d,C as j,Q as z,A as O,V as $,M as x,X as U,n as T,R as J,Z as Q,_ as E}from"./app-sKBxiMB8.js";import{_ as be}from"./AppLogo.vue_vue_type_script_setup_true_lang-NmgOZP2i.js";import{_ as C}from"./index-BcQ6Xxbz.js";import{a as ge,_ as he}from"./CardContent.vue_vue_type_script_setup_true_lang-Bi_6HD7L.js";import{_ as Y}from"./index-BLq1WSzw.js";import{_ as ve}from"./Input.vue_vue_type_script_setup_true_lang-BnNS3K9V.js";import{_ as ye,a as we}from"./ScrollArea.vue_vue_type_script_setup_true_lang-CcWMSxmV.js";import{_ as Z}from"./SafeHtmlText.vue_vue_type_script_setup_true_lang-DyXxRHv2.js";import{L as _e,_ as ze}from"./TopicDetailsDialog.vue_vue_type_script_setup_true_lang-CQ0c7aYG.js";import{A as ee}from"./arrow-right-Dp84uOwb.js";import{M as ke}from"./menu-lP1Vr0vo.js";import{X as Te}from"./x-BznhB5nB.js";import{L as Ce,F as je}from"./library-wVIFnyKj.js";import{S as te}from"./search-CO7nI9uW.js";import{F as $e}from"./filter-X8GeCylm.js";import{C as Se}from"./clock-CKAzF-Co.js";import{S as Le}from"./sparkles-CBjD3THk.js";import{C as Me}from"./chevron-left-BWvM4tqr.js";import{C as Pe}from"./chevron-right-DnBOpcB-.js";import{T as Ae}from"./target-2AtJjLo6.js";import"./index-UTq1djFd.js";import"./useForwardExpose-CCbHJf5m.js";import"./Presence-DmQKD_xZ.js";import"./useNonce-DFNi9t4A.js";import"./purify.es-DxJI3Wx7.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-B8EP4kHC.js";import"./DialogTitle-C8MOmbG5.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-DMw3wtSh.js";const Fe={class:"min-h-screen bg-[#09090b] text-zinc-100 font-sans selection:bg-zinc-800 selection:text-white"},Ve={class:"relative z-50 border-b border-white/5 bg-[#09090b]/80 backdrop-blur-xl sticky top-0"},Ne={class:"max-w-7xl mx-auto px-4 md:px-6 h-20 flex items-center justify-between relative"},Be={class:"flex items-center gap-2 group cursor-pointer"},De={class:"hidden md:flex items-center gap-8 text-sm font-medium text-zinc-400 absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},Re={class:"flex items-center gap-2 md:gap-4"},Oe={class:"relative z-10 flex items-center gap-2"},Ue={class:"relative z-10 flex items-center gap-2"},Ee={key:0,class:"md:hidden absolute top-20 left-0 w-full bg-[#09090b]/95 backdrop-blur-xl border-b border-white/5 py-6 px-4 flex flex-col gap-4 shadow-2xl"},He={class:"relative z-10"},Ke={class:"relative py-20 px-6 text-center"},Ge={class:"max-w-4xl mx-auto space-y-6"},We={class:"mx-auto flex h-16 w-16 items-center justify-center rounded-2xl bg-indigo-500/10 text-indigo-400 ring-1 ring-indigo-500/20 mb-8"},Ie={class:"max-w-7xl mx-auto px-6 pb-24"},Xe={class:"flex flex-col gap-6 lg:flex-row lg:items-end lg:justify-between"},qe={class:"w-full lg:max-w-sm"},Je={class:"text-xs text-zinc-400 flex items-center gap-2 mb-2 font-medium"},Qe={class:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-1"},Ye={class:"text-xs text-zinc-400 flex items-center gap-1 mb-2 font-medium"},Ze=["value"],et={class:"text-xs text-zinc-400 flex items-center gap-1 mb-2 font-medium"},tt=["value"],rt={class:"text-xs text-zinc-400 flex items-center gap-1 mb-2 font-medium"},st=["value"],it={class:"mb-10"},ot={class:"flex w-max space-x-2"},nt=["onClick"],lt={key:0,class:"rounded-2xl border border-dashed border-white/10 p-20 text-center bg-zinc-900/30"},at={class:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-zinc-800/50 mb-6"},dt={key:1,class:"grid gap-6 md:grid-cols-2 lg:grid-cols-3"},ut=["onClick","onKeydown"],ct={class:"mb-5 mt-2"},mt={class:"flex flex-wrap gap-2 mb-4"},ft={class:"flex-1 mb-6 relative"},pt={class:"mt-auto pt-5 border-t border-white/5 flex items-center justify-between gap-4"},xt={class:"flex items-center gap-2 text-xs text-zinc-500"},bt={key:2,class:"mt-16 flex items-center justify-center gap-2"},gt={class:"flex items-center gap-1 mx-2"},ht={class:"text-sm font-medium text-zinc-400"},It=me({__name:"ProjectTopics",props:{allTopics:{},faculties:{},meta:{}},setup(re){const F=re,se=fe(),S=_(()=>se.props.auth.user);_(()=>!!S.value);const L=k(!1),H=q(F.allTopics.map(s=>({...s,title:(s.title||"").replace(/\*\*/g,"").trim()})));_(()=>F.meta.totalTopics);const K=k(null),V=k(!1),N=s=>{K.value=s,V.value=!0},l=q({search:"",difficulty:"",timeline:"",researchType:""}),ie=s=>s?s.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim():"",h=s=>s?ie(s).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/g," ").replace(/\s+/g," ").trim():"",oe=(s,e)=>{const t=s.length,n=e.length;if(t===0)return n;if(n===0)return t;const p=Array.from({length:t+1},(a,m)=>[m]);for(let a=0;a<=n;a++)p[0][a]=a;for(let a=1;a<=t;a++)for(let m=1;m<=n;m++){const b=s[a-1]===e[m-1]?0:1;p[a][m]=Math.min(p[a-1][m]+1,p[a][m-1]+1,p[a-1][m-1]+b)}return p[t][n]},ne=(s,e)=>{const t=h(s),n=h(e);if(!t||n.includes(t))return!0;const p=t.split(/\s+/).filter(Boolean),a=n.split(/\s+/);return p.every(m=>n.includes(m)?!0:a.some(b=>{if(b===m||b.includes(m)||b.startsWith(m)||m.startsWith(b))return!0;const ce=Math.min(2,Math.floor(m.length/3));return oe(m,b)<=ce}))},B=_(()=>{const s=new Set,e=new Set,t=new Set;return H.forEach(n=>{n.difficulty&&s.add(n.difficulty),n.timeline&&e.add(n.timeline),n.research_type&&t.add(n.research_type)}),{difficulties:Array.from(s),timelines:Array.from(e),researchTypes:Array.from(t)}}),le=s=>{const e=l.search.trim(),t=[s.title,s.description,...s.keywords||[],s.research_type||"",s.difficulty||""].map(b=>b||""),n=!e||t.some(b=>ne(e,b)),p=!l.difficulty||h(s.difficulty||"")===h(l.difficulty),a=!l.timeline||h(s.timeline||"")===h(l.timeline),m=!l.researchType||h(s.research_type||"")===h(l.researchType);return n&&p&&a&&m},G=(s,e)=>{if(!s.faculty)return!1;const t=a=>h(a).replace(/\b(faculty|school|college|department|institute|centre|center)\s+(of\s+)?/g,"").trim(),n=t(e);return t(s.faculty)===n},M=_(()=>H.filter(s=>le(s))),y=k(1),D=k(12),v=k(""),R=_(()=>v.value?M.value.filter(s=>G(s,v.value)):M.value),ae=_(()=>{const s=(y.value-1)*D.value,e=s+D.value;return R.value.slice(s,e)}),P=_(()=>Math.ceil(R.value.length/D.value));pe([()=>l.search,()=>l.difficulty,()=>l.timeline,()=>l.researchType,v],()=>{y.value=1});const W=s=>{s>=1&&s<=P.value&&(y.value=s,window.scrollTo({top:400,behavior:"smooth"}))},I=()=>{l.search="",l.difficulty="",l.timeline="",l.researchType="",v.value="",y.value=1},X=()=>{S.value?J.visit(g("projects.create")):J.visit(g("register"))},de=s=>{switch((s||"").toLowerCase()){case"easy":return"bg-green-500/10 text-green-600 dark:text-green-400 border-green-200 dark:border-green-800";case"medium":return"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-200 dark:border-amber-800";case"hard":return"bg-red-500/10 text-red-600 dark:text-red-400 border-red-200 dark:border-red-800";default:return"bg-muted text-muted-foreground border-border"}},ue=s=>{if(!s)return"bg-zinc-500/10 text-zinc-400 border-zinc-500/20";const e=h(s),t=["bg-blue-500/10 text-blue-400 border-blue-500/20","bg-purple-500/10 text-purple-400 border-purple-500/20","bg-green-500/10 text-green-400 border-green-500/20","bg-orange-500/10 text-orange-400 border-orange-500/20","bg-pink-500/10 text-pink-400 border-pink-500/20","bg-cyan-500/10 text-cyan-400 border-cyan-500/20","bg-rose-500/10 text-rose-400 border-rose-500/20","bg-violet-500/10 text-violet-400 border-violet-500/20","bg-emerald-500/10 text-emerald-400 border-emerald-500/20","bg-amber-500/10 text-amber-400 border-amber-500/20","bg-fuchsia-500/10 text-fuchsia-400 border-fuchsia-500/20","bg-sky-500/10 text-sky-400 border-sky-500/20"];let n=0;for(let a=0;a<e.length;a++)n=e.charCodeAt(a)+((n<<5)-n);const p=Math.abs(n)%t.length;return t[p]};return(s,e)=>(u(),f(z,null,[o(i(xe),{title:"Project Topics Library"}),r("div",Fe,[e[36]||(e[36]=r("div",{class:"fixed inset-0 z-0 pointer-events-none"},[r("div",{class:"absolute top-[-10%] left-[20%] w-[40rem] h-[40rem] bg-indigo-500/5 blur-[120px] rounded-full mix-blend-screen"}),r("div",{class:"absolute bottom-[-10%] right-[10%] w-[30rem] h-[30rem] bg-blue-500/5 blur-[100px] rounded-full mix-blend-screen"})],-1)),r("nav",Ve,[r("div",Ne,[r("div",Be,[o(i(w),{href:i(g)("home")},{default:c(()=>[o(be,{class:"h-8 md:h-10 w-auto fill-white"})]),_:1},8,["href"])]),r("div",De,[o(i(w),{href:i(g)("home"),class:"hover:text-white transition-colors duration-300"},{default:c(()=>[...e[9]||(e[9]=[d("Home",-1)])]),_:1},8,["href"]),o(i(w),{href:i(g)("project-topics.index"),class:"text-white"},{default:c(()=>[...e[10]||(e[10]=[d("Topic Library",-1)])]),_:1},8,["href"])]),r("div",Re,[S.value?(u(),j(i(w),{key:0,href:i(g)("dashboard"),class:"group relative px-3 md:px-5 py-2 rounded-lg bg-zinc-100 text-zinc-950 text-sm font-semibold hover:bg-white transition-all"},{default:c(()=>[r("span",Oe,[e[11]||(e[11]=d("Dashboard ",-1)),o(i(ee),{class:"w-3.5 h-3.5"})])]),_:1},8,["href"])):(u(),f(z,{key:1},[o(i(w),{href:i(g)("login"),class:"text-sm font-medium text-zinc-400 hover:text-white transition-colors hidden sm:block"},{default:c(()=>[...e[12]||(e[12]=[d(" Log in",-1)])]),_:1},8,["href"]),o(i(w),{href:i(g)("register"),class:"group relative px-5 py-2 rounded-lg bg-zinc-100 text-zinc-950 text-sm font-semibold hover:bg-white transition-all"},{default:c(()=>[r("span",Ue,[e[13]||(e[13]=d("Get Started ",-1)),o(i(ee),{class:"w-3.5 h-3.5"})])]),_:1},8,["href"])],64)),r("button",{onClick:e[0]||(e[0]=t=>L.value=!L.value),class:"md:hidden text-zinc-400 hover:text-white p-2"},[L.value?(u(),j(i(Te),{key:1,class:"w-6 h-6"})):(u(),j(i(ke),{key:0,class:"w-6 h-6"}))])])]),L.value?(u(),f("div",Ee,[o(i(w),{href:i(g)("home"),class:"text-base font-medium text-zinc-400 hover:text-white transition-colors py-2"},{default:c(()=>[...e[14]||(e[14]=[d("Home ",-1)])]),_:1},8,["href"]),o(i(w),{href:i(g)("project-topics.index"),class:"text-base font-medium text-white transition-colors py-2"},{default:c(()=>[...e[15]||(e[15]=[d("Topic Library",-1)])]),_:1},8,["href"]),e[17]||(e[17]=r("div",{class:"h-px bg-white/5 my-2"},null,-1)),S.value?A("",!0):(u(),j(i(w),{key:0,href:i(g)("login"),class:"text-base font-medium text-zinc-400 hover:text-white transition-colors py-2"},{default:c(()=>[...e[16]||(e[16]=[d("Log in ",-1)])]),_:1},8,["href"]))])):A("",!0)]),r("main",He,[r("section",Ke,[r("div",Ge,[r("div",We,[o(i(Ce),{class:"h-8 w-8"})]),e[18]||(e[18]=r("h1",{class:"text-4xl md:text-6xl font-bold tracking-tight text-white mb-6"},[d(" Find your next "),r("span",{class:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-cyan-400"},"breakthrough.")],-1)),e[19]||(e[19]=r("p",{class:"text-lg md:text-xl text-zinc-400 max-w-2xl mx-auto leading-relaxed"}," Explore thousands of vetted project topics across every faculty. Found something you like? Start your project instantly. ",-1))])]),r("div",Ie,[o(i(he),{class:"border-white/10 bg-zinc-900/50 backdrop-blur-md mb-12"},{default:c(()=>[o(i(ge),{class:"p-6"},{default:c(()=>[r("div",Xe,[r("div",qe,[r("label",Je,[o(i(te),{class:"h-3.5 w-3.5"}),e[20]||(e[20]=d(" Search topics ",-1))]),o(i(ve),{modelValue:l.search,"onUpdate:modelValue":e[1]||(e[1]=t=>l.search=t),placeholder:"Search by title, keywords, field...",class:"bg-zinc-950/50 border-white/10 text-zinc-200 placeholder:text-zinc-600 focus-visible:ring-indigo-500/50"},null,8,["modelValue"])]),r("div",Qe,[r("div",null,[r("label",Ye,[o(i($e),{class:"h-3.5 w-3.5"}),e[21]||(e[21]=d(" Difficulty ",-1))]),O(r("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.difficulty=t),class:"w-full rounded-md border border-white/10 bg-zinc-950/50 px-3 py-2 text-sm text-zinc-300 focus:ring-1 focus:ring-indigo-500/50 focus:border-indigo-500/50"},[e[22]||(e[22]=r("option",{value:""},"All Levels",-1)),(u(!0),f(z,null,$(B.value.difficulties,t=>(u(),f("option",{key:t,value:t},x(t),9,Ze))),128))],512),[[U,l.difficulty]])]),r("div",null,[r("label",et,[o(i(Se),{class:"h-3.5 w-3.5"}),e[23]||(e[23]=d(" Timeline ",-1))]),O(r("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.timeline=t),class:"w-full rounded-md border border-white/10 bg-zinc-950/50 px-3 py-2 text-sm text-zinc-300 focus:ring-1 focus:ring-indigo-500/50 focus:border-indigo-500/50"},[e[24]||(e[24]=r("option",{value:""},"All Timelines",-1)),(u(!0),f(z,null,$(B.value.timelines,t=>(u(),f("option",{key:t,value:t},x(t),9,tt))),128))],512),[[U,l.timeline]])]),r("div",null,[r("label",rt,[o(i(Le),{class:"h-3.5 w-3.5"}),e[25]||(e[25]=d(" Research Type ",-1))]),O(r("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.researchType=t),class:"w-full rounded-md border border-white/10 bg-zinc-950/50 px-3 py-2 text-sm text-zinc-300 focus:ring-1 focus:ring-indigo-500/50 focus:border-indigo-500/50"},[e[26]||(e[26]=r("option",{value:""},"All Types",-1)),(u(!0),f(z,null,$(B.value.researchTypes,t=>(u(),f("option",{key:t,value:t},x(t),9,st))),128))],512),[[U,l.researchType]])])]),l.search||l.difficulty||l.timeline||l.researchType?(u(),j(i(C),{key:0,variant:"ghost",size:"sm",onClick:I,class:"text-zinc-400 hover:text-white hover:bg-white/5"},{default:c(()=>[...e[27]||(e[27]=[d(" Clear filters ",-1)])]),_:1})):A("",!0)])]),_:1})]),_:1}),r("div",it,[o(i(we),{class:"w-full whitespace-nowrap pb-4"},{default:c(()=>[r("div",ot,[r("button",{onClick:e[5]||(e[5]=t=>v.value=""),class:T(["flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 border",v.value?"bg-transparent text-zinc-500 border-white/5 hover:bg-white/5 hover:text-zinc-300":"bg-indigo-500/10 text-indigo-400 border-indigo-500/20 shadow-[0_0_15px_-3px_rgba(99,102,241,0.2)]"])},[o(i(_e),{class:"h-4 w-4"}),e[28]||(e[28]=d(" All Topics ",-1)),r("span",{class:T(["ml-1.5 inline-flex items-center justify-center rounded-md bg-white/5 px-1.5 h-5 text-xs font-normal",v.value?"text-zinc-500":"text-indigo-300"])},x(M.value.length),3)],2),(u(!0),f(z,null,$(F.faculties,t=>(u(),f("button",{key:t.id,onClick:n=>v.value=t.name,class:T(["flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 border",v.value===t.name?"bg-indigo-500/10 text-indigo-400 border-indigo-500/20 shadow-[0_0_15px_-3px_rgba(99,102,241,0.2)]":"bg-transparent text-zinc-500 border-white/5 hover:bg-white/5 hover:text-zinc-300"])},[o(i(je),{class:"h-4 w-4"}),d(" "+x(t.name)+" ",1),r("span",{class:T(["ml-1.5 inline-flex items-center justify-center rounded-md bg-white/5 px-1.5 h-5 text-xs font-normal",v.value===t.name?"text-indigo-300":"text-zinc-500"])},x(M.value.filter(n=>G(n,t.name)).length),3)],10,nt))),128))]),o(i(ye),{orientation:"horizontal",class:"bg-white/5"})]),_:1})]),r("div",null,[R.value.length===0?(u(),f("div",lt,[r("div",at,[o(i(te),{class:"h-8 w-8 text-zinc-500"})]),e[30]||(e[30]=r("h3",{class:"font-medium text-xl text-zinc-300 mb-2"},"No topics found",-1)),e[31]||(e[31]=r("p",{class:"text-zinc-500 max-w-sm mx-auto mb-8"}," We couldn't find any topics matching your current filters. Try broadening your search. ",-1)),o(i(C),{variant:"outline",onClick:I,class:"border-white/10 bg-transparent text-white hover:bg-white/5"},{default:c(()=>[...e[29]||(e[29]=[d(" Clear Filters ",-1)])]),_:1})])):(u(),f("div",dt,[(u(!0),f(z,null,$(ae.value,t=>(u(),f("div",{key:t.id,class:"group flex flex-col rounded-2xl border border-white/5 bg-zinc-900/40 backdrop-blur-sm p-6 transition-all duration-300 hover:bg-zinc-900/60 hover:shadow-2xl hover:shadow-indigo-500/10 hover:border-indigo-500/20 hover:-translate-y-1 relative overflow-hidden cursor-pointer",role:"button",tabindex:"0",onClick:n=>N(t),onKeydown:[Q(E(n=>N(t),["prevent"]),["enter"]),Q(E(n=>N(t),["prevent"]),["space"])]},[r("div",{class:T(["absolute top-0 right-0 px-4 py-1.5 text-[10px] uppercase tracking-wider font-semibold rounded-bl-xl border-l border-b",ue(t.faculty||t.field_of_study)])},x(t.faculty||t.field_of_study||"General"),3),r("div",ct,[r("div",mt,[o(i(Y),{class:T([de(t.difficulty),"rounded-md border-transparent ring-1 ring-inset ring-transparent"]),variant:"outline"},{default:c(()=>[d(x(t.difficulty||"Intermediate"),1)]),_:2},1032,["class"]),o(i(Y),{variant:"secondary",class:"bg-zinc-800/50 text-zinc-400 border-transparent rounded-md"},{default:c(()=>[d(x(t.timeline||"6-9 months"),1)]),_:2},1024)]),o(Z,{content:t.title,as:"h3",class:"font-bold text-xl text-zinc-100 leading-snug group-hover:text-indigo-400 transition-colors line-clamp-2 mb-3"},null,8,["content"])]),r("div",ft,[o(Z,{content:t.description,as:"p",class:"text-sm text-zinc-400 leading-relaxed line-clamp-4"},null,8,["content"]),e[32]||(e[32]=r("div",{class:"absolute bottom-0 left-0 right-0 h-8 bg-gradient-to-t from-zinc-900/40 to-transparent pointer-events-none"},null,-1))]),r("div",pt,[r("div",xt,[o(i(Ae),{class:"h-3.5 w-3.5"}),r("span",null,x(t.research_type||"Research"),1)]),o(i(C),{onClick:E(X,["stop"]),size:"sm",class:"bg-indigo-600 hover:bg-indigo-500 text-white border-0 shadow-lg shadow-indigo-500/20 rounded-lg text-xs font-semibold px-4 h-9"},{default:c(()=>[...e[33]||(e[33]=[d(" Start Project ",-1)])]),_:1})])],40,ut))),128))])),P.value>1?(u(),f("div",bt,[o(i(C),{variant:"outline",size:"sm",disabled:y.value===1,onClick:e[6]||(e[6]=t=>W(y.value-1)),class:"gap-1 px-4 border-white/10 bg-transparent text-zinc-400 hover:text-white hover:bg-white/5"},{default:c(()=>[o(i(Me),{class:"h-4 w-4"}),e[34]||(e[34]=d(" Previous ",-1))]),_:1},8,["disabled"]),r("div",gt,[r("span",ht,"Page "+x(y.value)+" of "+x(P.value),1)]),o(i(C),{variant:"outline",size:"sm",disabled:y.value===P.value,onClick:e[7]||(e[7]=t=>W(y.value+1)),class:"gap-1 px-4 border-white/10 bg-transparent text-zinc-400 hover:text-white hover:bg-white/5"},{default:c(()=>[e[35]||(e[35]=d(" Next ",-1)),o(i(Pe),{class:"h-4 w-4"})]),_:1},8,["disabled"])])):A("",!0)])])])]),o(ze,{open:V.value,"onUpdate:open":e[8]||(e[8]=t=>V.value=t),topic:K.value,"title-label":"Topic Details"},{footer:c(()=>[o(i(C),{type:"button",class:"bg-indigo-600 hover:bg-indigo-500 text-white border-0",onClick:X},{default:c(()=>[...e[37]||(e[37]=[d(" Start Project ",-1)])]),_:1})]),_:1},8,["open","topic"])],64))}});export{It as default};
