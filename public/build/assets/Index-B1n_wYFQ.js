import{d as F,P as z,g as U,o as p,w as r,e as t,u as e,b as a,c1 as G,h as l,aq as M,bo as W,q as K,aw as g,bG as H,s as J,l as C,r as O,ax as Q,c2 as R,a as c,aW as X,t as m,bk as Y,p as Z,aD as ee,c as _,a1 as se}from"./vendor-H8yUxHVJ.js";import{s as h}from"./useAppearance-DRazjLJ1.js";import{_ as te}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CCjfYqFc.js";import{_ as oe}from"./DataTable.vue_vue_type_script_setup_true_lang-CRoS6mHF.js";import{_ as re}from"./index-CiWGHnJL.js";import{_ as P}from"./Switch.vue_vue_type_script_setup_true_lang-DCko7Dmp.js";import{_ as $}from"./index-CwD5qkLf.js";import{a as le,b as ae,e as ie,c as L,f as ne,_ as de}from"./Sonner.vue_vue_type_script_setup_true_lang-a4iHnNww.js";import{_ as S,a as N}from"./CardContent.vue_vue_type_script_setup_true_lang-DTkdfvuV.js";import{_ as ue}from"./CardDescription.vue_vue_type_script_setup_true_lang-BbSl0Z72.js";import{_ as A,a as E}from"./CardTitle.vue_vue_type_script_setup_true_lang-B5y-_hAe.js";import{_ as y}from"./Input.vue_vue_type_script_setup_true_lang-DRx-Lc7N.js";import{_ as v}from"./Label.vue_vue_type_script_setup_true_lang-PAGjh1rG.js";import{_ as me}from"./Textarea.vue_vue_type_script_setup_true_lang-DS0pc_gN.js";import{_ as pe,a as fe}from"./index-DHzEmSrj.js";import{_ as ce}from"./AlertTitle.vue_vue_type_script_setup_true_lang-C9ZZR0lx.js";import{_ as _e,a as ve}from"./DialogContent.vue_vue_type_script_setup_true_lang-Dw7gJkgN.js";import{_ as ge}from"./DialogDescription.vue_vue_type_script_setup_true_lang-nvWA5ydV.js";import{_ as ye,a as xe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-Biexvk_x.js";import{_ as be,a as Ve,b as $e,c as we,d as k}from"./SelectValue.vue_vue_type_script_setup_true_lang-9plmDTMM.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-B2g6QnB0.js";import"./Presence-Cn1h4MwK.js";import"./useForwardExpose-CEOuSuYA.js";import"./index-CZRrGrlM.js";import"./DialogTitle-FvR-dACM.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-ev0g6x5g.js";import"./VisuallyHidden-BvUOvbOk.js";import"./index-JqClP2ZZ.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-BhA0_Tu7.js";import"./useFormControl-BAvnyqrf.js";import"./VisuallyHiddenInput-Bdtjo0T1.js";import"./useNonce-DREsFUzM.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./nullish-CHIgUVhi.js";const ke=F({__name:"UniversityActions",props:{university:{}},setup(n){const f=n,V=z("onEditUniversity"),x=()=>{confirm(`Delete ${f.university.name}?`)&&K.delete(h("admin.system.universities.destroy",{university:f.university.id}),{preserveScroll:!0})};return(j,u)=>(p(),U(e(de),null,{default:r(()=>[t(e(le),{"as-child":""},{default:r(()=>[t(e($),{variant:"ghost",class:"h-8 w-8 p-0"},{default:r(()=>[u[1]||(u[1]=a("span",{class:"sr-only"},"Open menu",-1)),t(e(G),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(ae),{align:"end"},{default:r(()=>[t(e(ie),null,{default:r(()=>[...u[2]||(u[2]=[l("Actions",-1)])]),_:1}),t(e(L),{onClick:u[0]||(u[0]=b=>e(V)?.(f.university))},{default:r(()=>[t(e(M),{class:"mr-2 h-4 w-4"}),u[3]||(u[3]=l(" Edit ",-1))]),_:1}),t(e(ne)),t(e(L),{onClick:x,class:"text-rose-600 focus:text-rose-600 focus:bg-rose-50"},{default:r(()=>[t(e(W),{class:"mr-2 h-4 w-4"}),u[4]||(u[4]=l(" Delete ",-1))]),_:1})]),_:1})]),_:1}))}}),Ue=(n,f)=>{K.put(h("admin.system.universities.toggle-active",{university:n.id}),{is_active:f},{preserveScroll:!0})},he=[{accessorKey:"name",header:({column:n})=>g($,{variant:"ghost",class:"-ml-2 text-xs hover:bg-muted/50",onClick:()=>n.toggleSorting(n.getIsSorted()==="asc")},()=>["Name",g(H,{class:"ml-2 h-3 w-3"})]),cell:({row:n})=>{const f=n.getValue("name"),V=n.original.short_name,x=n.original.slug;return g("div",{class:"flex flex-col"},[g("span",{class:"font-medium"},f),g("span",{class:"text-xs text-muted-foreground"},V?`${V} · ${x}`:x)])}},{accessorKey:"type",header:"Type",cell:({row:n})=>{const f=n.getValue("type");return g(re,{variant:"outline",class:"capitalize"},()=>f)}},{accessorKey:"state",header:"State",cell:({row:n})=>n.getValue("state")||"—"},{accessorKey:"sort_order",header:"Order",cell:({row:n})=>n.getValue("sort_order")},{accessorKey:"is_active",header:"Active",cell:({row:n})=>g(P,{checked:n.original.is_active,"onUpdate:checked":f=>Ue(n.original,f)})},{id:"actions",cell:({row:n})=>g(ke,{university:n.original})}],Ce={class:"grid gap-4 md:grid-cols-2 mb-6"},Se={class:"text-2xl font-bold"},Ne={class:"text-2xl font-bold"},Ae={class:"grid gap-4 py-4"},Ee={class:"grid gap-4 md:grid-cols-2"},je={class:"space-y-1"},Be={key:0,class:"text-xs text-rose-500"},De={class:"space-y-1"},Oe={key:0,class:"text-xs text-rose-500"},Le={class:"grid gap-4 md:grid-cols-2"},Fe={class:"space-y-1"},Ke={key:0,class:"text-xs text-rose-500"},Pe={class:"space-y-1"},Te={key:0,class:"text-xs text-rose-500"},Ie={class:"grid gap-4 md:grid-cols-2"},qe={class:"space-y-1"},ze={key:0,class:"text-xs text-rose-500"},Ge={class:"space-y-1"},Me={key:0,class:"text-xs text-rose-500"},We={class:"grid gap-4 md:grid-cols-2"},He={class:"space-y-1"},Je={key:0,class:"text-xs text-rose-500"},Qe={class:"space-y-1"},Re={key:0,class:"text-xs text-rose-500"},Xe={class:"space-y-1"},Ye={key:0,class:"text-xs text-rose-500"},Ze={class:"grid gap-4 md:grid-cols-2"},es={class:"space-y-1"},ss={key:0,class:"text-xs text-rose-500"},ts={class:"flex items-center justify-between rounded-md border border-border/70 bg-muted/30 px-3 py-2 text-sm"},os={class:"flex justify-end gap-2"},Ks=F({__name:"Index",props:{universities:{},stats:{}},setup(n){const f=n,V=J(),x=C(()=>V.props.flash),j=C(()=>f.universities??[]),u=O(null),b=O(!1),B=()=>({name:"",short_name:"",slug:"",type:"federal",location:"",state:"",country:"Nigeria",website:"",description:"",sort_order:0,is_active:!0}),o=Q({...B()}),w=C(()=>u.value!==null),D=()=>{u.value=null,o.clearErrors(),Object.assign(o,B())},T=()=>{D(),b.value=!0},I=d=>{u.value=d.id,o.clearErrors(),o.name=d.name??"",o.short_name=d.short_name??"",o.slug=d.slug??"",o.type=d.type??"federal",o.location=d.location??"",o.state=d.state??"",o.country=d.country??"Nigeria",o.website=d.website??"",o.description=d.description??"",o.sort_order=Number(d.sort_order??0),o.is_active=!!d.is_active,b.value=!0},q=()=>{const d={preserveScroll:!0,onSuccess:()=>{b.value=!1,D()}};if(w.value&&u.value!==null){o.put(h("admin.system.universities.update",{university:u.value}),d);return}o.post(h("admin.system.universities.store"),d)};return R("onEditUniversity",I),(d,s)=>(p(),U(te,{title:"Universities",subtitle:"Manage universities available for project setup."},{default:r(()=>[a("div",Ce,[t(e(S),{class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:r(()=>[t(e(A),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:r(()=>[t(e(E),{class:"text-sm font-medium text-muted-foreground"},{default:r(()=>[...s[13]||(s[13]=[l("Total Universities",-1)])]),_:1}),t(e(X),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),t(e(N),null,{default:r(()=>[a("div",Se,m(d.stats.total),1)]),_:1})]),_:1}),t(e(S),{class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:r(()=>[t(e(A),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:r(()=>[t(e(E),{class:"text-sm font-medium text-muted-foreground"},{default:r(()=>[...s[14]||(s[14]=[l("Active",-1)])]),_:1}),t(e(Y),{class:"h-4 w-4 text-emerald-500"})]),_:1}),t(e(N),null,{default:r(()=>[a("div",Ne,m(d.stats.active),1)]),_:1})]),_:1})]),x.value?.success?(p(),U(e(pe),{key:0,class:"mb-6 border border-emerald-500/40 bg-emerald-500/10"},{default:r(()=>[t(e(Z),{class:"h-4 w-4 text-emerald-500"}),t(e(ce),null,{default:r(()=>[...s[15]||(s[15]=[l("Updated",-1)])]),_:1}),t(e(fe),null,{default:r(()=>[l(m(x.value.success),1)]),_:1})]),_:1})):c("",!0),t(e(S),{class:"border border-border/50 bg-card shadow-sm"},{default:r(()=>[t(e(A),{class:"flex flex-row items-center justify-between pb-3"},{default:r(()=>[a("div",null,[t(e(E),{class:"text-base font-semibold text-foreground"},{default:r(()=>[...s[16]||(s[16]=[l("Universities",-1)])]),_:1}),t(e(ue),null,{default:r(()=>[...s[17]||(s[17]=[l("Control what appears in the institution wizard.",-1)])]),_:1})]),t(e($),{size:"sm",onClick:T},{default:r(()=>[t(e(ee),{class:"mr-2 h-4 w-4"}),s[18]||(s[18]=l(" Add University ",-1))]),_:1})]),_:1}),t(e(N),null,{default:r(()=>[t(oe,{columns:e(he),data:j.value,"search-key":"name","search-placeholder":"Filter universities..."},null,8,["columns","data"])]),_:1})]),_:1}),t(e(_e),{open:b.value,"onUpdate:open":s[12]||(s[12]=i=>b.value=i)},{default:r(()=>[t(e(ve),{class:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto"},{default:r(()=>[t(e(ye),null,{default:r(()=>[t(e(xe),null,{default:r(()=>[l(m(w.value?"Edit university":"Create university"),1)]),_:1}),t(e(ge),null,{default:r(()=>[l(m(w.value?"Update university details.":"Add a new university to the catalog."),1)]),_:1})]),_:1}),a("div",Ae,[a("div",Ee,[a("div",je,[t(e(v),null,{default:r(()=>[...s[19]||(s[19]=[l("Name",-1)])]),_:1}),t(e(y),{modelValue:e(o).name,"onUpdate:modelValue":s[0]||(s[0]=i=>e(o).name=i),placeholder:"University of Lagos"},null,8,["modelValue"]),e(o).errors.name?(p(),_("p",Be,m(e(o).errors.name),1)):c("",!0)]),a("div",De,[t(e(v),null,{default:r(()=>[...s[20]||(s[20]=[l("Short Name",-1)])]),_:1}),t(e(y),{modelValue:e(o).short_name,"onUpdate:modelValue":s[1]||(s[1]=i=>e(o).short_name=i),placeholder:"UNILAG"},null,8,["modelValue"]),e(o).errors.short_name?(p(),_("p",Oe,m(e(o).errors.short_name),1)):c("",!0)])]),a("div",Le,[a("div",Fe,[t(e(v),null,{default:r(()=>[...s[21]||(s[21]=[l("Slug",-1)])]),_:1}),t(e(y),{modelValue:e(o).slug,"onUpdate:modelValue":s[2]||(s[2]=i=>e(o).slug=i),placeholder:"unilag"},null,8,["modelValue"]),e(o).errors.slug?(p(),_("p",Ke,m(e(o).errors.slug),1)):c("",!0)]),a("div",Pe,[t(e(v),null,{default:r(()=>[...s[22]||(s[22]=[l("Type",-1)])]),_:1}),t(e(be),{modelValue:e(o).type,"onUpdate:modelValue":s[3]||(s[3]=i=>e(o).type=i)},{default:r(()=>[t(e(Ve),null,{default:r(()=>[t(e($e),{placeholder:"Select type"})]),_:1}),t(e(we),null,{default:r(()=>[t(e(k),{value:"federal"},{default:r(()=>[...s[23]||(s[23]=[l("Federal",-1)])]),_:1}),t(e(k),{value:"state"},{default:r(()=>[...s[24]||(s[24]=[l("State",-1)])]),_:1}),t(e(k),{value:"private"},{default:r(()=>[...s[25]||(s[25]=[l("Private",-1)])]),_:1}),t(e(k),{value:"other"},{default:r(()=>[...s[26]||(s[26]=[l("Other",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(o).errors.type?(p(),_("p",Te,m(e(o).errors.type),1)):c("",!0)])]),a("div",Ie,[a("div",qe,[t(e(v),null,{default:r(()=>[...s[27]||(s[27]=[l("Location",-1)])]),_:1}),t(e(y),{modelValue:e(o).location,"onUpdate:modelValue":s[4]||(s[4]=i=>e(o).location=i),placeholder:"Akoka, Lagos"},null,8,["modelValue"]),e(o).errors.location?(p(),_("p",ze,m(e(o).errors.location),1)):c("",!0)]),a("div",Ge,[t(e(v),null,{default:r(()=>[...s[28]||(s[28]=[l("State",-1)])]),_:1}),t(e(y),{modelValue:e(o).state,"onUpdate:modelValue":s[5]||(s[5]=i=>e(o).state=i),placeholder:"Lagos"},null,8,["modelValue"]),e(o).errors.state?(p(),_("p",Me,m(e(o).errors.state),1)):c("",!0)])]),a("div",We,[a("div",He,[t(e(v),null,{default:r(()=>[...s[29]||(s[29]=[l("Country",-1)])]),_:1}),t(e(y),{modelValue:e(o).country,"onUpdate:modelValue":s[6]||(s[6]=i=>e(o).country=i),placeholder:"Nigeria"},null,8,["modelValue"]),e(o).errors.country?(p(),_("p",Je,m(e(o).errors.country),1)):c("",!0)]),a("div",Qe,[t(e(v),null,{default:r(()=>[...s[30]||(s[30]=[l("Website",-1)])]),_:1}),t(e(y),{modelValue:e(o).website,"onUpdate:modelValue":s[7]||(s[7]=i=>e(o).website=i),placeholder:"https://unilag.edu.ng"},null,8,["modelValue"]),e(o).errors.website?(p(),_("p",Re,m(e(o).errors.website),1)):c("",!0)])]),a("div",Xe,[t(e(v),null,{default:r(()=>[...s[31]||(s[31]=[l("Description",-1)])]),_:1}),t(e(me),{modelValue:e(o).description,"onUpdate:modelValue":s[8]||(s[8]=i=>e(o).description=i),rows:"3",placeholder:"Optional description..."},null,8,["modelValue"]),e(o).errors.description?(p(),_("p",Ye,m(e(o).errors.description),1)):c("",!0)]),a("div",Ze,[a("div",es,[t(e(v),null,{default:r(()=>[...s[32]||(s[32]=[l("Sort Order",-1)])]),_:1}),t(e(y),{modelValue:e(o).sort_order,"onUpdate:modelValue":s[9]||(s[9]=i=>e(o).sort_order=i),type:"number",min:"0"},null,8,["modelValue"]),e(o).errors.sort_order?(p(),_("p",ss,m(e(o).errors.sort_order),1)):c("",!0)]),a("label",ts,[s[33]||(s[33]=a("span",{class:"text-foreground"},"Active",-1)),t(e(P),{checked:e(o).is_active,"onUpdate:checked":s[10]||(s[10]=i=>e(o).is_active=i)},null,8,["checked"])])])]),a("div",os,[t(e($),{variant:"ghost",onClick:s[11]||(s[11]=i=>b.value=!1)},{default:r(()=>[...s[34]||(s[34]=[l("Cancel",-1)])]),_:1}),t(e($),{disabled:e(o).processing,onClick:q},{default:r(()=>[e(o).processing?(p(),U(e(se),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):c("",!0),a("span",null,m(w.value?"Update university":"Add university"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["open"])]),_:1}))}});export{Ks as default};
