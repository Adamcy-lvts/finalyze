import{bt as qe,ch as He,bs as _,ci as be,ck as G,bA as he,cn as m,co as u,cp as l,cr as t,cq as r,bE as s,gT as J,cC as $,ce as w,cl as y,h4 as k,d6 as Ye,cs as i,ct as p,cu as f,dK as Z,cB as b,cS as R,df as X,cG as h,im as Ke,dj as N,dH as ee,h1 as xe,cL as D,d2 as q,e1 as Qe,eH as te,cD as we,cw as ye,io as _e,dg as se,fu as ke,cU as Je,cj as E,dc as Ze}from"./vendor-DwcF3VNb.js";import{_ as I}from"./index-BU6y8D-V.js";import{_ as v}from"./index-BpTO5Kag.js";import{_ as H,a as Y}from"./CardContent.vue_vue_type_script_setup_true_lang-ByVWGonT.js";import{_ as re}from"./CardDescription.vue_vue_type_script_setup_true_lang-DCwZv7vk.js";import{_ as oe,a as ae}from"./CardTitle.vue_vue_type_script_setup_true_lang-CANz9L_6.js";import{_ as le,a as ne}from"./DialogContent.vue_vue_type_script_setup_true_lang-DTGeh0zi.js";import{_ as Xe}from"./DialogDescription.vue_vue_type_script_setup_true_lang-DJcKnsJu.js";import{_ as et}from"./DialogFooter.vue_vue_type_script_setup_true_lang-gNJW6pFS.js";import{_ as tt,a as st}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CCtpPhJI.js";import{_ as rt,a as ot,b as ie,c as de}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-DFZlebMN.js";import{a as at}from"./AppLayout.vue_vue_type_script_setup_true_lang-CCpNTTCf.js";import{_ as lt}from"./SafeHtmlText.vue_vue_type_script_setup_true_lang-DJ28d1YY.js";import{_ as nt}from"./PurchaseModal.vue_vue_type_script_setup_true_lang-C8LRBLjI.js";import{u as it}from"./useWordBalance-BbO0T_xW.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-CpzsT-yS.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-C_drGNy-.js";import"./Sonner.vue_vue_type_script_setup_true_lang-kLZ_SglN.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-CmpajE6J.js";import"./WordBalanceDisplay.vue_vue_type_script_setup_true_lang-I6wEMTX2.js";import"./useAppearance-Cb8BgOEx.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PWAInstallPrompt.vue_vue_type_script_setup_true_lang-BLWBGKbF.js";const dt={class:"mx-auto max-w-7xl space-y-8 p-6"},ut={class:"flex items-center justify-between"},ct={class:"flex items-center gap-2"},pt={class:"relative overflow-hidden rounded-3xl border border-border/50 bg-gradient-to-b from-background to-muted/20 p-6 md:p-12"},gt={class:"relative z-10 flex flex-col items-center text-center space-y-6"},mt={class:"flex flex-wrap items-center justify-center gap-3"},ft={id:"mode-switcher",class:"flex items-center gap-1 sm:gap-2 rounded-full border border-border/50 bg-background/50 p-1 sm:p-1.5 shadow-sm backdrop-blur-sm"},vt=["onClick"],bt={class:"grid gap-8 lg:grid-cols-3"},ht={class:"space-y-8 lg:col-span-2 order-2 lg:order-1"},xt={key:0,id:"continue-writing-card",class:"group relative overflow-hidden rounded-2xl border border-border/50 bg-gradient-to-br from-amber-50/50 to-orange-50/50 p-6 dark:from-amber-950/10 dark:to-orange-950/10 transition-all hover:shadow-md"},wt={class:"flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between"},yt={class:"space-y-2"},_t={class:"flex items-center gap-2 text-amber-600 dark:text-amber-500"},kt={class:"text-xl font-semibold tracking-tight"},Ct={class:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground"},jt={class:"flex items-center gap-1.5"},At={class:"flex items-center gap-1.5"},Tt={id:"action-cards",class:"space-y-4"},Mt=["disabled"],$t={class:"relative z-10 flex-1 space-y-2"},Gt={class:"flex items-center gap-2.5 mb-1"},It={class:"flex items-center justify-center rounded-md bg-indigo-100/50 p-1.5 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400"},St={class:"relative z-10 hidden sm:flex items-center justify-center pl-4"},zt={class:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},Et=["disabled"],Lt={class:"rounded-full bg-green-100 p-2.5 text-green-600 dark:bg-green-900/20 dark:text-green-400"},Pt={class:"flex-1"},Wt={class:"text-xs text-muted-foreground mt-1"},Rt={class:"mt-auto flex items-center text-xs font-medium text-primary opacity-0 transition-opacity group-hover:opacity-100"},Dt={class:"rounded-full bg-amber-100 p-2.5 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400"},Ut={class:"flex-1"},Ot={class:"flex items-center gap-2"},Bt={class:"mt-auto flex items-center text-xs font-medium text-amber-600 opacity-0 transition-opacity group-hover:opacity-100"},Ft=["disabled"],Nt={class:"rounded-full bg-purple-100 p-2.5 text-purple-600 dark:bg-purple-900/20 dark:text-purple-400"},Vt={class:"flex-1"},qt={class:"text-xs text-muted-foreground mt-1"},Ht={class:"mt-auto flex items-center text-xs font-medium text-purple-600 opacity-0 transition-opacity group-hover:opacity-100"},Yt={key:1,class:"flex flex-col items-start justify-center gap-4 rounded-2xl border border-border/50 bg-muted/30 p-5 text-left h-full min-h-[140px]"},Kt={class:"flex items-center gap-3"},Qt={class:"rounded-full bg-gray-100 p-2 text-gray-600 dark:bg-gray-800 dark:text-gray-400"},Jt={class:"grid gap-4"},Zt={class:"flex items-start justify-between"},Xt={class:"flex flex-wrap items-center justify-between gap-y-2"},es={class:"text-sm text-muted-foreground"},ts={class:"flex gap-2"},ss={key:0,class:"rounded-xl border-2 border-dashed border-border/50 bg-muted/10 py-12 text-center"},rs={class:"mb-4 text-sm text-muted-foreground"},os={class:"flex items-center gap-4"},as={class:"p-3 rounded-xl bg-gradient-to-br from-yellow-500/20 to-orange-500/20 ring-1 ring-yellow-500/30"},ls={class:"space-y-1"},ns={class:"space-y-6"},is={class:"grid gap-6 md:grid-cols-2"},ds={class:"flex items-start justify-between"},us={class:"p-3 rounded-2xl bg-blue-100/80 text-blue-600 dark:bg-blue-900/40 dark:text-blue-400 transition-colors group-hover:bg-blue-100 dark:group-hover:bg-blue-900/60"},cs={class:"relative flex h-5 w-5 items-center justify-center"},ps={key:0,class:"absolute -right-12 -top-12 h-32 w-32 rounded-full bg-gradient-to-br from-blue-500/20 to-indigo-500/20 blur-2xl"},gs={class:"flex items-start justify-between relative z-10"},ms={class:"p-3 rounded-2xl bg-indigo-100/80 text-indigo-600 dark:bg-indigo-900/40 dark:text-indigo-400 transition-colors group-hover:bg-indigo-100 dark:group-hover:bg-indigo-900/60"},fs={class:"relative flex h-5 w-5 items-center justify-center"},vs={class:"relative z-10"},bs={class:"flex items-center gap-2 mb-1"},hs={class:"pt-4"},xs={key:0,class:"space-y-4"},ws={class:"text-sm text-center text-muted-foreground"},ys={key:0,class:"flex items-center justify-center gap-2"},_s={class:"font-mono font-bold text-foreground"},ks={key:1,class:"text-amber-600 flex items-center justify-center gap-2"},Cs={key:1,class:"space-y-4"},js={class:"text-sm text-center text-muted-foreground flex items-center justify-center gap-2"},As={class:"rounded-2xl border border-blue-200/50 bg-gradient-to-br from-blue-50 to-indigo-50/50 p-6 dark:from-blue-950/20 dark:to-indigo-950/20 dark:border-blue-800/30"},Ts={class:"flex gap-4"},Ms={class:"p-2 rounded-lg bg-blue-100 text-blue-600 dark:bg-blue-900/40 dark:text-blue-400 h-fit"},$s={class:"flex flex-col sm:flex-row gap-3"},Gs={class:"text-xs text-muted-foreground text-center"},Is={class:"space-y-3"},Ss={class:"grid gap-3"},zs={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Es={class:"flex-1"},Ls={class:"font-medium group-hover:text-primary transition-colors"},Ps={class:"text-xs text-muted-foreground"},Ws={class:"mt-2"},Rs={class:"ml-2 text-xs text-muted-foreground"},Ds={class:"flex gap-2"},Us={class:"space-y-8 lg:col-span-1 order-1 lg:order-2"},Os={id:"progress-overview",class:"rounded-3xl border border-border/50 bg-card p-6 shadow-sm dark:bg-card/50"},Bs={class:"mb-6 flex items-center gap-2 font-semibold"},Fs={class:"relative mx-auto mb-8 flex h-40 w-40 items-center justify-center"},Ns={class:"h-full w-full -rotate-90 transform",viewBox:"0 0 100 100"},Vs=["stroke-dashoffset"],qs={class:"absolute inset-0 flex flex-col items-center justify-center text-center"},Hs={class:"text-3xl font-bold"},Ys={class:"space-y-4"},Ks={class:"flex items-center justify-between rounded-lg bg-muted/50 p-3"},Qs={class:"font-mono font-semibold"},Js={class:"flex items-center justify-between rounded-lg bg-muted/50 p-3"},Zs={class:"font-mono font-semibold"},Xs={class:"absolute bottom-6 left-6 flex items-center gap-3"},er={class:"text-lg font-semibold tracking-tight text-foreground"},tr={class:"p-6 space-y-6"},sr={class:"flex gap-3"},rr={class:"space-y-1"},or={class:"space-y-3"},ar={class:"grid gap-2"},lr={class:"flex items-center gap-3 rounded-lg bg-secondary/30 p-2.5 text-sm"},nr={class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-blue-100 text-blue-600 dark:bg-blue-900/40 dark:text-blue-400"},ir={class:"flex items-center gap-3 rounded-lg bg-secondary/30 p-2.5 text-sm"},dr={class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-green-100 text-green-600 dark:bg-green-900/40 dark:text-green-400"},ur={class:"flex items-center gap-3 rounded-lg bg-secondary/30 p-2.5 text-sm"},cr={class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-zinc-100 text-zinc-600 dark:bg-zinc-800 dark:text-zinc-400"},pr={class:"flex items-center gap-3 rounded-lg bg-secondary/30 p-2.5 text-sm"},gr={class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-green-100 text-green-600 dark:bg-green-900/40 dark:text-green-400"},mr={class:"border-t border-border/40 bg-muted/20 p-6 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end"},fr={class:"relative w-full overflow-hidden bg-gradient-to-br from-indigo-500 via-blue-600 to-indigo-700 p-6 sm:p-8"},vr={class:"relative z-10 flex flex-col gap-2"},br={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 border border-white/20 shadow-lg backdrop-blur-md mb-2"},hr={class:"p-6 space-y-6"},xr={class:"space-y-3"},wr={class:"flex items-center gap-3 p-2 rounded-lg bg-secondary/30 border border-border/50"},yr={class:"h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400 flex items-center justify-center shrink-0"},_r={class:"flex items-center gap-3 p-2 rounded-lg bg-secondary/30 border border-border/50"},kr={class:"h-8 w-8 rounded-full bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400 flex items-center justify-center shrink-0"},Cr={class:"flex items-center gap-3 p-2 rounded-lg bg-secondary/30 border border-border/50"},jr={class:"h-8 w-8 rounded-full bg-cyan-100 text-cyan-600 dark:bg-cyan-900/30 dark:text-cyan-400 flex items-center justify-center shrink-0"},Ar={class:"flex items-center gap-2 text-xs text-muted-foreground justify-center"},Tr={class:"border-t border-border/40 bg-muted/30 p-4 sm:p-6 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end"},Mr={class:"rounded-xl bg-orange-50 p-4 border border-orange-200"},$r={class:"flex items-start gap-3"},Xr=qe({__name:"Writing",props:{project:{},targetWordCount:{},estimatedChapters:{}},setup(Ce){const d=Ce,ue=He(),L=_("overview"),T=_(!1),x=_("progressive"),S=_(!1),c=_(d.project.mode);be(()=>d.project.mode,a=>{c.value=a},{immediate:!0});const U=_(!1),C=_("auto"),O=_(!1),B=_(!1),je=()=>{w.visit(y("projects.analysis",{project:d.project.slug}))},{balance:Ae,showPurchaseModal:ce,requiredWordsForModal:Te,actionDescriptionForModal:Me,checkAndPrompt:$e,closePurchaseModal:Ge,estimates:Ie}=it(),P=G(()=>d.project.facultyStructureChapters?.length||0||d.project.category?.default_chapter_count||d.estimatedChapters||d.project.chapters.length||1),Se=G(()=>{const a=P.value||1,e=d.targetWordCount||0,o=(d.project.facultyStructureChapters||[]).map(g=>g.target_word_count||0),n=o.length>0?Math.ceil(o.reduce((g,A)=>g+A,0)/o.length):0;return e?Math.ceil(e/a):n||2e3}),K=_(c.value==="auto");be(c,a=>{K.value=a==="auto"},{immediate:!0});const ze=()=>{if(S.value)return;const a=c.value==="auto"?"manual":"auto";C.value=a,U.value=!0};console.log("ðŸ” INITIAL TOGGLE STATE:",{currentMode:c.value,isAutoMode:K.value,shouldBeChecked:c.value==="auto"});const pe=G(()=>d.project.chapters.reduce((a,e)=>a+e.word_count,0)),ge=G(()=>d.project.progress!==void 0?d.project.progress:Math.min(pe.value/d.targetWordCount*100,100)),me=G(()=>d.project.chapters.filter(a=>a.status!=="not_started"&&a.word_count>0).length),j=G(()=>{const a=P.value,e=d.project.chapters.find(g=>g.status==="not_started"||g.content===null||g.content===""||g.content===void 0);if(e)return e.chapter_number<=a?e.chapter_number:null;const o=Math.max(...d.project.chapters.map(g=>g.chapter_number),0),n=o+1;return console.log("nextChapterNumber debug (Writing page):",{maxAllowedChapters:a,categoryName:d.project.category?.name,maxChapterNumber:o,nextNumber:n,withinLimits:n<=a}),n<=a?n:null}),Ee=a=>{const e=a??j.value,o=e?d.project.chapters.find(A=>A.chapter_number===e):null;if(o?.target_word_count)return o.target_word_count;const n=e?(d.project.outlines||[]).find(A=>A.chapter_number===e):null;if(n?.target_word_count)return n.target_word_count;const g=e?(d.project.facultyStructureChapters||[]).find(A=>A.chapter_number===e):null;return g?.target_word_count?g.target_word_count:Se.value},M=G(()=>Math.max(...d.project.chapters.map(e=>e.chapter_number),0)<P.value&&j.value!==null),W=G(()=>{const a=d.project.chapters.filter(e=>e.content&&e.content.trim()!==""&&e.updated_at);return a.length===0?null:a.reduce((e,o)=>new Date(o.updated_at)>new Date(e.updated_at)?o:e)}),Le=G(()=>{if(!W.value)return null;const a=new Date(W.value.updated_at),o=Math.floor((new Date().getTime()-a.getTime())/(1e3*60*60));return o<1?"Less than an hour ago":o<24?`${o} hours ago`:o<48?"Yesterday":`${Math.floor(o/24)} days ago`});he(()=>{L.value=c.value==="auto"?"ai-generation":"manual-writing"});const Pe=(a,e)=>{const o=Ee(e),n=Ie.chapter(o);if(a==="bulk"){const g=Math.max(1,P.value-me.value);return n*g}return n},z=(a,e)=>{const o=Pe(a,e);if(!$e(o,a==="bulk"?"bulk-generate chapters":a==="progressive"?"stream the chapter with AI":"generate the chapter with AI"))return;if(a==="bulk"){O.value=!0;return}const g=e||j.value;if(!g){E("Chapter Limit Reached",{description:`You have reached the maximum number of chapters (${P.value}) for this project category.`});return}const A=d.project.chapters.find(Ve=>Ve.chapter_number===g);A&&A.content&&A.content.trim()!==""&&!confirm(`Chapter ${g} already has content. Do you want to regenerate it?`)||w.visit(y("chapters.write",{project:d.project.slug,chapter:g})+"?ai_generate=true&generation_type="+a)},We=a=>{w.visit(y("chapters.edit",{project:d.project.slug,chapter:a}))},Re=a=>{const e=d.project.chapters.find(n=>n.chapter_number===a),o=e?.content&&e.content.trim()!=="";if(d.project.mode==="manual"&&e){w.visit(y("projects.manual-editor.show",{project:d.project.slug,chapter:e.chapter_number}));return}o?w.visit(y("chapters.edit",{project:d.project.slug,chapter:a})):w.visit(y("chapters.write",{project:d.project.slug,chapter:a}))},V=a=>{if(console.log("ðŸš€ START CHAPTER CLICKED",{chapterNumber:a,projectMode:d.project.mode,projectSlug:d.project.slug}),d.project.mode==="manual"){console.log("ðŸ“ Manual mode detected, routing to manual editor...");const o=y("projects.manual-editor.show",{project:d.project.slug,chapter:a});console.log("âœ… Routing to manual editor:",o),w.visit(o);return}const e=y("chapters.write",{project:d.project.slug,chapter:a});console.log("ðŸ“„ Auto mode: Routing to chapters.write:",e),w.visit(e)},fe=a=>{switch(a){case"approved":return"bg-green-100 text-green-800 border-green-200";case"in_review":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"draft":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},De=a=>({1:"Introduction",2:"Literature Review",3:"Methodology",4:"Design and Implementation",5:"Results and Analysis",6:"Conclusion and Recommendations"})[a]||`Chapter ${a}`,Ue=()=>{U.value=!1,Fe()},Oe=()=>{O.value=!1,w.visit(y("projects.bulk-generate",d.project.slug)+"?start=true")},Be=()=>{B.value=!1;try{w.post(y("projects.go-back-to-topic-selection",d.project.slug),{},{onSuccess:()=>{E("Success",{description:"Returned to topic selection"})},onError:()=>{E("Error",{description:"Failed to change topic. Please try again."})}})}catch{E("Error",{description:"Failed to change topic. Please try again."})}},Fe=async()=>{const a=C.value,e={auto:"AI Assisted",manual:"Manual"};console.log("ðŸ”„ TOGGLE - Function called",{currentMode:c.value,newMode:a}),console.log("ðŸ”„ TOGGLE - Mode change",{from:c.value,to:a}),console.log("ðŸ”„ TOGGLE - User confirmed, starting request"),S.value=!0;try{const o=y("projects.update-mode",d.project.slug);console.log("ðŸ”„ TOGGLE - Route URL:",o),w.patch(o,{mode:a},{onSuccess:n=>{console.log("ðŸ”„ TOGGLE - Success response:",n),c.value=a;const g=n.props?.flash?.message||`Switched to ${e[a]} writing mode`;E("Success",{description:g}),L.value=a==="auto"?"ai-generation":"manual-writing",console.log("ðŸ”„ TOGGLE - UI Updated:",{newMode:a,currentMode:c.value,isAutoMode:K.value,activeTab:L.value})},onError:n=>{console.error("ðŸ”„ TOGGLE - Error response:",n),E("Error",{description:"Failed to switch writing mode. Please try again."})},onFinish:()=>{console.log("ðŸ”„ TOGGLE - Request finished"),S.value=!1}})}catch(o){console.error("ðŸ”„ TOGGLE - Exception:",o),E("Error",{description:"Failed to switch writing mode. Please try again."}),S.value=!1}},Ne=()=>{B.value=!0},ve=()=>{Ze({showProgress:!0,animate:!0,steps:[{popover:{title:"Welcome to Your Writing Hub",description:"This is where you manage your project. Track progress, switch modes, and manage chapters all in one place.",popoverClass:"driver-popover-welcome"}},{element:"#mode-switcher",popover:{title:"AI Generated vs AI Assisted",description:"Toggle between AI Generated Mode (fully automated chapter generation) and AI Assisted Mode (manual writing with AI tools). You can switch anytime!"}},{element:"#continue-writing-card",popover:{title:"Resume Quickly",description:"Jump right back into your most recently edited chapter."}},{element:"#progress-overview",popover:{title:"Track Progress",description:"See your overall completion status, word counts, and chapter breakdowns at a glance."}},{element:"#action-cards",popover:{title:"Quick Actions",description:"Start a new chapter manually or let AI draft the next one for you."}},{element:"#chapter-tabs",popover:{title:"Chapter Management",description:'Use "Overview" to see all chapters. "AI Generation" offers Progressive (one chapter at a time) or Complete Project generation. "Edit Chapters" lets you start writing manually or generate an AI draft first.'}},{element:"#help-button",popover:{title:"Need Help?",description:"Click here anytime to restart this tour."}}]}).drive()},Q=_(null),F=_(!1);return he(()=>{if(L.value=c.value==="auto"?"ai-generation":"manual-writing",d.project.id&&ue.props.auth?.user?.email){const a=`writing_hub_tour_seen_${ue.props.auth.user.email}`;localStorage.getItem(a)||setTimeout(()=>{ve(),localStorage.setItem(a,"true")},1e3)}"IntersectionObserver"in window&&Q.value&&new IntersectionObserver(e=>{e.forEach(o=>{F.value=o.isIntersecting})},{rootMargin:"-40% 0px -40% 0px",threshold:0}).observe(Q.value)}),(a,e)=>(u(),m(at,{title:`Writing: ${a.project.title}`},{default:l(()=>[t("div",dt,[t("div",ut,[e[23]||(e[23]=t("div",{class:"flex items-center gap-3"},null,-1)),t("div",ct,[r(s(v),{onClick:Ne,variant:"ghost",size:"sm",class:"gap-2"},{default:l(()=>[r(s(J),{class:"h-4 w-4 shrink-0"}),e[20]||(e[20]=t("span",{class:"hidden sm:inline"},"Change Topic",-1))]),_:1}),r(s(v),{onClick:je,variant:"ghost",size:"sm",class:"gap-2"},{default:l(()=>[r(s($),{class:"h-4 w-4 shrink-0"}),e[21]||(e[21]=t("span",{class:"hidden sm:inline"},"Analyze Chapters",-1))]),_:1}),r(s(v),{onClick:e[0]||(e[0]=o=>s(w).visit(s(y)("projects.edit",a.project.slug))),variant:"outline",size:"sm",class:"gap-2"},{default:l(()=>[r(s(k),{class:"h-4 w-4 shrink-0"}),e[22]||(e[22]=t("span",{class:"hidden sm:inline"},"Edit Project Details",-1))]),_:1}),r(s(v),{id:"help-button",variant:"ghost",size:"icon",onClick:ve,title:"Restart Tutorial"},{default:l(()=>[r(s(Ye),{class:"h-4 w-4"})]),_:1})])]),t("div",pt,[e[24]||(e[24]=t("div",{class:"absolute inset-0 bg-grid-primary/5 [mask-image:linear-gradient(0deg,transparent,black)]"},null,-1)),t("div",gt,[t("div",mt,[r(s(I),{variant:"secondary",class:"px-3 py-1 text-sm backdrop-blur-sm"},{default:l(()=>[i(p(a.project.type),1)]),_:1}),r(s(I),{variant:c.value==="auto"?"default":"outline",class:f(c.value==="auto"?"bg-blue-600 hover:bg-blue-700":"")},{default:l(()=>[(u(),m(Z(c.value==="auto"?s($):s(k)),{class:"mr-1.5 h-3.5 w-3.5"})),i(" "+p(c.value==="auto"?"AI Assisted":"Manual Writing"),1)]),_:1},8,["variant","class"])]),r(lt,{as:"h1",class:"max-w-4xl text-2xl font-bold tracking-tight text-foreground sm:text-3xl md:text-4xl bg-clip-text text-transparent bg-gradient-to-r from-foreground to-foreground/70",content:a.project.title},null,8,["content"]),t("div",ft,[(u(),b(R,null,X(["auto","manual"],o=>t("button",{key:o,onClick:n=>o!==c.value&&ze(),class:f(["relative flex items-center justify-center gap-1.5 sm:gap-2 rounded-full px-3 py-2 sm:px-6 sm:py-2.5 text-xs sm:text-sm font-medium transition-all duration-300 whitespace-nowrap",c.value===o?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground hover:text-foreground hover:bg-muted/50"])},[(u(),m(Z(o==="auto"?s($):s(k)),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})),i(" "+p(o==="auto"?"AI Generated":"AI Assisted"),1)],10,vt)),64))])])]),t("div",bt,[t("div",ht,[W.value?(u(),b("div",xt,[t("div",wt,[t("div",yt,[t("div",_t,[r(s(Ke),{class:"h-4 w-4"}),e[25]||(e[25]=t("span",{class:"text-sm font-medium"},"Continue where you left off",-1))]),t("h3",kt,p(W.value.title),1),t("div",Ct,[t("span",jt,[r(s(N),{class:"h-3.5 w-3.5"}),i(" "+p(Le.value),1)]),t("span",At,[r(s(ee),{class:"h-3.5 w-3.5"}),i(" "+p(W.value.word_count.toLocaleString())+" words ",1)])])]),r(s(v),{onClick:e[1]||(e[1]=o=>V(W.value.chapter_number)),size:"lg",class:"shrink-0 bg-gradient-to-r from-amber-600 to-orange-600 text-white shadow-lg shadow-orange-500/20 transition-all hover:scale-105 hover:shadow-orange-500/30 hover:from-amber-700 hover:to-orange-700"},{default:l(()=>[r(s(xe),{class:"mr-2 h-4 w-4 fill-current"}),e[26]||(e[26]=i(" Resume Writing ",-1))]),_:1})])])):h("",!0),t("div",Tt,[c.value==="auto"?(u(),b("button",{key:0,onClick:e[2]||(e[2]=o=>z("bulk")),ref_key:"bulkCardRef",ref:Q,disabled:T.value||!M.value,class:f(["group relative w-full flex items-center justify-between gap-6 rounded-3xl border border-border/50 bg-card p-6 md:px-8 md:py-7 text-left shadow-sm transition-all hover:border-indigo-500/30 hover:shadow-lg hover:shadow-indigo-500/5 hover:-translate-y-0.5 overflow-hidden",{"border-indigo-500/30 shadow-lg shadow-indigo-500/5 -translate-y-0.5":F.value}])},[t("div",{class:f(["absolute inset-0 bg-gradient-to-r from-transparent via-transparent to-indigo-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500",{"opacity-100":F.value}])},null,2),t("div",$t,[t("div",Gt,[t("div",It,[r(s(D),{class:"h-3.5 w-3.5"})]),e[27]||(e[27]=t("span",{class:"text-xs font-semibold tracking-wide text-indigo-600 dark:text-indigo-400 uppercase"},"Automated Workflow",-1))]),t("h3",{class:f(["text-lg md:text-xl font-semibold text-foreground group-hover:text-indigo-600 transition-colors",{"text-indigo-600":F.value}])}," Complete Project Generation",2),e[28]||(e[28]=t("p",{class:"text-muted-foreground max-w-2xl text-sm leading-relaxed"}," Finalyze will draft your entire project chapters in one seamless process, with citations and references included. ",-1))]),t("div",St,[t("div",{class:f(["flex h-12 w-12 items-center justify-center rounded-full border border-border/50 bg-background shadow-sm group-hover:border-indigo-500/30 group-hover:text-indigo-600 transition-all duration-300 group-hover:scale-110",{"border-indigo-500/30 text-indigo-600 scale-110":F.value}])},[r(s(q),{class:"h-5 w-5"})],2)])],10,Mt)):h("",!0),t("div",zt,[t("button",{onClick:e[3]||(e[3]=o=>j.value?V(j.value):null),disabled:!M.value,class:"group relative flex flex-col items-start gap-4 rounded-2xl border border-border/50 bg-card p-5 text-left shadow-sm transition-all hover:border-primary/50 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed h-full min-h-[140px]"},[t("div",Lt,[r(s(k),{class:"h-5 w-5"})]),t("div",Pt,[e[29]||(e[29]=t("h3",{class:"font-semibold text-sm sm:text-base"},"Start Writing",-1)),t("p",Wt,p(M.value?`Begin Chapter ${j.value} manually`:"All chapters created"),1)]),t("div",Rt,[e[30]||(e[30]=i(" Take the next step ",-1)),r(s(q),{class:"ml-1 h-3.5 w-3.5"})])],8,Et),t("button",{onClick:e[4]||(e[4]=o=>s(w).visit(s(y)("projects.defense",a.project.slug))),class:"group relative flex flex-col items-start gap-4 rounded-2xl border border-border/50 bg-card p-5 text-left shadow-sm transition-all hover:border-amber-500/50 hover:shadow-md h-full min-h-[140px]"},[t("div",Dt,[r(s(Qe),{class:"h-5 w-5"})]),t("div",Ut,[t("div",Ot,[e[32]||(e[32]=t("h3",{class:"font-semibold text-sm sm:text-base"},"Defense Preparation",-1)),r(s(I),{variant:"secondary",class:"text-[10px] bg-amber-500/10 text-amber-600 border-none"},{default:l(()=>[...e[31]||(e[31]=[i("NEW",-1)])]),_:1})]),e[33]||(e[33]=t("p",{class:"text-xs text-muted-foreground mt-1"}," Practice with AI examiners, master your presentation, and simulate your final defense. ",-1))]),t("div",Bt,[e[34]||(e[34]=i(" Enter Defense Mode ",-1)),r(s(q),{class:"ml-1 h-3.5 w-3.5"})])]),c.value==="auto"?(u(),b("button",{key:0,onClick:e[5]||(e[5]=o=>z("progressive")),disabled:T.value||!M.value,class:"group relative flex flex-col items-start gap-4 rounded-2xl border border-border/50 bg-card p-5 text-left shadow-sm transition-all hover:border-purple-500/50 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed h-full min-h-[140px]"},[t("div",Nt,[r(s($),{class:"h-5 w-5"})]),t("div",Vt,[e[35]||(e[35]=t("h3",{class:"font-semibold text-sm sm:text-base"},"Generate Chapter",-1)),t("p",qt,p(T.value?"Generating content...":"Let AI draft the next chapter"),1)]),t("div",Ht,[e[36]||(e[36]=i(" Start generation ",-1)),r(s(q),{class:"ml-1 h-3.5 w-3.5"})])],8,Ft)):h("",!0),c.value==="manual"?(u(),b("div",Yt,[t("div",Kt,[t("div",Qt,[r(s(te),{class:"h-4 w-4"})]),e[37]||(e[37]=t("h3",{class:"font-semibold text-sm"},"Manual Mode Active",-1))]),e[38]||(e[38]=t("p",{class:"text-sm text-muted-foreground"}," Switch to AI mode to enable generation features. ",-1))])):h("",!0)])]),r(s(rt),{id:"chapter-tabs",modelValue:L.value,"onUpdate:modelValue":e[12]||(e[12]=o=>L.value=o),class:"space-y-8"},{default:l(()=>[r(s(ot),{class:"flex h-auto w-full flex-col items-stretch justify-center rounded-2xl bg-muted/30 p-1.5 text-muted-foreground md:inline-flex md:h-14 md:w-auto md:flex-row md:items-center md:rounded-full border border-border/40 backdrop-blur-sm"},{default:l(()=>[r(s(ie),{value:"overview",class:"rounded-xl px-8 py-2.5 text-sm font-medium transition-all duration-300 data-[state=active]:bg-gray-200 data-[state=active]:text-gray-900 dark:data-[state=active]:bg-neutral-800 dark:data-[state=active]:text-gray-50 data-[state=active]:shadow-sm md:rounded-full md:py-0"},{default:l(()=>[...e[39]||(e[39]=[i(" Overview ",-1)])]),_:1}),c.value==="auto"?(u(),m(s(ie),{key:0,value:"ai-generation",class:"rounded-xl px-8 py-2.5 text-sm font-medium transition-all duration-300 data-[state=active]:bg-gray-200 data-[state=active]:text-gray-900 dark:data-[state=active]:bg-neutral-800 dark:data-[state=active]:text-gray-50 data-[state=active]:shadow-sm md:rounded-full md:py-0"},{default:l(()=>[...e[40]||(e[40]=[i(" AI Generation ",-1)])]),_:1})):h("",!0),r(s(ie),{value:"manual-writing",class:"rounded-xl px-8 py-2.5 text-sm font-medium transition-all duration-300 data-[state=active]:bg-gray-200 data-[state=active]:text-gray-900 dark:data-[state=active]:bg-neutral-800 dark:data-[state=active]:text-gray-50 data-[state=active]:shadow-sm md:rounded-full md:py-0"},{default:l(()=>[i(p(c.value==="auto"?"Edit Chapters":"Manual Writing"),1)]),_:1})]),_:1}),r(s(de),{value:"overview",class:"space-y-6"},{default:l(()=>[t("div",Jt,[(u(!0),b(R,null,X(a.project.chapters,o=>(u(),m(s(H),{key:o.id,class:"group overflow-hidden border border-border/50 shadow-sm transition-all hover:border-primary/20 hover:shadow-md"},{default:l(()=>[r(s(oe),{class:"pb-3"},{default:l(()=>[t("div",Zt,[t("div",null,[r(s(ae),{class:"text-lg group-hover:text-primary transition-colors"},{default:l(()=>[i(p(o.title),1)]),_:2},1024),r(s(re),null,{default:l(()=>[i("Chapter "+p(o.chapter_number),1)]),_:2},1024)]),r(s(I),{class:f(fe(o.status)),variant:"outline"},{default:l(()=>[i(p(o.status.replace("_"," ")),1)]),_:2},1032,["class"])])]),_:2},1024),r(s(Y),null,{default:l(()=>[t("div",Xt,[t("div",es,p(o.word_count.toLocaleString())+" words",1),t("div",ts,[c.value==="auto"&&(!o.content||o.content.trim()==="")?(u(),m(s(v),{key:0,onClick:n=>z("progressive",o.chapter_number),size:"sm",class:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white shadow-sm"},{default:l(()=>[r(s($),{class:"mr-1 h-4 w-4"}),e[41]||(e[41]=i(" Generate ",-1))]),_:2},1032,["onClick"])):h("",!0),o.content&&o.content.trim()!==""?(u(),m(s(v),{key:1,onClick:n=>We(o.chapter_number),size:"sm",variant:"outline",class:"hover:bg-muted"},{default:l(()=>[r(s(k),{class:"mr-1 h-4 w-4"}),e[42]||(e[42]=i(" Edit ",-1))]),_:2},1032,["onClick"])):c.value==="manual"||!c.value?(u(),m(s(v),{key:2,onClick:n=>V(o.chapter_number),size:"sm",variant:"default"},{default:l(()=>[r(s(k),{class:"mr-1 h-4 w-4"}),e[43]||(e[43]=i(" Start ",-1))]),_:2},1032,["onClick"])):(u(),m(s(I),{key:3,variant:"outline",class:"text-xs text-muted-foreground"},{default:l(()=>[...e[44]||(e[44]=[i(" Not Started ",-1)])]),_:1}))])])]),_:2},1024)]),_:2},1024))),128)),a.project.chapters.length===0?(u(),b("div",ss,[r(s(te),{class:"mx-auto mb-4 h-12 w-12 text-muted-foreground/50"}),t("p",rs," No chapters created yet. "+p(c.value==="auto"?`Use AI generation to
                                        get started.`:"Create your first chapter manually."),1)])):h("",!0)])]),_:1}),c.value==="auto"?(u(),m(s(de),{key:0,value:"ai-generation",class:"space-y-8"},{default:l(()=>[r(s(H),{class:"border-border/40 bg-card/50 backdrop-blur-xl shadow-xl shadow-primary/5 overflow-hidden"},{default:l(()=>[r(s(oe),{class:"border-b border-border/40 bg-muted/10 pb-8"},{default:l(()=>[t("div",os,[t("div",as,[r(s(we),{class:"h-6 w-6 text-yellow-600 dark:text-yellow-500"})]),t("div",ls,[r(s(ae),{class:"text-xl font-bold tracking-tight"},{default:l(()=>[...e[45]||(e[45]=[i("AI Chapter Generation ",-1)])]),_:1}),r(s(re),{class:"text-base"},{default:l(()=>[...e[46]||(e[46]=[i("Choose how you'd like the AI to generate your academic chapters.",-1)])]),_:1})])])]),_:1}),r(s(Y),{class:"p-8 space-y-8"},{default:l(()=>[t("div",ns,[e[51]||(e[51]=t("h4",{class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground"}," Generation Style",-1)),t("div",is,[t("label",{class:f(["group relative flex cursor-pointer flex-col justify-between gap-6 rounded-3xl border-2 p-6 transition-all duration-300 hover:shadow-xl",x.value==="progressive"?"border-blue-500 bg-blue-50/50 shadow-blue-500/10 dark:bg-blue-950/10":"border-border/50 bg-card hover:border-blue-500/30 hover:bg-accent/5"])},[t("div",ds,[t("div",us,[r(s(ee),{class:"h-6 w-6"})]),t("div",cs,[t("div",{class:f(["h-5 w-5 rounded-full border-2 transition-colors",x.value==="progressive"?"border-blue-600":"border-muted-foreground/30"])},null,2),t("div",{class:f(["absolute h-2.5 w-2.5 rounded-full bg-blue-600 transition-transform duration-200",x.value==="progressive"?"scale-100":"scale-0"])},null,2),ye(t("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=o=>x.value=o),value:"progressive",class:"sr-only"},null,512),[[_e,x.value]])])]),e[47]||(e[47]=t("div",null,[t("p",{class:"text-lg font-bold text-foreground group-hover:text-blue-600 transition-colors"}," Progressive Generation"),t("p",{class:"mt-2 text-sm text-muted-foreground leading-relaxed"}," Best for control. Generate one chapter at a time, review, and ensure each part aligns with your vision before moving forward. ")],-1))],2),t("label",{class:f(["group relative flex cursor-pointer flex-col justify-between gap-6 rounded-3xl border-2 p-6 transition-all duration-300 hover:shadow-xl overflow-hidden",x.value==="bulk"?"border-indigo-500 bg-indigo-50/50 shadow-indigo-500/10 dark:bg-indigo-950/10":"border-border/50 bg-card hover:border-indigo-500/30 hover:bg-accent/5"])},[x.value==="bulk"?(u(),b("div",ps)):h("",!0),t("div",gs,[t("div",ms,[r(s(D),{class:"h-6 w-6"})]),t("div",fs,[t("div",{class:f(["h-5 w-5 rounded-full border-2 transition-colors",x.value==="bulk"?"border-indigo-600":"border-muted-foreground/30"])},null,2),t("div",{class:f(["absolute h-2.5 w-2.5 rounded-full bg-indigo-600 transition-transform duration-200",x.value==="bulk"?"scale-100":"scale-0"])},null,2),ye(t("input",{type:"radio","onUpdate:modelValue":e[7]||(e[7]=o=>x.value=o),value:"bulk",class:"sr-only"},null,512),[[_e,x.value]])])]),t("div",vs,[t("div",bs,[e[49]||(e[49]=t("p",{class:"text-lg font-bold text-foreground group-hover:text-indigo-600 transition-colors"}," Complete Project",-1)),r(s(I),{variant:"secondary",class:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300 text-[10px] px-1.5 py-0 h-5"},{default:l(()=>[...e[48]||(e[48]=[i(" POPULAR",-1)])]),_:1})]),e[50]||(e[50]=t("p",{class:"mt-2 text-sm text-muted-foreground leading-relaxed"}," Fast-track your drafts. Generate the entire project structure, literature, and chapters in one automated workflow. ",-1))])],2)])]),t("div",hs,[x.value==="progressive"?(u(),b("div",xs,[r(s(v),{onClick:e[8]||(e[8]=o=>z("progressive")),disabled:T.value||!M.value,size:"lg",class:"w-full h-14 text-base font-semibold bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 text-white shadow-lg shadow-indigo-500/25 transition-all hover:scale-[1.01] hover:shadow-indigo-500/40"},{default:l(()=>[T.value?(u(),m(s(N),{key:1,class:"mr-2 h-5 w-5 animate-spin"})):(u(),m(s(xe),{key:0,class:"mr-2 h-5 w-5 fill-current"})),i(" "+p(T.value?"Generating Chapter...":M.value?`Generate Chapter ${j.value}`:"Chapter Limit Reached"),1)]),_:1},8,["disabled"]),t("p",ws,[M.value?(u(),b("span",ys,[r(s($),{class:"h-4 w-4 text-indigo-500"}),e[52]||(e[52]=i(" AI will generate Chapter ",-1)),t("span",_s,p(j.value),1),e[53]||(e[53]=i(" based on your topic and previous chapters. ",-1))])):(u(),b("span",ks,[r(s(se),{class:"h-4 w-4"}),i(" You have reached the maximum chapters ("+p(P.value)+") for this project category. ",1)]))])])):h("",!0),x.value==="bulk"?(u(),b("div",Cs,[r(s(v),{onClick:e[9]||(e[9]=o=>z("bulk")),disabled:T.value,size:"lg",class:"w-full h-14 text-base font-semibold bg-gradient-to-r from-blue-600 via-indigo-600 to-violet-600 hover:from-blue-700 hover:via-indigo-700 hover:to-violet-700 text-white shadow-lg shadow-indigo-500/25 transition-all hover:scale-[1.01] hover:shadow-indigo-500/40"},{default:l(()=>[T.value?(u(),m(s(N),{key:1,class:"mr-2 h-5 w-5 animate-spin"})):(u(),m(s(we),{key:0,class:"mr-2 h-5 w-5 fill-current"})),i(" "+p(T.value?"Generating Complete Project...":`Generate
                                                Complete Project`),1)]),_:1},8,["disabled"]),t("p",js,[r(s(D),{class:"h-4 w-4 text-indigo-500"}),e[54]||(e[54]=i(" AI will collect literature, generate all chapters, and assemble the complete project. ",-1))])])):h("",!0)])]),_:1})]),_:1}),t("div",As,[t("div",Ts,[t("div",Ms,[r(s($),{class:"h-5 w-5"})]),e[55]||(e[55]=t("div",{class:"space-y-2"},[t("h4",{class:"font-semibold text-blue-900 dark:text-blue-100"},"AI Generation Tips "),t("ul",{class:"grid gap-2 text-sm text-blue-800/80 dark:text-blue-200/70 sm:grid-cols-2"},[t("li",{class:"flex items-center gap-2"},[t("div",{class:"h-1.5 w-1.5 rounded-full bg-blue-500"}),i(" Progressive generation builds better context ")]),t("li",{class:"flex items-center gap-2"},[t("div",{class:"h-1.5 w-1.5 rounded-full bg-blue-500"}),i(" Bulk generation is faster but may need editing ")]),t("li",{class:"flex items-center gap-2"},[t("div",{class:"h-1.5 w-1.5 rounded-full bg-blue-500"}),i(" All AI content is fully editable ")]),t("li",{class:"flex items-center gap-2"},[t("div",{class:"h-1.5 w-1.5 rounded-full bg-blue-500"}),i(" Uses your approved topic & requirements ")])])],-1))])])]),_:1})):h("",!0),r(s(de),{value:"manual-writing",class:"space-y-6"},{default:l(()=>[r(s(H),{class:"border border-border/50 shadow-sm"},{default:l(()=>[r(s(oe),null,{default:l(()=>[r(s(ae),{class:"flex items-center gap-2"},{default:l(()=>[r(s(k),{class:"h-5 w-5"}),e[56]||(e[56]=i(" Chapter Management ",-1))]),_:1}),r(s(re),null,{default:l(()=>[...e[57]||(e[57]=[i("Create and edit chapters using the full-featured writing editor. ",-1)])]),_:1})]),_:1}),r(s(Y),{class:"space-y-4"},{default:l(()=>[t("div",$s,[r(s(v),{onClick:e[10]||(e[10]=o=>j.value?V(j.value):null),disabled:!M.value,size:"lg",class:"flex-1"},{default:l(()=>[r(s(k),{class:"mr-2 h-5 w-5"}),i(" "+p(M.value?`Start Chapter ${j.value}`:"Chapter Limit Reached"),1)]),_:1},8,["disabled"]),c.value==="auto"?(u(),m(s(v),{key:0,onClick:e[11]||(e[11]=o=>z("single")),disabled:T.value||!M.value,size:"lg",variant:"outline",class:"flex-1"},{default:l(()=>[r(s($),{class:"mr-2 h-5 w-5"}),e[58]||(e[58]=i(" AI Draft First ",-1))]),_:1},8,["disabled"])):h("",!0)]),t("p",Gs,p(c.value==="manual"?`Use the full-featured editor to write your
                                        chapters from scratch.`:`Write manually or generate an AI draft to edit
                                        and improve.`),1)]),_:1})]),_:1}),t("div",Is,[e[61]||(e[61]=t("h4",{class:"text-sm font-medium"},"Your Chapters",-1)),t("div",Ss,[(u(!0),b(R,null,X(a.estimatedChapters,o=>(u(),m(s(H),{key:o,class:"group overflow-hidden border border-border/50 shadow-sm transition-all hover:border-primary/20 hover:shadow-md"},{default:l(()=>[r(s(Y),{class:"p-4"},{default:l(()=>[t("div",zs,[t("div",Es,[t("h5",Ls,p(De(o)),1),t("p",Ps,"Chapter "+p(o),1),t("div",Ws,[a.project.chapters.find(n=>n.chapter_number===o&&n.content&&n.content.trim()!=="")?(u(),b(R,{key:0},[r(s(I),{class:f(fe(a.project.chapters.find(n=>n.chapter_number===o)?.status||"draft")),variant:"outline"},{default:l(()=>[i(p(a.project.chapters.find(n=>n.chapter_number===o)?.status.replace("_"," ")),1)]),_:2},1032,["class"]),t("span",Rs,p(a.project.chapters.find(n=>n.chapter_number===o)?.word_count.toLocaleString())+" words ",1)],64)):(u(),m(s(I),{key:1,variant:"outline",class:"bg-muted text-muted-foreground"},{default:l(()=>[...e[59]||(e[59]=[i("Not Started ",-1)])]),_:1}))])]),t("div",Ds,[c.value==="auto"&&!a.project.chapters.find(n=>n.chapter_number===o&&n.content&&n.content.trim()!=="")?(u(),m(s(v),{key:0,onClick:n=>z("progressive",o),size:"sm",class:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white"},{default:l(()=>[r(s($),{class:"mr-1 h-4 w-4"}),e[60]||(e[60]=i(" Generate ",-1))]),_:2},1032,["onClick"])):h("",!0),r(s(v),{onClick:n=>Re(o),size:"sm",variant:a.project.chapters.find(n=>n.chapter_number===o&&n.content&&n.content.trim()!=="")?"outline":"default"},{default:l(()=>[r(s(k),{class:"mr-1 h-4 w-4"}),i(" "+p(a.project.chapters.find(n=>n.chapter_number===o&&n.content&&n.content.trim()!=="")?"Edit":"Start"),1)]),_:2},1032,["onClick","variant"])])])]),_:2},1024)]),_:2},1024))),128))])])]),_:1})]),_:1},8,["modelValue"])]),t("div",Us,[t("div",Os,[t("h3",Bs,[r(s(J),{class:"h-5 w-5 text-primary"}),e[62]||(e[62]=i(" Project Progress ",-1))]),t("div",Fs,[(u(),b("svg",Ns,[e[63]||(e[63]=t("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor","stroke-width":"8",class:"text-muted/20"},null,-1)),t("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor","stroke-width":"8",class:"text-primary transition-all duration-1000 ease-out","stroke-dasharray":251.2,"stroke-dashoffset":251.2-251.2*ge.value/100,"stroke-linecap":"round"},null,8,Vs)])),t("div",qs,[t("span",Hs,p(Math.round(ge.value))+"%",1),e[64]||(e[64]=t("span",{class:"text-xs text-muted-foreground"},"Completed",-1))])]),t("div",Ys,[t("div",Ks,[e[65]||(e[65]=t("span",{class:"text-sm text-muted-foreground"},"Total Words",-1)),t("span",Qs,p(pe.value.toLocaleString()),1)]),t("div",Js,[e[66]||(e[66]=t("span",{class:"text-sm text-muted-foreground"},"Chapters Done",-1)),t("span",Zs,p(me.value)+" / "+p(a.estimatedChapters),1)])])])])]),r(s(le),{open:U.value,"onUpdate:open":e[14]||(e[14]=o=>U.value=o)},{default:l(()=>[r(s(ne),{class:"sm:max-w-[425px] border-border/50 bg-background/80 backdrop-blur-xl shadow-2xl p-0 overflow-hidden gap-0"},{default:l(()=>[t("div",{class:f(["relative h-32 w-full overflow-hidden bg-gradient-to-br",C.value==="auto"?"from-blue-600/20 via-indigo-500/10 to-transparent":"from-slate-500/20 via-zinc-500/10 to-transparent"])},[e[68]||(e[68]=t("div",{class:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,transparent,black)]"},null,-1)),t("div",Xs,[t("div",{class:f(["flex h-12 w-12 items-center justify-center rounded-xl border border-white/10 shadow-lg backdrop-blur-md",C.value==="auto"?"bg-blue-500/20 text-blue-500":"bg-zinc-500/20 text-zinc-500"])},[(u(),m(Z(C.value==="auto"?s($):s(k)),{class:"h-6 w-6"}))],2),t("div",null,[t("h3",er,p(C.value==="auto"?"AI Assisted Mode":"Manual Writing Mode"),1),e[67]||(e[67]=t("p",{class:"text-xs text-muted-foreground"},"Switching writing experience",-1))])])],2),t("div",tr,[t("div",{class:f(["rounded-xl border border-border/50 p-4",C.value==="auto"?"bg-blue-50/50 dark:bg-blue-950/10":"bg-zinc-50/50 dark:bg-zinc-900/10"])},[t("div",sr,[r(s(se),{class:f(["h-5 w-5 shrink-0 mt-0.5",C.value==="auto"?"text-blue-600":"text-zinc-600"])},null,8,["class"]),t("div",rr,[t("p",{class:f(["text-sm font-medium",C.value==="auto"?"text-blue-900 dark:text-blue-100":"text-zinc-900 dark:text-zinc-100"])}," Mode Translation ",2),e[69]||(e[69]=t("p",{class:"text-xs text-muted-foreground leading-relaxed"}," You are about to facilitate a mode switch. This will update your workspace tools and capabilities. ",-1))])])],2),t("div",or,[e[74]||(e[74]=t("h4",{class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground"},"What changes",-1)),t("div",ar,[C.value==="auto"?(u(),b(R,{key:0},[t("div",lr,[t("div",nr,[r(s(D),{class:"h-3.5 w-3.5"})]),e[70]||(e[70]=t("span",null,"AI Generation & Assistance enabled",-1))]),t("div",ir,[t("div",dr,[r(s(ke),{class:"h-3.5 w-3.5"})]),e[71]||(e[71]=t("span",null,"Existing content preserved",-1))])],64)):(u(),b(R,{key:1},[t("div",ur,[t("div",cr,[r(s(k),{class:"h-3.5 w-3.5"})]),e[72]||(e[72]=t("span",null,"Full manual control enabled",-1))]),t("div",pr,[t("div",gr,[r(s(ke),{class:"h-3.5 w-3.5"})]),e[73]||(e[73]=t("span",null,"Existing content preserved",-1))])],64))])])]),t("div",mr,[r(s(v),{onClick:e[13]||(e[13]=o=>U.value=!1),variant:"ghost",class:"w-full sm:w-auto hover:bg-transparent hover:underline"},{default:l(()=>[...e[75]||(e[75]=[i(" Cancel ",-1)])]),_:1}),r(s(v),{onClick:Ue,disabled:S.value,class:f(["w-full sm:w-auto text-white shadow-md transition-all hover:scale-[1.02]",C.value==="auto"?"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700":"bg-zinc-900 dark:bg-zinc-100 dark:text-zinc-900 hover:bg-zinc-800"])},{default:l(()=>[S.value?(u(),m(s(N),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):h("",!0),i(" "+p(S.value?"Switching...":"Confirm Switch"),1)]),_:1},8,["disabled","class"])])]),_:1})]),_:1},8,["open"]),r(s(le),{open:O.value,"onUpdate:open":e[16]||(e[16]=o=>O.value=o)},{default:l(()=>[r(s(ne),{class:"sm:max-w-md p-0 gap-0 border-border/50 bg-background/95 backdrop-blur-3xl overflow-hidden shadow-2xl rounded-2xl"},{default:l(()=>[t("div",fr,[e[77]||(e[77]=t("div",{class:"absolute inset-0 opacity-10 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] mix-blend-overlay"},null,-1)),e[78]||(e[78]=t("div",{class:"absolute inset-0 bg-grid-white/10 [mask-image:linear-gradient(0deg,transparent,black)]"},null,-1)),t("div",vr,[t("div",br,[r(s(D),{class:"h-6 w-6 text-white"})]),e[76]||(e[76]=t("div",null,[t("h3",{class:"text-xl font-bold tracking-tight text-white shadow-sm"}," Complete Project "),t("p",{class:"text-sm font-medium text-blue-100/90"},"AI Automated Workflow")],-1))])]),t("div",hr,[e[83]||(e[83]=t("p",{class:"text-sm text-muted-foreground leading-relaxed"}," Start a comprehensive generation process. The AI will research, draft, and format your entire project based on the approved topic. ",-1)),t("div",xr,[t("div",wr,[t("div",yr,[r(s(te),{class:"h-4 w-4"})]),e[79]||(e[79]=t("div",{class:"text-sm font-medium"},"Full Chapter Generation",-1))]),t("div",_r,[t("div",kr,[r(s(ee),{class:"h-4 w-4"})]),e[80]||(e[80]=t("div",{class:"text-sm font-medium"},"Literature Integration",-1))]),t("div",Cr,[t("div",jr,[r(s(k),{class:"h-4 w-4"})]),e[81]||(e[81]=t("div",{class:"text-sm font-medium"},"Formatting & Appendices",-1))])]),t("div",Ar,[r(s(N),{class:"h-3.5 w-3.5"}),e[82]||(e[82]=t("span",null,"Estimated 15-20 minutes",-1))])]),t("div",Tr,[r(s(v),{onClick:e[15]||(e[15]=o=>O.value=!1),variant:"ghost",class:"w-full sm:w-auto"},{default:l(()=>[...e[84]||(e[84]=[i(" Cancel ",-1)])]),_:1}),r(s(v),{onClick:Oe,class:"w-full sm:w-auto bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 text-white shadow-md hover:shadow-lg transition-all"},{default:l(()=>[r(s(D),{class:"mr-2 h-4 w-4"}),e[85]||(e[85]=i(" Start Generation ",-1))]),_:1})])]),_:1})]),_:1},8,["open"]),r(s(le),{open:B.value,"onUpdate:open":e[18]||(e[18]=o=>B.value=o)},{default:l(()=>[r(s(ne),{class:"sm:max-w-md"},{default:l(()=>[r(s(tt),null,{default:l(()=>[r(s(st),{class:"flex items-center gap-2 text-destructive"},{default:l(()=>[r(s(se),{class:"h-5 w-5"}),e[86]||(e[86]=i(" Change Project Topic ",-1))]),_:1}),r(s(Xe),{class:"space-y-4 pt-2 text-left"},{default:l(()=>[t("div",Mr,[t("div",$r,[r(s(J),{class:"h-5 w-5 text-orange-600 mt-0.5 flex-shrink-0"}),e[87]||(e[87]=t("div",{class:"space-y-1"},[t("p",{class:"font-semibold text-orange-900"},"Warning: Progress Reset"),t("p",{class:"text-sm text-orange-800/80"}," This will reset your writing progress and return you to topic selection. All chapter content will be preserved, but you'll need to select and approve a new topic. ")],-1))])]),e[88]||(e[88]=t("p",{class:"text-sm font-medium text-foreground"},"Are you sure you want to continue? ",-1))]),_:1})]),_:1}),r(s(et),{class:"flex-col gap-2 sm:flex-row"},{default:l(()=>[r(s(v),{onClick:e[17]||(e[17]=o=>B.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>[...e[89]||(e[89]=[i(" Cancel ",-1)])]),_:1}),r(s(v),{onClick:Be,variant:"destructive",class:"w-full sm:w-auto"},{default:l(()=>[r(s(Je),{class:"mr-2 h-4 w-4"}),e[90]||(e[90]=i(" Change Topic ",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),r(nt,{open:s(ce),"current-balance":s(Ae),"required-words":s(Te),action:s(Me),"onUpdate:open":e[19]||(e[19]=o=>ce.value=o),onClose:s(Ge)},null,8,["open","current-balance","required-words","action","onClose"])])]),_:1},8,["title"]))}});export{Xr as default};
