import{d as q,a as m,o as n,r as I,n as T,u as s,U as R,A as P,g as B,c,w as r,e,R as J,q as x,k as o,s as d,t as i,F as y,E as h,b as X,f as Z,x as F,y as w}from"./app-VmIkgWBY.js";import{_ as C,a as S}from"./index-Bac4wu6G.js";import{_ as G}from"./AlertTitle.vue_vue_type_script_setup_true_lang-DAbFRxow.js";import{_ as U}from"./index-D4xO16iz.js";import{a as H,_ as $,L as z}from"./index-BJSIFph3.js";import{_ as A,a as O}from"./CardContent.vue_vue_type_script_setup_true_lang-Cb_8jfwT.js";import{_ as M}from"./CardDescription.vue_vue_type_script_setup_true_lang-CpT7hOfC.js";import{_ as D,a as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-j4AD8KV6.js";import{_ as Q}from"./AppLayout.vue_vue_type_script_setup_true_lang-DcLqYe8A.js";import{t as f}from"./Sonner.vue_vue_type_script_setup_true_lang-QiSNjKcB.js";import{C as ee}from"./circle-alert-CdHxZXu6.js";import{C as N}from"./check-B2qZeEYJ.js";import{S as te}from"./sparkles-DAQjs83T.js";import{Z as se}from"./zap-Byeaqa79.js";import"./useForwardExpose-DSP-40WM.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-DIY5100-.js";import"./VisuallyHidden-BAxoT5X5.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BACWwGEz.js";import"./coins-BFuKMT37.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Kk3CC2gM.js";import"./plus-D7tpekVh.js";import"./chevron-right-1f__Kgh4.js";import"./triangle-alert-B9bRhR8x.js";import"./circle-check-Cus68PVN.js";const Y=q({__name:"CardFooter",props:{class:{}},setup(k){const v=k;return(_,p)=>(n(),m("div",{"data-slot":"card-footer",class:T(s(H)("flex items-center px-6 [.border-t]:pt-6",v.class))},[I(_.$slots,"default")],2))}}),ae={class:"min-h-screen bg-gradient-to-b from-background to-muted/30"},re={class:"container mx-auto px-4 py-12"},oe={class:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto mb-16"},ne={class:"mb-6"},le={class:"text-4xl font-bold"},ie={class:"bg-muted/50 rounded-lg p-4 mb-6"},de={class:"text-3xl font-bold text-primary"},ce={class:"space-y-3 text-left"},ue={class:"text-sm"},me={class:"max-w-4xl mx-auto"},pe={class:"text-center mb-8"},fe={class:"grid md:grid-cols-3 gap-6"},ye={class:"text-2xl font-bold mb-1"},_e={class:"text-primary font-medium mb-4"},xe={class:"space-y-1"},Ke=q({__name:"Pricing",props:{packages:{},wordBalance:{},paystackPublicKey:{},paystackConfigured:{type:Boolean}},setup(k){const v=k,_=R(),p=P(null),b=P(!1),E=P(null),g=B(()=>_.props.flash),K=B(()=>!!_.props.auth?.user),j=async l=>{if(!v.paystackConfigured){f.error("Payment system is not available at the moment. Please contact support.");return}if(!K.value){F.visit(w("login"),{data:{redirect:w("pricing")}});return}p.value=l.id,E.value=l;try{const t=await(await fetch(w("payments.initialize"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({package_id:l.id})})).json();t.success?L(t.data,l):f.error(t.message||"Failed to initialize payment")}catch(a){console.error("Payment initialization error:",a),f.error("Something went wrong. Please try again.")}finally{p.value=null}},L=(l,a)=>{PaystackPop.setup({key:v.paystackPublicKey,email:_.props.auth?.user?.email,amount:a.price,ref:l.reference,access_code:l.access_code,onClose:()=>{f.info("Payment window closed")},callback:u=>{W(u.reference)}}).openIframe()},W=async l=>{try{const t=await(await fetch(w("payments.verify"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({reference:l})})).json();t.success?(f.success(`Payment successful! ${t.data.words_credited.toLocaleString()} words added to your balance.`),F.reload()):f.error(t.message||"Payment verification failed")}catch(a){console.error("Payment verification error:",a),f.error("Could not verify payment. Please check your balance.")}};return(l,a)=>(n(),c(Q,{title:"Pricing"},{default:r(()=>[(n(),c(J("script"),{src:"https://js.paystack.co/v1/inline.js"})),e("div",ae,[e("div",re,[a[8]||(a[8]=e("div",{class:"text-center mb-12"},[e("h1",{class:"text-4xl font-bold tracking-tight mb-4"}," Simple, Transparent Pricing "),e("p",{class:"text-xl text-muted-foreground max-w-2xl mx-auto"}," Pay once for your project. No subscriptions. Words never expire. ")],-1)),l.paystackConfigured?x("",!0):(n(),c(s(C),{key:0,variant:"destructive",class:"mb-8 max-w-2xl mx-auto"},{default:r(()=>[o(s(ee),{class:"h-4 w-4"}),o(s(G),null,{default:r(()=>[...a[1]||(a[1]=[d("Payment System Unavailable",-1)])]),_:1}),o(s(S),null,{default:r(()=>[...a[2]||(a[2]=[d(" The payment system is currently not configured. You can view pricing, but payments cannot be processed at this time. Please contact support if you need to make a purchase. ",-1)])]),_:1})]),_:1})),g.value?.success?(n(),c(s(C),{key:1,class:"mb-8 max-w-2xl mx-auto border-green-500 bg-green-50 dark:bg-green-950"},{default:r(()=>[o(s(N),{class:"h-4 w-4 text-green-600"}),o(s(S),{class:"text-green-800 dark:text-green-200"},{default:r(()=>[d(i(g.value.success),1)]),_:1})]),_:1})):x("",!0),g.value?.error?(n(),c(s(C),{key:2,variant:"destructive",class:"mb-8 max-w-2xl mx-auto"},{default:r(()=>[o(s(S),null,{default:r(()=>[d(i(g.value.error),1)]),_:1})]),_:1})):x("",!0),e("div",oe,[(n(!0),m(y,null,h(l.packages.projects,t=>(n(),c(s(A),{key:t.id,class:T(["relative transition-all duration-300 hover:shadow-lg",t.is_popular?"border-primary shadow-md":""])},{default:r(()=>[t.is_popular?(n(),c(s(U),{key:0,class:"absolute -top-3 left-1/2 -translate-x-1/2"},{default:r(()=>[o(s(te),{class:"w-3 h-3 mr-1"}),a[3]||(a[3]=d(" Most Popular ",-1))]),_:1})):x("",!0),o(s(D),{class:"text-center pb-2"},{default:r(()=>[o(s(V),{class:"text-2xl"},{default:r(()=>[d(i(t.name),1)]),_:2},1024),o(s(M),{class:"text-sm"},{default:r(()=>[d(i(t.description),1)]),_:2},1024)]),_:2},1024),o(s(O),{class:"text-center"},{default:r(()=>[e("div",ne,[e("span",le,i(t.formatted_price),1),a[4]||(a[4]=e("span",{class:"text-muted-foreground ml-2"},"one-time",-1))]),e("div",ie,[e("div",de,i(t.formatted_words),1),a[5]||(a[5]=e("div",{class:"text-sm text-muted-foreground"},"words included",-1))]),e("ul",ce,[(n(!0),m(y,null,h(t.features,u=>(n(),m("li",{key:u,class:"flex items-start gap-2"},[o(s(N),{class:"h-5 w-5 text-green-500 shrink-0 mt-0.5"}),e("span",ue,i(u),1)]))),128))])]),_:2},1024),o(s(Y),null,{default:r(()=>[o(s($),{class:"w-full",size:"lg",variant:t.is_popular?"default":"outline",disabled:!l.paystackConfigured||p.value===t.id,onClick:u=>j(t)},{default:r(()=>[p.value===t.id?(n(),c(s(z),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(n(),m(y,{key:1},[d(i(l.paystackConfigured?"Get Started":"Unavailable"),1)],64))]),_:2},1032,["variant","disabled","onClick"])]),_:2},1024)]),_:2},1032,["class"]))),128))]),e("div",me,[e("div",pe,[o(s($),{variant:"ghost",onClick:a[0]||(a[0]=t=>b.value=!b.value),class:"text-muted-foreground"},{default:r(()=>[o(s(se),{class:"w-4 h-4 mr-2"}),d(" "+i(b.value?"Hide":"Show")+" Top-up Packs ",1)]),_:1}),a[6]||(a[6]=e("p",{class:"text-sm text-muted-foreground mt-2"}," Need more words? Buy additional word packs anytime. ",-1))]),X(e("div",fe,[(n(!0),m(y,null,h(l.packages.topups,t=>(n(),c(s(A),{key:t.id,class:T(["relative transition-all duration-300 hover:shadow-md",t.is_popular?"border-primary":""])},{default:r(()=>[t.is_popular?(n(),c(s(U),{key:0,variant:"secondary",class:"absolute -top-2 right-4"},{default:r(()=>[...a[7]||(a[7]=[d(" Best Value ",-1)])]),_:1})):x("",!0),o(s(D),{class:"pb-2"},{default:r(()=>[o(s(V),{class:"text-lg"},{default:r(()=>[d(i(t.name),1)]),_:2},1024)]),_:2},1024),o(s(O),null,{default:r(()=>[e("div",ye,i(t.formatted_price),1),e("div",_e,i(t.formatted_words)+" words ",1),e("ul",xe,[(n(!0),m(y,null,h(t.features,u=>(n(),m("li",{key:u,class:"flex items-center gap-2 text-xs text-muted-foreground"},[o(s(N),{class:"h-3 w-3 text-green-500"}),d(" "+i(u),1)]))),128))])]),_:2},1024),o(s(Y),null,{default:r(()=>[o(s($),{variant:"outline",class:"w-full",disabled:!l.paystackConfigured||p.value===t.id,onClick:u=>j(t)},{default:r(()=>[p.value===t.id?(n(),c(s(z),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(n(),m(y,{key:1},[d(i(l.paystackConfigured?"Buy Now":"Unavailable"),1)],64))]),_:2},1032,["disabled","onClick"])]),_:2},1024)]),_:2},1032,["class"]))),128))],512),[[Z,b.value]])]),a[9]||(a[9]=e("div",{class:"max-w-2xl mx-auto mt-16 text-center"},[e("h2",{class:"text-xl font-semibold mb-6"},"Frequently Asked Questions"),e("div",{class:"space-y-4 text-left"},[e("div",{class:"p-4 rounded-lg bg-muted/30"},[e("h3",{class:"font-medium mb-1"},"Do words expire?"),e("p",{class:"text-sm text-muted-foreground"}," No! Your words never expire. Use them whenever you're ready. ")]),e("div",{class:"p-4 rounded-lg bg-muted/30"},[e("h3",{class:"font-medium mb-1"},"What if I run out of words?"),e("p",{class:"text-sm text-muted-foreground"}," Simply purchase a top-up pack. Your new words are added instantly. ")]),e("div",{class:"p-4 rounded-lg bg-muted/30"},[e("h3",{class:"font-medium mb-1"},"Can I use words across multiple projects?"),e("p",{class:"text-sm text-muted-foreground"}," Yes! Your word balance is account-wide. Use it for any project, seminar, or presentation. ")]),e("div",{class:"p-4 rounded-lg bg-muted/30"},[e("h3",{class:"font-medium mb-1"},"What payment methods are accepted?"),e("p",{class:"text-sm text-muted-foreground"}," We accept all Nigerian bank cards, bank transfers, and USSD payments via Paystack. ")])])],-1))])])]),_:1}))}});export{Ke as default};
