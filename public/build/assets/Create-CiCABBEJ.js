import{c as mt,P as Q,a as O,_ as E}from"./index-CkWWMrP7.js";import{_ as tt,a as at}from"./CardContent.vue_vue_type_script_setup_true_lang-OnXYEK3B.js";import{u as vt,o as $e,n as be,f as Re,s as pe,F as _t,t as yt,g as M,h as U,i as G,j as L,l as K,_ as De,a as Pe,c as Te,b as Be,d as Fe,e as Ne,k as gt}from"./vee-validate-zod-CSFfX_wX.js";import{_ as fe}from"./Input.vue_vue_type_script_setup_true_lang-C66Y-kcM.js";import{c as Ae,d as Ee,e as Oe}from"./WordBalanceDisplay.vue_vue_type_script_setup_true_lang-P-TYEUtw.js";import{d as st,c as xe,P as bt,a as He,g as ht,b as lt,u as ve}from"./Presence-o50VOThk.js";import{u as ot,V as rt}from"./VisuallyHiddenInput-17Z2Fvum.js";import{u as Ue,a as H,c as Xe}from"./useForwardExpose--YCaV9Ag.js";import{R as St}from"./VisuallyHidden-Cpehayb9.js";import{d as $,P as ke,e as R,i as x,o as f,j as a,r as A,f as N,u as e,m as D,a3 as Ge,k as t,b as j,a2 as it,t as te,q as Se,g as o,z as C,p as ut,T as xt,x as we,a8 as je,c as q,y as g,n as W,F as J,h as ne,aa as kt,v as wt,U as Qe,X as jt}from"./app-DXo2qlXx.js";import{r as ae}from"./index-I-wGS76U.js";import{R as Ct}from"./RovingFocusItem-DQZ-mCSn.js";import{h as It}from"./DialogTitle-DmgzGPjX.js";import{i as Vt}from"./ohash.D__AXeF1-C-E83dC9.js";import{j as qt}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-bOf5zfcv.js";import{_ as me}from"./index-Dg5asTLP.js";import{_ as $t,a as Rt}from"./CardTitle.vue_vue_type_script_setup_true_lang-B67ut52-.js";import{E as Dt}from"./eye-6CFFy5ii.js";import{E as Pt}from"./eye-off-B42L7fbj.js";import{D as Tt}from"./download-BFKqnz8y.js";import{T as Bt}from"./trash-2-ZdRL_uST.js";import{R as Ft}from"./refresh-cw-CyCh2FLz.js";import{_ as Nt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as At}from"./AppLayout.vue_vue_type_script_setup_true_lang-Cj7vy2op.js";import{t as z}from"./index-h2yNoIu5.js";import{G as Ze}from"./graduation-cap-DgnYF_nY.js";import{S as Et}from"./school-DO885PXE.js";import{F as et}from"./file-text-B2fGNh-t.js";import{C as he}from"./check-BWhUQiN7.js";import{B as Ot}from"./book-open-4pdaK7B5.js";import{C as ze}from"./UserInfo.vue_vue_type_script_setup_true_lang-DCHY8X4F.js";import"./search-DtukjWEs.js";import"./Label.vue_vue_type_script_setup_true_lang-B2_Isfyb.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-Te2Mupkp.js";import"./coins-BLHCBV4j.js";import"./plus-BsOPr_x8.js";import"./x-CGUx5PeF.js";import"./loader-circle-HypqbmCP.js";import"./log-out-CPpZl4ET.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-qEo6aqYC.js";import"./library-DWvVXjsr.js";import"./chevron-right-Cdb8ZCTO.js";import"./sun-DxH2VbQ8.js";import"./useWordBalance-BmjeI9Ym.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=mt("CircleIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Mt="radio.select";function Ut(S,u,r){It(Mt,r,{originalEvent:S,value:u})}var Gt=$({__name:"Radio",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},checked:{type:Boolean,required:!1,default:void 0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:checked","select"],setup(S,{emit:u}){const r=S,c=u,h=Ue(r,"checked",c,{passive:r.checked===void 0}),{value:i}=ke(r),{forwardRef:b,currentElement:k}=H(),_=ot(k),l=R(()=>r.id&&k.value?document.querySelector(`[for="${r.id}"]`)?.innerText??r.value:void 0);function p(v){r.disabled||Ut(v,r.value,V=>{c("select",V),!V?.defaultPrevented&&(h.value=!0,_.value&&V.stopPropagation())})}return(v,V)=>(f(),x(e(Q),D(v.$attrs,{id:v.id,ref:e(b),role:"radio",type:v.as==="button"?"button":void 0,as:v.as,"aria-checked":e(h),"aria-label":l.value,"as-child":v.asChild,disabled:v.disabled?"":void 0,"data-state":e(h)?"checked":"unchecked","data-disabled":v.disabled?"":void 0,value:e(i),required:v.required,name:v.name,onClick:Ge(p,["stop"])}),{default:a(()=>[A(v.$slots,"default",{checked:e(h)}),e(_)&&v.name?(f(),x(e(rt),{key:0,type:"radio",tabindex:"-1",value:e(i),checked:!!e(h),name:v.name,disabled:v.disabled,required:v.required},null,8,["value","checked","name","disabled","required"])):N("v-if",!0)]),_:3},16,["id","type","as","aria-checked","aria-label","as-child","disabled","data-state","data-disabled","value","required","name"]))}}),Lt=Gt;const[Kt,Wt]=xe("RadioGroupRoot");var Yt=$({__name:"RadioGroupRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(S,{emit:u}){const r=S,c=u,{forwardRef:h,currentElement:i}=H(),b=Ue(r,"modelValue",c,{defaultValue:r.defaultValue,passive:r.modelValue===void 0}),{disabled:k,loop:_,orientation:l,name:p,required:v,dir:V}=ke(r),I=st(V),T=ot(i);return Wt({modelValue:b,changeModelValue:P=>{b.value=P},disabled:k,loop:_,orientation:l,name:p?.value,required:v}),(P,se)=>(f(),x(e(St),{"as-child":"",orientation:e(l),dir:e(I),loop:e(_)},{default:a(()=>[t(e(Q),{ref:e(h),role:"radiogroup","data-disabled":e(k)?"":void 0,"as-child":P.asChild,as:P.as,"aria-orientation":e(l),"aria-required":e(v),dir:e(I)},{default:a(()=>[A(P.$slots,"default",{modelValue:e(b)}),e(T)&&e(p)?(f(),x(e(rt),{key:0,required:e(v),disabled:e(k),value:e(b),name:e(p)},null,8,["required","disabled","value","name"])):N("v-if",!0)]),_:3},8,["data-disabled","as-child","as","aria-orientation","aria-required","dir"])]),_:3},8,["orientation","dir","loop"]))}}),Jt=Yt;const[Ht,Xt]=xe("RadioGroupItem");var Qt=$({inheritAttrs:!1,__name:"RadioGroupItem",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["select"],setup(S,{emit:u}){const r=S,c=u,{forwardRef:h,currentElement:i}=H(),b=Kt(),k=R(()=>b.disabled.value||r.disabled),_=R(()=>b.required.value||r.required),l=R(()=>Vt(b.modelValue?.value,r.value));Xt({disabled:k,checked:l});const p=j(!1),v=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];Xe("keydown",I=>{v.includes(I.key)&&(p.value=!0)}),Xe("keyup",()=>{p.value=!1});function V(){setTimeout(()=>{p.value&&i.value?.click()},0)}return(I,T)=>(f(),x(e(Ct),{checked:l.value,disabled:k.value,"as-child":"",focusable:!k.value,active:l.value},{default:a(()=>[t(Lt,D({...I.$attrs,...r},{ref:e(h),checked:l.value,required:_.value,disabled:k.value,"onUpdate:checked":T[0]||(T[0]=P=>e(b).changeModelValue(I.value)),onSelect:T[1]||(T[1]=P=>c("select",P)),onKeydown:T[2]||(T[2]=it(Ge(()=>{},["prevent"]),["enter"])),onFocus:V}),{default:a(()=>[A(I.$slots,"default",{checked:l.value,required:_.value,disabled:k.value})]),_:3},16,["checked","required","disabled"])]),_:3},8,["checked","disabled","focusable","active"]))}}),Zt=Qt,ea=$({__name:"RadioGroupIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(S){const{forwardRef:u}=H(),r=Ht();return(c,h)=>(f(),x(e(bt),{present:c.forceMount||e(r).checked.value},{default:a(()=>[t(e(Q),D({ref:e(u),"data-state":e(r).checked.value?"checked":"unchecked","data-disabled":e(r).disabled.value?"":void 0,"as-child":c.asChild,as:c.as},c.$attrs),{default:a(()=>[A(c.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),ta=ea;const aa={"aria-live":"polite","aria-atomic":"true",role:"status",style:{transform:"translateX(-100%)",position:"absolute",pointerEvents:"none",opacity:0,margin:0}},[nt,sa]=xe("StepperRoot");var la=$({__name:"StepperRoot",props:{defaultValue:{type:Number,required:!1,default:1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},modelValue:{type:Number,required:!1},linear:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(S,{expose:u,emit:r}){const c=S,h=r,{dir:i,orientation:b,linear:k}=ke(c),_=st(i),l=j(new Set),p=Ue(c,"modelValue",h,{defaultValue:c.defaultValue,passive:c.modelValue===void 0}),v=R(()=>Array.from(l.value)),V=R(()=>p.value===1),I=R(()=>p.value===v.value.length),T=R(()=>l.value.size);function P(B){B>T.value||B<1||l.value.size&&v.value[B]&&v.value[B].getAttribute("disabled")||k.value&&B>(p.value??1)+1||(p.value=B)}function se(){P((p.value??1)+1)}function Z(){P((p.value??1)-1)}function le(){return(p.value??1)<T.value}function oe(){return(p.value??1)>1}const X=j(null),Y=j(null),re=R(()=>X.value?X.value.getAttribute("disabled")==="":!0),_e=R(()=>Y.value?Y.value.getAttribute("disabled")==="":!0);return te(p,async()=>{await Se(()=>{X.value=v.value.length&&p.value<v.value.length?v.value[p.value]:null,Y.value=v.value.length&&p.value>1?v.value[p.value-2]:null})}),te(v,async()=>{await Se(()=>{X.value=v.value.length&&p.value<v.value.length?v.value[p.value]:null,Y.value=v.value.length&&p.value>1?v.value[p.value-2]:null})}),sa({modelValue:p,changeModelValue:B=>{p.value=B},orientation:b,dir:_,linear:k,totalStepperItems:l}),u({goToStep:P,nextStep:se,prevStep:Z,modelValue:p,totalSteps:T,isNextDisabled:re,isPrevDisabled:_e,isFirstStep:V,isLastStep:I,hasNext:le,hasPrev:oe}),H(),(B,Ke)=>(f(),x(e(Q),{role:"group","aria-label":"progress",as:B.as,"as-child":B.asChild,"data-linear":e(k)?"":void 0,"data-orientation":B.orientation},{default:a(()=>[A(B.$slots,"default",{modelValue:e(p),totalSteps:l.value.size,isNextDisabled:re.value,isPrevDisabled:_e.value,isFirstStep:V.value,isLastStep:I.value,goToStep:P,nextStep:se,prevStep:Z,hasNext:le,hasPrev:oe}),o("div",aa," Step "+C(e(p))+" of "+C(l.value.size),1)]),_:3},8,["as","as-child","data-linear","data-orientation"]))}}),oa=la;const[Le,ra]=xe("StepperItem");var ia=$({__name:"StepperItem",props:{step:{type:Number,required:!0},disabled:{type:Boolean,required:!1,default:!1},completed:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(S){const u=S,{disabled:r,step:c,completed:h}=ke(u),{forwardRef:i}=H(),b=nt(),k=He(void 0,"reka-stepper-item-title"),_=He(void 0,"reka-stepper-item-description"),l=R(()=>h.value?"completed":b.modelValue.value===c.value?"active":b.modelValue.value>c.value?"completed":"inactive"),p=R(()=>r.value?!1:b.linear.value?c.value<=b.modelValue.value||c.value===b.modelValue.value+1:!0);return ra({titleId:k,descriptionId:_,state:l,disabled:r,step:c,isFocusable:p}),(v,V)=>(f(),x(e(Q),{ref:e(i),as:v.as,"as-child":v.asChild,"aria-current":l.value==="active"?"true":void 0,"data-state":l.value,disabled:e(r)||!p.value?"":void 0,"data-disabled":e(r)||!p.value?"":void 0,"data-orientation":e(b).orientation.value},{default:a(()=>[A(v.$slots,"default",{state:l.value})]),_:3},8,["as","as-child","aria-current","data-state","disabled","data-disabled","data-orientation"]))}}),ua=ia,na=$({__name:"StepperDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(S){const u=S;H();const r=Le();return(c,h)=>(f(),x(e(Q),D(u,{id:e(r).descriptionId}),{default:a(()=>[A(c.$slots,"default")]),_:3},16,["id"]))}}),da=na,ca=$({__name:"StepperTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h4"}},setup(S){const u=S,r=Le();return H(),(c,h)=>(f(),x(e(Q),D(u,{id:e(r).titleId}),{default:a(()=>[A(c.$slots,"default")]),_:3},16,["id"]))}}),pa=ca,fa=$({__name:"StepperTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(S){const u=nt(),r=Le(),c=vt(),h=R(()=>Array.from(u.totalStepperItems.value));function i(l){if(!r.disabled.value){if(u.linear.value){if((r.step.value<=u.modelValue.value||r.step.value===u.modelValue.value+1)&&l.ctrlKey===!1){u.changeModelValue(r.step.value);return}}else if(l.ctrlKey===!1){u.changeModelValue(r.step.value);return}l.preventDefault()}}function b(l){l.preventDefault(),!r.disabled.value&&((l.key===c.ENTER||l.key===c.SPACE)&&!l.ctrlKey&&!l.shiftKey&&u.changeModelValue(r.step.value),[c.ARROW_LEFT,c.ARROW_RIGHT,c.ARROW_UP,c.ARROW_DOWN].includes(l.key)&&qt(l,ht(),void 0,{itemsArray:h.value,focus:!0,loop:!1,arrowKeyOptions:u.orientation.value,dir:u.dir.value}))}const{forwardRef:k,currentElement:_}=H();return ut(()=>{u.totalStepperItems.value.add(_.value)}),xt(()=>{u.totalStepperItems.value.delete(_.value)}),(l,p)=>(f(),x(e(Q),{ref:e(k),type:l.as==="button"?"button":void 0,as:l.as,"as-child":l.asChild,"data-state":e(r).state.value,disabled:e(r).disabled.value||!e(r).isFocusable.value?"":void 0,"data-disabled":e(r).disabled.value||!e(r).isFocusable.value?"":void 0,"data-orientation":e(u).orientation.value,tabindex:e(r).isFocusable.value?0:-1,"aria-describedby":e(r).descriptionId,"aria-labelledby":e(r).titleId,onMousedown:Ge(i,["left"]),onKeydown:it(b,["enter","space","left","right","up","down"])},{default:a(()=>[A(l.$slots,"default")]),_:3},8,["type","as","as-child","data-state","disabled","data-disabled","data-orientation","tabindex","aria-describedby","aria-labelledby"]))}}),ma=fa;const Me=$({__name:"RadioGroup",props:{modelValue:{},defaultValue:{},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(S,{emit:u}){const r=S,c=u,h=ae(r,"class"),i=lt(h,c);return(b,k)=>(f(),x(e(Jt),D({"data-slot":"radio-group",class:e(O)("grid gap-3",r.class)},e(i)),{default:a(()=>[A(b.$slots,"default")]),_:3},16,["class"]))}}),ee=$({__name:"RadioGroupItem",props:{id:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},setup(S){const u=S,r=ae(u,"class"),c=ve(r);return(h,i)=>(f(),x(e(Zt),D({"data-slot":"radio-group-item"},e(c),{class:e(O)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",u.class)}),{default:a(()=>[t(e(ta),{"data-slot":"radio-group-indicator",class:"relative flex items-center justify-center"},{default:a(()=>[t(e(zt),{class:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})]),_:1})]),_:1},16,["class"]))}}),va=$({__name:"Stepper",props:{defaultValue:{},orientation:{},dir:{},modelValue:{},linear:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue"],setup(S,{emit:u}){const r=S,c=u,h=ae(r,"class"),i=lt(h,c);return(b,k)=>(f(),x(e(oa),D({class:e(O)("flex gap-2",r.class)},e(i)),{default:a(_=>[A(b.$slots,"default",we(je(_)))]),_:3},16,["class"]))}}),_a=$({__name:"StepperDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(S){const u=S,r=ae(u,"class"),c=ve(r);return(h,i)=>(f(),x(e(da),D(e(c),{class:e(O)("text-xs text-muted-foreground",u.class)}),{default:a(b=>[A(h.$slots,"default",we(je(b)))]),_:3},16,["class"]))}}),ya=$({__name:"StepperItem",props:{step:{},disabled:{type:Boolean},completed:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(S){const u=S,r=ae(u,"class"),c=ve(r);return(h,i)=>(f(),x(e(ua),D(e(c),{class:e(O)("flex items-center gap-2 group data-[disabled]:pointer-events-none",u.class)}),{default:a(b=>[A(h.$slots,"default",we(je(b)))]),_:3},16,["class"]))}}),ga=$({__name:"StepperTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(S){const u=S,r=ae(u,"class"),c=ve(r);return(h,i)=>(f(),x(e(pa),D(e(c),{class:e(O)("text-md font-semibold whitespace-nowrap",u.class)}),{default:a(()=>[A(h.$slots,"default")]),_:3},16,["class"]))}}),ba=$({__name:"StepperTrigger",props:{asChild:{type:Boolean},as:{},class:{}},setup(S){const u=S,r=ae(u,"class"),c=ve(r);return(h,i)=>(f(),x(e(ma),D(e(c),{class:e(O)("p-1 flex flex-col items-center text-center gap-1 rounded-md",u.class)}),{default:a(()=>[A(h.$slots,"default")]),_:3},16,["class"]))}}),ha={class:"fixed right-4 bottom-4 z-50"},Sa={class:"flex items-center justify-between"},xa={class:"flex gap-1"},ka={class:"space-y-2"},wa={class:"space-y-1"},ja={class:"flex justify-between"},Ca={class:"flex justify-between"},Ia={class:"flex justify-between"},Va={class:"flex justify-between"},qa={key:0,class:"space-y-2"},$a={class:"space-y-1"},Ra={class:"space-y-2"},Da={class:"max-h-40 overflow-auto rounded bg-muted p-2 font-mono text-[10px]"},Pa={class:"space-y-2"},Ta={class:"max-h-40 overflow-auto rounded bg-muted p-2 font-mono text-[10px]"},Ba={class:"space-y-2"},Fa={class:"flex gap-2"},Na=$({__name:"WizardDebugPanel",props:{currentStep:{},projectId:{},formValues:{},savedValues:{},isInitializing:{type:Boolean}},setup(S){const u=S,r=j(!1),c=j(!0),h=R(()=>JSON.stringify(u.formValues)===JSON.stringify(u.savedValues)),i=R(()=>{const _=[];for(const l in u.formValues)u.formValues[l]!==u.savedValues[l]&&_.push(l);return _}),b=()=>{const _={timestamp:new Date().toISOString(),currentStep:u.currentStep,projectId:u.projectId,formValues:u.formValues,savedValues:u.savedValues,unsavedFields:i.value,localStorage:{}};for(let V=0;V<localStorage.length;V++){const I=localStorage.key(V);I&&I.includes("project")&&(_.localStorage[I]=localStorage.getItem(I))}const l=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),p=URL.createObjectURL(l),v=document.createElement("a");v.href=p,v.download=`wizard-debug-${Date.now()}.json`,v.click()},k=()=>{if(confirm("This will clear all saved wizard data. Are you sure?")){const _=[];for(let l=0;l<localStorage.length;l++){const p=localStorage.key(l);p&&p.includes("project")&&_.push(p)}_.forEach(l=>localStorage.removeItem(l)),typeof window<"u"&&window.location.reload()}};return te(()=>u.formValues,()=>{c.value&&console.log("Form values changed:",u.formValues)},{deep:!0}),(_,l)=>(f(),q(J,null,[o("div",ha,[t(e(E),{onClick:l[0]||(l[0]=p=>r.value=!r.value),size:"icon",variant:"outline",class:"bg-background shadow-lg"},{default:a(()=>[r.value?(f(),x(e(Pt),{key:1,class:"h-4 w-4"})):(f(),x(e(Dt),{key:0,class:"h-4 w-4"}))]),_:1})]),t(kt,{name:"slide"},{default:a(()=>[r.value?(f(),x(e(tt),{key:0,class:"fixed right-4 bottom-20 z-40 max-h-[600px] w-96 overflow-auto shadow-xl"},{default:a(()=>[t(e($t),{class:"pb-3"},{default:a(()=>[o("div",Sa,[t(e(Rt),{class:"text-sm font-medium"},{default:a(()=>[...l[4]||(l[4]=[g("Wizard Debug Panel",-1)])]),_:1}),o("div",xa,[t(e(E),{size:"icon",variant:"ghost",class:"h-6 w-6",onClick:b},{default:a(()=>[t(e(Tt),{class:"h-3 w-3"})]),_:1}),t(e(E),{size:"icon",variant:"ghost",class:"h-6 w-6",onClick:k},{default:a(()=>[t(e(Bt),{class:"h-3 w-3"})]),_:1}),t(e(E),{size:"icon",variant:"ghost",class:"h-6 w-6",onClick:l[1]||(l[1]=p=>c.value=!c.value)},{default:a(()=>[t(e(Ft),{class:W(["h-3 w-3",c.value&&"animate-spin"])},null,8,["class"])]),_:1})])])]),_:1}),t(e(at),{class:"space-y-4 text-xs"},{default:a(()=>[o("div",ka,[l[9]||(l[9]=o("div",{class:"font-semibold"},"Status",-1)),o("div",wa,[o("div",ja,[l[5]||(l[5]=o("span",{class:"text-muted-foreground"},"Current Step:",-1)),t(e(me),{variant:"outline"},{default:a(()=>[g(C(_.currentStep),1)]),_:1})]),o("div",Ca,[l[6]||(l[6]=o("span",{class:"text-muted-foreground"},"Project ID:",-1)),t(e(me),{variant:"outline"},{default:a(()=>[g(C(_.projectId||"Not created"),1)]),_:1})]),o("div",Ia,[l[7]||(l[7]=o("span",{class:"text-muted-foreground"},"Initializing:",-1)),t(e(me),{variant:_.isInitializing?"destructive":"default"},{default:a(()=>[g(C(_.isInitializing?"Yes":"No"),1)]),_:1},8,["variant"])]),o("div",Va,[l[8]||(l[8]=o("span",{class:"text-muted-foreground"},"Values Synced:",-1)),t(e(me),{variant:h.value?"default":"destructive"},{default:a(()=>[g(C(h.value?"Yes":"No"),1)]),_:1},8,["variant"])])])]),i.value.length>0?(f(),q("div",qa,[l[10]||(l[10]=o("div",{class:"font-semibold text-amber-600"},"Unsaved Fields",-1)),o("div",$a,[(f(!0),q(J,null,ne(i.value,p=>(f(),x(e(me),{key:p,variant:"destructive",class:"mr-1 mb-1"},{default:a(()=>[g(C(p),1)]),_:2},1024))),128))])])):N("",!0),o("div",Ra,[l[11]||(l[11]=o("div",{class:"font-semibold"},"Current Form Values",-1)),o("div",Da,[o("pre",null,C(JSON.stringify(_.formValues,null,2)),1)])]),o("div",Pa,[l[12]||(l[12]=o("div",{class:"font-semibold"},"Saved Values",-1)),o("div",Ta,[o("pre",null,C(JSON.stringify(_.savedValues,null,2)),1)])]),o("div",Ba,[l[15]||(l[15]=o("div",{class:"font-semibold"},"Debug Actions",-1)),o("div",Fa,[t(e(E),{size:"sm",variant:"outline",onClick:l[2]||(l[2]=p=>_.$emit("force-save"))},{default:a(()=>[...l[13]||(l[13]=[g(" Force Save ",-1)])]),_:1}),t(e(E),{size:"sm",variant:"outline",onClick:l[3]||(l[3]=p=>_.$emit("reset-form"))},{default:a(()=>[...l[14]||(l[14]=[g(" Reset Form ",-1)])]),_:1})])])]),_:1})]),_:1})):N("",!0)]),_:1})],64))}}),Aa=Nt(Na,[["__scopeId","data-v-93b26200"]]),Ea={class:"mx-auto max-w-4xl space-y-6"},Oa={key:0,class:"mt-2 rounded-lg border border-blue-200 bg-blue-50 p-3 text-xs text-blue-600"},za=["onSubmit"],Ma={class:"flex w-full flex-col items-start justify-start gap-4 md:flex-row md:gap-0"},Ua={class:"flex flex-col items-start text-left md:mt-5 md:items-center md:text-center"},Ga={key:0,class:"mt-1 block text-xs text-blue-600"},La={class:"mt-8 space-y-6"},Ka={key:0,class:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500"},Wa={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Ya={class:"flex cursor-pointer items-center space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},Ja={class:"flex cursor-pointer items-center space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},Ha={class:"flex cursor-pointer items-center space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},Xa={class:"flex cursor-pointer items-center space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},Qa={class:"space-y-3"},Za={class:"flex-1 space-y-2"},es={class:"font-medium"},ts={class:"text-sm text-muted-foreground"},as={class:"grid grid-cols-1 gap-2 text-xs text-muted-foreground sm:grid-cols-3"},ss={class:"flex items-center gap-1"},ls={class:"flex items-center gap-1"},os={class:"flex items-center gap-1"},rs={key:0,class:"py-8 text-center text-muted-foreground"},is={key:1,class:"py-8 text-center text-muted-foreground"},us={key:1,class:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-500"},ns={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ds={key:2,class:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500"},cs={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ps={class:"space-y-3"},fs={class:"flex cursor-pointer items-start space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},ms={class:"flex cursor-pointer items-start space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},vs={class:"mt-8 flex justify-between"},_s={class:"flex gap-3"},il=$({__name:"Create",props:{projectCategories:{},resumeProject:{}},setup(S){const u=S,r=[$e({projectType:Re(["undergraduate","postgraduate","hnd","nd"]),projectCategoryId:be({required_error:"Please select a project category"})}),$e({universityId:be({required_error:"Please select your university"}),facultyId:be({required_error:"Please select your faculty"}),departmentId:be({required_error:"Please select your department"}),course:pe().min(2,"Course of study is required")}),$e({fieldOfStudy:pe().optional(),supervisorName:pe().optional(),matricNumber:pe().optional(),academicSession:pe().min(1,"Academic session is required"),workingMode:Re(["auto","manual"]),aiAssistanceLevel:Re(["minimal","moderate","maximum"]).optional()})],c=R(()=>r[i.value-1]),h=!1,i=j(1),b=j(null),k=j(!0),_=j({format_version:"2.0",steps:{},current_step:1,furthest_completed_step:0}),l=j("");let p=null;const v=j([]),V=j([]),I=j([]),T=j(!1),P=j(!1),se=j(!1),Z=j(null),le=j(!1),oe=j(!1),X=j(!1),Y=n=>{const s=n.toString();return _.value.steps[s]?.data??{}},re=(n,s)=>{const m=n.toString();_.value.steps[m]={data:s,completed:_e(n,s),timestamp:new Date().toISOString()},_.value.current_step=Math.max(_.value.current_step,n),_.value.steps[m].completed&&(_.value.furthest_completed_step=Math.max(_.value.furthest_completed_step,n))},_e=(n,s)=>({1:["projectType","projectCategoryId"],2:["universityId","facultyId","departmentId","course"],3:["academicSession","workingMode"]}[n]||[]).every(F=>s[F]&&s[F]!==""),B=()=>{const n={};return Object.values(_.value.steps).forEach(s=>{Object.assign(n,s.data)}),n};te(i,n=>{console.log("ðŸ‘€ Step changed to:",n),_.value.current_step=n,Se(()=>{ce.value=Y(n),ge.value++;const s=Y(n);s.projectType&&(l.value=s.projectType),n===2&&s.facultyId&&(Z.value=s.facultyId,Ce(s.facultyId))})}),ut(()=>{if(Ke(),dt(),u.resumeProject){console.log("ðŸ“„ Resuming project setup...",u.resumeProject),i.value=u.resumeProject.current_step,b.value=u.resumeProject.id,_.value=u.resumeProject.wizard_data;const n=Y(i.value);ce.value=n,n.projectType&&(l.value=n.projectType),n.facultyId&&(Z.value=n.facultyId,Ce(n.facultyId)),ge.value=Date.now(),console.log("âœ… Step-aware state restored:",{step:i.value,wizardData:_.value,currentStepData:n,selectedProjectType:l.value})}else console.log("ðŸ†• Starting fresh project setup"),ce.value={},ge.value=Date.now();Se(()=>{k.value=!1})});const Ke=async()=>{T.value=!0;try{const s=await(await fetch("/api/universities")).json();v.value=s.universities}catch(n){console.error("Failed to fetch universities:",n),z("Error loading universities")}finally{T.value=!1}},dt=async()=>{P.value=!0;try{const s=await(await fetch("/api/faculties")).json();V.value=s.faculties}catch(n){console.error("Failed to fetch faculties:",n),z("Error loading faculties")}finally{P.value=!1}},Ce=async n=>{se.value=!0;try{const m=await(await fetch(`/api/faculties/${n}/departments`)).json();I.value=m.departments}catch(s){console.error("Failed to fetch departments:",s),z("Error loading departments")}finally{se.value=!1}};te(Z,n=>{n?Ce(n):I.value=[]});const Ie=async(n,s)=>{try{if(console.log("ðŸ’¾ Saving progress - Step:",n,"Data:",s),k.value){console.log("â¸ï¸ Skipping save during initialization");return}const m=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(!m){console.error("âŒ CSRF token not found"),z("Error",{description:"Security token missing. Please refresh the page."});return}const w=await fetch(Qe("projects.save-wizard-progress"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":m,"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin",body:JSON.stringify({project_id:b.value,step:n,data:s})});if(w.ok){const F=await w.json();F.success?(b.value=F.project_id,Ve.value={...s},console.log("âœ… Progress saved successfully")):(console.error("âŒ Save failed:",F),z("Save Failed",{description:F.message||"Failed to save progress."}))}else{if(console.error("âŒ Save request failed:",w.status,w.statusText),w.status===419){z("Session Expired",{description:"Please refresh the page to continue."});return}else if(w.status===422){const F=await w.json().catch(()=>({}));console.error("âŒ Validation errors:",F),z("Validation Error",{description:"Some form data is invalid."});return}throw new Error(`HTTP ${w.status}: ${w.statusText}`)}}catch(m){console.error("âŒ Failed to save progress:",m),m instanceof SyntaxError&&m.message.includes("Unexpected token")?z("Session Error",{description:"Your session may have expired. Please refresh the page."}):z("Auto-save Error",{description:"Failed to save your progress automatically."})}},We=(n,s)=>{p&&clearTimeout(p),p=setTimeout(()=>{Ie(n,s)},1e3)},ye=async(n,s)=>{if(n===i.value)return;console.log("ðŸ“„ Navigating from step",i.value,"to step",n);const m=qe(s,i.value);Object.keys(m).length>0&&(console.log("ðŸ’¾ Saving step",i.value,"data before navigation:",m),re(i.value,m),await Ie(i.value,m)),i.value=n,console.log("âœ… Navigation complete - now on step:",i.value)},ie=R(()=>(n,s,m)=>{const w=Math.max(s,u.resumeProject?.setup_step??1);return!!(n<=w||n===s+1&&m)}),de=[{step:1,title:"Academic Setup",description:"Level & project type",icon:Ze},{step:2,title:"Institution",description:"University details",icon:Et},{step:3,title:"Research Details",description:"Field & supervisor info",icon:et}],Ye=n=>u.projectCategories[n]||[];te(l,n=>{if(n&&!k.value){const s={...Ve.value,projectType:n};We(i.value,s)}});const Je=j({}),Ve=j({}),ce=j({}),ge=j(0);te(ce,n=>{n?.projectType&&n.projectType!==l.value&&(l.value=n.projectType,console.log("ðŸ”„ Synced selectedProjectType from form values:",n.projectType))},{deep:!0,immediate:!0});const qe=(n,s)=>{const w={1:["projectType","projectCategoryId"],2:["universityId","facultyId","departmentId","course"],3:["fieldOfStudy","supervisorName","matricNumber","academicSession","workingMode","aiAssistanceLevel"]}[s]||[];return Object.fromEntries(Object.entries(n||{}).filter(([F,d])=>w.includes(F)&&d!==null&&d!==void 0&&d!==""))},ct=n=>{if(k.value)return"";const s=qe(n,i.value);if(Object.keys(s).length>0){const m=Y(i.value);JSON.stringify(s)!==JSON.stringify(m)&&(console.log("ðŸ”„ Step",i.value,"data changed:",s),re(i.value,s),s.projectType&&(l.value=s.projectType),We(i.value,s))}return""};function pt(n){console.log("ðŸš€ Submitting final step with current values:",n);const s=qe(n,i.value);re(i.value,s);const m=B();if(console.log("ðŸ“‹ All steps data for submission:",m),!m.projectType||!m.universityId||!m.facultyId||!m.departmentId){z("Incomplete Data",{description:"Please complete all previous steps before submitting."});return}const w={project_category_id:m.projectCategoryId,type:m.projectType,university_id:m.universityId,faculty_id:m.facultyId,department_id:m.departmentId,course:m.course,field_of_study:m.fieldOfStudy,supervisor_name:m.supervisorName,matric_number:m.matricNumber,academic_session:m.academicSession,mode:m.workingMode,ai_assistance_level:m.aiAssistanceLevel};console.log("ðŸŽ¯ Final project data for submission:",w),jt.post(Qe("projects.store"),w,{onSuccess:()=>{z("Project Created!",{description:"Your project has been set up successfully."})},onError:F=>{console.error("âŒ Project creation failed:",F),z("Error",{description:"Failed to create project. Please try again."})}})}return(n,s)=>(f(),x(At,{title:"Create New Project"},{default:a(()=>[o("div",Ea,[o("div",null,[s[6]||(s[6]=o("h1",{class:"text-3xl font-bold"},"Create Your Project",-1)),s[7]||(s[7]=o("p",{class:"text-muted-foreground"},"Set up your final year project in just a few steps",-1)),i.value>1?(f(),q("div",Oa,[...s[5]||(s[5]=[g(" ðŸ’¡ ",-1),o("strong",null,"Tip:",-1),g(" You can click on any previous step to go back and make changes. Your progress is automatically saved! ",-1)])])):N("",!0)]),t(e(tt),null,{default:a(()=>[t(e(at),{class:"pt-6"},{default:a(()=>[(f(),x(e(_t),{key:ge.value,as:"","keep-values":"","validation-schema":e(yt)(c.value),"initial-values":ce.value},{default:a(({meta:m,values:w,validate:F})=>[k.value?N("",!0):(f(),q(J,{key:0},[g(C(ct(w)),1)],64)),t(e(va),{modelValue:i.value,"onUpdate:modelValue":s[3]||(s[3]=d=>i.value=d),class:"w-full"},{default:a(()=>[o("form",{onSubmit:d=>{d.preventDefault(),F(),i.value===de.length&&m.valid&&pt(w)},class:"w-full"},[o("div",Ma,[(f(),q(J,null,ne(de,(d,y)=>(f(),q(J,{key:d.step},[t(e(ya),{class:"relative flex flex-shrink-0 flex-row items-center gap-4 md:flex-col md:gap-0",step:d.step},{default:a(({state:ue})=>[t(e(ba),{"as-child":""},{default:a(()=>[t(e(E),{variant:ue==="completed"||ue==="active"?"default":"outline",size:"icon",class:W(["relative z-10 shrink-0 rounded-full",[ue==="active"&&"ring-2 ring-ring ring-offset-2 ring-offset-background",!ie.value(d.step,i.value,m.valid)&&"cursor-not-allowed opacity-50"]]),disabled:!ie.value(d.step,i.value,m.valid),onClick:ft=>ye(d.step,w),type:"button"},{default:a(()=>[ue==="completed"?(f(),x(e(he),{key:0,class:"size-5"})):(f(),x(wt(d.icon),{key:1,class:"size-5"}))]),_:2},1032,["variant","class","disabled","onClick"])]),_:2},1024),o("div",Ua,[t(e(ga),{class:W([[ue==="active"&&"text-primary",ie.value(d.step,i.value,m.valid)&&d.step!==i.value&&"cursor-pointer text-blue-600 hover:text-blue-800"],"text-sm font-semibold transition lg:text-base"]),onClick:ft=>ie.value(d.step,i.value,m.valid)?ye(d.step,w):null},{default:a(()=>[g(C(d.title),1)]),_:2},1032,["class","onClick"]),t(e(_a),{class:W([[ue==="active"&&"text-primary",ie.value(d.step,i.value,m.valid)&&d.step!==i.value&&"text-blue-500"],"text-xs text-muted-foreground transition md:text-sm"])},{default:a(()=>[g(C(d.description)+" ",1),ie.value(d.step,i.value,m.valid)&&d.step<i.value?(f(),q("span",Ga," (click to edit) ")):N("",!0)]),_:2},1032,["class"])])]),_:2},1032,["step"]),y<de.length-1?(f(),q("div",{key:0,class:W(["mt-5 hidden h-0.5 w-full max-w-[200px] transition-all duration-300 md:block",i.value>d.step?"bg-primary":"bg-muted"])},null,2)):N("",!0)],64))),64))]),o("div",La,[i.value===1?(f(),q("div",Ka,[t(e(M),{name:"projectType"},{default:a(({componentField:d})=>[t(e(U),null,{default:a(()=>[t(e(G),null,{default:a(()=>[...s[8]||(s[8]=[g("What is your academic level?",-1)])]),_:1}),t(e(L),null,{default:a(()=>[t(e(Me),{"model-value":d.modelValue,"onUpdate:modelValue":y=>{d["onUpdate:modelValue"]?.(y),l.value=y}},{default:a(()=>[o("div",Wa,[o("label",Ya,[t(e(ee),{value:"undergraduate"}),s[9]||(s[9]=o("div",{class:"space-y-1"},[o("p",{class:"text-sm font-medium"},"Undergraduate"),o("p",{class:"text-xs text-muted-foreground"},"BSc/BTech final year project")],-1))]),o("label",Ja,[t(e(ee),{value:"postgraduate"}),s[10]||(s[10]=o("div",{class:"space-y-1"},[o("p",{class:"text-sm font-medium"},"Postgraduate"),o("p",{class:"text-xs text-muted-foreground"},"MSc/PhD thesis")],-1))]),o("label",Ha,[t(e(ee),{value:"hnd"}),s[11]||(s[11]=o("div",{class:"space-y-1"},[o("p",{class:"text-sm font-medium"},"HND"),o("p",{class:"text-xs text-muted-foreground"},"Higher National Diploma")],-1))]),o("label",Xa,[t(e(ee),{value:"nd"}),s[12]||(s[12]=o("div",{class:"space-y-1"},[o("p",{class:"text-sm font-medium"},"ND"),o("p",{class:"text-xs text-muted-foreground"},"National Diploma")],-1))])])]),_:2},1032,["model-value","onUpdate:modelValue"])]),_:2},1024),t(e(K))]),_:2},1024)]),_:1}),t(e(M),{name:"projectCategoryId"},{default:a(({componentField:d})=>[t(e(U),null,{default:a(()=>[t(e(G),null,{default:a(()=>[...s[13]||(s[13]=[g("What type of project are you creating?",-1)])]),_:1}),t(e(L),null,{default:a(()=>[t(e(Me),{"model-value":d.modelValue?.toString(),"onUpdate:modelValue":y=>d["onUpdate:modelValue"]?.(parseInt(y))},{default:a(()=>[o("div",Qa,[(f(!0),q(J,null,ne(Ye(l.value),y=>(f(),q("label",{key:y.id,class:"flex cursor-pointer items-start space-y-0 space-x-3 rounded-md border p-4 transition-all duration-200 hover:border-primary hover:bg-accent/50 has-[[data-state=checked]]:border-primary has-[[data-state=checked]]:bg-primary/5"},[t(e(ee),{value:y.id.toString(),class:"mt-1"},null,8,["value"]),o("div",Za,[o("div",null,[o("p",es,C(y.name),1),o("p",ts,C(y.description),1)]),o("div",as,[o("div",ss,[t(e(Ot),{class:"h-3 w-3"}),g(" "+C(y.default_chapter_count)+" chapters ",1)]),o("div",ls,[t(e(et),{class:"h-3 w-3"}),g(" ~"+C((y.target_word_count/1e3).toFixed(0))+"k words ",1)]),o("div",os,[t(e(Ze),{class:"h-3 w-3"}),g(" "+C(y.target_duration),1)])])])]))),128)),l.value?Ye(l.value).length===0?(f(),q("div",is," No project categories available for this academic level ")):N("",!0):(f(),q("div",rs," Please select an academic level first "))])]),_:2},1032,["model-value","onUpdate:modelValue"])]),_:2},1024),t(e(K))]),_:2},1024)]),_:1})])):N("",!0),i.value===2?(f(),q("div",us,[t(e(M),{name:"universityId"},{default:a(({componentField:d})=>[t(e(U),{class:"flex flex-col"},{default:a(()=>[t(e(G),null,{default:a(()=>[...s[14]||(s[14]=[g("University",-1)])]),_:1}),t(e(Ae),{open:le.value,"onUpdate:open":s[0]||(s[0]=y=>le.value=y)},{default:a(()=>[t(e(Ee),{"as-child":""},{default:a(()=>[t(e(L),null,{default:a(()=>[t(e(E),{variant:"outline",role:"combobox",class:W(e(O)("w-full justify-between",!d.modelValue&&"text-muted-foreground"))},{default:a(()=>[g(C(d.modelValue?v.value.find(y=>y.id===d.modelValue)?.name:"Select your university...")+" ",1),t(e(ze),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024),t(e(Oe),{class:"w-full p-0",align:"start"},{default:a(()=>[t(e(De),null,{default:a(()=>[t(e(Pe),{placeholder:"Search university..."}),t(e(Te),null,{default:a(()=>[...s[15]||(s[15]=[g("No university found.",-1)])]),_:1}),t(e(Be),null,{default:a(()=>[t(e(Fe),null,{default:a(()=>[(f(!0),q(J,null,ne(v.value,y=>(f(),x(e(Ne),{key:y.id,value:y.name,onSelect:()=>{d["onUpdate:modelValue"]?.(y.id),le.value=!1}},{default:a(()=>[g(C(y.name)+" ",1),t(e(he),{class:W(e(O)("ml-auto h-4 w-4",y.id===d.modelValue?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["open"]),t(e(K))]),_:2},1024)]),_:1}),o("div",ns,[t(e(M),{name:"facultyId"},{default:a(({componentField:d})=>[t(e(U),{class:"flex flex-col"},{default:a(()=>[t(e(G),null,{default:a(()=>[...s[16]||(s[16]=[g("Faculty",-1)])]),_:1}),t(e(Ae),{open:oe.value,"onUpdate:open":s[1]||(s[1]=y=>oe.value=y)},{default:a(()=>[t(e(Ee),{"as-child":""},{default:a(()=>[t(e(L),null,{default:a(()=>[t(e(E),{variant:"outline",role:"combobox",class:W(e(O)("w-full justify-between",!d.modelValue&&"text-muted-foreground"))},{default:a(()=>[g(C(d.modelValue?"Faculty of "+V.value.find(y=>y.id===d.modelValue)?.name:"Select faculty...")+" ",1),t(e(ze),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024),t(e(Oe),{class:"w-[300px] p-0"},{default:a(()=>[t(e(De),null,{default:a(()=>[t(e(Pe),{placeholder:"Search faculty..."}),t(e(Te),null,{default:a(()=>[...s[17]||(s[17]=[g("No faculty found.",-1)])]),_:1}),t(e(Be),null,{default:a(()=>[t(e(Fe),null,{default:a(()=>[(f(!0),q(J,null,ne(V.value,y=>(f(),x(e(Ne),{key:y.id,value:y.id,onSelect:()=>{d["onUpdate:modelValue"]?.(y.id),Z.value=y.id,oe.value=!1}},{default:a(()=>[t(e(he),{class:W(e(O)("mr-2 h-4 w-4",d.modelValue===y.id?"opacity-100":"opacity-0"))},null,8,["class"]),g(" Faculty of "+C(y.name),1)]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["open"]),t(e(K))]),_:2},1024)]),_:1}),t(e(M),{name:"departmentId"},{default:a(({componentField:d})=>[t(e(U),{class:"flex flex-col"},{default:a(()=>[t(e(G),null,{default:a(()=>[...s[18]||(s[18]=[g("Department",-1)])]),_:1}),t(e(Ae),{open:X.value,"onUpdate:open":s[2]||(s[2]=y=>X.value=y)},{default:a(()=>[t(e(Ee),{"as-child":""},{default:a(()=>[t(e(L),null,{default:a(()=>[t(e(E),{variant:"outline",role:"combobox",class:W(e(O)("w-full justify-between",!d.modelValue&&"text-muted-foreground"))},{default:a(()=>[g(C(d.modelValue?I.value.find(y=>y.id===d.modelValue)?.name:"Select department...")+" ",1),t(e(ze),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024),t(e(Oe),{class:"w-[350px] p-0"},{default:a(()=>[t(e(De),null,{default:a(()=>[t(e(Pe),{placeholder:"Search department..."}),t(e(Te),null,{default:a(()=>[...s[19]||(s[19]=[g("No department found.",-1)])]),_:1}),t(e(Be),null,{default:a(()=>[t(e(Fe),null,{default:a(()=>[(f(!0),q(J,null,ne(I.value,y=>(f(),x(e(Ne),{key:y.id,value:y.id,onSelect:()=>{d["onUpdate:modelValue"]?.(y.id),X.value=!1}},{default:a(()=>[t(e(he),{class:W(e(O)("mr-2 h-4 w-4",d.modelValue===y.id?"opacity-100":"opacity-0"))},null,8,["class"]),g(" "+C(y.name),1)]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["open"]),t(e(K))]),_:2},1024)]),_:1})]),t(e(M),{name:"course"},{default:a(({componentField:d})=>[t(e(U),null,{default:a(()=>[t(e(G),null,{default:a(()=>[...s[20]||(s[20]=[g("Course of Study",-1)])]),_:1}),t(e(L),null,{default:a(()=>[t(e(fe),D({type:"text",placeholder:"e.g., Computer Science"},d),null,16)]),_:2},1024),t(e(K))]),_:2},1024)]),_:1})])):N("",!0),i.value===3?(f(),q("div",ds,[t(e(M),{name:"fieldOfStudy"},{default:a(({componentField:d})=>[t(e(U),null,{default:a(()=>[t(e(G),null,{default:a(()=>[...s[21]||(s[21]=[g("Field/Area of Research (Optional)",-1)])]),_:1}),t(e(L),null,{default:a(()=>[t(e(fe),D({type:"text",placeholder:"e.g., Artificial Intelligence, Web Development (leave blank if unsure)"},d),null,16)]),_:2},1024),t(e(gt),null,{default:a(()=>[...s[22]||(s[22]=[g(" Your specific area of focus for this project. Leave blank if you need AI guidance in choosing a research area. ",-1)])]),_:1}),t(e(K))]),_:2},1024)]),_:1}),t(e(M),{name:"supervisorName"},{default:a(({componentField:d})=>[t(e(U),null,{default:a(()=>[t(e(G),null,{default:a(()=>[...s[23]||(s[23]=[g("Supervisor Name (Optional)",-1)])]),_:1}),t(e(L),null,{default:a(()=>[t(e(fe),D({type:"text",placeholder:"e.g., Dr. John Doe"},d),null,16)]),_:2},1024),t(e(K))]),_:2},1024)]),_:1}),o("div",cs,[t(e(M),{name:"matricNumber"},{default:a(({componentField:d})=>[t(e(U),null,{default:a(()=>[t(e(G),null,{default:a(()=>[...s[24]||(s[24]=[g("Matric Number (Optional)",-1)])]),_:1}),t(e(L),null,{default:a(()=>[t(e(fe),D({type:"text",placeholder:"e.g., 2019/1234"},d),null,16)]),_:2},1024),t(e(K))]),_:2},1024)]),_:1}),t(e(M),{name:"academicSession"},{default:a(({componentField:d})=>[t(e(U),null,{default:a(()=>[t(e(G),null,{default:a(()=>[...s[25]||(s[25]=[g("Academic Session",-1)])]),_:1}),t(e(L),null,{default:a(()=>[t(e(fe),D({type:"text",placeholder:"e.g., 2024/2025"},d),null,16)]),_:2},1024),t(e(K))]),_:2},1024)]),_:1})]),t(e(M),{name:"workingMode"},{default:a(({componentField:d})=>[t(e(U),null,{default:a(()=>[t(e(G),null,{default:a(()=>[...s[26]||(s[26]=[g("How would you like to work on your project?",-1)])]),_:1}),t(e(L),null,{default:a(()=>[t(e(Me),we(je(d)),{default:a(()=>[o("div",ps,[o("label",fs,[t(e(ee),{value:"auto",class:"mt-1"}),s[27]||(s[27]=o("div",{class:"space-y-1"},[o("p",{class:"font-medium"},"Auto Mode"),o("p",{class:"text-sm text-muted-foreground"}," AI generates complete chapters. You review and approve each section. Perfect for quick completion. ")],-1))]),o("label",ms,[t(e(ee),{value:"manual",class:"mt-1"}),s[28]||(s[28]=o("div",{class:"space-y-1"},[o("p",{class:"font-medium"},"Manual Mode"),o("p",{class:"text-sm text-muted-foreground"}," Co-write with AI assistance. Get suggestions as you type, maintain full control. ")],-1))])])]),_:2},1040)]),_:2},1024),t(e(K))]),_:2},1024)]),_:1})])):N("",!0)]),o("div",vs,[t(e(E),{disabled:i.value<=1,variant:"outline",onClick:d=>ye(i.value-1,w),type:"button"},{default:a(()=>[...s[29]||(s[29]=[g(" Back ",-1)])]),_:2},1032,["disabled","onClick"]),o("div",_s,[i.value!==de.length?(f(),x(e(E),{key:0,disabled:!m.valid,onClick:d=>ye(i.value+1,w),type:"button"},{default:a(()=>[...s[30]||(s[30]=[g(" Next ",-1)])]),_:2},1032,["disabled","onClick"])):N("",!0),i.value===de.length?(f(),x(e(E),{key:1,type:"submit",disabled:!m.valid},{default:a(()=>[...s[31]||(s[31]=[g(" Complete Setup ",-1)])]),_:2},1032,["disabled"])):N("",!0)])])],40,za)]),_:2},1032,["modelValue"])]),_:1},8,["validation-schema","initial-values"]))]),_:1})]),_:1})]),e(h)?(f(),x(Aa,{key:0,"current-step":i.value,"project-id":b.value,"form-values":Je.value,"saved-values":Ve.value,"is-initializing":k.value,onForceSave:s[4]||(s[4]=()=>Ie(i.value,Je.value)),onResetForm:()=>{}},null,8,["current-step","project-id","form-values","saved-values","is-initializing"])):N("",!0)]),_:1}))}});export{il as default};
