import{T as he,p as be,c as ye,j as ie,l as ve,f as U,g as W,h as K,k as we,o as de,m as Be,S as $e,L as qe,u as ke,C as Pe,d as Ce,e as Oe,i as xe,n as Fe,F as Se,_ as De,a as Ae,b as Me,q as Ne}from"./UserInfo.vue_vue_type_script_setup_true_lang-B47enV7B.js";import{d as f,c,o as n,w as s,r as m,m as k,u as e,a8 as Le,z as q,k as r,D as le,O as Z,P as ee,h as ce,R as te,g as B,a as y,n as v,U as L,F as x,A as ae,e as d,t as $,s as S,l as O,q as F,X as pe,x as Ee,y as G,ad as Te,j as Ie}from"./app-CvqzSedG.js";import{P as ze,o as Re,s as je,n as Ue,F as We,p as Ke,q as Ge,T as He,v as Ve,b as ne,d as X,c as Q,e as Je,_ as Xe,a as Qe}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BISjo1U_.js";import{u as Ye,r as fe,a as E}from"./useForwardExpose-wU1_jECe.js";import{P as R,c as se,a as M,_ as re}from"./index-B2Jp-AbD.js";import{C as H}from"./coins-l6S-RDY5.js";import{_ as Ze}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BD3t69mL.js";import{P as oe}from"./plus-B-lH923P.js";import{B as et,I as tt,S as at,M as st,_ as rt}from"./Sonner.vue_vue_type_script_setup_true_lang-C3qX8evA.js";import{C as ot}from"./chevron-right-C3Pvosu_.js";import{c as lt,h as nt,d as T,u as _e,P as ut}from"./VisuallyHidden-DB_fmpkP.js";import{_ as it,a as dt}from"./CardContent.vue_vue_type_script_setup_true_lang-BU1G6cs-.js";var ct=f({__name:"MenuGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const a=l;return(t,o)=>(n(),c(e(R),k({role:"group"},a),{default:s(()=>[m(t.$slots,"default")]),_:3},16))}}),pt=ct;const[I,ft]=lt("PopoverRoot");var _t=f({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},modal:{type:Boolean,required:!1,default:!1}},emits:["update:open"],setup(l,{emit:a}){const t=l,o=a,{modal:u}=Le(t),p=Ye(t,"open",o,{defaultValue:t.defaultOpen,passive:t.open===void 0}),i=q(),_=q(!1);return ft({contentId:"",triggerId:"",modal:u,open:p,onOpenChange:g=>{p.value=g},onOpenToggle:()=>{p.value=!p.value},triggerElement:i,hasCustomAnchor:_}),(g,h)=>(n(),c(e(ze),null,{default:s(()=>[m(g.$slots,"default",{open:e(p),close:()=>p.value=!1})]),_:3}))}}),mt=_t,gt=f({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(l,{emit:a}){const t=l,o=a,u=nt(fe(t,"trapFocus","disableOutsidePointerEvents")),{forwardRef:p}=E(),i=I();return Re(),(_,g)=>(n(),c(e(We),{"as-child":"",loop:"",trapped:_.trapFocus,onMountAutoFocus:g[5]||(g[5]=h=>o("openAutoFocus",h)),onUnmountAutoFocus:g[6]||(g[6]=h=>o("closeAutoFocus",h))},{default:s(()=>[r(e(je),{"as-child":"","disable-outside-pointer-events":_.disableOutsidePointerEvents,onPointerDownOutside:g[0]||(g[0]=h=>o("pointerDownOutside",h)),onInteractOutside:g[1]||(g[1]=h=>o("interactOutside",h)),onEscapeKeyDown:g[2]||(g[2]=h=>o("escapeKeyDown",h)),onFocusOutside:g[3]||(g[3]=h=>o("focusOutside",h)),onDismiss:g[4]||(g[4]=h=>e(i).onOpenChange(!1))},{default:s(()=>[r(e(Ue),k(e(u),{id:e(i).contentId,ref:e(p),"data-state":e(i).open.value?"open":"closed","aria-labelledby":e(i).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:s(()=>[m(_.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),me=gt,ht=f({__name:"PopoverContentModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(l,{emit:a}){const t=l,o=a,u=I(),p=q(!1);Ke(!0);const i=T(t,o),{forwardRef:_,currentElement:g}=E();return Ge(g),(h,b)=>(n(),c(me,k(e(i),{ref:e(_),"trap-focus":e(u).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:b[0]||(b[0]=le(P=>{o("closeAutoFocus",P),p.value||e(u).triggerElement.value?.focus()},["prevent"])),onPointerDownOutside:b[1]||(b[1]=P=>{o("pointerDownOutside",P);const D=P.detail.originalEvent,V=D.button===0&&D.ctrlKey===!0,J=D.button===2||V;p.value=J}),onFocusOutside:b[2]||(b[2]=le(()=>{},["prevent"]))}),{default:s(()=>[m(h.$slots,"default")]),_:3},16,["trap-focus"]))}}),bt=ht,yt=f({__name:"PopoverContentNonModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(l,{emit:a}){const t=l,o=a,u=I(),p=q(!1),i=q(!1),_=T(t,o);return(g,h)=>(n(),c(me,k(e(_),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:h[0]||(h[0]=b=>{o("closeAutoFocus",b),b.defaultPrevented||(p.value||e(u).triggerElement.value?.focus(),b.preventDefault()),p.value=!1,i.value=!1}),onInteractOutside:h[1]||(h[1]=async b=>{o("interactOutside",b),b.defaultPrevented||(p.value=!0,b.detail.originalEvent.type==="pointerdown"&&(i.value=!0));const P=b.target;e(u).triggerElement.value?.contains(P)&&b.preventDefault(),b.detail.originalEvent.type==="focusin"&&i.value&&b.preventDefault()})}),{default:s(()=>[m(g.$slots,"default")]),_:3},16))}}),vt=yt,wt=f({__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(l,{emit:a}){const t=l,o=a,u=I(),p=T(t,o),{forwardRef:i}=E();return u.contentId||=_e(void 0,"reka-popover-content"),(_,g)=>(n(),c(e(ut),{present:_.forceMount||e(u).open.value},{default:s(()=>[e(u).modal.value?(n(),c(bt,k({key:0},e(p),{ref:e(i)}),{default:s(()=>[m(_.$slots,"default")]),_:3},16)):(n(),c(vt,k({key:1},e(p),{ref:e(i)}),{default:s(()=>[m(_.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Bt=wt,$t=f({__name:"PopoverPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(l){const a=l;return(t,o)=>(n(),c(e(He),Z(ee(a)),{default:s(()=>[m(t.$slots,"default")]),_:3},16))}}),qt=$t,kt=f({__name:"PopoverTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(l){const a=l,t=I(),{forwardRef:o,currentElement:u}=E();return t.triggerId||=_e(void 0,"reka-popover-trigger"),ce(()=>{t.triggerElement.value=u.value}),(p,i)=>(n(),c(te(e(t).hasCustomAnchor.value?e(R):e(Ve)),{"as-child":""},{default:s(()=>[r(e(R),{id:e(t).triggerId,ref:e(o),type:p.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(t).open.value,"aria-controls":e(t).contentId,"data-state":e(t).open.value?"open":"closed",as:p.as,"as-child":a.asChild,onClick:e(t).onOpenToggle},{default:s(()=>[m(p.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),Pt=kt,Ct=f({__name:"DropdownMenuGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const a=l;return E(),(t,o)=>(n(),c(e(pt),Z(ee(a)),{default:s(()=>[m(t.$slots,"default")]),_:3},16))}}),Ot=Ct;/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=se("FolderOpenIcon",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=se("HouseIcon",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=se("LibraryIcon",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]),Dt=f({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(l){const a=l;return(t,o)=>(n(),c(e(he),Z(ee(a)),{default:s(()=>[m(t.$slots,"default")]),_:3},16))}}),At=f({__name:"DropdownMenuGroup",props:{asChild:{type:Boolean},as:{}},setup(l){const a=l;return(t,o)=>(n(),c(e(Ot),k({"data-slot":"dropdown-menu-group"},a),{default:s(()=>[m(t.$slots,"default")]),_:3},16))}}),Mt=f({__name:"AppContent",props:{variant:{},class:{}},setup(l){const a=l,t=B(()=>a.class);return(o,u)=>a.variant==="sidebar"?(n(),c(e(be),{key:0,class:v(t.value)},{default:s(()=>[m(o.$slots,"default")]),_:3},8,["class"])):(n(),y("main",{key:1,class:v(["mx-auto flex h-full w-full max-w-7xl flex-1 flex-col gap-4 rounded-xl",t.value])},[m(o.$slots,"default")],2))}}),Nt=f({__name:"AppShell",props:{variant:{},class:{}},setup(l){const a=l,t=L().props.sidebarOpen;return(o,u)=>o.variant==="header"?(n(),y("div",{key:0,class:v(["flex min-h-screen w-full flex-col",a.class])},[m(o.$slots,"default")],2)):(n(),c(e(ye),{key:1,"default-open":e(t),class:v(a.class)},{default:s(()=>[m(o.$slots,"default")]),_:3},8,["default-open","class"]))}}),Lt=["href"],Et=f({__name:"NavFooter",props:{items:{},class:{}},setup(l){return(a,t)=>(n(),c(e(ie),{class:v(`group-data-[collapsible=icon]:p-0 ${a.$props.class||""}`)},{default:s(()=>[r(e(ve),null,{default:s(()=>[r(e(U),null,{default:s(()=>[(n(!0),y(x,null,ae(a.items,o=>(n(),c(e(W),{key:o.title},{default:s(()=>[r(e(K),{class:"text-neutral-600 hover:text-neutral-800 dark:text-neutral-300 dark:hover:text-neutral-100","as-child":""},{default:s(()=>[d("a",{href:o.href,target:"_blank",rel:"noopener noreferrer"},[(n(),c(te(o.icon))),d("span",null,$(o.title),1)],8,Lt)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["class"]))}}),Tt=f({__name:"NavMain",props:{items:{}},setup(l){const a=L();return(t,o)=>(n(),c(e(ie),{class:"px-2 py-0"},{default:s(()=>[r(e(we),null,{default:s(()=>[...o[0]||(o[0]=[S("Platform",-1)])]),_:1}),r(e(U),null,{default:s(()=>[(n(!0),y(x,null,ae(t.items,u=>(n(),c(e(W),{key:u.title},{default:s(()=>[r(e(K),{"as-child":"","is-active":u.href===e(a).url,tooltip:u.title},{default:s(()=>[r(e(O),{href:u.href},{default:s(()=>[(n(),c(te(u.icon))),d("span",null,$(u.title),1)]),_:2},1032,["href"])]),_:2},1032,["is-active","tooltip"])]),_:2},1024))),128))]),_:1})]),_:1}))}}),It={class:"flex items-center gap-2 px-1 py-1.5 text-left text-sm"},zt={class:"flex items-center justify-between text-xs"},Rt={class:"flex items-center gap-1.5 text-muted-foreground"},jt={class:"font-semibold text-foreground"},Ut={class:"mt-1.5 h-1 w-full overflow-hidden rounded-full bg-muted"},Wt=f({__name:"UserMenuContent",props:{user:{}},setup(l){const a=()=>{Ee.flushAll()},t=L(),o=B(()=>t.props.auth),u=B(()=>o.value?.user?.word_balance_data);return(p,i)=>(n(),y(x,null,[r(e(ne),{class:"p-0 font-normal"},{default:s(()=>[d("div",It,[r(de,{user:p.user,"show-email":!0},null,8,["user"])])]),_:1}),u.value?(n(),c(e(X),{key:0})):F("",!0),u.value?(n(),c(e(ne),{key:1,class:"px-2 py-1.5"},{default:s(()=>[d("div",zt,[d("div",Rt,[r(e(H),{class:"h-3.5 w-3.5"}),i[0]||(i[0]=d("span",null,"Credit Balance",-1))]),d("span",jt,$(u.value.formatted_balance),1)]),d("div",Ut,[d("div",{class:"h-full bg-primary transition-all duration-300",style:pe({width:`${u.value.percentage_remaining}%`})},null,4)])]),_:1})):F("",!0),r(e(X)),r(e(At),null,{default:s(()=>[r(e(Q),{"as-child":!0},{default:s(()=>[r(e(O),{class:"block w-full",href:p.route("pricing"),prefetch:"",as:"button"},{default:s(()=>[r(e(Be),{class:"mr-2 h-4 w-4"}),i[1]||(i[1]=S(" Buy Credits ",-1))]),_:1},8,["href"])]),_:1}),r(e(Q),{"as-child":!0},{default:s(()=>[r(e(O),{class:"block w-full",href:p.route("profile.edit"),prefetch:"",as:"button"},{default:s(()=>[r(e($e),{class:"mr-2 h-4 w-4"}),i[2]||(i[2]=S(" Settings ",-1))]),_:1},8,["href"])]),_:1})]),_:1}),r(e(X)),r(e(Q),{"as-child":!0},{default:s(()=>[r(e(O),{class:"block w-full",method:"post",href:p.route("logout"),onClick:a,as:"button"},{default:s(()=>[r(e(qe),{class:"mr-2 h-4 w-4"}),i[3]||(i[3]=S(" Log out ",-1))]),_:1},8,["href"])]),_:1})],64))}}),Kt=f({__name:"NavUser",setup(l){const t=L().props.auth?.user,{isMobile:o,state:u}=ke();return(p,i)=>e(t)?(n(),c(e(U),{key:0},{default:s(()=>[r(e(W),null,{default:s(()=>[r(e(Je),null,{default:s(()=>[r(e(Xe),{"as-child":""},{default:s(()=>[r(e(K),{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground"},{default:s(()=>[r(de,{user:e(t)},null,8,["user"]),r(e(Pe),{class:"ml-auto size-4"})]),_:1})]),_:1}),r(e(Qe),{class:"w-(--reka-dropdown-menu-trigger-width) min-w-56 rounded-lg",side:e(o)?"bottom":e(u)==="collapsed"?"left":"bottom",align:"end","side-offset":4},{default:s(()=>[r(Wt,{user:e(t)},null,8,["user"])]),_:1},8,["side"])]),_:1})]),_:1})]),_:1})):F("",!0)}}),Gt={class:"flex aspect-square size-8 items-center justify-center rounded-md bg-sidebar-primary text-sidebar-primary-foreground"},Ht=f({__name:"AppLogo",setup(l){return(a,t)=>(n(),y(x,null,[d("div",Gt,[r(Ze,{class:"size-5 fill-current text-white dark:text-black"})]),t[0]||(t[0]=d("div",{class:"ml-1 grid flex-1 text-left text-sm"},[d("span",{class:"mb-0.5 truncate leading-tight font-semibold"},"Laravel Starter Kit")],-1))],64))}}),Vt=f({__name:"AppSidebar",setup(l){const a=[{title:"Dashboard",href:"/dashboard",icon:Ft},{title:"My Projects",href:"/projects",icon:xt},{title:"Topic Library",href:"/projects/topics",icon:St},{title:"New Project",href:"/projects/create",icon:oe},{title:"Buy Credits",href:"/pricing",icon:H}],t=[{title:"Github Repo",href:"https://github.com/Adamcy-lvts/finalyze",icon:Se},{title:"Documentation",href:"#",icon:et}];return(o,u)=>(n(),y(x,null,[r(e(Ce),{collapsible:"icon",variant:"inset"},{default:s(()=>[r(e(Oe),null,{default:s(()=>[r(e(U),null,{default:s(()=>[r(e(W),null,{default:s(()=>[r(e(K),{size:"lg","as-child":""},{default:s(()=>[r(e(O),{href:o.route("dashboard")},{default:s(()=>[r(Ht)]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})]),_:1}),r(e(xe),null,{default:s(()=>[r(Tt,{items:a})]),_:1}),r(e(Fe),null,{default:s(()=>[r(Et,{items:t}),r(Kt)]),_:1})]),_:1}),m(o.$slots,"default")],64))}}),Jt=f({__name:"Breadcrumb",props:{class:{}},setup(l){const a=l;return(t,o)=>(n(),y("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",class:v(a.class)},[m(t.$slots,"default")],2))}}),Xt=f({__name:"BreadcrumbItem",props:{class:{}},setup(l){const a=l;return(t,o)=>(n(),y("li",{"data-slot":"breadcrumb-item",class:v(e(M)("inline-flex items-center gap-1.5",a.class))},[m(t.$slots,"default")],2))}}),Qt=f({__name:"BreadcrumbLink",props:{asChild:{type:Boolean},as:{default:"a"},class:{}},setup(l){const a=l;return(t,o)=>(n(),c(e(R),{"data-slot":"breadcrumb-link",as:t.as,"as-child":t.asChild,class:v(e(M)("hover:text-foreground transition-colors",a.class))},{default:s(()=>[m(t.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),Yt=f({__name:"BreadcrumbList",props:{class:{}},setup(l){const a=l;return(t,o)=>(n(),y("ol",{"data-slot":"breadcrumb-list",class:v(e(M)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",a.class))},[m(t.$slots,"default")],2))}}),Zt=f({__name:"BreadcrumbPage",props:{class:{}},setup(l){const a=l;return(t,o)=>(n(),y("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",class:v(e(M)("text-foreground font-normal",a.class))},[m(t.$slots,"default")],2))}}),ea=f({__name:"BreadcrumbSeparator",props:{class:{}},setup(l){const a=l;return(t,o)=>(n(),y("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",class:v(e(M)("[&>svg]:size-3.5",a.class))},[m(t.$slots,"default",{},()=>[r(e(ot))])],2))}}),ta=f({__name:"Breadcrumbs",props:{breadcrumbs:{}},setup(l){return(a,t)=>(n(),c(e(Jt),null,{default:s(()=>[r(e(Yt),null,{default:s(()=>[(n(!0),y(x,null,ae(a.breadcrumbs,(o,u)=>(n(),y(x,{key:u},[r(e(Xt),null,{default:s(()=>[u===a.breadcrumbs.length-1?(n(),c(e(Zt),{key:0},{default:s(()=>[S($(o.title),1)]),_:2},1024)):(n(),c(e(Qt),{key:1,"as-child":""},{default:s(()=>[r(e(O),{href:o.href??"#"},{default:s(()=>[S($(o.title),1)]),_:2},1032,["href"])]),_:2},1024))]),_:2},1024),u!==a.breadcrumbs.length-1?(n(),c(e(ea),{key:0})):F("",!0)],64))),128))]),_:1})]),_:1}))}}),aa=f({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(l,{emit:a}){const u=T(l,a);return(p,i)=>(n(),c(e(mt),k({"data-slot":"popover"},e(u)),{default:s(()=>[m(p.$slots,"default")]),_:3},16))}}),sa=f({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{default:"center"},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(l,{emit:a}){const t=l,o=a,u=fe(t,"class"),p=T(u,o);return(i,_)=>(n(),c(e(qt),null,{default:s(()=>[r(e(Bt),k({"data-slot":"popover-content"},{...e(p),...i.$attrs},{class:e(M)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md origin-(--reka-popover-content-transform-origin) outline-hidden",t.class)}),{default:s(()=>[m(i.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),ra=f({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(l){const a=l;return(t,o)=>(n(),c(e(Pt),k({"data-slot":"popover-trigger"},a),{default:s(()=>[m(t.$slots,"default")]),_:3},16))}}),oa={class:"flex items-start justify-between mb-4"},la={class:"flex items-center gap-2"},na={class:"p-2 rounded-lg bg-primary/10"},ua={class:"text-center py-4"},ia={class:"mb-4"},da={class:"flex justify-between text-xs text-muted-foreground mb-1"},ca={class:"h-2 bg-muted rounded-full overflow-hidden"},pa={class:"grid grid-cols-2 gap-4 text-center text-sm"},fa={class:"p-2 rounded bg-muted/30"},_a={class:"font-medium"},ma={class:"p-2 rounded bg-muted/30"},ga={class:"font-medium"},ue=f({__name:"CreditBalanceCard",props:{balance:{},showTopUp:{type:Boolean,default:!0},className:{default:""}},setup(l){const a=l,t=B(()=>a.balance.percentage_remaining),o=B(()=>{const i=a.balance.percentage_remaining;return i>50?"healthy":i>20?"warning":"critical"}),u=B(()=>{switch(o.value){case"healthy":return"bg-green-500";case"warning":return"bg-yellow-500";case"critical":return"bg-red-500";default:return"bg-primary"}}),p=B(()=>{switch(o.value){case"healthy":return"text-green-600 dark:text-green-400";case"warning":return"text-yellow-600 dark:text-yellow-400";case"critical":return"text-red-600 dark:text-red-400";default:return"text-foreground"}});return(i,_)=>(n(),c(e(it),{class:v(["overflow-hidden",i.className])},{default:s(()=>[r(e(dt),{class:"p-6"},{default:s(()=>[d("div",oa,[d("div",la,[d("div",na,[r(e(H),{class:"w-5 h-5 text-primary"})]),_[0]||(_[0]=d("div",null,[d("h3",{class:"font-semibold"},"Credit Balance"),d("p",{class:"text-xs text-muted-foreground"},"Your available credits")],-1))]),r(e(Dt),null,{default:s(()=>[r(e(De),null,{default:s(()=>[r(e(Ae),null,{default:s(()=>[r(e(tt),{class:"w-4 h-4 text-muted-foreground"})]),_:1}),r(e(Me),null,{default:s(()=>[..._[1]||(_[1]=[d("p",null,"Credits are used for AI generation features.",-1),d("p",null,"They never expire!",-1)])]),_:1})]),_:1})]),_:1})]),d("div",ua,[d("div",{class:v(["text-4xl font-bold",p.value])},$(i.balance.formatted_balance),3),_[2]||(_[2]=d("div",{class:"text-sm text-muted-foreground"},"credits remaining",-1))]),d("div",ia,[d("div",da,[d("span",null,$(i.balance.percentage_remaining.toFixed(0))+"% remaining",1),d("span",null,$(i.balance.total_used.toLocaleString())+" used",1)]),d("div",ca,[d("div",{class:v(["h-full transition-all duration-500",u.value]),style:pe({width:`${t.value}%`})},null,6)])]),d("div",pa,[d("div",fa,[d("div",_a,$(i.balance.total_purchased.toLocaleString()),1),_[3]||(_[3]=d("div",{class:"text-xs text-muted-foreground"},"Purchased",-1))]),d("div",ma,[d("div",ga,$(i.balance.bonus_received.toLocaleString()),1),_[4]||(_[4]=d("div",{class:"text-xs text-muted-foreground"},"Bonus",-1))])]),i.showTopUp?(n(),c(e(O),{key:0,href:e(G)("pricing"),class:"block mt-4"},{default:s(()=>[r(e(re),{variant:"outline",class:"w-full"},{default:s(()=>[r(e(oe),{class:"w-4 h-4 mr-2"}),_[5]||(_[5]=S(" Buy More Credits ",-1))]),_:1})]),_:1},8,["href"])):F("",!0)]),_:1})]),_:1},8,["class"]))}}),ha={key:0,class:"flex items-center gap-2"},ba={class:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-muted/50 hover:bg-muted transition-colors cursor-pointer"},ya={class:"font-medium text-sm"},va=f({__name:"WordBalanceDisplay",props:{balance:{},compact:{type:Boolean,default:!1},showTopUp:{type:Boolean,default:!0}},setup(l){return(a,t)=>a.compact?(n(),y("div",ha,[r(e(aa),null,{default:s(()=>[r(e(ra),{"as-child":""},{default:s(()=>[d("div",ba,[r(e(H),{class:"w-4 h-4 text-primary"}),d("span",ya,$(a.balance.formatted_balance),1),t[0]||(t[0]=d("span",{class:"text-xs text-muted-foreground"},"credits",-1))])]),_:1}),r(e(sa),{class:"w-80 p-0",align:"end"},{default:s(()=>[r(ue,{balance:a.balance,"show-top-up":a.showTopUp,class:"border-0 shadow-none"},null,8,["balance","show-top-up"])]),_:1})]),_:1}),a.showTopUp?(n(),c(e(O),{key:0,href:e(G)("pricing")},{default:s(()=>[r(e(re),{variant:"ghost",size:"icon",class:"h-8 w-8"},{default:s(()=>[r(e(oe),{class:"w-4 h-4"})]),_:1})]),_:1},8,["href"])):F("",!0)])):(n(),c(ue,{key:1,balance:a.balance,"show-top-up":a.showTopUp},null,8,["balance","show-top-up"]))}}),wa=f({__name:"ThemeToggle",setup(l){const{updateAppearance:a}=Te(),t=()=>{const o=document.documentElement.classList.contains("dark");a(o?"light":"dark")};return(o,u)=>(n(),c(e(re),{variant:"ghost",size:"icon",onClick:u[0]||(u[0]=p=>t()),class:"w-9 h-9 rounded-full relative overflow-hidden"},{default:s(()=>[r(e(at),{class:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),r(e(st),{class:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),u[1]||(u[1]=d("span",{class:"sr-only"},"Toggle theme",-1))]),_:1}))}}),Y=q(null);let N=!1,j=0,z=null;function Ba(l){if(j++,console.log(`[WordBalance] Init listener called, subscriber count: ${j}, already subscribed: ${N}`),N){console.log("[WordBalance] Already subscribed, skipping");return}if(!window.Echo){console.warn("[WordBalance] window.Echo not available");return}try{console.log(`[WordBalance] Subscribing to private channel: user.${l}`);const a=window.Echo.private(`user.${l}`);a.listen(".balance.updated",t=>{console.log("ðŸ’° [WordBalance] Event received:",t),console.log(`ðŸ’° [WordBalance] New balance: ${t.balance.formatted_balance} (reason: ${t.reason})`),Y.value=t.balance}),a.subscribed(()=>{console.log(`âœ… [WordBalance] Successfully subscribed to user.${l} channel`)}),a.error(t=>{console.error("[WordBalance] Channel error:",t)}),N=!0,z=l,console.log(`âœ… [WordBalance] Listener registered for user.${l}`)}catch(a){console.error("[WordBalance] Failed to subscribe to balance channel:",a)}}function $a(){if(j--,!(j>0||!N||!window.Echo||!z))try{window.Echo.leave(`user.${z}`),N=!1,z=null,console.log("ðŸ”Œ Unsubscribed from balance updates channel")}catch(l){console.error("Failed to unsubscribe from balance channel:",l)}}function qa(){const l=L(),a=q(!1),t=q(!1),o=q(0),u=q(""),p=B(()=>l.props.auth?.user?.id??null),i=B(()=>Y.value?Y.value:l.props.auth?.user?.word_balance_data??null),_=B(()=>i.value?.balance??0),g=B(()=>i.value?.formatted_balance??"0"),h=B(()=>_.value>0),b=B(()=>i.value?i.value.percentage_remaining<20:!1),P=w=>{const C=_.value,A=C>=w;return{canProceed:A,balance:C,required:w,shortage:A?0:w-C}},D=(w,C="continue")=>P(w).canProceed?!0:(o.value=w,u.value=C,t.value=!0,!1),V=async()=>{a.value=!0;try{const C=await(await fetch(G("api.balance"))).json();if(C.balance){const A=l.props.auth;A?.user&&(A.user.word_balance_data=C.balance)}return C.balance}catch(w){return console.error("Failed to fetch balance:",w),null}finally{a.value=!1}},J={chapter:w=>Math.ceil(w*1.1),suggestion:()=>200,chat:()=>500,defense:()=>1e3,expand:()=>300,rephrase:()=>150},ge=()=>{t.value=!1,o.value=0,u.value=""};return ce(()=>{p.value&&Ba(p.value)}),Ie(()=>{$a()}),{wordBalance:i,balance:_,formattedBalance:g,hasWords:h,isLowBalance:b,isLoading:a,showPurchaseModal:t,requiredWordsForModal:o,actionDescriptionForModal:u,checkBalance:P,checkAndPrompt:D,refreshBalance:V,closePurchaseModal:ge,estimates:J}}async function ja(l,a,t,o){try{await fetch(G("api.words.record-usage"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({words:l,description:a,reference_type:t,reference_id:o})})}catch(u){console.error("Failed to record word usage:",u)}}const ka={class:"flex h-16 shrink-0 items-center gap-2 border-b border-sidebar-border/70 px-6 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-4"},Pa={class:"flex items-center gap-2"},Ca={class:"ml-auto flex items-center gap-2"},Oa=f({__name:"AppSidebarHeader",props:{breadcrumbs:{default:()=>[]}},setup(l){const{wordBalance:a}=qa();return(t,o)=>(n(),y("header",ka,[d("div",Pa,[r(e(Ne),{class:"-ml-1"}),t.breadcrumbs&&t.breadcrumbs.length>0?(n(),c(ta,{key:0,breadcrumbs:t.breadcrumbs},null,8,["breadcrumbs"])):F("",!0)]),d("div",Ca,[r(wa),e(a)?(n(),c(va,{key:0,balance:e(a),compact:""},null,8,["balance"])):F("",!0)])]))}}),xa=f({__name:"AppSidebarLayout",props:{breadcrumbs:{default:()=>[]},class:{default:""},title:{default:""}},setup(l){return(a,t)=>(n(),y(x,null,[r(Nt,{variant:"sidebar",class:v(a.$props.class)},{default:s(()=>[r(Vt),r(Mt,{variant:"sidebar",class:"overflow-x-hidden"},{default:s(()=>[r(Oa,{breadcrumbs:a.breadcrumbs},null,8,["breadcrumbs"]),m(a.$slots,"default")]),_:3})]),_:3},8,["class"]),r(e(rt),{position:"top-right",expand:!1,"rich-colors":!0,"close-button":!0})],64))}}),Ua=f({__name:"AppLayout",props:{breadcrumbs:{default:()=>[]},class:{default:""}},setup(l){return(a,t)=>(n(),c(xa,{breadcrumbs:a.breadcrumbs,class:v(a.$props.class)},{default:s(()=>[m(a.$slots,"default")]),_:3},8,["breadcrumbs","class"]))}});export{xt as F,St as L,Ua as _,Dt as a,ue as b,aa as c,ra as d,sa as e,ja as r,qa as u};
