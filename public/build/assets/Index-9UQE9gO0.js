import{bu as Ne,bt as f,ck as h,ci as Be,cn as v,co as n,cp as r,cr as o,cq as s,cD as g,cI as j,bF as t,ce as x,cl as y,cs as a,en as K,dH as ve,dB as be,ct as d,gJ as Me,cA as R,dr as Oe,d4 as xe,dL as Ie,cu as $,hx as qe,eo as Ge,dQ as H,cT as ye,di as _e,eG as b,hy as we,cv as he,dE as W,d0 as ke,dZ as Ce,cj as Re,et as He}from"./vendor-B5jlBrgV.js";import{_ as J}from"./index-DCGYk7ZE.js";import{_ as p}from"./index-D4mJyiz8.js";import{_ as P,a as S}from"./CardContent.vue_vue_type_script_setup_true_lang-CtTakpSW.js";import{_ as Je,a as Qe}from"./CardTitle.vue_vue_type_script_setup_true_lang-XJ5or5ZK.js";import{_ as X}from"./Checkbox.vue_vue_type_script_setup_true_lang-jW0orlWc.js";import{_ as Y,a as Z}from"./DialogContent.vue_vue_type_script_setup_true_lang-DATQht2f.js";import{_ as ee}from"./DialogDescription.vue_vue_type_script_setup_true_lang-DsP71UmP.js";import{_ as te}from"./DialogFooter.vue_vue_type_script_setup_true_lang-B5lGGt-M.js";import{_ as se,a as re}from"./DialogTitle.vue_vue_type_script_setup_true_lang-Cb9j7AhV.js";import{e as je,_ as $e,a as Pe,c as A}from"./Sonner.vue_vue_type_script_setup_true_lang-sxjlERgN.js";import{_ as Ke}from"./Input.vue_vue_type_script_setup_true_lang-xMT9dCF9.js";import{_ as le,a as oe,b as ae,c as ie,d as m}from"./SelectValue.vue_vue_type_script_setup_true_lang-VRoINCin.js";import{_ as Se}from"./SafeHtmlText.vue_vue_type_script_setup_true_lang-tt96GLrc.js";import{a as We}from"./AppLayout.vue_vue_type_script_setup_true_lang-B2pR5-jN.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-w4YHLOMg.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-C5iiu9qR.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-BodEwO0Z.js";import"./WordBalanceDisplay.vue_vue_type_script_setup_true_lang-DBc7hWuL.js";import"./useAppearance-D3We0oPJ.js";import"./useWordBalance-D_NxFp97.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PWAInstallPrompt.vue_vue_type_script_setup_true_lang-D12IZ_KU.js";const Xe={class:"min-h-screen bg-background"},Ye={class:"container mx-auto px-4 py-8 sm:px-6 lg:px-8 max-w-7xl"},Ze={class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between mb-8"},et={class:"flex flex-wrap gap-2"},tt={key:0,class:"grid gap-4 md:grid-cols-4 mb-8"},st={class:"p-3 rounded-xl bg-blue-500/10 text-blue-500 ring-1 ring-blue-500/20 shadow-[0_0_15px_-3px_rgba(59,130,246,0.3)] group-hover:scale-110 transition-transform duration-300"},rt={class:"text-2xl font-bold tracking-tight"},lt={class:"p-3 rounded-xl bg-green-500/10 text-green-500 ring-1 ring-green-500/20 shadow-[0_0_15px_-3px_rgba(34,197,94,0.3)] group-hover:scale-110 transition-transform duration-300"},ot={class:"text-2xl font-bold tracking-tight"},at={class:"p-3 rounded-xl bg-purple-500/10 text-purple-500 ring-1 ring-purple-500/20 shadow-[0_0_15px_-3px_rgba(168,85,247,0.3)] group-hover:scale-110 transition-transform duration-300"},it={class:"text-2xl font-bold tracking-tight"},nt={class:"p-3 rounded-xl bg-orange-500/10 text-orange-500 ring-1 ring-orange-500/20 shadow-[0_0_15px_-3px_rgba(249,115,22,0.3)] group-hover:scale-110 transition-transform duration-300"},dt={class:"text-2xl font-bold tracking-tight"},ut={key:1,class:"space-y-4 mb-6"},ct={class:"flex flex-col md:flex-row gap-4 justify-between items-start md:items-center p-1 rounded-xl"},pt={class:"flex items-center gap-4 w-full md:w-auto"},mt={class:"flex items-center gap-2 px-3 py-2 bg-card/50 border border-border/50 rounded-lg hover:border-primary/20 transition-colors"},ft={class:"relative flex-1 md:w-72 group"},gt={class:"flex flex-wrap items-center gap-3 w-full md:w-auto"},vt={class:"flex items-center border border-border/50 rounded-lg bg-card/50 p-1"},bt={key:0,class:"flex items-center justify-between p-3 bg-primary/10 border border-primary/20 rounded-lg text-primary animate-in fade-in slide-in-from-top-2 shadow-lg shadow-primary/5"},xt={class:"text-sm font-medium flex items-center gap-2"},yt={class:"flex gap-2"},_t={class:"text-sm text-muted-foreground px-1"},wt={key:2},ht={key:0,class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 pb-12"},kt={class:"absolute top-3 right-3 z-10"},Ct={class:"mb-4"},jt={class:"inline-flex p-2.5 rounded-lg bg-primary/5 text-primary mb-3 ring-1 ring-primary/10 group-hover:bg-primary/10 group-hover:ring-primary/20 transition-all"},$t={class:"flex flex-wrap items-center gap-2 mb-5"},Pt={class:"space-y-3"},St={class:"flex justify-between text-xs"},Dt={class:"font-bold text-foreground"},Tt={class:"relative h-2 w-full overflow-hidden rounded-full bg-secondary/50"},At={class:"mt-4 flex items-center justify-between"},Vt={key:1,class:"w-full flex items-center justify-center h-8 bg-green-500/10 border border-green-500/20 rounded-md text-green-600 text-xs font-medium"},Ut={class:"mt-4 pt-4 border-t border-border/50 flex items-center justify-between text-[11px] text-muted-foreground font-medium"},zt={class:"flex items-center gap-1.5"},Et={key:0},Lt={key:1},Ft={class:"opacity-70"},Nt={key:1,class:"space-y-3 pb-12"},Bt=["onClick"],Mt={class:"p-2.5 rounded-lg bg-primary/5 text-primary ring-1 ring-primary/10"},Ot={class:"flex-1 min-w-0 grid grid-cols-1 md:grid-cols-12 gap-6 items-center"},It={class:"md:col-span-4"},qt={class:"flex items-center gap-2 mt-1.5"},Gt={class:"text-xs text-muted-foreground"},Rt={class:"md:col-span-3 flex items-center gap-2"},Ht={class:"md:col-span-4"},Jt={class:"flex items-center gap-3"},Qt={class:"flex-1 h-2 bg-secondary/50 rounded-full overflow-hidden"},Kt={class:"text-xs font-bold w-10 text-right"},Wt={class:"md:col-span-1 flex justify-end pr-2"},Xt={class:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-primary/5 text-primary ring-1 ring-primary/10 shadow-lg shadow-primary/5"},Yt={class:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-muted/50 text-muted-foreground"},Zt={key:1,class:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent"},es={key:1,class:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent"},ts={class:"space-y-3"},ss={class:"text-sm font-medium text-foreground"},rs={key:0,class:"text-sm text-destructive"},Ps=Ne({__name:"Index",props:{projects:{}},setup(De){const k=De,V=f(""),U=f("all"),z=f("all"),E=f("created_at"),ne=f("desc"),L=f("grid"),u=f([]),F=f(!1),D=f(!1),N=f(!1),T=f(null),C=f(!1),B=f(!1),M=f(null),O=f(!1),I=f(null),_=h(()=>{let i=[...k.projects];if(V.value.trim()){const e=V.value.toLowerCase();i=i.filter(l=>(l.title||"").toLowerCase().includes(e)||(l.full_university_name||l.university).toLowerCase().includes(e)||l.type.toLowerCase().includes(e))}return U.value!=="all"&&(i=i.filter(e=>e.status===U.value)),z.value!=="all"&&(i=i.filter(e=>e.type===z.value)),i.sort((e,l)=>{let c=e[E.value],w=l[E.value];if(E.value==="created_at"&&(c=new Date(c).getTime(),w=new Date(w).getTime()),typeof c=="string"&&(c=c.toLowerCase()),typeof w=="string"&&(w=w.toLowerCase()),c!=null&&w!=null){if(c<w)return ne.value==="asc"?-1:1;if(c>w)return ne.value==="asc"?1:-1}return 0}),i}),q=h(()=>k.projects.length),Te=h(()=>k.projects.filter(i=>i.is_active).length),Ae=h(()=>k.projects.filter(i=>i.status==="completed").length),Ve=h(()=>k.projects.length===0?0:Math.round(k.projects.reduce((i,e)=>i+e.progress,0)/k.projects.length)),de=i=>{const e=u.value.indexOf(i);e>-1?u.value.splice(e,1):u.value.push(i)},ue=h({get(){return _.value.length===0||u.value.length===0?!1:u.value.length===_.value.length?!0:"indeterminate"},set(i){i===!0?u.value=_.value.map(e=>e.id):u.value=[]}}),G=h(()=>u.value.length),Ue=h(()=>G.value>0),ze=i=>{M.value=i,I.value=null,B.value=!0},Ee=()=>{M.value&&(O.value=!0,I.value=null,x.post(y("projects.complete",M.value.slug),{},{preserveScroll:!0,onSuccess:i=>{const e=i.props?.flash?.message||"Project marked as completed.";Re.success(e),B.value=!1,M.value=null},onError:i=>{const e=i?.message||"Could not complete project. Please try again.";I.value=e},onFinish:()=>{O.value=!1}}))};Be(_,i=>{const e=i.map(c=>c.id),l=u.value.filter(c=>e.includes(c));l.length!==u.value.length&&(u.value=l)});const ce=i=>new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Q=i=>{switch(i.toLowerCase()){case"thesis":return Ce;case"dissertation":return K;case"research":return He;default:return be}},pe=i=>{switch(i){case"draft":return"bg-gray-500/10 text-gray-700";case"setup":return"bg-blue-500/10 text-blue-700";case"planning":return"bg-purple-500/10 text-purple-700";case"writing":return"bg-blue-500/10 text-blue-700";case"review":return"bg-yellow-500/10 text-yellow-700";case"completed":return"bg-green-500/10 text-green-700";case"on_hold":return"bg-orange-500/10 text-orange-700";case"archived":return"bg-gray-500/10 text-gray-700";case"topic_selection":return"bg-blue-500/10 text-blue-700";case"topic_pending_approval":return"bg-yellow-500/10 text-yellow-700";case"topic_approved":return"bg-green-500/10 text-green-700";default:return"bg-gray-500/10 text-gray-700"}},me=i=>{x.post(y("projects.set-active",i))},fe=i=>{T.value=i,N.value=!0},Le=async()=>{if(!T.value)return;const i=T.value.id,e=T.value.slug;C.value=!0;try{x.delete(y("projects.destroy",e),{onSuccess:()=>{N.value=!1,T.value=null,u.value.includes(i)&&(u.value=u.value.filter(l=>l!==i))},onError:()=>{alert("Failed to delete project. Please try again.")},onFinish:()=>{C.value=!1}})}catch(l){console.error("Error deleting project:",l),alert("An error occurred while deleting the project."),C.value=!1}},ge=()=>{u.value=[]},Fe=async()=>{if(u.value.length!==0){D.value=!0;try{const e=await(await fetch(y("projects.bulk-destroy"),{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({project_ids:u.value})})).json();e.success?x.reload():alert("Error deleting projects: "+e.message)}catch(i){console.error("Error deleting projects:",i),alert("An error occurred while deleting projects.")}finally{D.value=!1,F.value=!1,ge()}}};return(i,e)=>(n(),v(We,{title:"My Projects"},{default:r(()=>[o("div",Xe,[o("div",Ye,[o("div",Ze,[e[24]||(e[24]=o("div",null,[o("h1",{class:"text-3xl font-bold tracking-tight text-foreground bg-clip-text text-transparent bg-gradient-to-r from-foreground to-foreground/70"}," Projects"),o("p",{class:"text-muted-foreground mt-1"},"Manage and track your research progress.")],-1)),o("div",et,[s(t(p),{variant:"outline",onClick:e[0]||(e[0]=()=>t(x).visit(t(y)("projects.topics.index"))),class:"border-primary/20 hover:bg-primary/5 hover:text-primary transition-colors"},{default:r(()=>[s(t(K),{class:"mr-2 h-4 w-4"}),e[22]||(e[22]=a(" Topic Library ",-1))]),_:1}),s(t(p),{onClick:e[1]||(e[1]=()=>t(x).visit(t(y)("projects.create"))),size:"lg",class:"shadow-lg shadow-primary/25 hover:shadow-primary/40 transition-all"},{default:r(()=>[s(t(ve),{class:"mr-2 h-4 w-4"}),e[23]||(e[23]=a(" New Project ",-1))]),_:1})])]),q.value>0?(n(),g("div",tt,[s(t(P),{class:"shadow-sm border-border/50 bg-card/50 backdrop-blur-sm relative overflow-hidden group hover:border-blue-500/30 transition-all duration-300"},{default:r(()=>[e[26]||(e[26]=o("div",{class:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-blue-500/0 via-blue-500/50 to-blue-500/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"},null,-1)),s(t(S),{class:"p-6 flex items-center gap-4"},{default:r(()=>[o("div",st,[s(t(be),{class:"h-6 w-6"})]),o("div",null,[e[25]||(e[25]=o("p",{class:"text-sm font-medium text-muted-foreground"},"Total Projects",-1)),o("h3",rt,d(q.value),1)])]),_:1})]),_:1}),s(t(P),{class:"shadow-sm border-border/50 bg-card/50 backdrop-blur-sm relative overflow-hidden group hover:border-green-500/30 transition-all duration-300"},{default:r(()=>[e[28]||(e[28]=o("div",{class:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-green-500/0 via-green-500/50 to-green-500/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"},null,-1)),s(t(S),{class:"p-6 flex items-center gap-4"},{default:r(()=>[o("div",lt,[s(t(Me),{class:"h-6 w-6"})]),o("div",null,[e[27]||(e[27]=o("p",{class:"text-sm font-medium text-muted-foreground"},"Active",-1)),o("h3",ot,d(Te.value),1)])]),_:1})]),_:1}),s(t(P),{class:"shadow-sm border-border/50 bg-card/50 backdrop-blur-sm relative overflow-hidden group hover:border-purple-500/30 transition-all duration-300"},{default:r(()=>[e[30]||(e[30]=o("div",{class:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-purple-500/0 via-purple-500/50 to-purple-500/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"},null,-1)),s(t(S),{class:"p-6 flex items-center gap-4"},{default:r(()=>[o("div",at,[s(t(R),{class:"h-6 w-6"})]),o("div",null,[e[29]||(e[29]=o("p",{class:"text-sm font-medium text-muted-foreground"},"Completed",-1)),o("h3",it,d(Ae.value),1)])]),_:1})]),_:1}),s(t(P),{class:"shadow-sm border-border/50 bg-card/50 backdrop-blur-sm relative overflow-hidden group hover:border-orange-500/30 transition-all duration-300"},{default:r(()=>[e[32]||(e[32]=o("div",{class:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-orange-500/0 via-orange-500/50 to-orange-500/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"},null,-1)),s(t(S),{class:"p-6 flex items-center gap-4"},{default:r(()=>[o("div",nt,[s(t(Oe),{class:"h-6 w-6"})]),o("div",null,[e[31]||(e[31]=o("p",{class:"text-sm font-medium text-muted-foreground"},"Avg Progress",-1)),o("h3",dt,d(Ve.value)+"%",1)])]),_:1})]),_:1})])):j("",!0),q.value>0?(n(),g("div",ut,[o("div",ct,[o("div",pt,[o("div",mt,[s(t(X),{checked:ue.value,"onUpdate:checked":e[2]||(e[2]=l=>ue.value=l),id:"select-all"},null,8,["checked"]),e[33]||(e[33]=o("label",{for:"select-all",class:"text-sm font-medium cursor-pointer select-none"}," Select All ",-1))]),o("div",ft,[s(t(xe),{class:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground group-focus-within:text-primary transition-colors"}),s(t(Ke),{modelValue:V.value,"onUpdate:modelValue":e[3]||(e[3]=l=>V.value=l),placeholder:"Search projects...",class:"pl-9 bg-card/50 border-border/50 focus:border-primary/50 focus:ring-primary/20 focus:bg-background transition-all"},null,8,["modelValue"])])]),o("div",gt,[s(t(le),{modelValue:U.value,"onUpdate:modelValue":e[4]||(e[4]=l=>U.value=l)},{default:r(()=>[s(t(oe),{class:"w-[140px] bg-card/50 border-border/50 focus:ring-primary/20"},{default:r(()=>[s(t(Ie),{class:"mr-2 h-3.5 w-3.5 text-muted-foreground"}),s(t(ae),{placeholder:"Status"})]),_:1}),s(t(ie),null,{default:r(()=>[s(t(m),{value:"all"},{default:r(()=>[...e[34]||(e[34]=[a("All Status",-1)])]),_:1}),s(t(m),{value:"draft"},{default:r(()=>[...e[35]||(e[35]=[a("Draft",-1)])]),_:1}),s(t(m),{value:"setup"},{default:r(()=>[...e[36]||(e[36]=[a("Setup",-1)])]),_:1}),s(t(m),{value:"planning"},{default:r(()=>[...e[37]||(e[37]=[a("Planning",-1)])]),_:1}),s(t(m),{value:"writing"},{default:r(()=>[...e[38]||(e[38]=[a("Writing",-1)])]),_:1}),s(t(m),{value:"review"},{default:r(()=>[...e[39]||(e[39]=[a("Under Review",-1)])]),_:1}),s(t(m),{value:"completed"},{default:r(()=>[...e[40]||(e[40]=[a("Completed",-1)])]),_:1}),s(t(m),{value:"on_hold"},{default:r(()=>[...e[41]||(e[41]=[a("On Hold",-1)])]),_:1}),s(t(m),{value:"archived"},{default:r(()=>[...e[42]||(e[42]=[a("Archived",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(t(le),{modelValue:z.value,"onUpdate:modelValue":e[5]||(e[5]=l=>z.value=l)},{default:r(()=>[s(t(oe),{class:"w-[140px] bg-card/50 border-border/50 focus:ring-primary/20"},{default:r(()=>[s(t(ae),{placeholder:"Type"})]),_:1}),s(t(ie),null,{default:r(()=>[s(t(m),{value:"all"},{default:r(()=>[...e[43]||(e[43]=[a("All Types",-1)])]),_:1}),s(t(m),{value:"thesis"},{default:r(()=>[...e[44]||(e[44]=[a("Thesis",-1)])]),_:1}),s(t(m),{value:"dissertation"},{default:r(()=>[...e[45]||(e[45]=[a("Dissertation",-1)])]),_:1}),s(t(m),{value:"research"},{default:r(()=>[...e[46]||(e[46]=[a("Research",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e[51]||(e[51]=o("div",{class:"h-8 w-px bg-border/50 mx-1 hidden md:block"},null,-1)),s(t(le),{modelValue:E.value,"onUpdate:modelValue":e[6]||(e[6]=l=>E.value=l)},{default:r(()=>[s(t(oe),{class:"w-[140px] bg-card/50 border-border/50 focus:ring-primary/20"},{default:r(()=>[s(t(ae),{placeholder:"Sort by"})]),_:1}),s(t(ie),null,{default:r(()=>[s(t(m),{value:"created_at"},{default:r(()=>[...e[47]||(e[47]=[a("Date Created",-1)])]),_:1}),s(t(m),{value:"title"},{default:r(()=>[...e[48]||(e[48]=[a("Title",-1)])]),_:1}),s(t(m),{value:"progress"},{default:r(()=>[...e[49]||(e[49]=[a("Progress",-1)])]),_:1}),s(t(m),{value:"status"},{default:r(()=>[...e[50]||(e[50]=[a("Status",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o("div",vt,[s(t(p),{variant:"ghost",size:"sm",class:$(["h-8 px-2.5 rounded-md",{"bg-primary/10 text-primary shadow-sm":L.value==="grid"}]),onClick:e[7]||(e[7]=l=>L.value="grid")},{default:r(()=>[s(t(qe),{class:"h-4 w-4"})]),_:1},8,["class"]),s(t(p),{variant:"ghost",size:"sm",class:$(["h-8 px-2.5 rounded-md",{"bg-primary/10 text-primary shadow-sm":L.value==="list"}]),onClick:e[8]||(e[8]=l=>L.value="list")},{default:r(()=>[s(t(Ge),{class:"h-4 w-4"})]),_:1},8,["class"])])])]),Ue.value?(n(),g("div",bt,[o("span",xt,[s(t(R),{class:"h-4 w-4"}),a(" "+d(G.value)+" project"+d(G.value===1?"":"s")+" selected ",1)]),o("div",yt,[s(t(p),{variant:"ghost",size:"sm",onClick:ge,class:"hover:bg-primary/10 hover:text-primary"},{default:r(()=>[...e[52]||(e[52]=[a(" Cancel ",-1)])]),_:1}),s(t(p),{variant:"destructive",size:"sm",onClick:e[9]||(e[9]=l=>F.value=!0),class:"shadow-sm"},{default:r(()=>[s(t(H),{class:"mr-2 h-4 w-4"}),e[53]||(e[53]=a(" Delete Selected ",-1))]),_:1})])])):j("",!0),o("div",_t," Showing "+d(_.value.length)+" of "+d(q.value)+" projects ",1)])):j("",!0),_.value.length>0?(n(),g("div",wt,[L.value==="grid"?(n(),g("div",ht,[(n(!0),g(ye,null,_e(_.value,l=>(n(),v(t(P),{key:l.id,class:$(["group relative cursor-pointer transition-all duration-300 hover:shadow-2xl hover:shadow-primary/5 border-border/50 bg-gradient-to-b from-card/80 to-card/40 backdrop-blur-sm hover:border-primary/50 overflow-hidden",{"ring-2 ring-primary ring-offset-2 ring-offset-background":u.value.includes(l.id)}]),onClick:b(()=>t(x).visit(t(y)("projects.show",l.slug)),["stop"])},{default:r(()=>[e[60]||(e[60]=o("div",{class:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"},null,-1)),o("div",{class:"absolute top-3 left-3 z-10",onClick:e[10]||(e[10]=b(()=>{},["stop"]))},[s(t(X),{checked:u.value.includes(l.id),"onUpdate:checked":()=>de(l.id),class:$(["bg-background/80 backdrop-blur-sm transition-opacity border-muted-foreground/30 data-[state=checked]:border-primary data-[state=checked]:bg-primary",{"opacity-0 group-hover:opacity-100":!u.value.includes(l.id)}])},null,8,["checked","onUpdate:checked","class"])]),s(t(Je),{class:"pb-3 pt-10 relative"},{default:r(()=>[o("div",kt,[s(t(je),null,{default:r(()=>[s(t($e),{"as-child":""},{default:r(()=>[s(t(p),{variant:"ghost",size:"icon",class:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-background/80",onClick:e[11]||(e[11]=b(()=>{},["stop"]))},{default:r(()=>[s(t(we),{class:"h-4 w-4 text-muted-foreground"})]),_:1})]),_:1}),s(t(Pe),{align:"end",class:"w-48"},{default:r(()=>[s(t(A),{onClick:b(()=>t(x).visit(t(y)("projects.show",l.slug)),["stop"])},{default:r(()=>[s(t(he),{class:"mr-2 h-4 w-4"}),e[54]||(e[54]=a(" Open Project ",-1))]),_:2},1032,["onClick"]),l.is_active?j("",!0):(n(),v(t(A),{key:0,onClick:b(c=>me(l.slug),["stop"])},{default:r(()=>[s(t(R),{class:"mr-2 h-4 w-4"}),e[55]||(e[55]=a(" Set as Active ",-1))]),_:2},1032,["onClick"])),s(t(A),{onClick:b(c=>fe(l),["stop"]),class:"text-destructive focus:text-destructive"},{default:r(()=>[s(t(H),{class:"mr-2 h-4 w-4"}),e[56]||(e[56]=a(" Delete ",-1))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),o("div",Ct,[o("div",jt,[(n(),v(W(Q(l.type)),{class:"h-6 w-6"}))]),s(t(Qe),{class:"text-lg font-bold text-foreground group-hover:text-primary transition-colors leading-tight"},{default:r(()=>[s(Se,{as:"span",class:"block",content:l.title||"Untitled Project"},null,8,["content"])]),_:2},1024)])]),_:2},1024),s(t(S),{class:"relative z-0"},{default:r(()=>[o("div",$t,[s(t(J),{variant:"outline",class:"border-border bg-background/50 backdrop-blur-sm text-xs py-0.5"},{default:r(()=>[(n(),v(W(Q(l.type)),{class:"h-3 w-3 mr-1 opacity-70"})),a(" "+d(l.type),1)]),_:2},1024),s(t(J),{class:$([pe(l.status),"capitalize border-0 font-medium px-2 py-0.5 shadow-sm"])},{default:r(()=>[a(d(l.status.replace("_"," ")),1)]),_:2},1032,["class"])]),o("div",Pt,[o("div",St,[e[57]||(e[57]=o("span",{class:"text-muted-foreground font-medium"},"Progress",-1)),o("span",Dt,d(l.progress)+"%",1)]),o("div",Tt,[o("div",{class:"h-full bg-gradient-to-r from-primary to-primary/80 transition-all duration-500 ease-out",style:ke({width:`${l.progress}%`})},null,4)])]),o("div",At,[l.status!=="completed"?(n(),v(t(p),{key:0,size:"sm",variant:"outline",class:"h-8 text-xs border-primary/20 text-primary/80 hover:text-primary hover:bg-primary/5 hover:border-primary/40 transition-colors w-full",onClick:b(c=>ze(l),["stop"])},{default:r(()=>[...e[58]||(e[58]=[a(" Mark Completed ",-1)])]),_:2},1032,["onClick"])):(n(),g("div",Vt,[s(t(R),{class:"h-3.5 w-3.5 mr-1.5"}),e[59]||(e[59]=a(" Completed ",-1))]))]),o("div",Ut,[o("div",zt,[s(t(K),{class:"h-3.5 w-3.5 opacity-70"}),l.total_chapters>0?(n(),g("span",Et,d(l.completed_chapters)+"/"+d(l.total_chapters)+" Chapters ",1)):(n(),g("span",Lt,"No chapters"))]),o("span",Ft,d(ce(l.created_at)),1)])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))])):(n(),g("div",Nt,[(n(!0),g(ye,null,_e(_.value,l=>(n(),g("div",{key:l.id,class:$(["group flex items-center gap-4 p-4 bg-card/60 backdrop-blur-sm rounded-xl border border-border/50 transition-all duration-200 hover:shadow-lg hover:shadow-primary/5 hover:border-primary/20 cursor-pointer",{"ring-2 ring-primary ring-offset-1 ring-offset-background":u.value.includes(l.id)}]),onClick:b(()=>t(x).visit(t(y)("projects.show",l.slug)),["stop"])},[o("div",{class:"flex items-center h-full pl-2",onClick:e[12]||(e[12]=b(()=>{},["stop"]))},[s(t(X),{checked:u.value.includes(l.id),class:"border-muted-foreground/30 data-[state=checked]:border-primary data-[state=checked]:bg-primary","onUpdate:checked":()=>de(l.id)},null,8,["checked","onUpdate:checked"])]),o("div",Mt,[(n(),v(W(Q(l.type)),{class:"h-5 w-5"}))]),o("div",Ot,[o("div",It,[s(Se,{as:"h3",class:"font-bold text-base group-hover:text-primary transition-colors",content:l.title||"Untitled Project"},null,8,["content"]),o("div",qt,[s(t(J),{variant:"outline",class:"text-[10px] h-5 px-1.5 border-border bg-background/50"},{default:r(()=>[a(d(l.type),1)]),_:2},1024),e[61]||(e[61]=o("span",{class:"text-xs text-muted-foreground"},"â€¢",-1)),o("span",Gt,d(ce(l.created_at)),1)])]),o("div",Rt,[s(t(J),{class:$([pe(l.status),"capitalize border-0 font-medium shadow-sm"])},{default:r(()=>[a(d(l.status.replace("_"," ")),1)]),_:2},1032,["class"]),l.is_active?(n(),v(t(J),{key:0,variant:"outline",class:"border-primary/30 text-primary bg-primary/5 shadow-[0_0_10px_-3px_rgba(59,130,246,0.3)]"},{default:r(()=>[...e[62]||(e[62]=[a(" Active ",-1)])]),_:1})):j("",!0)]),o("div",Ht,[o("div",Jt,[o("div",Qt,[o("div",{class:"h-full bg-gradient-to-r from-primary to-primary/80",style:ke({width:`${l.progress}%`})},null,4)]),o("span",Kt,d(l.progress)+"%",1)])]),o("div",Wt,[s(t(je),null,{default:r(()=>[s(t($e),{"as-child":""},{default:r(()=>[s(t(p),{variant:"ghost",size:"icon",class:"h-8 w-8 hover:bg-background/80",onClick:e[13]||(e[13]=b(()=>{},["stop"]))},{default:r(()=>[s(t(we),{class:"h-4 w-4 text-muted-foreground"})]),_:1})]),_:1}),s(t(Pe),{align:"end",class:"w-48"},{default:r(()=>[s(t(A),{onClick:b(()=>t(x).visit(t(y)("projects.show",l.slug)),["stop"])},{default:r(()=>[s(t(he),{class:"mr-2 h-4 w-4"}),e[63]||(e[63]=a(" Open ",-1))]),_:2},1032,["onClick"]),l.is_active?j("",!0):(n(),v(t(A),{key:0,onClick:b(c=>me(l.slug),["stop"])},{default:r(()=>[s(t(R),{class:"mr-2 h-4 w-4"}),e[64]||(e[64]=a(" Set Active ",-1))]),_:2},1032,["onClick"])),s(t(A),{onClick:b(c=>fe(l),["stop"]),class:"text-destructive"},{default:r(()=>[s(t(H),{class:"mr-2 h-4 w-4"}),e[65]||(e[65]=a(" Delete ",-1))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])])],10,Bt))),128))]))])):q.value===0?(n(),v(t(P),{key:3,class:"border-dashed border-border/50 shadow-none bg-card/30 backdrop-blur-sm"},{default:r(()=>[s(t(S),{class:"py-16 text-center"},{default:r(()=>[o("div",Xt,[s(t(Ce),{class:"h-10 w-10 opacity-80"})]),e[67]||(e[67]=o("h3",{class:"mb-2 text-xl font-bold tracking-tight"},"No projects yet",-1)),e[68]||(e[68]=o("p",{class:"mb-6 text-muted-foreground max-w-sm mx-auto"}," Start your academic journey by creating your first project. ",-1)),s(t(p),{size:"lg",onClick:e[14]||(e[14]=()=>t(x).visit(t(y)("projects.create"))),class:"shadow-lg shadow-primary/20"},{default:r(()=>[s(t(ve),{class:"mr-2 h-5 w-5"}),e[66]||(e[66]=a(" Create Project ",-1))]),_:1})]),_:1})]),_:1})):(n(),v(t(P),{key:4,class:"border-dashed border-border/50 shadow-none bg-card/30 backdrop-blur-sm"},{default:r(()=>[s(t(S),{class:"py-12 text-center"},{default:r(()=>[o("div",Yt,[s(t(xe),{class:"h-6 w-6 opacity-70"})]),e[70]||(e[70]=o("h3",{class:"mb-1 text-lg font-semibold"},"No matches found",-1)),e[71]||(e[71]=o("p",{class:"text-muted-foreground mb-4 text-sm"}," Adjust your filters or search query to find what you're looking for. ",-1)),s(t(p),{variant:"outline",onClick:e[15]||(e[15]=()=>{V.value="",U.value="all",z.value="all"})},{default:r(()=>[...e[69]||(e[69]=[a(" Clear Filters ",-1)])]),_:1})]),_:1})]),_:1}))])]),s(t(Y),{open:F.value,"onUpdate:open":e[17]||(e[17]=l=>F.value=l)},{default:r(()=>[s(t(Z),{class:"sm:max-w-md"},{default:r(()=>[s(t(se),null,{default:r(()=>[s(t(re),null,{default:r(()=>[...e[72]||(e[72]=[a("Delete Selected Projects",-1)])]),_:1}),s(t(ee),null,{default:r(()=>[a(" Are you sure you want to delete "+d(G.value)+" project"+d(G.value===1?"":"s")+"? This action cannot be undone. ",1)]),_:1})]),_:1}),s(t(te),{class:"gap-2 sm:gap-0"},{default:r(()=>[s(t(p),{variant:"outline",onClick:e[16]||(e[16]=l=>F.value=!1),disabled:D.value},{default:r(()=>[...e[73]||(e[73]=[a(" Cancel ",-1)])]),_:1},8,["disabled"]),s(t(p),{variant:"destructive",onClick:Fe,disabled:D.value},{default:r(()=>[D.value?(n(),g("div",Zt)):(n(),v(t(H),{key:0,class:"mr-2 h-4 w-4"})),a(" "+d(D.value?"Deleting...":"Delete"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),s(t(Y),{open:N.value,"onUpdate:open":e[19]||(e[19]=l=>N.value=l)},{default:r(()=>[s(t(Z),{class:"sm:max-w-md"},{default:r(()=>[s(t(se),null,{default:r(()=>[s(t(re),null,{default:r(()=>[...e[74]||(e[74]=[a("Delete Project",-1)])]),_:1}),s(t(ee),null,{default:r(()=>[a(' Are you sure you want to delete "'+d(T.value?.title||"Untitled Project")+'"? This action cannot be undone. ',1)]),_:1})]),_:1}),s(t(te),{class:"gap-2 sm:gap-0"},{default:r(()=>[s(t(p),{variant:"outline",onClick:e[18]||(e[18]=l=>N.value=!1),disabled:C.value},{default:r(()=>[...e[75]||(e[75]=[a(" Cancel ",-1)])]),_:1},8,["disabled"]),s(t(p),{variant:"destructive",onClick:Le,disabled:C.value},{default:r(()=>[C.value?(n(),g("div",es)):(n(),v(t(H),{key:0,class:"mr-2 h-4 w-4"})),a(" "+d(C.value?"Deleting...":"Delete"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),s(t(Y),{open:B.value,"onUpdate:open":e[21]||(e[21]=l=>B.value=l)},{default:r(()=>[s(t(Z),{class:"sm:max-w-md"},{default:r(()=>[s(t(se),null,{default:r(()=>[s(t(re),null,{default:r(()=>[...e[76]||(e[76]=[a("Mark Project as Completed",-1)])]),_:1}),s(t(ee),null,{default:r(()=>[...e[77]||(e[77]=[a(" All required chapters must be completed/approved before finishing. You can still edit later if needed. ",-1)])]),_:1})]),_:1}),o("div",ts,[o("p",ss,d(M.value?.title||"Selected project"),1),e[78]||(e[78]=o("p",{class:"text-xs text-muted-foreground"}," Progress will be locked as completed, but content remains editable. ",-1)),I.value?(n(),g("p",rs,d(I.value),1)):j("",!0)]),s(t(te),{class:"flex-col gap-2 sm:flex-row"},{default:r(()=>[s(t(p),{variant:"outline",class:"w-full sm:w-auto",onClick:e[20]||(e[20]=l=>B.value=!1),disabled:O.value},{default:r(()=>[...e[79]||(e[79]=[a(" Cancel ",-1)])]),_:1},8,["disabled"]),s(t(p),{class:"w-full sm:w-auto",onClick:Ee,disabled:O.value},{default:r(()=>[a(d(O.value?"Marking...":"Mark as Completed"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}});export{Ps as default};
