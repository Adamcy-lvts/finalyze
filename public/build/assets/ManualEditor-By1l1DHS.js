import{aj as ni,B as Q,P as En,d as Mg,W as Pg,f as ti,b as ur,I as js,J as ea,Z as Wg,c as nn,o as ne,K as S,F as C,u as v,X as Fg,w as ie,O as kn,H as pe,M as ht,a as cn,L as hn,n as Wt,a8 as na,N as Bg}from"./app-0JHqRB61.js";import{t as se}from"./index-BOwMHCz2.js";import{_ as ge}from"./index-BA7pPwYs.js";import{_ as Ug}from"./index-BqalPOOA.js";import{_ as An}from"./Separator.vue_vue_type_script_setup_true_lang-V5ZS2nCL.js";import{_ as Dg}from"./Progress.vue_vue_type_script_setup_true_lang-Cu6sPE18.js";import{aa as zg}from"./RichTextEditor-Db3f_zOb.js";import{d as ri,u as Ng,a as $g,c as Gg,b as kg,_ as Hg,M as qg}from"./useManualEditorSuggestions-DEe9NFV_.js";import{_ as Kg}from"./ChapterNavigation.vue_vue_type_script_setup_true_lang-jj5Rv9pP.js";import{u as Zg,M as Yg,a as Xg,P as Jg,_ as Qg,b as ta}from"./useTextHistory-D6VrZkIj.js";import{r as oa,u as Vg,_ as jg}from"./Sonner.vue_vue_type_script_setup_true_lang-u6J8yKbW.js";import{_ as ev}from"./PurchaseModal.vue_vue_type_script_setup_true_lang-5YQumjQJ.js";import{A as ra}from"./arrow-left-BrPxhddA.js";import{M as nv}from"./menu-CtzMJOh7.js";import{S as Au}from"./save-De2jQMip.js";import{M as ia}from"./message-square-BfnqCdc6.js";import{C as tv}from"./chevron-left-Qf_Qssbz.js";import{C as rv}from"./chevron-right-Dn20fKNc.js";import{a as iv,P as uv}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-DZfPUrAa.js";import{L as ov}from"./loader-circle-DHuJSryx.js";import{M as sv,S as av}from"./sun-DO_bwcRT.js";import{M as lv}from"./minimize-2-fJ_4fm8z.js";import{B as fv}from"./brain-CE_Tu2UX.js";import{C as cv}from"./circle-check-big-BRITYhm9.js";import{_ as hv}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DWRQpZuL.js";import"./Separator-nyt__c5Z.js";import"./Presence-3kC5uYjS.js";import"./useForwardExpose-CTg11IGI.js";import"./nullish-CHIgUVhi.js";import"./purify.es-DxJI3Wx7.js";import"./index-BWEDi_FC.js";import"./step-DrZ9DcYd.js";import"./chart-column-CE7yR-kG.js";import"./calendar-Cb0QszEv.js";import"./users-CJZBYTmy.js";import"./circle-alert-DPJJM9wZ.js";import"./eye-CDPJ8V_P.js";import"./check-Bg7H6JfA.js";import"./download-Cwml6fQt.js";import"./trash-2-CeMvEzPF.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-B2XtRaDy.js";import"./VisuallyHidden-BXBG2Nki.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-DCF75Msi.js";import"./x-B5YgQAj1.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-BKNXWFux.js";import"./Input.vue_vue_type_script_setup_true_lang-BkDczHSW.js";import"./Label.vue_vue_type_script_setup_true_lang-Udp3-ZyN.js";import"./type-BPUweUhf.js";import"./minus-COa1WBJX.js";import"./plus-DjHRJm1U.js";import"./list-BaqTSPY-.js";import"./lightbulb-BWJ60eQL.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-Cri_uyxM.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-Cap0zWfU.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./VisuallyHiddenInput-CgTcgTbB.js";import"./RovingFocusItem-B9BmY7lb.js";import"./target-Tq5zWj1k.js";import"./chevron-down-C2JPci5L.js";import"./circle-check-CzJBe7Zy.js";import"./circle-D0DefJdu.js";import"./sparkles-BczxXtPA.js";import"./DefensePreparationPanel.vue_vue_type_script_setup_true_lang-D2srbf_w.js";import"./index-COQLy2VM.js";import"./CardContent.vue_vue_type_script_setup_true_lang-CSeef8Kg.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-DTjtIuSu.js";import"./ScrollArea.vue_vue_type_script_setup_true_lang-CuMruNLm.js";import"./useNonce-C5TJpvB_.js";import"./Switch.vue_vue_type_script_setup_true_lang-CrBBP7J9.js";import"./refresh-cw-D3OTGbtK.js";import"./DialogTrigger-DAs-5NFz.js";import"./lock-BOn_gTnx.js";import"./search-ouazxfJL.js";import"./triangle-alert-DQXCutii.js";import"./file-text-CENNBqfS.js";import"./coins-BoVFOjnA.js";import"./arrow-right-q-jqc40U.js";var or={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var dv=or.exports,ua;function pv(){return ua||(ua=1,(function(tn,U){(function(){var s,Hn="4.17.21",dn=200,dt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",fe="Expected a function",Ft="Invalid `variable` option passed into `_.template`",qn="__lodash_hash_undefined__",pt=500,Z="__lodash_placeholder__",Le=1,Oe=2,rn=4,te=1,re=2,G=1,D=2,ve=4,_e=8,Me=16,ae=32,Kn=64,Pe=128,Zn=256,Bt=512,Tn=30,sr="...",ar=800,ii=16,Ut=1,ui=2,gt=3,X=1/0,V=9007199254740991,me=17976931348623157e292,Rn=NaN,Se=4294967295,Yn=Se-1,Xn=Se>>>1,un=[["ary",Pe],["bind",G],["bindKey",D],["curry",_e],["curryRight",Me],["flip",Bt],["partial",ae],["partialRight",Kn],["rearg",Zn]],Jn="[object Arguments]",on="[object Array]",oi="[object AsyncFunction]",Qn="[object Boolean]",In="[object Date]",si="[object DOMException]",vt="[object Error]",Vn="[object Function]",lr="[object GeneratorFunction]",We="[object Map]",jn="[object Number]",ai="[object Null]",$e="[object Object]",Dt="[object Promise]",fr="[object Proxy]",Ln="[object RegExp]",Ae="[object Set]",On="[object String]",et="[object Symbol]",li="[object Undefined]",pn="[object WeakMap]",zt="[object WeakSet]",gn="[object ArrayBuffer]",Ge="[object DataView]",_t="[object Float32Array]",mt="[object Float64Array]",Mn="[object Int8Array]",Nt="[object Int16Array]",p="[object Int32Array]",x="[object Uint8Array]",O="[object Uint8ClampedArray]",nt="[object Uint16Array]",tt="[object Uint32Array]",cr=/\b__p \+= '';/g,hr=/\b(__p \+=) '' \+/g,$t=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fi=/&(?:amp|lt|gt|quot|#39);/g,Gt=/[&<>"']/g,kt=RegExp(fi.source),ce=RegExp(Gt.source),xt=/<%-([\s\S]+?)%>/g,sn=/<%([\s\S]+?)%>/g,Pn=/<%=([\s\S]+?)%>/g,ci=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hi=/^\w*$/,sa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,di=/[\\^$.*+?()[\]{}|]/g,aa=RegExp(di.source),pi=/^\s+/,la=/\s/,fa=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ca=/\{\n\/\* \[wrapped with (.+)\] \*/,ha=/,? & /,da=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pa=/[()=,{}\[\]\/\s]/,ga=/\\(\\)?/g,va=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Eu=/\w*$/,_a=/^[-+]0x[0-9a-f]+$/i,ma=/^0b[01]+$/i,xa=/^\[object .+?Constructor\]$/,wa=/^0o[0-7]+$/i,ba=/^(?:0|[1-9]\d*)$/,Ca=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,dr=/($^)/,ya=/['\n\r\u2028\u2029\\]/g,pr="\\ud800-\\udfff",Sa="\\u0300-\\u036f",Aa="\\ufe20-\\ufe2f",Ea="\\u20d0-\\u20ff",Tu=Sa+Aa+Ea,Ru="\\u2700-\\u27bf",Iu="a-z\\xdf-\\xf6\\xf8-\\xff",Ta="\\xac\\xb1\\xd7\\xf7",Ra="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ia="\\u2000-\\u206f",La=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lu="A-Z\\xc0-\\xd6\\xd8-\\xde",Ou="\\ufe0e\\ufe0f",Mu=Ta+Ra+Ia+La,gi="['’]",Oa="["+pr+"]",Pu="["+Mu+"]",gr="["+Tu+"]",Wu="\\d+",Ma="["+Ru+"]",Fu="["+Iu+"]",Bu="[^"+pr+Mu+Wu+Ru+Iu+Lu+"]",vi="\\ud83c[\\udffb-\\udfff]",Pa="(?:"+gr+"|"+vi+")",Uu="[^"+pr+"]",_i="(?:\\ud83c[\\udde6-\\uddff]){2}",mi="[\\ud800-\\udbff][\\udc00-\\udfff]",wt="["+Lu+"]",Du="\\u200d",zu="(?:"+Fu+"|"+Bu+")",Wa="(?:"+wt+"|"+Bu+")",Nu="(?:"+gi+"(?:d|ll|m|re|s|t|ve))?",$u="(?:"+gi+"(?:D|LL|M|RE|S|T|VE))?",Gu=Pa+"?",ku="["+Ou+"]?",Fa="(?:"+Du+"(?:"+[Uu,_i,mi].join("|")+")"+ku+Gu+")*",Ba="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ua="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Hu=ku+Gu+Fa,Da="(?:"+[Ma,_i,mi].join("|")+")"+Hu,za="(?:"+[Uu+gr+"?",gr,_i,mi,Oa].join("|")+")",Na=RegExp(gi,"g"),$a=RegExp(gr,"g"),xi=RegExp(vi+"(?="+vi+")|"+za+Hu,"g"),Ga=RegExp([wt+"?"+Fu+"+"+Nu+"(?="+[Pu,wt,"$"].join("|")+")",Wa+"+"+$u+"(?="+[Pu,wt+zu,"$"].join("|")+")",wt+"?"+zu+"+"+Nu,wt+"+"+$u,Ua,Ba,Wu,Da].join("|"),"g"),ka=RegExp("["+Du+pr+Tu+Ou+"]"),Ha=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qa=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ka=-1,q={};q[_t]=q[mt]=q[Mn]=q[Nt]=q[p]=q[x]=q[O]=q[nt]=q[tt]=!0,q[Jn]=q[on]=q[gn]=q[Qn]=q[Ge]=q[In]=q[vt]=q[Vn]=q[We]=q[jn]=q[$e]=q[Ln]=q[Ae]=q[On]=q[pn]=!1;var H={};H[Jn]=H[on]=H[gn]=H[Ge]=H[Qn]=H[In]=H[_t]=H[mt]=H[Mn]=H[Nt]=H[p]=H[We]=H[jn]=H[$e]=H[Ln]=H[Ae]=H[On]=H[et]=H[x]=H[O]=H[nt]=H[tt]=!0,H[vt]=H[Vn]=H[pn]=!1;var Za={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ya={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xa={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ja={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qa=parseFloat,Va=parseInt,qu=typeof ni=="object"&&ni&&ni.Object===Object&&ni,ja=typeof self=="object"&&self&&self.Object===Object&&self,he=qu||ja||Function("return this")(),wi=U&&!U.nodeType&&U,rt=wi&&!0&&tn&&!tn.nodeType&&tn,Ku=rt&&rt.exports===wi,bi=Ku&&qu.process,ke=(function(){try{var f=rt&&rt.require&&rt.require("util").types;return f||bi&&bi.binding&&bi.binding("util")}catch{}})(),Zu=ke&&ke.isArrayBuffer,Yu=ke&&ke.isDate,Xu=ke&&ke.isMap,Ju=ke&&ke.isRegExp,Qu=ke&&ke.isSet,Vu=ke&&ke.isTypedArray;function Fe(f,d,h){switch(h.length){case 0:return f.call(d);case 1:return f.call(d,h[0]);case 2:return f.call(d,h[0],h[1]);case 3:return f.call(d,h[0],h[1],h[2])}return f.apply(d,h)}function el(f,d,h,b){for(var R=-1,z=f==null?0:f.length;++R<z;){var ue=f[R];d(b,ue,h(ue),f)}return b}function He(f,d){for(var h=-1,b=f==null?0:f.length;++h<b&&d(f[h],h,f)!==!1;);return f}function nl(f,d){for(var h=f==null?0:f.length;h--&&d(f[h],h,f)!==!1;);return f}function ju(f,d){for(var h=-1,b=f==null?0:f.length;++h<b;)if(!d(f[h],h,f))return!1;return!0}function Wn(f,d){for(var h=-1,b=f==null?0:f.length,R=0,z=[];++h<b;){var ue=f[h];d(ue,h,f)&&(z[R++]=ue)}return z}function vr(f,d){var h=f==null?0:f.length;return!!h&&bt(f,d,0)>-1}function Ci(f,d,h){for(var b=-1,R=f==null?0:f.length;++b<R;)if(h(d,f[b]))return!0;return!1}function K(f,d){for(var h=-1,b=f==null?0:f.length,R=Array(b);++h<b;)R[h]=d(f[h],h,f);return R}function Fn(f,d){for(var h=-1,b=d.length,R=f.length;++h<b;)f[R+h]=d[h];return f}function yi(f,d,h,b){var R=-1,z=f==null?0:f.length;for(b&&z&&(h=f[++R]);++R<z;)h=d(h,f[R],R,f);return h}function tl(f,d,h,b){var R=f==null?0:f.length;for(b&&R&&(h=f[--R]);R--;)h=d(h,f[R],R,f);return h}function Si(f,d){for(var h=-1,b=f==null?0:f.length;++h<b;)if(d(f[h],h,f))return!0;return!1}var rl=Ai("length");function il(f){return f.split("")}function ul(f){return f.match(da)||[]}function eo(f,d,h){var b;return h(f,function(R,z,ue){if(d(R,z,ue))return b=z,!1}),b}function _r(f,d,h,b){for(var R=f.length,z=h+(b?1:-1);b?z--:++z<R;)if(d(f[z],z,f))return z;return-1}function bt(f,d,h){return d===d?_l(f,d,h):_r(f,no,h)}function ol(f,d,h,b){for(var R=h-1,z=f.length;++R<z;)if(b(f[R],d))return R;return-1}function no(f){return f!==f}function to(f,d){var h=f==null?0:f.length;return h?Ti(f,d)/h:Rn}function Ai(f){return function(d){return d==null?s:d[f]}}function Ei(f){return function(d){return f==null?s:f[d]}}function ro(f,d,h,b,R){return R(f,function(z,ue,k){h=b?(b=!1,z):d(h,z,ue,k)}),h}function sl(f,d){var h=f.length;for(f.sort(d);h--;)f[h]=f[h].value;return f}function Ti(f,d){for(var h,b=-1,R=f.length;++b<R;){var z=d(f[b]);z!==s&&(h=h===s?z:h+z)}return h}function Ri(f,d){for(var h=-1,b=Array(f);++h<f;)b[h]=d(h);return b}function al(f,d){return K(d,function(h){return[h,f[h]]})}function io(f){return f&&f.slice(0,ao(f)+1).replace(pi,"")}function Be(f){return function(d){return f(d)}}function Ii(f,d){return K(d,function(h){return f[h]})}function Ht(f,d){return f.has(d)}function uo(f,d){for(var h=-1,b=f.length;++h<b&&bt(d,f[h],0)>-1;);return h}function oo(f,d){for(var h=f.length;h--&&bt(d,f[h],0)>-1;);return h}function ll(f,d){for(var h=f.length,b=0;h--;)f[h]===d&&++b;return b}var fl=Ei(Za),cl=Ei(Ya);function hl(f){return"\\"+Ja[f]}function dl(f,d){return f==null?s:f[d]}function Ct(f){return ka.test(f)}function pl(f){return Ha.test(f)}function gl(f){for(var d,h=[];!(d=f.next()).done;)h.push(d.value);return h}function Li(f){var d=-1,h=Array(f.size);return f.forEach(function(b,R){h[++d]=[R,b]}),h}function so(f,d){return function(h){return f(d(h))}}function Bn(f,d){for(var h=-1,b=f.length,R=0,z=[];++h<b;){var ue=f[h];(ue===d||ue===Z)&&(f[h]=Z,z[R++]=h)}return z}function mr(f){var d=-1,h=Array(f.size);return f.forEach(function(b){h[++d]=b}),h}function vl(f){var d=-1,h=Array(f.size);return f.forEach(function(b){h[++d]=[b,b]}),h}function _l(f,d,h){for(var b=h-1,R=f.length;++b<R;)if(f[b]===d)return b;return-1}function ml(f,d,h){for(var b=h+1;b--;)if(f[b]===d)return b;return b}function yt(f){return Ct(f)?wl(f):rl(f)}function Qe(f){return Ct(f)?bl(f):il(f)}function ao(f){for(var d=f.length;d--&&la.test(f.charAt(d)););return d}var xl=Ei(Xa);function wl(f){for(var d=xi.lastIndex=0;xi.test(f);)++d;return d}function bl(f){return f.match(xi)||[]}function Cl(f){return f.match(Ga)||[]}var yl=(function f(d){d=d==null?he:St.defaults(he.Object(),d,St.pick(he,qa));var h=d.Array,b=d.Date,R=d.Error,z=d.Function,ue=d.Math,k=d.Object,Oi=d.RegExp,Sl=d.String,qe=d.TypeError,xr=h.prototype,Al=z.prototype,At=k.prototype,wr=d["__core-js_shared__"],br=Al.toString,$=At.hasOwnProperty,El=0,lo=(function(){var e=/[^.]+$/.exec(wr&&wr.keys&&wr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),Cr=At.toString,Tl=br.call(k),Rl=he._,Il=Oi("^"+br.call($).replace(di,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yr=Ku?d.Buffer:s,Un=d.Symbol,Sr=d.Uint8Array,fo=yr?yr.allocUnsafe:s,Ar=so(k.getPrototypeOf,k),co=k.create,ho=At.propertyIsEnumerable,Er=xr.splice,po=Un?Un.isConcatSpreadable:s,qt=Un?Un.iterator:s,it=Un?Un.toStringTag:s,Tr=(function(){try{var e=lt(k,"defineProperty");return e({},"",{}),e}catch{}})(),Ll=d.clearTimeout!==he.clearTimeout&&d.clearTimeout,Ol=b&&b.now!==he.Date.now&&b.now,Ml=d.setTimeout!==he.setTimeout&&d.setTimeout,Rr=ue.ceil,Ir=ue.floor,Mi=k.getOwnPropertySymbols,Pl=yr?yr.isBuffer:s,go=d.isFinite,Wl=xr.join,Fl=so(k.keys,k),oe=ue.max,xe=ue.min,Bl=b.now,Ul=d.parseInt,vo=ue.random,Dl=xr.reverse,Pi=lt(d,"DataView"),Kt=lt(d,"Map"),Wi=lt(d,"Promise"),Et=lt(d,"Set"),Zt=lt(d,"WeakMap"),Yt=lt(k,"create"),Lr=Zt&&new Zt,Tt={},zl=ft(Pi),Nl=ft(Kt),$l=ft(Wi),Gl=ft(Et),kl=ft(Zt),Or=Un?Un.prototype:s,Xt=Or?Or.valueOf:s,_o=Or?Or.toString:s;function u(e){if(J(e)&&!I(e)&&!(e instanceof F)){if(e instanceof Ke)return e;if($.call(e,"__wrapped__"))return ms(e)}return new Ke(e)}var Rt=(function(){function e(){}return function(n){if(!Y(n))return{};if(co)return co(n);e.prototype=n;var t=new e;return e.prototype=s,t}})();function Mr(){}function Ke(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=s}u.templateSettings={escape:xt,evaluate:sn,interpolate:Pn,variable:"",imports:{_:u}},u.prototype=Mr.prototype,u.prototype.constructor=u,Ke.prototype=Rt(Mr.prototype),Ke.prototype.constructor=Ke;function F(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Se,this.__views__=[]}function Hl(){var e=new F(this.__wrapped__);return e.__actions__=Ee(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ee(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ee(this.__views__),e}function ql(){if(this.__filtered__){var e=new F(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Kl(){var e=this.__wrapped__.value(),n=this.__dir__,t=I(e),r=n<0,i=t?e.length:0,o=uc(0,i,this.__views__),a=o.start,l=o.end,c=l-a,g=r?l:a-1,_=this.__iteratees__,m=_.length,w=0,y=xe(c,this.__takeCount__);if(!t||!r&&i==c&&y==c)return $o(e,this.__actions__);var E=[];e:for(;c--&&w<y;){g+=n;for(var M=-1,T=e[g];++M<m;){var W=_[M],B=W.iteratee,ze=W.type,ye=B(T);if(ze==ui)T=ye;else if(!ye){if(ze==Ut)continue e;break e}}E[w++]=T}return E}F.prototype=Rt(Mr.prototype),F.prototype.constructor=F;function ut(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function Zl(){this.__data__=Yt?Yt(null):{},this.size=0}function Yl(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Xl(e){var n=this.__data__;if(Yt){var t=n[e];return t===qn?s:t}return $.call(n,e)?n[e]:s}function Jl(e){var n=this.__data__;return Yt?n[e]!==s:$.call(n,e)}function Ql(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Yt&&n===s?qn:n,this}ut.prototype.clear=Zl,ut.prototype.delete=Yl,ut.prototype.get=Xl,ut.prototype.has=Jl,ut.prototype.set=Ql;function vn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function Vl(){this.__data__=[],this.size=0}function jl(e){var n=this.__data__,t=Pr(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():Er.call(n,t,1),--this.size,!0}function ef(e){var n=this.__data__,t=Pr(n,e);return t<0?s:n[t][1]}function nf(e){return Pr(this.__data__,e)>-1}function tf(e,n){var t=this.__data__,r=Pr(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}vn.prototype.clear=Vl,vn.prototype.delete=jl,vn.prototype.get=ef,vn.prototype.has=nf,vn.prototype.set=tf;function _n(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function rf(){this.size=0,this.__data__={hash:new ut,map:new(Kt||vn),string:new ut}}function uf(e){var n=qr(this,e).delete(e);return this.size-=n?1:0,n}function of(e){return qr(this,e).get(e)}function sf(e){return qr(this,e).has(e)}function af(e,n){var t=qr(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}_n.prototype.clear=rf,_n.prototype.delete=uf,_n.prototype.get=of,_n.prototype.has=sf,_n.prototype.set=af;function ot(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new _n;++n<t;)this.add(e[n])}function lf(e){return this.__data__.set(e,qn),this}function ff(e){return this.__data__.has(e)}ot.prototype.add=ot.prototype.push=lf,ot.prototype.has=ff;function Ve(e){var n=this.__data__=new vn(e);this.size=n.size}function cf(){this.__data__=new vn,this.size=0}function hf(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function df(e){return this.__data__.get(e)}function pf(e){return this.__data__.has(e)}function gf(e,n){var t=this.__data__;if(t instanceof vn){var r=t.__data__;if(!Kt||r.length<dn-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new _n(r)}return t.set(e,n),this.size=t.size,this}Ve.prototype.clear=cf,Ve.prototype.delete=hf,Ve.prototype.get=df,Ve.prototype.has=pf,Ve.prototype.set=gf;function mo(e,n){var t=I(e),r=!t&&ct(e),i=!t&&!r&&Gn(e),o=!t&&!r&&!i&&Mt(e),a=t||r||i||o,l=a?Ri(e.length,Sl):[],c=l.length;for(var g in e)(n||$.call(e,g))&&!(a&&(g=="length"||i&&(g=="offset"||g=="parent")||o&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||bn(g,c)))&&l.push(g);return l}function xo(e){var n=e.length;return n?e[qi(0,n-1)]:s}function vf(e,n){return Kr(Ee(e),st(n,0,e.length))}function _f(e){return Kr(Ee(e))}function Fi(e,n,t){(t!==s&&!je(e[n],t)||t===s&&!(n in e))&&mn(e,n,t)}function Jt(e,n,t){var r=e[n];(!($.call(e,n)&&je(r,t))||t===s&&!(n in e))&&mn(e,n,t)}function Pr(e,n){for(var t=e.length;t--;)if(je(e[t][0],n))return t;return-1}function mf(e,n,t,r){return Dn(e,function(i,o,a){n(r,i,t(i),a)}),r}function wo(e,n){return e&&ln(n,le(n),e)}function xf(e,n){return e&&ln(n,Re(n),e)}function mn(e,n,t){n=="__proto__"&&Tr?Tr(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function Bi(e,n){for(var t=-1,r=n.length,i=h(r),o=e==null;++t<r;)i[t]=o?s:vu(e,n[t]);return i}function st(e,n,t){return e===e&&(t!==s&&(e=e<=t?e:t),n!==s&&(e=e>=n?e:n)),e}function Ze(e,n,t,r,i,o){var a,l=n&Le,c=n&Oe,g=n&rn;if(t&&(a=i?t(e,r,i,o):t(e)),a!==s)return a;if(!Y(e))return e;var _=I(e);if(_){if(a=sc(e),!l)return Ee(e,a)}else{var m=we(e),w=m==Vn||m==lr;if(Gn(e))return Ho(e,l);if(m==$e||m==Jn||w&&!i){if(a=c||w?{}:ls(e),!l)return c?Jf(e,xf(a,e)):Xf(e,wo(a,e))}else{if(!H[m])return i?e:{};a=ac(e,m,l)}}o||(o=new Ve);var y=o.get(e);if(y)return y;o.set(e,a),Ds(e)?e.forEach(function(T){a.add(Ze(T,n,t,T,e,o))}):Bs(e)&&e.forEach(function(T,W){a.set(W,Ze(T,n,t,W,e,o))});var E=g?c?tu:nu:c?Re:le,M=_?s:E(e);return He(M||e,function(T,W){M&&(W=T,T=e[W]),Jt(a,W,Ze(T,n,t,W,e,o))}),a}function wf(e){var n=le(e);return function(t){return bo(t,e,n)}}function bo(e,n,t){var r=t.length;if(e==null)return!r;for(e=k(e);r--;){var i=t[r],o=n[i],a=e[i];if(a===s&&!(i in e)||!o(a))return!1}return!0}function Co(e,n,t){if(typeof e!="function")throw new qe(fe);return rr(function(){e.apply(s,t)},n)}function Qt(e,n,t,r){var i=-1,o=vr,a=!0,l=e.length,c=[],g=n.length;if(!l)return c;t&&(n=K(n,Be(t))),r?(o=Ci,a=!1):n.length>=dn&&(o=Ht,a=!1,n=new ot(n));e:for(;++i<l;){var _=e[i],m=t==null?_:t(_);if(_=r||_!==0?_:0,a&&m===m){for(var w=g;w--;)if(n[w]===m)continue e;c.push(_)}else o(n,m,r)||c.push(_)}return c}var Dn=Xo(an),yo=Xo(Di,!0);function bf(e,n){var t=!0;return Dn(e,function(r,i,o){return t=!!n(r,i,o),t}),t}function Wr(e,n,t){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=n(o);if(a!=null&&(l===s?a===a&&!De(a):t(a,l)))var l=a,c=o}return c}function Cf(e,n,t,r){var i=e.length;for(t=L(t),t<0&&(t=-t>i?0:i+t),r=r===s||r>i?i:L(r),r<0&&(r+=i),r=t>r?0:Ns(r);t<r;)e[t++]=n;return e}function So(e,n){var t=[];return Dn(e,function(r,i,o){n(r,i,o)&&t.push(r)}),t}function de(e,n,t,r,i){var o=-1,a=e.length;for(t||(t=fc),i||(i=[]);++o<a;){var l=e[o];n>0&&t(l)?n>1?de(l,n-1,t,r,i):Fn(i,l):r||(i[i.length]=l)}return i}var Ui=Jo(),Ao=Jo(!0);function an(e,n){return e&&Ui(e,n,le)}function Di(e,n){return e&&Ao(e,n,le)}function Fr(e,n){return Wn(n,function(t){return Cn(e[t])})}function at(e,n){n=Nn(n,e);for(var t=0,r=n.length;e!=null&&t<r;)e=e[fn(n[t++])];return t&&t==r?e:s}function Eo(e,n,t){var r=n(e);return I(e)?r:Fn(r,t(e))}function be(e){return e==null?e===s?li:ai:it&&it in k(e)?ic(e):_c(e)}function zi(e,n){return e>n}function yf(e,n){return e!=null&&$.call(e,n)}function Sf(e,n){return e!=null&&n in k(e)}function Af(e,n,t){return e>=xe(n,t)&&e<oe(n,t)}function Ni(e,n,t){for(var r=t?Ci:vr,i=e[0].length,o=e.length,a=o,l=h(o),c=1/0,g=[];a--;){var _=e[a];a&&n&&(_=K(_,Be(n))),c=xe(_.length,c),l[a]=!t&&(n||i>=120&&_.length>=120)?new ot(a&&_):s}_=e[0];var m=-1,w=l[0];e:for(;++m<i&&g.length<c;){var y=_[m],E=n?n(y):y;if(y=t||y!==0?y:0,!(w?Ht(w,E):r(g,E,t))){for(a=o;--a;){var M=l[a];if(!(M?Ht(M,E):r(e[a],E,t)))continue e}w&&w.push(E),g.push(y)}}return g}function Ef(e,n,t,r){return an(e,function(i,o,a){n(r,t(i),o,a)}),r}function Vt(e,n,t){n=Nn(n,e),e=ds(e,n);var r=e==null?e:e[fn(Xe(n))];return r==null?s:Fe(r,e,t)}function To(e){return J(e)&&be(e)==Jn}function Tf(e){return J(e)&&be(e)==gn}function Rf(e){return J(e)&&be(e)==In}function jt(e,n,t,r,i){return e===n?!0:e==null||n==null||!J(e)&&!J(n)?e!==e&&n!==n:If(e,n,t,r,jt,i)}function If(e,n,t,r,i,o){var a=I(e),l=I(n),c=a?on:we(e),g=l?on:we(n);c=c==Jn?$e:c,g=g==Jn?$e:g;var _=c==$e,m=g==$e,w=c==g;if(w&&Gn(e)){if(!Gn(n))return!1;a=!0,_=!1}if(w&&!_)return o||(o=new Ve),a||Mt(e)?os(e,n,t,r,i,o):tc(e,n,c,t,r,i,o);if(!(t&te)){var y=_&&$.call(e,"__wrapped__"),E=m&&$.call(n,"__wrapped__");if(y||E){var M=y?e.value():e,T=E?n.value():n;return o||(o=new Ve),i(M,T,t,r,o)}}return w?(o||(o=new Ve),rc(e,n,t,r,i,o)):!1}function Lf(e){return J(e)&&we(e)==We}function $i(e,n,t,r){var i=t.length,o=i,a=!r;if(e==null)return!o;for(e=k(e);i--;){var l=t[i];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<o;){l=t[i];var c=l[0],g=e[c],_=l[1];if(a&&l[2]){if(g===s&&!(c in e))return!1}else{var m=new Ve;if(r)var w=r(g,_,c,e,n,m);if(!(w===s?jt(_,g,te|re,r,m):w))return!1}}return!0}function Ro(e){if(!Y(e)||hc(e))return!1;var n=Cn(e)?Il:xa;return n.test(ft(e))}function Of(e){return J(e)&&be(e)==Ln}function Mf(e){return J(e)&&we(e)==Ae}function Pf(e){return J(e)&&Vr(e.length)&&!!q[be(e)]}function Io(e){return typeof e=="function"?e:e==null?Ie:typeof e=="object"?I(e)?Mo(e[0],e[1]):Oo(e):Qs(e)}function Gi(e){if(!tr(e))return Fl(e);var n=[];for(var t in k(e))$.call(e,t)&&t!="constructor"&&n.push(t);return n}function Wf(e){if(!Y(e))return vc(e);var n=tr(e),t=[];for(var r in e)r=="constructor"&&(n||!$.call(e,r))||t.push(r);return t}function ki(e,n){return e<n}function Lo(e,n){var t=-1,r=Te(e)?h(e.length):[];return Dn(e,function(i,o,a){r[++t]=n(i,o,a)}),r}function Oo(e){var n=iu(e);return n.length==1&&n[0][2]?cs(n[0][0],n[0][1]):function(t){return t===e||$i(t,e,n)}}function Mo(e,n){return ou(e)&&fs(n)?cs(fn(e),n):function(t){var r=vu(t,e);return r===s&&r===n?_u(t,e):jt(n,r,te|re)}}function Br(e,n,t,r,i){e!==n&&Ui(n,function(o,a){if(i||(i=new Ve),Y(o))Ff(e,n,a,t,Br,r,i);else{var l=r?r(au(e,a),o,a+"",e,n,i):s;l===s&&(l=o),Fi(e,a,l)}},Re)}function Ff(e,n,t,r,i,o,a){var l=au(e,t),c=au(n,t),g=a.get(c);if(g){Fi(e,t,g);return}var _=o?o(l,c,t+"",e,n,a):s,m=_===s;if(m){var w=I(c),y=!w&&Gn(c),E=!w&&!y&&Mt(c);_=c,w||y||E?I(l)?_=l:j(l)?_=Ee(l):y?(m=!1,_=Ho(c,!0)):E?(m=!1,_=qo(c,!0)):_=[]:ir(c)||ct(c)?(_=l,ct(l)?_=$s(l):(!Y(l)||Cn(l))&&(_=ls(c))):m=!1}m&&(a.set(c,_),i(_,c,r,o,a),a.delete(c)),Fi(e,t,_)}function Po(e,n){var t=e.length;if(t)return n+=n<0?t:0,bn(n,t)?e[n]:s}function Wo(e,n,t){n.length?n=K(n,function(o){return I(o)?function(a){return at(a,o.length===1?o[0]:o)}:o}):n=[Ie];var r=-1;n=K(n,Be(A()));var i=Lo(e,function(o,a,l){var c=K(n,function(g){return g(o)});return{criteria:c,index:++r,value:o}});return sl(i,function(o,a){return Yf(o,a,t)})}function Bf(e,n){return Fo(e,n,function(t,r){return _u(e,r)})}function Fo(e,n,t){for(var r=-1,i=n.length,o={};++r<i;){var a=n[r],l=at(e,a);t(l,a)&&er(o,Nn(a,e),l)}return o}function Uf(e){return function(n){return at(n,e)}}function Hi(e,n,t,r){var i=r?ol:bt,o=-1,a=n.length,l=e;for(e===n&&(n=Ee(n)),t&&(l=K(e,Be(t)));++o<a;)for(var c=0,g=n[o],_=t?t(g):g;(c=i(l,_,c,r))>-1;)l!==e&&Er.call(l,c,1),Er.call(e,c,1);return e}function Bo(e,n){for(var t=e?n.length:0,r=t-1;t--;){var i=n[t];if(t==r||i!==o){var o=i;bn(i)?Er.call(e,i,1):Yi(e,i)}}return e}function qi(e,n){return e+Ir(vo()*(n-e+1))}function Df(e,n,t,r){for(var i=-1,o=oe(Rr((n-e)/(t||1)),0),a=h(o);o--;)a[r?o:++i]=e,e+=t;return a}function Ki(e,n){var t="";if(!e||n<1||n>V)return t;do n%2&&(t+=e),n=Ir(n/2),n&&(e+=e);while(n);return t}function P(e,n){return lu(hs(e,n,Ie),e+"")}function zf(e){return xo(Pt(e))}function Nf(e,n){var t=Pt(e);return Kr(t,st(n,0,t.length))}function er(e,n,t,r){if(!Y(e))return e;n=Nn(n,e);for(var i=-1,o=n.length,a=o-1,l=e;l!=null&&++i<o;){var c=fn(n[i]),g=t;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(i!=a){var _=l[c];g=r?r(_,c,l):s,g===s&&(g=Y(_)?_:bn(n[i+1])?[]:{})}Jt(l,c,g),l=l[c]}return e}var Uo=Lr?function(e,n){return Lr.set(e,n),e}:Ie,$f=Tr?function(e,n){return Tr(e,"toString",{configurable:!0,enumerable:!1,value:xu(n),writable:!0})}:Ie;function Gf(e){return Kr(Pt(e))}function Ye(e,n,t){var r=-1,i=e.length;n<0&&(n=-n>i?0:i+n),t=t>i?i:t,t<0&&(t+=i),i=n>t?0:t-n>>>0,n>>>=0;for(var o=h(i);++r<i;)o[r]=e[r+n];return o}function kf(e,n){var t;return Dn(e,function(r,i,o){return t=n(r,i,o),!t}),!!t}function Ur(e,n,t){var r=0,i=e==null?r:e.length;if(typeof n=="number"&&n===n&&i<=Xn){for(;r<i;){var o=r+i>>>1,a=e[o];a!==null&&!De(a)&&(t?a<=n:a<n)?r=o+1:i=o}return i}return Zi(e,n,Ie,t)}function Zi(e,n,t,r){var i=0,o=e==null?0:e.length;if(o===0)return 0;n=t(n);for(var a=n!==n,l=n===null,c=De(n),g=n===s;i<o;){var _=Ir((i+o)/2),m=t(e[_]),w=m!==s,y=m===null,E=m===m,M=De(m);if(a)var T=r||E;else g?T=E&&(r||w):l?T=E&&w&&(r||!y):c?T=E&&w&&!y&&(r||!M):y||M?T=!1:T=r?m<=n:m<n;T?i=_+1:o=_}return xe(o,Yn)}function Do(e,n){for(var t=-1,r=e.length,i=0,o=[];++t<r;){var a=e[t],l=n?n(a):a;if(!t||!je(l,c)){var c=l;o[i++]=a===0?0:a}}return o}function zo(e){return typeof e=="number"?e:De(e)?Rn:+e}function Ue(e){if(typeof e=="string")return e;if(I(e))return K(e,Ue)+"";if(De(e))return _o?_o.call(e):"";var n=e+"";return n=="0"&&1/e==-X?"-0":n}function zn(e,n,t){var r=-1,i=vr,o=e.length,a=!0,l=[],c=l;if(t)a=!1,i=Ci;else if(o>=dn){var g=n?null:ec(e);if(g)return mr(g);a=!1,i=Ht,c=new ot}else c=n?[]:l;e:for(;++r<o;){var _=e[r],m=n?n(_):_;if(_=t||_!==0?_:0,a&&m===m){for(var w=c.length;w--;)if(c[w]===m)continue e;n&&c.push(m),l.push(_)}else i(c,m,t)||(c!==l&&c.push(m),l.push(_))}return l}function Yi(e,n){return n=Nn(n,e),e=ds(e,n),e==null||delete e[fn(Xe(n))]}function No(e,n,t,r){return er(e,n,t(at(e,n)),r)}function Dr(e,n,t,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&n(e[o],o,e););return t?Ye(e,r?0:o,r?o+1:i):Ye(e,r?o+1:0,r?i:o)}function $o(e,n){var t=e;return t instanceof F&&(t=t.value()),yi(n,function(r,i){return i.func.apply(i.thisArg,Fn([r],i.args))},t)}function Xi(e,n,t){var r=e.length;if(r<2)return r?zn(e[0]):[];for(var i=-1,o=h(r);++i<r;)for(var a=e[i],l=-1;++l<r;)l!=i&&(o[i]=Qt(o[i]||a,e[l],n,t));return zn(de(o,1),n,t)}function Go(e,n,t){for(var r=-1,i=e.length,o=n.length,a={};++r<i;){var l=r<o?n[r]:s;t(a,e[r],l)}return a}function Ji(e){return j(e)?e:[]}function Qi(e){return typeof e=="function"?e:Ie}function Nn(e,n){return I(e)?e:ou(e,n)?[e]:_s(N(e))}var Hf=P;function $n(e,n,t){var r=e.length;return t=t===s?r:t,!n&&t>=r?e:Ye(e,n,t)}var ko=Ll||function(e){return he.clearTimeout(e)};function Ho(e,n){if(n)return e.slice();var t=e.length,r=fo?fo(t):new e.constructor(t);return e.copy(r),r}function Vi(e){var n=new e.constructor(e.byteLength);return new Sr(n).set(new Sr(e)),n}function qf(e,n){var t=n?Vi(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}function Kf(e){var n=new e.constructor(e.source,Eu.exec(e));return n.lastIndex=e.lastIndex,n}function Zf(e){return Xt?k(Xt.call(e)):{}}function qo(e,n){var t=n?Vi(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function Ko(e,n){if(e!==n){var t=e!==s,r=e===null,i=e===e,o=De(e),a=n!==s,l=n===null,c=n===n,g=De(n);if(!l&&!g&&!o&&e>n||o&&a&&c&&!l&&!g||r&&a&&c||!t&&c||!i)return 1;if(!r&&!o&&!g&&e<n||g&&t&&i&&!r&&!o||l&&t&&i||!a&&i||!c)return-1}return 0}function Yf(e,n,t){for(var r=-1,i=e.criteria,o=n.criteria,a=i.length,l=t.length;++r<a;){var c=Ko(i[r],o[r]);if(c){if(r>=l)return c;var g=t[r];return c*(g=="desc"?-1:1)}}return e.index-n.index}function Zo(e,n,t,r){for(var i=-1,o=e.length,a=t.length,l=-1,c=n.length,g=oe(o-a,0),_=h(c+g),m=!r;++l<c;)_[l]=n[l];for(;++i<a;)(m||i<o)&&(_[t[i]]=e[i]);for(;g--;)_[l++]=e[i++];return _}function Yo(e,n,t,r){for(var i=-1,o=e.length,a=-1,l=t.length,c=-1,g=n.length,_=oe(o-l,0),m=h(_+g),w=!r;++i<_;)m[i]=e[i];for(var y=i;++c<g;)m[y+c]=n[c];for(;++a<l;)(w||i<o)&&(m[y+t[a]]=e[i++]);return m}function Ee(e,n){var t=-1,r=e.length;for(n||(n=h(r));++t<r;)n[t]=e[t];return n}function ln(e,n,t,r){var i=!t;t||(t={});for(var o=-1,a=n.length;++o<a;){var l=n[o],c=r?r(t[l],e[l],l,t,e):s;c===s&&(c=e[l]),i?mn(t,l,c):Jt(t,l,c)}return t}function Xf(e,n){return ln(e,uu(e),n)}function Jf(e,n){return ln(e,ss(e),n)}function zr(e,n){return function(t,r){var i=I(t)?el:mf,o=n?n():{};return i(t,e,A(r,2),o)}}function It(e){return P(function(n,t){var r=-1,i=t.length,o=i>1?t[i-1]:s,a=i>2?t[2]:s;for(o=e.length>3&&typeof o=="function"?(i--,o):s,a&&Ce(t[0],t[1],a)&&(o=i<3?s:o,i=1),n=k(n);++r<i;){var l=t[r];l&&e(n,l,r,o)}return n})}function Xo(e,n){return function(t,r){if(t==null)return t;if(!Te(t))return e(t,r);for(var i=t.length,o=n?i:-1,a=k(t);(n?o--:++o<i)&&r(a[o],o,a)!==!1;);return t}}function Jo(e){return function(n,t,r){for(var i=-1,o=k(n),a=r(n),l=a.length;l--;){var c=a[e?l:++i];if(t(o[c],c,o)===!1)break}return n}}function Qf(e,n,t){var r=n&G,i=nr(e);function o(){var a=this&&this!==he&&this instanceof o?i:e;return a.apply(r?t:this,arguments)}return o}function Qo(e){return function(n){n=N(n);var t=Ct(n)?Qe(n):s,r=t?t[0]:n.charAt(0),i=t?$n(t,1).join(""):n.slice(1);return r[e]()+i}}function Lt(e){return function(n){return yi(Xs(Ys(n).replace(Na,"")),e,"")}}function nr(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var t=Rt(e.prototype),r=e.apply(t,n);return Y(r)?r:t}}function Vf(e,n,t){var r=nr(e);function i(){for(var o=arguments.length,a=h(o),l=o,c=Ot(i);l--;)a[l]=arguments[l];var g=o<3&&a[0]!==c&&a[o-1]!==c?[]:Bn(a,c);if(o-=g.length,o<t)return ts(e,n,Nr,i.placeholder,s,a,g,s,s,t-o);var _=this&&this!==he&&this instanceof i?r:e;return Fe(_,this,a)}return i}function Vo(e){return function(n,t,r){var i=k(n);if(!Te(n)){var o=A(t,3);n=le(n),t=function(l){return o(i[l],l,i)}}var a=e(n,t,r);return a>-1?i[o?n[a]:a]:s}}function jo(e){return wn(function(n){var t=n.length,r=t,i=Ke.prototype.thru;for(e&&n.reverse();r--;){var o=n[r];if(typeof o!="function")throw new qe(fe);if(i&&!a&&Hr(o)=="wrapper")var a=new Ke([],!0)}for(r=a?r:t;++r<t;){o=n[r];var l=Hr(o),c=l=="wrapper"?ru(o):s;c&&su(c[0])&&c[1]==(Pe|_e|ae|Zn)&&!c[4].length&&c[9]==1?a=a[Hr(c[0])].apply(a,c[3]):a=o.length==1&&su(o)?a[l]():a.thru(o)}return function(){var g=arguments,_=g[0];if(a&&g.length==1&&I(_))return a.plant(_).value();for(var m=0,w=t?n[m].apply(this,g):_;++m<t;)w=n[m].call(this,w);return w}})}function Nr(e,n,t,r,i,o,a,l,c,g){var _=n&Pe,m=n&G,w=n&D,y=n&(_e|Me),E=n&Bt,M=w?s:nr(e);function T(){for(var W=arguments.length,B=h(W),ze=W;ze--;)B[ze]=arguments[ze];if(y)var ye=Ot(T),Ne=ll(B,ye);if(r&&(B=Zo(B,r,i,y)),o&&(B=Yo(B,o,a,y)),W-=Ne,y&&W<g){var ee=Bn(B,ye);return ts(e,n,Nr,T.placeholder,t,B,ee,l,c,g-W)}var en=m?t:this,Sn=w?en[e]:e;return W=B.length,l?B=mc(B,l):E&&W>1&&B.reverse(),_&&c<W&&(B.length=c),this&&this!==he&&this instanceof T&&(Sn=M||nr(Sn)),Sn.apply(en,B)}return T}function es(e,n){return function(t,r){return Ef(t,e,n(r),{})}}function $r(e,n){return function(t,r){var i;if(t===s&&r===s)return n;if(t!==s&&(i=t),r!==s){if(i===s)return r;typeof t=="string"||typeof r=="string"?(t=Ue(t),r=Ue(r)):(t=zo(t),r=zo(r)),i=e(t,r)}return i}}function ji(e){return wn(function(n){return n=K(n,Be(A())),P(function(t){var r=this;return e(n,function(i){return Fe(i,r,t)})})})}function Gr(e,n){n=n===s?" ":Ue(n);var t=n.length;if(t<2)return t?Ki(n,e):n;var r=Ki(n,Rr(e/yt(n)));return Ct(n)?$n(Qe(r),0,e).join(""):r.slice(0,e)}function jf(e,n,t,r){var i=n&G,o=nr(e);function a(){for(var l=-1,c=arguments.length,g=-1,_=r.length,m=h(_+c),w=this&&this!==he&&this instanceof a?o:e;++g<_;)m[g]=r[g];for(;c--;)m[g++]=arguments[++l];return Fe(w,i?t:this,m)}return a}function ns(e){return function(n,t,r){return r&&typeof r!="number"&&Ce(n,t,r)&&(t=r=s),n=yn(n),t===s?(t=n,n=0):t=yn(t),r=r===s?n<t?1:-1:yn(r),Df(n,t,r,e)}}function kr(e){return function(n,t){return typeof n=="string"&&typeof t=="string"||(n=Je(n),t=Je(t)),e(n,t)}}function ts(e,n,t,r,i,o,a,l,c,g){var _=n&_e,m=_?a:s,w=_?s:a,y=_?o:s,E=_?s:o;n|=_?ae:Kn,n&=~(_?Kn:ae),n&ve||(n&=-4);var M=[e,n,i,y,m,E,w,l,c,g],T=t.apply(s,M);return su(e)&&ps(T,M),T.placeholder=r,gs(T,e,n)}function eu(e){var n=ue[e];return function(t,r){if(t=Je(t),r=r==null?0:xe(L(r),292),r&&go(t)){var i=(N(t)+"e").split("e"),o=n(i[0]+"e"+(+i[1]+r));return i=(N(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return n(t)}}var ec=Et&&1/mr(new Et([,-0]))[1]==X?function(e){return new Et(e)}:Cu;function rs(e){return function(n){var t=we(n);return t==We?Li(n):t==Ae?vl(n):al(n,e(n))}}function xn(e,n,t,r,i,o,a,l){var c=n&D;if(!c&&typeof e!="function")throw new qe(fe);var g=r?r.length:0;if(g||(n&=-97,r=i=s),a=a===s?a:oe(L(a),0),l=l===s?l:L(l),g-=i?i.length:0,n&Kn){var _=r,m=i;r=i=s}var w=c?s:ru(e),y=[e,n,t,r,i,_,m,o,a,l];if(w&&gc(y,w),e=y[0],n=y[1],t=y[2],r=y[3],i=y[4],l=y[9]=y[9]===s?c?0:e.length:oe(y[9]-g,0),!l&&n&(_e|Me)&&(n&=-25),!n||n==G)var E=Qf(e,n,t);else n==_e||n==Me?E=Vf(e,n,l):(n==ae||n==(G|ae))&&!i.length?E=jf(e,n,t,r):E=Nr.apply(s,y);var M=w?Uo:ps;return gs(M(E,y),e,n)}function is(e,n,t,r){return e===s||je(e,At[t])&&!$.call(r,t)?n:e}function us(e,n,t,r,i,o){return Y(e)&&Y(n)&&(o.set(n,e),Br(e,n,s,us,o),o.delete(n)),e}function nc(e){return ir(e)?s:e}function os(e,n,t,r,i,o){var a=t&te,l=e.length,c=n.length;if(l!=c&&!(a&&c>l))return!1;var g=o.get(e),_=o.get(n);if(g&&_)return g==n&&_==e;var m=-1,w=!0,y=t&re?new ot:s;for(o.set(e,n),o.set(n,e);++m<l;){var E=e[m],M=n[m];if(r)var T=a?r(M,E,m,n,e,o):r(E,M,m,e,n,o);if(T!==s){if(T)continue;w=!1;break}if(y){if(!Si(n,function(W,B){if(!Ht(y,B)&&(E===W||i(E,W,t,r,o)))return y.push(B)})){w=!1;break}}else if(!(E===M||i(E,M,t,r,o))){w=!1;break}}return o.delete(e),o.delete(n),w}function tc(e,n,t,r,i,o,a){switch(t){case Ge:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case gn:return!(e.byteLength!=n.byteLength||!o(new Sr(e),new Sr(n)));case Qn:case In:case jn:return je(+e,+n);case vt:return e.name==n.name&&e.message==n.message;case Ln:case On:return e==n+"";case We:var l=Li;case Ae:var c=r&te;if(l||(l=mr),e.size!=n.size&&!c)return!1;var g=a.get(e);if(g)return g==n;r|=re,a.set(e,n);var _=os(l(e),l(n),r,i,o,a);return a.delete(e),_;case et:if(Xt)return Xt.call(e)==Xt.call(n)}return!1}function rc(e,n,t,r,i,o){var a=t&te,l=nu(e),c=l.length,g=nu(n),_=g.length;if(c!=_&&!a)return!1;for(var m=c;m--;){var w=l[m];if(!(a?w in n:$.call(n,w)))return!1}var y=o.get(e),E=o.get(n);if(y&&E)return y==n&&E==e;var M=!0;o.set(e,n),o.set(n,e);for(var T=a;++m<c;){w=l[m];var W=e[w],B=n[w];if(r)var ze=a?r(B,W,w,n,e,o):r(W,B,w,e,n,o);if(!(ze===s?W===B||i(W,B,t,r,o):ze)){M=!1;break}T||(T=w=="constructor")}if(M&&!T){var ye=e.constructor,Ne=n.constructor;ye!=Ne&&"constructor"in e&&"constructor"in n&&!(typeof ye=="function"&&ye instanceof ye&&typeof Ne=="function"&&Ne instanceof Ne)&&(M=!1)}return o.delete(e),o.delete(n),M}function wn(e){return lu(hs(e,s,bs),e+"")}function nu(e){return Eo(e,le,uu)}function tu(e){return Eo(e,Re,ss)}var ru=Lr?function(e){return Lr.get(e)}:Cu;function Hr(e){for(var n=e.name+"",t=Tt[n],r=$.call(Tt,n)?t.length:0;r--;){var i=t[r],o=i.func;if(o==null||o==e)return i.name}return n}function Ot(e){var n=$.call(u,"placeholder")?u:e;return n.placeholder}function A(){var e=u.iteratee||wu;return e=e===wu?Io:e,arguments.length?e(arguments[0],arguments[1]):e}function qr(e,n){var t=e.__data__;return cc(n)?t[typeof n=="string"?"string":"hash"]:t.map}function iu(e){for(var n=le(e),t=n.length;t--;){var r=n[t],i=e[r];n[t]=[r,i,fs(i)]}return n}function lt(e,n){var t=dl(e,n);return Ro(t)?t:s}function ic(e){var n=$.call(e,it),t=e[it];try{e[it]=s;var r=!0}catch{}var i=Cr.call(e);return r&&(n?e[it]=t:delete e[it]),i}var uu=Mi?function(e){return e==null?[]:(e=k(e),Wn(Mi(e),function(n){return ho.call(e,n)}))}:yu,ss=Mi?function(e){for(var n=[];e;)Fn(n,uu(e)),e=Ar(e);return n}:yu,we=be;(Pi&&we(new Pi(new ArrayBuffer(1)))!=Ge||Kt&&we(new Kt)!=We||Wi&&we(Wi.resolve())!=Dt||Et&&we(new Et)!=Ae||Zt&&we(new Zt)!=pn)&&(we=function(e){var n=be(e),t=n==$e?e.constructor:s,r=t?ft(t):"";if(r)switch(r){case zl:return Ge;case Nl:return We;case $l:return Dt;case Gl:return Ae;case kl:return pn}return n});function uc(e,n,t){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":n-=a;break;case"take":n=xe(n,e+a);break;case"takeRight":e=oe(e,n-a);break}}return{start:e,end:n}}function oc(e){var n=e.match(ca);return n?n[1].split(ha):[]}function as(e,n,t){n=Nn(n,e);for(var r=-1,i=n.length,o=!1;++r<i;){var a=fn(n[r]);if(!(o=e!=null&&t(e,a)))break;e=e[a]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&Vr(i)&&bn(a,i)&&(I(e)||ct(e)))}function sc(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&$.call(e,"index")&&(t.index=e.index,t.input=e.input),t}function ls(e){return typeof e.constructor=="function"&&!tr(e)?Rt(Ar(e)):{}}function ac(e,n,t){var r=e.constructor;switch(n){case gn:return Vi(e);case Qn:case In:return new r(+e);case Ge:return qf(e,t);case _t:case mt:case Mn:case Nt:case p:case x:case O:case nt:case tt:return qo(e,t);case We:return new r;case jn:case On:return new r(e);case Ln:return Kf(e);case Ae:return new r;case et:return Zf(e)}}function lc(e,n){var t=n.length;if(!t)return e;var r=t-1;return n[r]=(t>1?"& ":"")+n[r],n=n.join(t>2?", ":" "),e.replace(fa,`{
/* [wrapped with `+n+`] */
`)}function fc(e){return I(e)||ct(e)||!!(po&&e&&e[po])}function bn(e,n){var t=typeof e;return n=n??V,!!n&&(t=="number"||t!="symbol"&&ba.test(e))&&e>-1&&e%1==0&&e<n}function Ce(e,n,t){if(!Y(t))return!1;var r=typeof n;return(r=="number"?Te(t)&&bn(n,t.length):r=="string"&&n in t)?je(t[n],e):!1}function ou(e,n){if(I(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||De(e)?!0:hi.test(e)||!ci.test(e)||n!=null&&e in k(n)}function cc(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function su(e){var n=Hr(e),t=u[n];if(typeof t!="function"||!(n in F.prototype))return!1;if(e===t)return!0;var r=ru(t);return!!r&&e===r[0]}function hc(e){return!!lo&&lo in e}var dc=wr?Cn:Su;function tr(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||At;return e===t}function fs(e){return e===e&&!Y(e)}function cs(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==s||e in k(t))}}function pc(e){var n=Jr(e,function(r){return t.size===pt&&t.clear(),r}),t=n.cache;return n}function gc(e,n){var t=e[1],r=n[1],i=t|r,o=i<(G|D|Pe),a=r==Pe&&t==_e||r==Pe&&t==Zn&&e[7].length<=n[8]||r==(Pe|Zn)&&n[7].length<=n[8]&&t==_e;if(!(o||a))return e;r&G&&(e[2]=n[2],i|=t&G?0:ve);var l=n[3];if(l){var c=e[3];e[3]=c?Zo(c,l,n[4]):l,e[4]=c?Bn(e[3],Z):n[4]}return l=n[5],l&&(c=e[5],e[5]=c?Yo(c,l,n[6]):l,e[6]=c?Bn(e[5],Z):n[6]),l=n[7],l&&(e[7]=l),r&Pe&&(e[8]=e[8]==null?n[8]:xe(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=i,e}function vc(e){var n=[];if(e!=null)for(var t in k(e))n.push(t);return n}function _c(e){return Cr.call(e)}function hs(e,n,t){return n=oe(n===s?e.length-1:n,0),function(){for(var r=arguments,i=-1,o=oe(r.length-n,0),a=h(o);++i<o;)a[i]=r[n+i];i=-1;for(var l=h(n+1);++i<n;)l[i]=r[i];return l[n]=t(a),Fe(e,this,l)}}function ds(e,n){return n.length<2?e:at(e,Ye(n,0,-1))}function mc(e,n){for(var t=e.length,r=xe(n.length,t),i=Ee(e);r--;){var o=n[r];e[r]=bn(o,t)?i[o]:s}return e}function au(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var ps=vs(Uo),rr=Ml||function(e,n){return he.setTimeout(e,n)},lu=vs($f);function gs(e,n,t){var r=n+"";return lu(e,lc(r,xc(oc(r),t)))}function vs(e){var n=0,t=0;return function(){var r=Bl(),i=ii-(r-t);if(t=r,i>0){if(++n>=ar)return arguments[0]}else n=0;return e.apply(s,arguments)}}function Kr(e,n){var t=-1,r=e.length,i=r-1;for(n=n===s?r:n;++t<n;){var o=qi(t,i),a=e[o];e[o]=e[t],e[t]=a}return e.length=n,e}var _s=pc(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(sa,function(t,r,i,o){n.push(i?o.replace(ga,"$1"):r||t)}),n});function fn(e){if(typeof e=="string"||De(e))return e;var n=e+"";return n=="0"&&1/e==-X?"-0":n}function ft(e){if(e!=null){try{return br.call(e)}catch{}try{return e+""}catch{}}return""}function xc(e,n){return He(un,function(t){var r="_."+t[0];n&t[1]&&!vr(e,r)&&e.push(r)}),e.sort()}function ms(e){if(e instanceof F)return e.clone();var n=new Ke(e.__wrapped__,e.__chain__);return n.__actions__=Ee(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function wc(e,n,t){(t?Ce(e,n,t):n===s)?n=1:n=oe(L(n),0);var r=e==null?0:e.length;if(!r||n<1)return[];for(var i=0,o=0,a=h(Rr(r/n));i<r;)a[o++]=Ye(e,i,i+=n);return a}function bc(e){for(var n=-1,t=e==null?0:e.length,r=0,i=[];++n<t;){var o=e[n];o&&(i[r++]=o)}return i}function Cc(){var e=arguments.length;if(!e)return[];for(var n=h(e-1),t=arguments[0],r=e;r--;)n[r-1]=arguments[r];return Fn(I(t)?Ee(t):[t],de(n,1))}var yc=P(function(e,n){return j(e)?Qt(e,de(n,1,j,!0)):[]}),Sc=P(function(e,n){var t=Xe(n);return j(t)&&(t=s),j(e)?Qt(e,de(n,1,j,!0),A(t,2)):[]}),Ac=P(function(e,n){var t=Xe(n);return j(t)&&(t=s),j(e)?Qt(e,de(n,1,j,!0),s,t):[]});function Ec(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===s?1:L(n),Ye(e,n<0?0:n,r)):[]}function Tc(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===s?1:L(n),n=r-n,Ye(e,0,n<0?0:n)):[]}function Rc(e,n){return e&&e.length?Dr(e,A(n,3),!0,!0):[]}function Ic(e,n){return e&&e.length?Dr(e,A(n,3),!0):[]}function Lc(e,n,t,r){var i=e==null?0:e.length;return i?(t&&typeof t!="number"&&Ce(e,n,t)&&(t=0,r=i),Cf(e,n,t,r)):[]}function xs(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=t==null?0:L(t);return i<0&&(i=oe(r+i,0)),_r(e,A(n,3),i)}function ws(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=r-1;return t!==s&&(i=L(t),i=t<0?oe(r+i,0):xe(i,r-1)),_r(e,A(n,3),i,!0)}function bs(e){var n=e==null?0:e.length;return n?de(e,1):[]}function Oc(e){var n=e==null?0:e.length;return n?de(e,X):[]}function Mc(e,n){var t=e==null?0:e.length;return t?(n=n===s?1:L(n),de(e,n)):[]}function Pc(e){for(var n=-1,t=e==null?0:e.length,r={};++n<t;){var i=e[n];r[i[0]]=i[1]}return r}function Cs(e){return e&&e.length?e[0]:s}function Wc(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=t==null?0:L(t);return i<0&&(i=oe(r+i,0)),bt(e,n,i)}function Fc(e){var n=e==null?0:e.length;return n?Ye(e,0,-1):[]}var Bc=P(function(e){var n=K(e,Ji);return n.length&&n[0]===e[0]?Ni(n):[]}),Uc=P(function(e){var n=Xe(e),t=K(e,Ji);return n===Xe(t)?n=s:t.pop(),t.length&&t[0]===e[0]?Ni(t,A(n,2)):[]}),Dc=P(function(e){var n=Xe(e),t=K(e,Ji);return n=typeof n=="function"?n:s,n&&t.pop(),t.length&&t[0]===e[0]?Ni(t,s,n):[]});function zc(e,n){return e==null?"":Wl.call(e,n)}function Xe(e){var n=e==null?0:e.length;return n?e[n-1]:s}function Nc(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=r;return t!==s&&(i=L(t),i=i<0?oe(r+i,0):xe(i,r-1)),n===n?ml(e,n,i):_r(e,no,i,!0)}function $c(e,n){return e&&e.length?Po(e,L(n)):s}var Gc=P(ys);function ys(e,n){return e&&e.length&&n&&n.length?Hi(e,n):e}function kc(e,n,t){return e&&e.length&&n&&n.length?Hi(e,n,A(t,2)):e}function Hc(e,n,t){return e&&e.length&&n&&n.length?Hi(e,n,s,t):e}var qc=wn(function(e,n){var t=e==null?0:e.length,r=Bi(e,n);return Bo(e,K(n,function(i){return bn(i,t)?+i:i}).sort(Ko)),r});function Kc(e,n){var t=[];if(!(e&&e.length))return t;var r=-1,i=[],o=e.length;for(n=A(n,3);++r<o;){var a=e[r];n(a,r,e)&&(t.push(a),i.push(r))}return Bo(e,i),t}function fu(e){return e==null?e:Dl.call(e)}function Zc(e,n,t){var r=e==null?0:e.length;return r?(t&&typeof t!="number"&&Ce(e,n,t)?(n=0,t=r):(n=n==null?0:L(n),t=t===s?r:L(t)),Ye(e,n,t)):[]}function Yc(e,n){return Ur(e,n)}function Xc(e,n,t){return Zi(e,n,A(t,2))}function Jc(e,n){var t=e==null?0:e.length;if(t){var r=Ur(e,n);if(r<t&&je(e[r],n))return r}return-1}function Qc(e,n){return Ur(e,n,!0)}function Vc(e,n,t){return Zi(e,n,A(t,2),!0)}function jc(e,n){var t=e==null?0:e.length;if(t){var r=Ur(e,n,!0)-1;if(je(e[r],n))return r}return-1}function eh(e){return e&&e.length?Do(e):[]}function nh(e,n){return e&&e.length?Do(e,A(n,2)):[]}function th(e){var n=e==null?0:e.length;return n?Ye(e,1,n):[]}function rh(e,n,t){return e&&e.length?(n=t||n===s?1:L(n),Ye(e,0,n<0?0:n)):[]}function ih(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===s?1:L(n),n=r-n,Ye(e,n<0?0:n,r)):[]}function uh(e,n){return e&&e.length?Dr(e,A(n,3),!1,!0):[]}function oh(e,n){return e&&e.length?Dr(e,A(n,3)):[]}var sh=P(function(e){return zn(de(e,1,j,!0))}),ah=P(function(e){var n=Xe(e);return j(n)&&(n=s),zn(de(e,1,j,!0),A(n,2))}),lh=P(function(e){var n=Xe(e);return n=typeof n=="function"?n:s,zn(de(e,1,j,!0),s,n)});function fh(e){return e&&e.length?zn(e):[]}function ch(e,n){return e&&e.length?zn(e,A(n,2)):[]}function hh(e,n){return n=typeof n=="function"?n:s,e&&e.length?zn(e,s,n):[]}function cu(e){if(!(e&&e.length))return[];var n=0;return e=Wn(e,function(t){if(j(t))return n=oe(t.length,n),!0}),Ri(n,function(t){return K(e,Ai(t))})}function Ss(e,n){if(!(e&&e.length))return[];var t=cu(e);return n==null?t:K(t,function(r){return Fe(n,s,r)})}var dh=P(function(e,n){return j(e)?Qt(e,n):[]}),ph=P(function(e){return Xi(Wn(e,j))}),gh=P(function(e){var n=Xe(e);return j(n)&&(n=s),Xi(Wn(e,j),A(n,2))}),vh=P(function(e){var n=Xe(e);return n=typeof n=="function"?n:s,Xi(Wn(e,j),s,n)}),_h=P(cu);function mh(e,n){return Go(e||[],n||[],Jt)}function xh(e,n){return Go(e||[],n||[],er)}var wh=P(function(e){var n=e.length,t=n>1?e[n-1]:s;return t=typeof t=="function"?(e.pop(),t):s,Ss(e,t)});function As(e){var n=u(e);return n.__chain__=!0,n}function bh(e,n){return n(e),e}function Zr(e,n){return n(e)}var Ch=wn(function(e){var n=e.length,t=n?e[0]:0,r=this.__wrapped__,i=function(o){return Bi(o,e)};return n>1||this.__actions__.length||!(r instanceof F)||!bn(t)?this.thru(i):(r=r.slice(t,+t+(n?1:0)),r.__actions__.push({func:Zr,args:[i],thisArg:s}),new Ke(r,this.__chain__).thru(function(o){return n&&!o.length&&o.push(s),o}))});function yh(){return As(this)}function Sh(){return new Ke(this.value(),this.__chain__)}function Ah(){this.__values__===s&&(this.__values__=zs(this.value()));var e=this.__index__>=this.__values__.length,n=e?s:this.__values__[this.__index__++];return{done:e,value:n}}function Eh(){return this}function Th(e){for(var n,t=this;t instanceof Mr;){var r=ms(t);r.__index__=0,r.__values__=s,n?i.__wrapped__=r:n=r;var i=r;t=t.__wrapped__}return i.__wrapped__=e,n}function Rh(){var e=this.__wrapped__;if(e instanceof F){var n=e;return this.__actions__.length&&(n=new F(this)),n=n.reverse(),n.__actions__.push({func:Zr,args:[fu],thisArg:s}),new Ke(n,this.__chain__)}return this.thru(fu)}function Ih(){return $o(this.__wrapped__,this.__actions__)}var Lh=zr(function(e,n,t){$.call(e,t)?++e[t]:mn(e,t,1)});function Oh(e,n,t){var r=I(e)?ju:bf;return t&&Ce(e,n,t)&&(n=s),r(e,A(n,3))}function Mh(e,n){var t=I(e)?Wn:So;return t(e,A(n,3))}var Ph=Vo(xs),Wh=Vo(ws);function Fh(e,n){return de(Yr(e,n),1)}function Bh(e,n){return de(Yr(e,n),X)}function Uh(e,n,t){return t=t===s?1:L(t),de(Yr(e,n),t)}function Es(e,n){var t=I(e)?He:Dn;return t(e,A(n,3))}function Ts(e,n){var t=I(e)?nl:yo;return t(e,A(n,3))}var Dh=zr(function(e,n,t){$.call(e,t)?e[t].push(n):mn(e,t,[n])});function zh(e,n,t,r){e=Te(e)?e:Pt(e),t=t&&!r?L(t):0;var i=e.length;return t<0&&(t=oe(i+t,0)),jr(e)?t<=i&&e.indexOf(n,t)>-1:!!i&&bt(e,n,t)>-1}var Nh=P(function(e,n,t){var r=-1,i=typeof n=="function",o=Te(e)?h(e.length):[];return Dn(e,function(a){o[++r]=i?Fe(n,a,t):Vt(a,n,t)}),o}),$h=zr(function(e,n,t){mn(e,t,n)});function Yr(e,n){var t=I(e)?K:Lo;return t(e,A(n,3))}function Gh(e,n,t,r){return e==null?[]:(I(n)||(n=n==null?[]:[n]),t=r?s:t,I(t)||(t=t==null?[]:[t]),Wo(e,n,t))}var kh=zr(function(e,n,t){e[t?0:1].push(n)},function(){return[[],[]]});function Hh(e,n,t){var r=I(e)?yi:ro,i=arguments.length<3;return r(e,A(n,4),t,i,Dn)}function qh(e,n,t){var r=I(e)?tl:ro,i=arguments.length<3;return r(e,A(n,4),t,i,yo)}function Kh(e,n){var t=I(e)?Wn:So;return t(e,Qr(A(n,3)))}function Zh(e){var n=I(e)?xo:zf;return n(e)}function Yh(e,n,t){(t?Ce(e,n,t):n===s)?n=1:n=L(n);var r=I(e)?vf:Nf;return r(e,n)}function Xh(e){var n=I(e)?_f:Gf;return n(e)}function Jh(e){if(e==null)return 0;if(Te(e))return jr(e)?yt(e):e.length;var n=we(e);return n==We||n==Ae?e.size:Gi(e).length}function Qh(e,n,t){var r=I(e)?Si:kf;return t&&Ce(e,n,t)&&(n=s),r(e,A(n,3))}var Vh=P(function(e,n){if(e==null)return[];var t=n.length;return t>1&&Ce(e,n[0],n[1])?n=[]:t>2&&Ce(n[0],n[1],n[2])&&(n=[n[0]]),Wo(e,de(n,1),[])}),Xr=Ol||function(){return he.Date.now()};function jh(e,n){if(typeof n!="function")throw new qe(fe);return e=L(e),function(){if(--e<1)return n.apply(this,arguments)}}function Rs(e,n,t){return n=t?s:n,n=e&&n==null?e.length:n,xn(e,Pe,s,s,s,s,n)}function Is(e,n){var t;if(typeof n!="function")throw new qe(fe);return e=L(e),function(){return--e>0&&(t=n.apply(this,arguments)),e<=1&&(n=s),t}}var hu=P(function(e,n,t){var r=G;if(t.length){var i=Bn(t,Ot(hu));r|=ae}return xn(e,r,n,t,i)}),Ls=P(function(e,n,t){var r=G|D;if(t.length){var i=Bn(t,Ot(Ls));r|=ae}return xn(n,r,e,t,i)});function Os(e,n,t){n=t?s:n;var r=xn(e,_e,s,s,s,s,s,n);return r.placeholder=Os.placeholder,r}function Ms(e,n,t){n=t?s:n;var r=xn(e,Me,s,s,s,s,s,n);return r.placeholder=Ms.placeholder,r}function Ps(e,n,t){var r,i,o,a,l,c,g=0,_=!1,m=!1,w=!0;if(typeof e!="function")throw new qe(fe);n=Je(n)||0,Y(t)&&(_=!!t.leading,m="maxWait"in t,o=m?oe(Je(t.maxWait)||0,n):o,w="trailing"in t?!!t.trailing:w);function y(ee){var en=r,Sn=i;return r=i=s,g=ee,a=e.apply(Sn,en),a}function E(ee){return g=ee,l=rr(W,n),_?y(ee):a}function M(ee){var en=ee-c,Sn=ee-g,Vs=n-en;return m?xe(Vs,o-Sn):Vs}function T(ee){var en=ee-c,Sn=ee-g;return c===s||en>=n||en<0||m&&Sn>=o}function W(){var ee=Xr();if(T(ee))return B(ee);l=rr(W,M(ee))}function B(ee){return l=s,w&&r?y(ee):(r=i=s,a)}function ze(){l!==s&&ko(l),g=0,r=c=i=l=s}function ye(){return l===s?a:B(Xr())}function Ne(){var ee=Xr(),en=T(ee);if(r=arguments,i=this,c=ee,en){if(l===s)return E(c);if(m)return ko(l),l=rr(W,n),y(c)}return l===s&&(l=rr(W,n)),a}return Ne.cancel=ze,Ne.flush=ye,Ne}var ed=P(function(e,n){return Co(e,1,n)}),nd=P(function(e,n,t){return Co(e,Je(n)||0,t)});function td(e){return xn(e,Bt)}function Jr(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new qe(fe);var t=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return t.cache=o.set(i,a)||o,a};return t.cache=new(Jr.Cache||_n),t}Jr.Cache=_n;function Qr(e){if(typeof e!="function")throw new qe(fe);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function rd(e){return Is(2,e)}var id=Hf(function(e,n){n=n.length==1&&I(n[0])?K(n[0],Be(A())):K(de(n,1),Be(A()));var t=n.length;return P(function(r){for(var i=-1,o=xe(r.length,t);++i<o;)r[i]=n[i].call(this,r[i]);return Fe(e,this,r)})}),du=P(function(e,n){var t=Bn(n,Ot(du));return xn(e,ae,s,n,t)}),Ws=P(function(e,n){var t=Bn(n,Ot(Ws));return xn(e,Kn,s,n,t)}),ud=wn(function(e,n){return xn(e,Zn,s,s,s,n)});function od(e,n){if(typeof e!="function")throw new qe(fe);return n=n===s?n:L(n),P(e,n)}function sd(e,n){if(typeof e!="function")throw new qe(fe);return n=n==null?0:oe(L(n),0),P(function(t){var r=t[n],i=$n(t,0,n);return r&&Fn(i,r),Fe(e,this,i)})}function ad(e,n,t){var r=!0,i=!0;if(typeof e!="function")throw new qe(fe);return Y(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),Ps(e,n,{leading:r,maxWait:n,trailing:i})}function ld(e){return Rs(e,1)}function fd(e,n){return du(Qi(n),e)}function cd(){if(!arguments.length)return[];var e=arguments[0];return I(e)?e:[e]}function hd(e){return Ze(e,rn)}function dd(e,n){return n=typeof n=="function"?n:s,Ze(e,rn,n)}function pd(e){return Ze(e,Le|rn)}function gd(e,n){return n=typeof n=="function"?n:s,Ze(e,Le|rn,n)}function vd(e,n){return n==null||bo(e,n,le(n))}function je(e,n){return e===n||e!==e&&n!==n}var _d=kr(zi),md=kr(function(e,n){return e>=n}),ct=To((function(){return arguments})())?To:function(e){return J(e)&&$.call(e,"callee")&&!ho.call(e,"callee")},I=h.isArray,xd=Zu?Be(Zu):Tf;function Te(e){return e!=null&&Vr(e.length)&&!Cn(e)}function j(e){return J(e)&&Te(e)}function wd(e){return e===!0||e===!1||J(e)&&be(e)==Qn}var Gn=Pl||Su,bd=Yu?Be(Yu):Rf;function Cd(e){return J(e)&&e.nodeType===1&&!ir(e)}function yd(e){if(e==null)return!0;if(Te(e)&&(I(e)||typeof e=="string"||typeof e.splice=="function"||Gn(e)||Mt(e)||ct(e)))return!e.length;var n=we(e);if(n==We||n==Ae)return!e.size;if(tr(e))return!Gi(e).length;for(var t in e)if($.call(e,t))return!1;return!0}function Sd(e,n){return jt(e,n)}function Ad(e,n,t){t=typeof t=="function"?t:s;var r=t?t(e,n):s;return r===s?jt(e,n,s,t):!!r}function pu(e){if(!J(e))return!1;var n=be(e);return n==vt||n==si||typeof e.message=="string"&&typeof e.name=="string"&&!ir(e)}function Ed(e){return typeof e=="number"&&go(e)}function Cn(e){if(!Y(e))return!1;var n=be(e);return n==Vn||n==lr||n==oi||n==fr}function Fs(e){return typeof e=="number"&&e==L(e)}function Vr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=V}function Y(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function J(e){return e!=null&&typeof e=="object"}var Bs=Xu?Be(Xu):Lf;function Td(e,n){return e===n||$i(e,n,iu(n))}function Rd(e,n,t){return t=typeof t=="function"?t:s,$i(e,n,iu(n),t)}function Id(e){return Us(e)&&e!=+e}function Ld(e){if(dc(e))throw new R(dt);return Ro(e)}function Od(e){return e===null}function Md(e){return e==null}function Us(e){return typeof e=="number"||J(e)&&be(e)==jn}function ir(e){if(!J(e)||be(e)!=$e)return!1;var n=Ar(e);if(n===null)return!0;var t=$.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&br.call(t)==Tl}var gu=Ju?Be(Ju):Of;function Pd(e){return Fs(e)&&e>=-V&&e<=V}var Ds=Qu?Be(Qu):Mf;function jr(e){return typeof e=="string"||!I(e)&&J(e)&&be(e)==On}function De(e){return typeof e=="symbol"||J(e)&&be(e)==et}var Mt=Vu?Be(Vu):Pf;function Wd(e){return e===s}function Fd(e){return J(e)&&we(e)==pn}function Bd(e){return J(e)&&be(e)==zt}var Ud=kr(ki),Dd=kr(function(e,n){return e<=n});function zs(e){if(!e)return[];if(Te(e))return jr(e)?Qe(e):Ee(e);if(qt&&e[qt])return gl(e[qt]());var n=we(e),t=n==We?Li:n==Ae?mr:Pt;return t(e)}function yn(e){if(!e)return e===0?e:0;if(e=Je(e),e===X||e===-X){var n=e<0?-1:1;return n*me}return e===e?e:0}function L(e){var n=yn(e),t=n%1;return n===n?t?n-t:n:0}function Ns(e){return e?st(L(e),0,Se):0}function Je(e){if(typeof e=="number")return e;if(De(e))return Rn;if(Y(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Y(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=io(e);var t=ma.test(e);return t||wa.test(e)?Va(e.slice(2),t?2:8):_a.test(e)?Rn:+e}function $s(e){return ln(e,Re(e))}function zd(e){return e?st(L(e),-V,V):e===0?e:0}function N(e){return e==null?"":Ue(e)}var Nd=It(function(e,n){if(tr(n)||Te(n)){ln(n,le(n),e);return}for(var t in n)$.call(n,t)&&Jt(e,t,n[t])}),Gs=It(function(e,n){ln(n,Re(n),e)}),ei=It(function(e,n,t,r){ln(n,Re(n),e,r)}),$d=It(function(e,n,t,r){ln(n,le(n),e,r)}),Gd=wn(Bi);function kd(e,n){var t=Rt(e);return n==null?t:wo(t,n)}var Hd=P(function(e,n){e=k(e);var t=-1,r=n.length,i=r>2?n[2]:s;for(i&&Ce(n[0],n[1],i)&&(r=1);++t<r;)for(var o=n[t],a=Re(o),l=-1,c=a.length;++l<c;){var g=a[l],_=e[g];(_===s||je(_,At[g])&&!$.call(e,g))&&(e[g]=o[g])}return e}),qd=P(function(e){return e.push(s,us),Fe(ks,s,e)});function Kd(e,n){return eo(e,A(n,3),an)}function Zd(e,n){return eo(e,A(n,3),Di)}function Yd(e,n){return e==null?e:Ui(e,A(n,3),Re)}function Xd(e,n){return e==null?e:Ao(e,A(n,3),Re)}function Jd(e,n){return e&&an(e,A(n,3))}function Qd(e,n){return e&&Di(e,A(n,3))}function Vd(e){return e==null?[]:Fr(e,le(e))}function jd(e){return e==null?[]:Fr(e,Re(e))}function vu(e,n,t){var r=e==null?s:at(e,n);return r===s?t:r}function ep(e,n){return e!=null&&as(e,n,yf)}function _u(e,n){return e!=null&&as(e,n,Sf)}var np=es(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=Cr.call(n)),e[n]=t},xu(Ie)),tp=es(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=Cr.call(n)),$.call(e,n)?e[n].push(t):e[n]=[t]},A),rp=P(Vt);function le(e){return Te(e)?mo(e):Gi(e)}function Re(e){return Te(e)?mo(e,!0):Wf(e)}function ip(e,n){var t={};return n=A(n,3),an(e,function(r,i,o){mn(t,n(r,i,o),r)}),t}function up(e,n){var t={};return n=A(n,3),an(e,function(r,i,o){mn(t,i,n(r,i,o))}),t}var op=It(function(e,n,t){Br(e,n,t)}),ks=It(function(e,n,t,r){Br(e,n,t,r)}),sp=wn(function(e,n){var t={};if(e==null)return t;var r=!1;n=K(n,function(o){return o=Nn(o,e),r||(r=o.length>1),o}),ln(e,tu(e),t),r&&(t=Ze(t,Le|Oe|rn,nc));for(var i=n.length;i--;)Yi(t,n[i]);return t});function ap(e,n){return Hs(e,Qr(A(n)))}var lp=wn(function(e,n){return e==null?{}:Bf(e,n)});function Hs(e,n){if(e==null)return{};var t=K(tu(e),function(r){return[r]});return n=A(n),Fo(e,t,function(r,i){return n(r,i[0])})}function fp(e,n,t){n=Nn(n,e);var r=-1,i=n.length;for(i||(i=1,e=s);++r<i;){var o=e==null?s:e[fn(n[r])];o===s&&(r=i,o=t),e=Cn(o)?o.call(e):o}return e}function cp(e,n,t){return e==null?e:er(e,n,t)}function hp(e,n,t,r){return r=typeof r=="function"?r:s,e==null?e:er(e,n,t,r)}var qs=rs(le),Ks=rs(Re);function dp(e,n,t){var r=I(e),i=r||Gn(e)||Mt(e);if(n=A(n,4),t==null){var o=e&&e.constructor;i?t=r?new o:[]:Y(e)?t=Cn(o)?Rt(Ar(e)):{}:t={}}return(i?He:an)(e,function(a,l,c){return n(t,a,l,c)}),t}function pp(e,n){return e==null?!0:Yi(e,n)}function gp(e,n,t){return e==null?e:No(e,n,Qi(t))}function vp(e,n,t,r){return r=typeof r=="function"?r:s,e==null?e:No(e,n,Qi(t),r)}function Pt(e){return e==null?[]:Ii(e,le(e))}function _p(e){return e==null?[]:Ii(e,Re(e))}function mp(e,n,t){return t===s&&(t=n,n=s),t!==s&&(t=Je(t),t=t===t?t:0),n!==s&&(n=Je(n),n=n===n?n:0),st(Je(e),n,t)}function xp(e,n,t){return n=yn(n),t===s?(t=n,n=0):t=yn(t),e=Je(e),Af(e,n,t)}function wp(e,n,t){if(t&&typeof t!="boolean"&&Ce(e,n,t)&&(n=t=s),t===s&&(typeof n=="boolean"?(t=n,n=s):typeof e=="boolean"&&(t=e,e=s)),e===s&&n===s?(e=0,n=1):(e=yn(e),n===s?(n=e,e=0):n=yn(n)),e>n){var r=e;e=n,n=r}if(t||e%1||n%1){var i=vo();return xe(e+i*(n-e+Qa("1e-"+((i+"").length-1))),n)}return qi(e,n)}var bp=Lt(function(e,n,t){return n=n.toLowerCase(),e+(t?Zs(n):n)});function Zs(e){return mu(N(e).toLowerCase())}function Ys(e){return e=N(e),e&&e.replace(Ca,fl).replace($a,"")}function Cp(e,n,t){e=N(e),n=Ue(n);var r=e.length;t=t===s?r:st(L(t),0,r);var i=t;return t-=n.length,t>=0&&e.slice(t,i)==n}function yp(e){return e=N(e),e&&ce.test(e)?e.replace(Gt,cl):e}function Sp(e){return e=N(e),e&&aa.test(e)?e.replace(di,"\\$&"):e}var Ap=Lt(function(e,n,t){return e+(t?"-":"")+n.toLowerCase()}),Ep=Lt(function(e,n,t){return e+(t?" ":"")+n.toLowerCase()}),Tp=Qo("toLowerCase");function Rp(e,n,t){e=N(e),n=L(n);var r=n?yt(e):0;if(!n||r>=n)return e;var i=(n-r)/2;return Gr(Ir(i),t)+e+Gr(Rr(i),t)}function Ip(e,n,t){e=N(e),n=L(n);var r=n?yt(e):0;return n&&r<n?e+Gr(n-r,t):e}function Lp(e,n,t){e=N(e),n=L(n);var r=n?yt(e):0;return n&&r<n?Gr(n-r,t)+e:e}function Op(e,n,t){return t||n==null?n=0:n&&(n=+n),Ul(N(e).replace(pi,""),n||0)}function Mp(e,n,t){return(t?Ce(e,n,t):n===s)?n=1:n=L(n),Ki(N(e),n)}function Pp(){var e=arguments,n=N(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var Wp=Lt(function(e,n,t){return e+(t?"_":"")+n.toLowerCase()});function Fp(e,n,t){return t&&typeof t!="number"&&Ce(e,n,t)&&(n=t=s),t=t===s?Se:t>>>0,t?(e=N(e),e&&(typeof n=="string"||n!=null&&!gu(n))&&(n=Ue(n),!n&&Ct(e))?$n(Qe(e),0,t):e.split(n,t)):[]}var Bp=Lt(function(e,n,t){return e+(t?" ":"")+mu(n)});function Up(e,n,t){return e=N(e),t=t==null?0:st(L(t),0,e.length),n=Ue(n),e.slice(t,t+n.length)==n}function Dp(e,n,t){var r=u.templateSettings;t&&Ce(e,n,t)&&(n=s),e=N(e),n=ei({},n,r,is);var i=ei({},n.imports,r.imports,is),o=le(i),a=Ii(i,o),l,c,g=0,_=n.interpolate||dr,m="__p += '",w=Oi((n.escape||dr).source+"|"+_.source+"|"+(_===Pn?va:dr).source+"|"+(n.evaluate||dr).source+"|$","g"),y="//# sourceURL="+($.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ka+"]")+`
`;e.replace(w,function(T,W,B,ze,ye,Ne){return B||(B=ze),m+=e.slice(g,Ne).replace(ya,hl),W&&(l=!0,m+=`' +
__e(`+W+`) +
'`),ye&&(c=!0,m+=`';
`+ye+`;
__p += '`),B&&(m+=`' +
((__t = (`+B+`)) == null ? '' : __t) +
'`),g=Ne+T.length,T}),m+=`';
`;var E=$.call(n,"variable")&&n.variable;if(!E)m=`with (obj) {
`+m+`
}
`;else if(pa.test(E))throw new R(Ft);m=(c?m.replace(cr,""):m).replace(hr,"$1").replace($t,"$1;"),m="function("+(E||"obj")+`) {
`+(E?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(l?", __e = _.escape":"")+(c?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+m+`return __p
}`;var M=Js(function(){return z(o,y+"return "+m).apply(s,a)});if(M.source=m,pu(M))throw M;return M}function zp(e){return N(e).toLowerCase()}function Np(e){return N(e).toUpperCase()}function $p(e,n,t){if(e=N(e),e&&(t||n===s))return io(e);if(!e||!(n=Ue(n)))return e;var r=Qe(e),i=Qe(n),o=uo(r,i),a=oo(r,i)+1;return $n(r,o,a).join("")}function Gp(e,n,t){if(e=N(e),e&&(t||n===s))return e.slice(0,ao(e)+1);if(!e||!(n=Ue(n)))return e;var r=Qe(e),i=oo(r,Qe(n))+1;return $n(r,0,i).join("")}function kp(e,n,t){if(e=N(e),e&&(t||n===s))return e.replace(pi,"");if(!e||!(n=Ue(n)))return e;var r=Qe(e),i=uo(r,Qe(n));return $n(r,i).join("")}function Hp(e,n){var t=Tn,r=sr;if(Y(n)){var i="separator"in n?n.separator:i;t="length"in n?L(n.length):t,r="omission"in n?Ue(n.omission):r}e=N(e);var o=e.length;if(Ct(e)){var a=Qe(e);o=a.length}if(t>=o)return e;var l=t-yt(r);if(l<1)return r;var c=a?$n(a,0,l).join(""):e.slice(0,l);if(i===s)return c+r;if(a&&(l+=c.length-l),gu(i)){if(e.slice(l).search(i)){var g,_=c;for(i.global||(i=Oi(i.source,N(Eu.exec(i))+"g")),i.lastIndex=0;g=i.exec(_);)var m=g.index;c=c.slice(0,m===s?l:m)}}else if(e.indexOf(Ue(i),l)!=l){var w=c.lastIndexOf(i);w>-1&&(c=c.slice(0,w))}return c+r}function qp(e){return e=N(e),e&&kt.test(e)?e.replace(fi,xl):e}var Kp=Lt(function(e,n,t){return e+(t?" ":"")+n.toUpperCase()}),mu=Qo("toUpperCase");function Xs(e,n,t){return e=N(e),n=t?s:n,n===s?pl(e)?Cl(e):ul(e):e.match(n)||[]}var Js=P(function(e,n){try{return Fe(e,s,n)}catch(t){return pu(t)?t:new R(t)}}),Zp=wn(function(e,n){return He(n,function(t){t=fn(t),mn(e,t,hu(e[t],e))}),e});function Yp(e){var n=e==null?0:e.length,t=A();return e=n?K(e,function(r){if(typeof r[1]!="function")throw new qe(fe);return[t(r[0]),r[1]]}):[],P(function(r){for(var i=-1;++i<n;){var o=e[i];if(Fe(o[0],this,r))return Fe(o[1],this,r)}})}function Xp(e){return wf(Ze(e,Le))}function xu(e){return function(){return e}}function Jp(e,n){return e==null||e!==e?n:e}var Qp=jo(),Vp=jo(!0);function Ie(e){return e}function wu(e){return Io(typeof e=="function"?e:Ze(e,Le))}function jp(e){return Oo(Ze(e,Le))}function eg(e,n){return Mo(e,Ze(n,Le))}var ng=P(function(e,n){return function(t){return Vt(t,e,n)}}),tg=P(function(e,n){return function(t){return Vt(e,t,n)}});function bu(e,n,t){var r=le(n),i=Fr(n,r);t==null&&!(Y(n)&&(i.length||!r.length))&&(t=n,n=e,e=this,i=Fr(n,le(n)));var o=!(Y(t)&&"chain"in t)||!!t.chain,a=Cn(e);return He(i,function(l){var c=n[l];e[l]=c,a&&(e.prototype[l]=function(){var g=this.__chain__;if(o||g){var _=e(this.__wrapped__),m=_.__actions__=Ee(this.__actions__);return m.push({func:c,args:arguments,thisArg:e}),_.__chain__=g,_}return c.apply(e,Fn([this.value()],arguments))})}),e}function rg(){return he._===this&&(he._=Rl),this}function Cu(){}function ig(e){return e=L(e),P(function(n){return Po(n,e)})}var ug=ji(K),og=ji(ju),sg=ji(Si);function Qs(e){return ou(e)?Ai(fn(e)):Uf(e)}function ag(e){return function(n){return e==null?s:at(e,n)}}var lg=ns(),fg=ns(!0);function yu(){return[]}function Su(){return!1}function cg(){return{}}function hg(){return""}function dg(){return!0}function pg(e,n){if(e=L(e),e<1||e>V)return[];var t=Se,r=xe(e,Se);n=A(n),e-=Se;for(var i=Ri(r,n);++t<e;)n(t);return i}function gg(e){return I(e)?K(e,fn):De(e)?[e]:Ee(_s(N(e)))}function vg(e){var n=++El;return N(e)+n}var _g=$r(function(e,n){return e+n},0),mg=eu("ceil"),xg=$r(function(e,n){return e/n},1),wg=eu("floor");function bg(e){return e&&e.length?Wr(e,Ie,zi):s}function Cg(e,n){return e&&e.length?Wr(e,A(n,2),zi):s}function yg(e){return to(e,Ie)}function Sg(e,n){return to(e,A(n,2))}function Ag(e){return e&&e.length?Wr(e,Ie,ki):s}function Eg(e,n){return e&&e.length?Wr(e,A(n,2),ki):s}var Tg=$r(function(e,n){return e*n},1),Rg=eu("round"),Ig=$r(function(e,n){return e-n},0);function Lg(e){return e&&e.length?Ti(e,Ie):0}function Og(e,n){return e&&e.length?Ti(e,A(n,2)):0}return u.after=jh,u.ary=Rs,u.assign=Nd,u.assignIn=Gs,u.assignInWith=ei,u.assignWith=$d,u.at=Gd,u.before=Is,u.bind=hu,u.bindAll=Zp,u.bindKey=Ls,u.castArray=cd,u.chain=As,u.chunk=wc,u.compact=bc,u.concat=Cc,u.cond=Yp,u.conforms=Xp,u.constant=xu,u.countBy=Lh,u.create=kd,u.curry=Os,u.curryRight=Ms,u.debounce=Ps,u.defaults=Hd,u.defaultsDeep=qd,u.defer=ed,u.delay=nd,u.difference=yc,u.differenceBy=Sc,u.differenceWith=Ac,u.drop=Ec,u.dropRight=Tc,u.dropRightWhile=Rc,u.dropWhile=Ic,u.fill=Lc,u.filter=Mh,u.flatMap=Fh,u.flatMapDeep=Bh,u.flatMapDepth=Uh,u.flatten=bs,u.flattenDeep=Oc,u.flattenDepth=Mc,u.flip=td,u.flow=Qp,u.flowRight=Vp,u.fromPairs=Pc,u.functions=Vd,u.functionsIn=jd,u.groupBy=Dh,u.initial=Fc,u.intersection=Bc,u.intersectionBy=Uc,u.intersectionWith=Dc,u.invert=np,u.invertBy=tp,u.invokeMap=Nh,u.iteratee=wu,u.keyBy=$h,u.keys=le,u.keysIn=Re,u.map=Yr,u.mapKeys=ip,u.mapValues=up,u.matches=jp,u.matchesProperty=eg,u.memoize=Jr,u.merge=op,u.mergeWith=ks,u.method=ng,u.methodOf=tg,u.mixin=bu,u.negate=Qr,u.nthArg=ig,u.omit=sp,u.omitBy=ap,u.once=rd,u.orderBy=Gh,u.over=ug,u.overArgs=id,u.overEvery=og,u.overSome=sg,u.partial=du,u.partialRight=Ws,u.partition=kh,u.pick=lp,u.pickBy=Hs,u.property=Qs,u.propertyOf=ag,u.pull=Gc,u.pullAll=ys,u.pullAllBy=kc,u.pullAllWith=Hc,u.pullAt=qc,u.range=lg,u.rangeRight=fg,u.rearg=ud,u.reject=Kh,u.remove=Kc,u.rest=od,u.reverse=fu,u.sampleSize=Yh,u.set=cp,u.setWith=hp,u.shuffle=Xh,u.slice=Zc,u.sortBy=Vh,u.sortedUniq=eh,u.sortedUniqBy=nh,u.split=Fp,u.spread=sd,u.tail=th,u.take=rh,u.takeRight=ih,u.takeRightWhile=uh,u.takeWhile=oh,u.tap=bh,u.throttle=ad,u.thru=Zr,u.toArray=zs,u.toPairs=qs,u.toPairsIn=Ks,u.toPath=gg,u.toPlainObject=$s,u.transform=dp,u.unary=ld,u.union=sh,u.unionBy=ah,u.unionWith=lh,u.uniq=fh,u.uniqBy=ch,u.uniqWith=hh,u.unset=pp,u.unzip=cu,u.unzipWith=Ss,u.update=gp,u.updateWith=vp,u.values=Pt,u.valuesIn=_p,u.without=dh,u.words=Xs,u.wrap=fd,u.xor=ph,u.xorBy=gh,u.xorWith=vh,u.zip=_h,u.zipObject=mh,u.zipObjectDeep=xh,u.zipWith=wh,u.entries=qs,u.entriesIn=Ks,u.extend=Gs,u.extendWith=ei,bu(u,u),u.add=_g,u.attempt=Js,u.camelCase=bp,u.capitalize=Zs,u.ceil=mg,u.clamp=mp,u.clone=hd,u.cloneDeep=pd,u.cloneDeepWith=gd,u.cloneWith=dd,u.conformsTo=vd,u.deburr=Ys,u.defaultTo=Jp,u.divide=xg,u.endsWith=Cp,u.eq=je,u.escape=yp,u.escapeRegExp=Sp,u.every=Oh,u.find=Ph,u.findIndex=xs,u.findKey=Kd,u.findLast=Wh,u.findLastIndex=ws,u.findLastKey=Zd,u.floor=wg,u.forEach=Es,u.forEachRight=Ts,u.forIn=Yd,u.forInRight=Xd,u.forOwn=Jd,u.forOwnRight=Qd,u.get=vu,u.gt=_d,u.gte=md,u.has=ep,u.hasIn=_u,u.head=Cs,u.identity=Ie,u.includes=zh,u.indexOf=Wc,u.inRange=xp,u.invoke=rp,u.isArguments=ct,u.isArray=I,u.isArrayBuffer=xd,u.isArrayLike=Te,u.isArrayLikeObject=j,u.isBoolean=wd,u.isBuffer=Gn,u.isDate=bd,u.isElement=Cd,u.isEmpty=yd,u.isEqual=Sd,u.isEqualWith=Ad,u.isError=pu,u.isFinite=Ed,u.isFunction=Cn,u.isInteger=Fs,u.isLength=Vr,u.isMap=Bs,u.isMatch=Td,u.isMatchWith=Rd,u.isNaN=Id,u.isNative=Ld,u.isNil=Md,u.isNull=Od,u.isNumber=Us,u.isObject=Y,u.isObjectLike=J,u.isPlainObject=ir,u.isRegExp=gu,u.isSafeInteger=Pd,u.isSet=Ds,u.isString=jr,u.isSymbol=De,u.isTypedArray=Mt,u.isUndefined=Wd,u.isWeakMap=Fd,u.isWeakSet=Bd,u.join=zc,u.kebabCase=Ap,u.last=Xe,u.lastIndexOf=Nc,u.lowerCase=Ep,u.lowerFirst=Tp,u.lt=Ud,u.lte=Dd,u.max=bg,u.maxBy=Cg,u.mean=yg,u.meanBy=Sg,u.min=Ag,u.minBy=Eg,u.stubArray=yu,u.stubFalse=Su,u.stubObject=cg,u.stubString=hg,u.stubTrue=dg,u.multiply=Tg,u.nth=$c,u.noConflict=rg,u.noop=Cu,u.now=Xr,u.pad=Rp,u.padEnd=Ip,u.padStart=Lp,u.parseInt=Op,u.random=wp,u.reduce=Hh,u.reduceRight=qh,u.repeat=Mp,u.replace=Pp,u.result=fp,u.round=Rg,u.runInContext=f,u.sample=Zh,u.size=Jh,u.snakeCase=Wp,u.some=Qh,u.sortedIndex=Yc,u.sortedIndexBy=Xc,u.sortedIndexOf=Jc,u.sortedLastIndex=Qc,u.sortedLastIndexBy=Vc,u.sortedLastIndexOf=jc,u.startCase=Bp,u.startsWith=Up,u.subtract=Ig,u.sum=Lg,u.sumBy=Og,u.template=Dp,u.times=pg,u.toFinite=yn,u.toInteger=L,u.toLength=Ns,u.toLower=zp,u.toNumber=Je,u.toSafeInteger=zd,u.toString=N,u.toUpper=Np,u.trim=$p,u.trimEnd=Gp,u.trimStart=kp,u.truncate=Hp,u.unescape=qp,u.uniqueId=vg,u.upperCase=Kp,u.upperFirst=mu,u.each=Es,u.eachRight=Ts,u.first=Cs,bu(u,(function(){var e={};return an(u,function(n,t){$.call(u.prototype,t)||(e[t]=n)}),e})(),{chain:!1}),u.VERSION=Hn,He(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){u[e].placeholder=u}),He(["drop","take"],function(e,n){F.prototype[e]=function(t){t=t===s?1:oe(L(t),0);var r=this.__filtered__&&!n?new F(this):this.clone();return r.__filtered__?r.__takeCount__=xe(t,r.__takeCount__):r.__views__.push({size:xe(t,Se),type:e+(r.__dir__<0?"Right":"")}),r},F.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),He(["filter","map","takeWhile"],function(e,n){var t=n+1,r=t==Ut||t==gt;F.prototype[e]=function(i){var o=this.clone();return o.__iteratees__.push({iteratee:A(i,3),type:t}),o.__filtered__=o.__filtered__||r,o}}),He(["head","last"],function(e,n){var t="take"+(n?"Right":"");F.prototype[e]=function(){return this[t](1).value()[0]}}),He(["initial","tail"],function(e,n){var t="drop"+(n?"":"Right");F.prototype[e]=function(){return this.__filtered__?new F(this):this[t](1)}}),F.prototype.compact=function(){return this.filter(Ie)},F.prototype.find=function(e){return this.filter(e).head()},F.prototype.findLast=function(e){return this.reverse().find(e)},F.prototype.invokeMap=P(function(e,n){return typeof e=="function"?new F(this):this.map(function(t){return Vt(t,e,n)})}),F.prototype.reject=function(e){return this.filter(Qr(A(e)))},F.prototype.slice=function(e,n){e=L(e);var t=this;return t.__filtered__&&(e>0||n<0)?new F(t):(e<0?t=t.takeRight(-e):e&&(t=t.drop(e)),n!==s&&(n=L(n),t=n<0?t.dropRight(-n):t.take(n-e)),t)},F.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},F.prototype.toArray=function(){return this.take(Se)},an(F.prototype,function(e,n){var t=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),i=u[r?"take"+(n=="last"?"Right":""):n],o=r||/^find/.test(n);i&&(u.prototype[n]=function(){var a=this.__wrapped__,l=r?[1]:arguments,c=a instanceof F,g=l[0],_=c||I(a),m=function(W){var B=i.apply(u,Fn([W],l));return r&&w?B[0]:B};_&&t&&typeof g=="function"&&g.length!=1&&(c=_=!1);var w=this.__chain__,y=!!this.__actions__.length,E=o&&!w,M=c&&!y;if(!o&&_){a=M?a:new F(this);var T=e.apply(a,l);return T.__actions__.push({func:Zr,args:[m],thisArg:s}),new Ke(T,w)}return E&&M?e.apply(this,l):(T=this.thru(m),E?r?T.value()[0]:T.value():T)})}),He(["pop","push","shift","sort","splice","unshift"],function(e){var n=xr[e],t=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);u.prototype[e]=function(){var i=arguments;if(r&&!this.__chain__){var o=this.value();return n.apply(I(o)?o:[],i)}return this[t](function(a){return n.apply(I(a)?a:[],i)})}}),an(F.prototype,function(e,n){var t=u[n];if(t){var r=t.name+"";$.call(Tt,r)||(Tt[r]=[]),Tt[r].push({name:n,func:t})}}),Tt[Nr(s,D).name]=[{name:"wrapper",func:s}],F.prototype.clone=Hl,F.prototype.reverse=ql,F.prototype.value=Kl,u.prototype.at=Ch,u.prototype.chain=yh,u.prototype.commit=Sh,u.prototype.next=Ah,u.prototype.plant=Th,u.prototype.reverse=Rh,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=Ih,u.prototype.first=u.prototype.head,qt&&(u.prototype[qt]=Eh),u}),St=yl();rt?((rt.exports=St)._=St,wi._=St):he._=St}).call(dv)})(or,or.exports)),or.exports}var gv=pv();function vv(tn,U){const s=Q(null),Hn=Q(!1),dn=Q(0),dt=Q(""),fe=async(te,re)=>{if(te.word_count===void 0||te.word_count<0)return;const G=Date.now();if(!(G-dn.value<3e3)){Hn.value=!0,dn.value=G;try{const D=await fetch(En("projects.manual-editor.progressive-guidance",{project:tn,chapter:U}),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},body:JSON.stringify({analysis:{...te,content:re}})});if(D.ok){const ve=await D.json();s.value=ve,Z();const _e=JSON.stringify({stage:ve?.stage,completion:ve?.completion_percentage,tip:ve?.contextual_tip,steps:(ve?.next_steps||[]).map(Me=>Me?.text)});if(_e&&_e!==dt.value){dt.value=_e;const Me=ri(ve?.contextual_tip||"")+ri(ve?.stage_label||"")+ri((ve?.next_steps||[]).map(ae=>ae?.text).join(" "))+ri((ve?.writing_milestones||[]).map(ae=>ae?.label).join(" "));Me>0&&oa(Me,"Manual editor: Progressive guidance","chapter").catch(ae=>console.error("Failed to record word usage (progressive guidance):",ae))}}}catch(D){console.error("Failed to load progressive guidance:",D)}finally{Hn.value=!1}}},Ft=gv.debounce(fe,5e3),qn=te=>{if(!s.value)return;const re=s.value.next_steps.find(G=>G.id===te);re&&(re.completed=!re.completed,pt())},pt=()=>{if(!s.value)return;const te=s.value.next_steps.filter(G=>G.completed).map(G=>G.id),re=`progressive-guidance-${tn}-${U}`;localStorage.setItem(re,JSON.stringify(te))},Z=()=>{if(!s.value)return;const te=`progressive-guidance-${tn}-${U}`,re=localStorage.getItem(te);if(re)try{const G=JSON.parse(re);s.value.next_steps.forEach(D=>{G.includes(D.id)&&(D.completed=!0)})}catch(G){console.error("Failed to parse completed steps:",G)}};return{guidance:s,isLoadingGuidance:Hn,requestGuidance:fe,debouncedRequestGuidance:Ft,toggleStep:qn,clearCompletedSteps:()=>{if(!s.value)return;s.value.next_steps.forEach(re=>{re.completed=!1});const te=`progressive-guidance-${tn}-${U}`;localStorage.removeItem(te)},getCompletionPercentage:()=>s.value?.completion_percentage||0,getCurrentStageLabel:()=>s.value?.stage_label||"Getting Started"}}const _v={class:"manual-editor h-screen flex flex-col bg-background dark:bg-background transition-colors duration-300"},mv={class:"md:hidden border-b h-14 px-3 flex justify-between items-center bg-background/80 backdrop-blur-md sticky top-0 z-50 transition-all duration-200"},xv={class:"flex items-center gap-2"},wv={class:"flex flex-col justify-center min-w-0 flex-1 mx-2"},bv={class:"items-center gap-2 text-xs font-medium text-muted-foreground mb-1 hidden sm:flex"},Cv={class:"flex items-center gap-2 -ml-1"},yv={class:"font-bold text-base text-foreground truncate"},Sv={class:"truncate"},Av={class:"flex gap-2 items-center"},Ev={class:"hidden md:flex flex-col w-full z-50 sticky top-0 bg-background/80 backdrop-blur-md transition-all duration-200 border-b"},Tv={class:"h-10 border-b border-border/40 flex items-center justify-center px-4 bg-background/60 relative"},Rv={class:"flex items-center gap-2"},Iv={class:"flex items-center gap-1 absolute right-4"},Lv={class:"h-12 flex items-center justify-between px-4 bg-background/40"},Ov={class:"flex items-center gap-3"},Mv={class:"flex items-center gap-1"},Pv={class:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-muted/30 border border-border/40"},Wv={class:"flex items-center gap-1.5"},Fv={class:"text-xs font-medium text-muted-foreground"},Bv={key:0,class:"flex items-center gap-1.5"},Uv={key:1,class:"text-xs text-muted-foreground"},Dv={class:"flex items-center gap-3"},zv={class:"flex items-center gap-1 bg-muted/30 p-1 rounded-full border border-border/40"},Nv={class:"text-xs font-medium"},$v={class:"w-full bg-background border-b px-3 md:px-6 py-2 flex flex-col gap-1"},Gv={class:"flex justify-between items-center text-xs text-muted-foreground mb-1"},kv={class:"flex-1 flex overflow-hidden"},Hv={key:0,class:"w-[320px] border-r bg-background/80 backdrop-blur-xl border-border/50 shadow-xl z-20 overflow-y-auto custom-scrollbar"},qv={class:"p-4"},Kv={class:"mb-3"},Zv={class:"text-xs text-muted-foreground"},Yv={class:"flex-1 overflow-auto p-2 md:p-6 bg-background"},Xv={key:0,class:"w-1/2 flex flex-col bg-background overflow-hidden"},Jv={class:"flex-1 overflow-y-auto custom-scrollbar"},Qv={key:0,class:"w-[400px] border-l bg-background/80 backdrop-blur-xl border-border/50 shadow-2xl z-20 overflow-y-auto custom-scrollbar flex flex-col"},Vv={class:"p-4 space-y-6"},jv={key:0,class:"space-y-2"},e0={key:1,class:"space-y-2"},n0={class:"flex items-center justify-between"},t0={class:"text-xs whitespace-pre-wrap rounded-lg border border-border/50 bg-muted/30 p-3"},r0={class:"space-y-2"},i0={class:"border-t p-2 md:p-3 flex flex-col gap-3 text-xs md:text-sm bg-muted/30"},u0={class:"flex flex-col sm:flex-row justify-between gap-3 sm:gap-2 items-start sm:items-center w-full"},o0={class:"flex gap-2 md:gap-4 flex-wrap items-center"},s0={class:"text-muted-foreground"},a0={class:"text-foreground"},l0={key:0,class:"text-muted-foreground hidden sm:inline"},f0={class:"text-foreground"},c0={key:1,class:"text-muted-foreground hidden md:inline"},h0={class:"text-foreground"},d0={key:2,class:"text-muted-foreground hidden lg:inline"},p0={class:"flex gap-2 items-center w-full sm:w-auto"},g0={class:"text-xs font-medium"},v0=Mg({__name:"ManualEditor",props:{project:{},chapter:{},allChapters:{},facultyChapters:{},currentSuggestion:{},contextAnalysis:{},chatHistory:{}},setup(tn){const U=tn,s=Pg();ti(()=>s.props?.flash,p=>{p&&(p.success&&se.success(p.success),p.error&&se.error(p.error))},{deep:!0,immediate:!0});const{balance:Hn,showPurchaseModal:dn,requiredWordsForModal:dt,actionDescriptionForModal:fe,checkAndPrompt:Ft,closePurchaseModal:qn,refreshBalance:pt}=Vg(),{content:Z,isDirty:Le,isSaving:Oe,lastSaved:rn,updateContent:te,manualSave:re}=Ng(U.chapter,U.project.slug),{currentSuggestion:G,currentAnalysis:D,isAnalyzing:ve,saveSuggestion:_e,clearSuggestion:Me,applySuggestion:ae}=$g(U.chapter,U.project.slug,U.currentSuggestion,Z,{onUsageRecorded:()=>pt()}),{addToHistory:Kn}=Zg(U.chapter.content||""),Pe=Q(!1),Zn=Q(U.chapter.title||"");Q(!1),Q(!1),Q("");const Bt=()=>{Pe.value=!Pe.value},Tn=p=>{te(p),Kn(p)};ur(()=>{const p=Zn.value?.trim(),x=Z.value?.trim();return!!(p&&p.length>0&&x&&x.length>50)});const{guidance:sr,isLoadingGuidance:ar,debouncedRequestGuidance:ii,toggleStep:Ut}=vv(U.project.slug,U.chapter.chapter_number),ui=()=>typeof window<"u"&&window.innerWidth<1024,gt=(p,x)=>{try{const O=localStorage.getItem(p);return O!==null?O==="true":x}catch{return x}},X=Q(ui()),V=Q(gt("manualEditor_showLeftSidebar",!X.value)),me=Q(gt("manualEditor_showRightSidebar",!X.value)),Rn=Q(""),Se=Q(null),Yn=Q(null),Xn=Q("");Q(!1),Q([]),Q(!1);const un=Q(!0),on=Q((()=>{try{return localStorage.getItem("citationOperationMode")==="true"}catch{return!1}})()),oi=()=>{on.value=!0,me.value=!1;try{localStorage.setItem("citationOperationMode","true")}catch{}},Qn=()=>{on.value=!1,me.value=!0;try{localStorage.setItem("citationOperationMode","false")}catch{}},In=Q(!1),si=async()=>{se.info("Fullscreen temporarily disabled")},vt=()=>{kn.visit(En("projects.analysis",{project:U.project.slug}))};js(()=>{}),ea(()=>{});const{isDark:Vn,toggle:lr}=Wg(),We=ur(()=>{const p=D.value?.word_count??U.chapter.word_count,x=U.chapter.target_word_count||1e3;return Math.min(p/x*100,100)});ur(()=>Oe.value?"Saving...":rn.value?`Saved ${rn.value}`:"Not saved");const jn=()=>{V.value=!V.value},ai=()=>{me.value=!me.value};ti(V,p=>{if(!X.value)try{localStorage.setItem("manualEditor_showLeftSidebar",String(p))}catch(x){console.error("Failed to save left sidebar state:",x)}}),ti(me,p=>{if(!X.value)try{localStorage.setItem("manualEditor_showRightSidebar",String(p))}catch(x){console.error("Failed to save right sidebar state:",x)}});const $e=p=>{(p.ctrlKey||p.metaKey)&&p.key==="s"&&(p.preventDefault(),Mn())};js(()=>{X.value=window.innerWidth<1024,X.value&&(V.value=!1,me.value=!1);const p=()=>{const x=X.value;X.value=window.innerWidth<1024,x!==X.value&&(X.value?(V.value=!1,me.value=!1):(V.value=gt("manualEditor_showLeftSidebar",!0),me.value=gt("manualEditor_showRightSidebar",!0)))};window.addEventListener("resize",p),window.addEventListener("keydown",$e),ea(()=>{window.removeEventListener("resize",p),window.removeEventListener("keydown",$e)})}),ti(()=>D.value,p=>{p&&ii({word_count:p.word_count,citation_count:p.citation_count,table_count:p.table_count,figure_count:p.figure_count,claim_count:p.claim_count,has_introduction:p.has_introduction,has_conclusion:p.has_conclusion,detected_issues:p.detected_issues,quality_metrics:p.quality_metrics},Z.value)},{deep:!0});const Dt=p=>{Tn(p),se.success("Applied improved text")},fr=p=>{if(Yn.value?.replaceSelection(p,Se.value||void 0)??!1){se.success("Expanded selection");return}Tn(`${Z.value}

${p}`),se.success("Added expanded text")},Ln=p=>{Xn.value=p,un.value=!0;try{navigator.clipboard?.writeText(p)}catch{}se.success("Citation suggestions ready")},Ae=p=>{if(Yn.value?.replaceSelection(p,Se.value||void 0)??!1){se.success("Applied rephrased text");return}Tn(`${Z.value}

${p}`),se.success("Added rephrased text")},On=(p,x)=>Ft(p,x),et=async(p,x)=>{const O=Math.max(0,Math.round(p||0));O&&(await oa(O,x,"chapter",U.chapter.id),await pt())},li=async()=>{if(Xn.value)try{await navigator.clipboard.writeText(Xn.value),se.success("Copied citation suggestions")}catch{se.error("Could not copy citation suggestions")}},pn=ur(()=>U.allChapters.find(p=>p.chapter_number===U.chapter.chapter_number-1)),zt=ur(()=>U.allChapters.find(p=>p.chapter_number===U.chapter.chapter_number+1)),gn=(p,x)=>{if(x&&Z.value){const nt=x.trim(),tt=document.createElement("div");tt.innerHTML=Z.value;const cr=tt.textContent||tt.innerText||"",hr=cr.indexOf(nt);if(hr!==-1){const $t=hr+nt.length,Gt=cr.substring($t).match(/^[^.!?]*[.!?]/);let kt;Gt?kt=$t+Gt[0].length:kt=$t;let ce=0,xt=0;const sn=Z.value;for(;ce<sn.length&&xt<kt;)if(sn[ce]==="<"){for(;ce<sn.length&&sn[ce]!==">";)ce++;ce++}else if(sn[ce]==="&"){const Pn=sn.indexOf(";",ce);Pn!==-1&&Pn-ce<10?(ce=Pn+1,xt++):(ce++,xt++)}else ce++,xt++;if(ce>0){const Pn=sn.substring(0,ce),ci=sn.substring(ce),hi=`${Pn} ${p}${ci}`;Tn(hi),se.success("Citation inserted at claim location");return}}}const O=Yn.value?.getCursorPosition?.();if(typeof O=="number"&&(Yn.value?.replaceTextAt?.({from:O,to:O},` ${p} `)??!1)){se.success("Citation inserted at cursor");return}Tn(`${Z.value} ${p}`),se.success("Citation appended to content")},Ge=p=>{Le.value&&!confirm("You have unsaved changes. Are you sure you want to switch chapters?")||kn.visit(En("projects.manual-editor.show",{project:U.project.slug,chapter:p}))},_t=()=>{const p=U.chapter.chapter_number+1;U.allChapters.find(O=>O.chapter_number===p)?Ge(p):se.info("Please create the next chapter from the dashboard first.")},mt=p=>{confirm("Are you sure you want to delete this chapter?")&&kn.delete(En("chapters.destroy",{project:U.project.slug,chapter:U.allChapters.find(x=>x.id===p)?.slug}),{onSuccess:()=>se.success("Chapter deleted")})},Mn=async()=>{try{await re(),se.success("Chapter saved successfully")}catch{se.error("Failed to save chapter")}},Nt=async()=>{console.log("🔵 [MARK COMPLETE] Function called"),console.log("🔵 [MARK COMPLETE] Current word count:",D.value?.word_count??U.chapter.word_count);try{console.log("🔵 [MARK COMPLETE] Saving chapter..."),await re(),console.log("✅ [MARK COMPLETE] Chapter saved");const p=En("projects.manual-editor.mark-complete",{project:U.project.slug,chapter:U.chapter.chapter_number});console.log("🔵 [MARK COMPLETE] Posting to:",p),kn.post(p,{},{onSuccess:()=>{console.log("✅ [MARK COMPLETE] Request successful")},onError:x=>{console.error("❌ [MARK COMPLETE] Request failed:",x)}})}catch(p){console.error("❌ [MARK COMPLETE] Error:",p),se.error("Failed to save chapter before marking complete")}};return(p,x)=>(ne(),nn(Bg,null,[S(v(Fg),{title:`${p.chapter.title} - Manual Editor`},null,8,["title"]),C("div",_v,[C("header",mv,[C("div",xv,[S(v(ge),{variant:"ghost",size:"icon",class:"h-8 w-8 text-zinc-700 dark:text-zinc-300 hover:text-foreground",onClick:x[0]||(x[0]=O=>v(kn).visit(v(En)("projects.show",p.project.slug))),title:"Back to Project"},{default:ie(()=>[S(v(ra),{class:"w-4 h-4"})]),_:1}),S(v(An),{orientation:"vertical",class:"h-6"}),S(v(ge),{onClick:x[1]||(x[1]=O=>V.value=!0),variant:"ghost",size:"icon",class:"h-8 w-8 lg:hidden text-muted-foreground hover:text-foreground",title:"Open Chapter Navigation"},{default:ie(()=>[S(v(nv),{class:"w-4 h-4"})]),_:1})]),C("div",wv,[C("div",bv,[C("span",{class:"hover:text-foreground transition-colors cursor-pointer truncate",onClick:x[2]||(x[2]=O=>v(kn).visit(v(En)("projects.show",p.project.slug)))},pe(p.project.title),1)]),C("div",Cv,[C("div",yv,[C("span",Sv,"Ch. "+pe(p.chapter.chapter_number),1)])])]),C("div",Av,[S(v(ge),{variant:"ghost",size:"icon",class:"h-8 w-8",onClick:Mn,disabled:v(Oe),title:"Save"},{default:ie(()=>[S(v(Au),{class:"w-4 h-4"})]),_:1},8,["disabled"]),S(v(An),{orientation:"vertical",class:"h-6 mx-1 opacity-50"}),S(v(ge),{onClick:x[3]||(x[3]=O=>me.value=!0),variant:"ghost",size:"icon",class:"h-8 w-8 text-muted-foreground hover:text-foreground",title:"Open Tools"},{default:ie(()=>[S(v(ia),{class:"w-4 h-4"})]),_:1})])]),C("div",Ev,[C("div",Tv,[C("div",Rv,[C("h1",{class:"text-sm font-bold text-foreground cursor-pointer hover:text-primary transition-colors",onClick:x[4]||(x[4]=O=>v(kn).visit(v(En)("projects.show",p.project.slug)))},pe(p.project.title),1),S(v(Ug),{variant:"secondary",class:"h-5 px-2 text-[10px] rounded-full"},{default:ie(()=>[ht("Ch "+pe(p.chapter.chapter_number),1)]),_:1})]),C("div",Iv,[pn.value?(ne(),cn(v(ge),{key:0,variant:"ghost",size:"sm",class:"h-6 px-2 text-zinc-500 hover:text-foreground gap-1 rounded-full text-[10px]",onClick:x[5]||(x[5]=O=>Ge(pn.value.chapter_number)),title:`Previous: ${pn.value.title}`},{default:ie(()=>[S(v(tv),{class:"w-3 h-3"}),x[17]||(x[17]=ht(" Prev ",-1))]),_:1},8,["title"])):hn("",!0),zt.value?(ne(),cn(v(ge),{key:1,variant:"ghost",size:"sm",class:"h-6 px-2 text-zinc-500 hover:text-foreground gap-1 rounded-full text-[10px]",onClick:x[6]||(x[6]=O=>Ge(zt.value.chapter_number)),title:`Next: ${zt.value.title}`},{default:ie(()=>[x[18]||(x[18]=ht(" Next ",-1)),S(v(rv),{class:"w-3 h-3"})]),_:1},8,["title"])):hn("",!0)])]),C("div",Lv,[C("div",Ov,[C("div",Mv,[S(v(ge),{variant:"ghost",size:"icon",class:"h-8 w-8 text-zinc-700 dark:text-zinc-300 hover:text-foreground rounded-full",onClick:x[7]||(x[7]=O=>v(kn).visit(v(En)("projects.show",p.project.slug))),title:"Back to Project"},{default:ie(()=>[S(v(ra),{class:"w-4 h-4"})]),_:1}),x[19]||(x[19]=C("div",{class:"h-4 w-px bg-border/50 mx-1"},null,-1)),S(v(ge),{onClick:jn,variant:"ghost",size:"icon",class:Wt(["h-8 w-8 transition-all duration-300 rounded-full",V.value?"text-primary":"text-zinc-700 dark:text-zinc-300 hover:text-foreground"]),title:"Toggle Chapter Navigation"},{default:ie(()=>[V.value?(ne(),cn(v(iv),{key:0,class:"w-4 h-4"})):(ne(),cn(v(uv),{key:1,class:"w-4 h-4"}))]),_:1},8,["class"])]),x[21]||(x[21]=C("div",{class:"h-4 w-px bg-border/50"},null,-1)),C("div",Pv,[C("div",Wv,[C("div",{class:Wt(["w-2 h-2 rounded-full transition-colors duration-300",v(Le)?"bg-amber-500 animate-pulse":"bg-emerald-500"])},null,2),C("span",Fv,pe(v(Le)?"Unsaved":"Saved"),1)]),S(v(An),{orientation:"vertical",class:"h-3"}),v(ve)?(ne(),nn("div",Bv,[S(v(ov),{class:"w-3 h-3 animate-spin text-primary"}),x[20]||(x[20]=C("span",{class:"text-xs text-muted-foreground"},"Analyzing",-1))])):(ne(),nn("div",Uv,pe(v(D)?.word_count??p.chapter.word_count)+" words ",1))])]),x[24]||(x[24]=C("div",{class:"flex-1 px-4 min-w-0"},[C("div",{id:"manual-editor-toolbar",class:"mx-auto max-w-[950px]"})],-1)),C("div",Dv,[C("div",zv,[S(v(ge),{variant:"ghost",size:"icon",class:"h-7 w-7 rounded-full text-zinc-700 dark:text-zinc-300 hover:text-foreground",onClick:v(lr),title:v(Vn)?"Switch to Light Mode":"Switch to Dark Mode"},{default:ie(()=>[v(Vn)?(ne(),cn(v(sv),{key:0,class:"w-4 h-4"})):(ne(),cn(v(av),{key:1,class:"w-4 h-4"}))]),_:1},8,["onClick","title"]),S(v(ge),{variant:"ghost",size:"icon",class:"h-7 w-7 rounded-full text-zinc-700 dark:text-zinc-300 hover:text-foreground",onClick:si,title:In.value?"Exit Full Screen":"Enter Full Screen"},{default:ie(()=>[In.value?(ne(),cn(v(lv),{key:0,class:"w-4 h-4"})):(ne(),cn(v(Yg),{key:1,class:"w-4 h-4"}))]),_:1},8,["title"]),S(v(ge),{onClick:Bt,variant:"ghost",size:"icon",class:Wt(["h-7 w-7 rounded-full transition-all duration-300",Pe.value?"bg-background shadow-sm text-primary":"text-zinc-700 dark:text-zinc-300 hover:text-foreground"]),title:"Toggle AI Chat Mode"},{default:ie(()=>[S(v(ia),{class:"w-4 h-4"})]),_:1},8,["class"]),S(v(ge),{onClick:ai,variant:"ghost",size:"icon",class:Wt(["h-7 w-7 rounded-full transition-all duration-300",me.value?"bg-background shadow-sm text-primary":"text-zinc-700 dark:text-zinc-300 hover:text-foreground"]),title:"Toggle Tools Sidebar"},{default:ie(()=>[me.value?(ne(),cn(v(Xg),{key:0,class:"w-4 h-4"})):(ne(),cn(v(Jg),{key:1,class:"w-4 h-4"}))]),_:1},8,["class"])]),x[23]||(x[23]=C("div",{class:"w-px h-4 bg-border/50"},null,-1)),S(Qg,{project:p.project,"current-chapter":p.chapter,"all-chapters":p.allChapters,size:"sm",variant:"outline",class:"h-9","button-class":"rounded-full bg-background/50"},null,8,["project","current-chapter","all-chapters"]),S(v(ge),{variant:"ghost",size:"sm",class:"h-9 gap-2 text-zinc-700 dark:text-zinc-300 hover:text-foreground rounded-full bg-background/50 border border-transparent hover:border-border/50",onClick:vt,title:"Open bulk analysis"},{default:ie(()=>[S(v(fv),{class:"w-4 h-4"}),x[22]||(x[22]=C("span",{class:"text-xs font-medium"},"Analyze",-1))]),_:1}),S(v(ge),{variant:"outline",size:"sm",class:"h-9 gap-2 text-zinc-700 dark:text-zinc-300 hover:text-foreground rounded-full bg-background/50",onClick:Mn,disabled:v(Oe),title:"Save (Ctrl+S)"},{default:ie(()=>[S(v(Au),{class:"w-4 h-4"}),C("span",Nv,pe(v(Oe)?"Saving...":"Save"),1)]),_:1},8,["disabled"])])])]),C("div",$v,[C("div",Gv,[x[25]||(x[25]=C("span",{class:"font-medium"},"Writing Progress",-1)),C("span",null,pe(v(D)?.word_count??p.chapter.word_count)+" / "+pe(p.chapter.target_word_count)+" words",1)]),S(v(Dg),{"model-value":We.value,class:"h-1.5"},null,8,["model-value"])]),C("div",kv,[S(na,{"enter-active-class":"transition-all duration-500 cubic-bezier(0.4, 0, 0.2, 1)","enter-from-class":"-ml-[320px] opacity-0","enter-to-class":"ml-0 opacity-100","leave-active-class":"transition-all duration-500 cubic-bezier(0.4, 0, 0.2, 1)","leave-from-class":"ml-0 opacity-100","leave-to-class":"-ml-[320px] opacity-0"},{default:ie(()=>[V.value&&!X.value?(ne(),nn("aside",Hv,[C("div",qv,[C("div",Kv,[x[26]||(x[26]=C("h2",{class:"text-sm font-semibold text-foreground mb-1"},"Table of Contents",-1)),C("p",Zv,pe(p.allChapters.length)+" Chapters",1)]),S(Kg,{"all-chapters":p.allChapters,"current-chapter":p.chapter,project:p.project,outlines:p.project.outlines||[],"faculty-chapters":p.facultyChapters||[],"current-word-count":v(D)?.word_count||p.chapter.word_count,"target-word-count":p.chapter.target_word_count,"writing-quality-score":0,"chapter-content-length":v(Z)?.length||0,onGoToChapter:Ge,onGenerateNextChapter:_t,onDeleteChapter:mt},null,8,["all-chapters","current-chapter","project","outlines","faculty-chapters","current-word-count","target-word-count","chapter-content-length"])])])):hn("",!0)]),_:1}),C("div",{class:Wt(["flex-1 flex overflow-hidden",on.value?"flex-row":"flex-col"])},[C("div",{class:Wt(["flex flex-col overflow-hidden",on.value?"w-1/2 border-r border-border/50":"flex-1"])},[C("div",Yv,[S(zg,{ref_key:"editorRef",ref:Yn,modelValue:v(Z),"onUpdate:modelValue":Tn,"onUpdate:selectedText":x[8]||(x[8]=O=>Rn.value=O),"onUpdate:selectionRange":x[9]||(x[9]=O=>Se.value=O),"manual-mode":!0,"toolbar-teleport-target":X.value?"":"#manual-editor-toolbar",class:"min-h-full"},null,8,["modelValue","toolbar-teleport-target"])])],2),on.value?(ne(),nn("div",Xv,[C("div",Jv,[S(ta,{"show-citation-helper":un.value,"onUpdate:showCitationHelper":x[10]||(x[10]=O=>un.value=O),"chapter-content":v(Z),"chapter-id":p.chapter.id,"citation-operation-mode":!0,onInsertCitation:gn,onExitOperationMode:Qn},null,8,["show-citation-helper","chapter-content","chapter-id"])])])):hn("",!0)],2),S(na,{"enter-active-class":"transition-all duration-500 cubic-bezier(0.4, 0, 0.2, 1)","enter-from-class":"-mr-[400px] opacity-0","enter-to-class":"mr-0 opacity-100","leave-active-class":"transition-all duration-500 cubic-bezier(0.4, 0, 0.2, 1)","leave-from-class":"mr-0 opacity-100","leave-to-class":"-mr-[400px] opacity-0"},{default:ie(()=>[me.value&&!X.value?(ne(),nn("aside",Qv,[C("div",Vv,[v(G)?(ne(),nn("div",jv,[S(Gg,{suggestion:v(G),analysis:v(D),onSave:v(_e),onClear:v(Me),onApply:v(ae)},null,8,["suggestion","analysis","onSave","onClear","onApply"]),S(v(An),{class:"bg-border/50"})])):hn("",!0),S(kg,{guidance:v(sr),"is-loading":v(ar),onToggleStep:v(Ut)},null,8,["guidance","is-loading","onToggleStep"]),S(v(An),{class:"bg-border/50"}),S(Hg,{"project-slug":p.project.slug,"chapter-number":p.chapter.chapter_number,"selected-text":Rn.value,"chapter-content":v(Z),"is-processing":v(ve)||v(Oe),"ensure-balance":On,"on-usage":et,onTextImproved:Dt,onTextExpanded:fr,onCitationsSuggested:Ln,onTextRephrased:Ae,onOpenCitationHelper:x[11]||(x[11]=O=>un.value=!0)},null,8,["project-slug","chapter-number","selected-text","chapter-content","is-processing"]),S(v(An),{class:"bg-border/50"}),Xn.value?(ne(),nn("div",e0,[C("div",n0,[x[28]||(x[28]=C("h3",{class:"text-sm font-semibold text-foreground"},"Citation Suggestions",-1)),S(v(ge),{size:"sm",variant:"outline",onClick:li},{default:ie(()=>[...x[27]||(x[27]=[ht(" Copy ",-1)])]),_:1})]),C("pre",t0,pe(Xn.value),1),S(v(An),{class:"bg-border/50"})])):hn("",!0),C("div",r0,[S(ta,{"show-citation-helper":un.value,"onUpdate:showCitationHelper":x[12]||(x[12]=O=>un.value=O),"chapter-content":v(Z),"chapter-id":p.chapter.id,onInsertCitation:gn,onEnterOperationMode:oi},null,8,["show-citation-helper","chapter-content","chapter-id"])]),S(v(An),{class:"bg-border/50"}),S(v(An),{class:"bg-border/50"})])])):hn("",!0)]),_:1}),S(qg,{"show-left-sidebar":V.value,"show-right-sidebar":me.value,"is-mobile":X.value,"all-chapters":p.allChapters,"current-chapter":p.chapter,project:p.project,"faculty-chapters":p.facultyChapters,"current-word-count":v(D)?.word_count||p.chapter.word_count,"target-word-count":p.chapter.target_word_count,"chapter-content-length":v(Z)?.length||0,"selected-text":Rn.value,"is-analyzing":v(ve),"is-saving":v(Oe),"current-suggestion":v(G),"current-analysis":v(D),guidance:v(sr),"is-loading-guidance":v(ar),"chapter-content":v(Z),"show-citation-helper":un.value,"ensure-balance":On,"on-usage":et,"onUpdate:showLeftSidebar":x[13]||(x[13]=O=>V.value=O),"onUpdate:showRightSidebar":x[14]||(x[14]=O=>me.value=O),"onUpdate:showCitationHelper":x[15]||(x[15]=O=>un.value=O),onGoToChapter:Ge,onGenerateNextChapter:_t,onDeleteChapter:mt,onSaveSuggestion:v(_e),onClearSuggestion:v(Me),onApplySuggestion:v(ae),onToggleStep:v(Ut),onTextImproved:Dt,onTextExpanded:fr,onCitationsSuggested:Ln,onTextRephrased:Ae,onInsertCitation:gn},null,8,["show-left-sidebar","show-right-sidebar","is-mobile","all-chapters","current-chapter","project","faculty-chapters","current-word-count","target-word-count","chapter-content-length","selected-text","is-analyzing","is-saving","current-suggestion","current-analysis","guidance","is-loading-guidance","chapter-content","show-citation-helper","onSaveSuggestion","onClearSuggestion","onApplySuggestion","onToggleStep"])]),C("footer",i0,[C("div",u0,[C("div",o0,[C("span",s0,[x[29]||(x[29]=C("span",{class:"hidden sm:inline"},"Words: ",-1)),C("strong",a0,pe(v(D)?.word_count??p.chapter.word_count),1),ht(" / "+pe(p.chapter.target_word_count),1)]),v(D)?(ne(),nn("span",l0,[x[30]||(x[30]=ht(" Citations: ",-1)),C("strong",f0,pe(v(D).citation_count),1)])):hn("",!0),v(D)?(ne(),nn("span",c0,[x[31]||(x[31]=ht(" Tables: ",-1)),C("strong",h0,pe(v(D).table_count),1)])):hn("",!0),v(D)?(ne(),nn("span",d0," Quality: "+pe(v(D).quality_metrics.reading_level),1)):hn("",!0)]),C("div",p0,[S(v(ge),{variant:"outline",size:"sm",class:"h-8 md:h-9 gap-2 flex-1 sm:flex-initial",onClick:Mn,disabled:v(Oe),title:"Save chapter"},{default:ie(()=>[S(v(Au),{class:"w-3.5 h-3.5 md:w-4 md:h-4"}),C("span",g0,pe(v(Oe)?"Saving...":"Save"),1)]),_:1},8,["disabled"]),S(v(ge),{variant:"default",size:"sm",class:"h-8 md:h-9 gap-2 flex-1 sm:flex-initial",onClick:Nt,disabled:v(Oe),title:"Save and mark chapter as complete"},{default:ie(()=>[S(v(cv),{class:"w-3.5 h-3.5 md:w-4 md:h-4"}),x[32]||(x[32]=C("span",{class:"text-xs font-medium hidden sm:inline"},"Mark Complete",-1)),x[33]||(x[33]=C("span",{class:"text-xs font-medium sm:hidden"},"Complete",-1))]),_:1},8,["disabled"])])])]),S(ev,{open:v(dn),"current-balance":v(Hn),"required-words":v(dt),action:v(fe),"onUpdate:open":x[16]||(x[16]=O=>dn.value=O),onClose:v(qn)},null,8,["open","current-balance","required-words","action","onClose"]),S(v(jg),{position:"top-center"})])],64))}}),$_=hv(v0,[["__scopeId","data-v-94b32047"]]);export{$_ as default};
