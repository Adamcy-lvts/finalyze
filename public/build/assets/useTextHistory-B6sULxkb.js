import{P as W,c as O,a as be,_ as N}from"./index-st__blU1.js";import{aA as Ee,aB as ie,aC as $e,aD as Pe,aE as Ae,aF as je,aG as Le,aH as Te,aI as Re,aJ as De,aK as Fe,aL as He,aM as Me,aN as Ue}from"./RichTextEditor-CSDiF-Jk.js";import{d as T,E as P,a8 as le,c as A,o as $,w as v,r as L,Q,u as r,g as F,D as K,y as Y,m as D,h as B,k as b,j as Z,G as ue,a as I,e as E,s as M,F as ae,p as de,a7 as ze,t as H,z as Oe,n as Be,S as V}from"./app-DN5lyigx.js";import{_ as Ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as pe}from"./index-Bp9u25Tg.js";import{_ as We,a as qe}from"./CardContent.vue_vue_type_script_setup_true_lang-DrrQmmER.js";import{_ as Ne}from"./Checkbox.vue_vue_type_script_setup_true_lang-B4PMbU0f.js";import{_ as Ve,a as Xe,b as Ye,c as Ge,d as Je,e as Ke}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CAqwTkQw.js";import{_ as Qe,a as Ze,b as et,k as fe,c as X,l as he}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CYZMBJFH.js";import{d as ne,j as tt,P as se,m as rt}from"./VisuallyHidden-BfYZoaRD.js";import{a as U,j as q,f as _e,w as ot,r as we}from"./useForwardExpose-CYkRoI25.js";import{c as at,u as lt}from"./useNonce-C4J8kF5D.js";import{_ as nt}from"./Separator.vue_vue_type_script_setup_true_lang-BECxENWh.js";import{t as S}from"./Sonner.vue_vue_type_script_setup_true_lang-wK-akjKl.js";import{D as oe}from"./download-DxYPKCdq.js";import{C as st}from"./chevron-down-D6GysiO3.js";import{F as G}from"./file-text-CBWCG0ju.js";const[z,ct]=ne("ScrollAreaRoot");var it=T({__name:"ScrollAreaRoot",props:{type:{type:String,required:!1,default:"hover"},dir:{type:String,required:!1},scrollHideDelay:{type:Number,required:!1,default:600},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(p,{expose:t}){const a=p,o=P(0),c=P(0),i=P(),d=P(),u=P(),m=P(),h=P(!1),s=P(!1),{type:_,dir:n,scrollHideDelay:y}=le(a),k=tt(n);function x(){i.value?.scrollTo({top:0})}function g(){i.value?.scrollTo({top:0,left:0})}t({viewport:i,scrollTop:x,scrollTopLeft:g});const{forwardRef:e,currentElement:l}=U();return ct({type:_,dir:k,scrollHideDelay:y,scrollArea:l,viewport:i,onViewportChange:f=>{i.value=f||void 0},content:d,onContentChange:f=>{d.value=f},scrollbarX:u,scrollbarXEnabled:h,scrollbarY:m,scrollbarYEnabled:s,onScrollbarXChange:f=>{u.value=f||void 0},onScrollbarYChange:f=>{m.value=f||void 0},onScrollbarXEnabledChange:f=>{h.value=f},onScrollbarYEnabledChange:f=>{s.value=f},onCornerWidthChange:f=>{o.value=f},onCornerHeightChange:f=>{c.value=f}}),(f,w)=>($(),A(r(W),{ref:r(e),"as-child":a.asChild,as:f.as,dir:r(k),style:Q({position:"relative","--reka-scroll-area-corner-width":`${o.value}px`,"--reka-scroll-area-corner-height":`${c.value}px`})},{default:v(()=>[L(f.$slots,"default")]),_:3},8,["as-child","as","dir","style"]))}}),ut=it,dt=T({__name:"ScrollAreaCornerImpl",setup(p){const t=z(),a=P(0),o=P(0),c=F(()=>!!a.value&&!!o.value);function i(){const u=t.scrollbarX.value?.offsetHeight||0;t.onCornerHeightChange(u),o.value=u}function d(){const u=t.scrollbarY.value?.offsetWidth||0;t.onCornerWidthChange(u),a.value=u}return q(t.scrollbarX.value,i),q(t.scrollbarY.value,d),K(()=>t.scrollbarX.value,i),K(()=>t.scrollbarY.value,d),(u,m)=>c.value?($(),A(r(W),D({key:0,style:{width:`${a.value}px`,height:`${o.value}px`,position:"absolute",right:r(t).dir.value==="ltr"?0:void 0,left:r(t).dir.value==="rtl"?0:void 0,bottom:0}},u.$parent?.$props),{default:v(()=>[L(u.$slots,"default")]),_:3},16,["style"])):Y("v-if",!0)}}),pt=dt,ft=T({__name:"ScrollAreaCorner",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(p){const t=p,{forwardRef:a}=U(),o=z(),c=F(()=>!!o.scrollbarX.value&&!!o.scrollbarY.value),i=F(()=>o.type.value!=="scroll"&&c.value);return(d,u)=>i.value?($(),A(pt,D({key:0},t,{ref:r(a)}),{default:v(()=>[L(d.$slots,"default")]),_:3},16)):Y("v-if",!0)}}),ht=ft;function ye(p,t){return a=>{if(p[0]===p[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(p[1]-p[0]);return t[0]+o*(a-p[0])}}function ee(p){const t=xe(p.viewport,p.content),a=p.scrollbar.paddingStart+p.scrollbar.paddingEnd,o=(p.scrollbar.size-a)*t;return Math.max(o,18)}function xe(p,t){const a=p/t;return Number.isNaN(a)?0:a}function vt(p,t=()=>{}){let a={left:p.scrollLeft,top:p.scrollTop},o=0;return(function c(){const i={left:p.scrollLeft,top:p.scrollTop},d=a.left!==i.left,u=a.top!==i.top;(d||u)&&t(),a=i,o=window.requestAnimationFrame(c)})(),()=>window.cancelAnimationFrame(o)}function ve(p,t,a="ltr"){const o=ee(t),c=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-c,d=t.content-t.viewport,u=i-o,m=a==="ltr"?[0,d]:[d*-1,0],h=at(p,m[0],m[1]);return ye([0,d],[0,u])(h)}function J(p){return p?Number.parseInt(p,10):0}function mt(p,t,a,o="ltr"){const c=ee(a),i=c/2,d=t||i,u=c-d,m=a.scrollbar.paddingStart+d,h=a.scrollbar.size-a.scrollbar.paddingEnd-u,s=a.content-a.viewport,_=o==="ltr"?[0,s]:[s*-1,0];return ye([m,h],_)(p)}function me(p,t){return p>0&&p<t}var gt=T({__name:"ScrollAreaScrollbarX",setup(p){const t=z(),a=re(),{forwardRef:o,currentElement:c}=U();B(()=>{c.value&&t.onScrollbarXChange(c.value)});const i=F(()=>a.sizes.value);return(d,u)=>($(),A(Ce,{ref:r(o),"is-horizontal":!0,"data-orientation":"horizontal",style:Q({bottom:0,left:r(t).dir.value==="rtl"?"var(--reka-scroll-area-corner-width)":0,right:r(t).dir.value==="ltr"?"var(--reka-scroll-area-corner-width)":0,"--reka-scroll-area-thumb-width":i.value?`${r(ee)(i.value)}px`:void 0}),onOnDragScroll:u[0]||(u[0]=m=>r(a).onDragScroll(m.x))},{default:v(()=>[L(d.$slots,"default")]),_:3},8,["style"]))}}),bt=gt,_t=T({__name:"ScrollAreaScrollbarY",setup(p){const t=z(),a=re(),{forwardRef:o,currentElement:c}=U();B(()=>{c.value&&t.onScrollbarYChange(c.value)});const i=F(()=>a.sizes.value);return(d,u)=>($(),A(Ce,{ref:r(o),"is-horizontal":!1,"data-orientation":"vertical",style:Q({top:0,right:r(t).dir.value==="ltr"?0:void 0,left:r(t).dir.value==="rtl"?0:void 0,bottom:"var(--reka-scroll-area-corner-height)","--reka-scroll-area-thumb-height":i.value?`${r(ee)(i.value)}px`:void 0}),onOnDragScroll:u[0]||(u[0]=m=>r(a).onDragScroll(m.y))},{default:v(()=>[L(d.$slots,"default")]),_:3},8,["style"]))}}),wt=_t,yt=T({__name:"ScrollAreaScrollbarAuto",props:{forceMount:{type:Boolean,required:!1}},setup(p){const t=z(),a=te(),{forwardRef:o}=U(),c=P(!1),i=_e(()=>{if(t.viewport.value){const d=t.viewport.value.offsetWidth<t.viewport.value.scrollWidth,u=t.viewport.value.offsetHeight<t.viewport.value.scrollHeight;c.value=a.isHorizontal.value?d:u}},10);return B(()=>i()),q(t.viewport,i),q(t.content,i),(d,u)=>($(),A(r(se),{present:d.forceMount||c.value},{default:v(()=>[b(ce,D(d.$attrs,{ref:r(o),"data-state":c.value?"visible":"hidden"}),{default:v(()=>[L(d.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),Se=yt,xt=T({inheritAttrs:!1,__name:"ScrollAreaScrollbarHover",props:{forceMount:{type:Boolean,required:!1}},setup(p){const t=z(),{forwardRef:a}=U();let o;const c=P(!1);function i(){window.clearTimeout(o),c.value=!0}function d(){o=window.setTimeout(()=>{c.value=!1},t.scrollHideDelay.value)}return B(()=>{const u=t.scrollArea.value;u&&(u.addEventListener("pointerenter",i),u.addEventListener("pointerleave",d))}),Z(()=>{const u=t.scrollArea.value;u&&(window.clearTimeout(o),u.removeEventListener("pointerenter",i),u.removeEventListener("pointerleave",d))}),(u,m)=>($(),A(r(se),{present:u.forceMount||c.value},{default:v(()=>[b(Se,D(u.$attrs,{ref:r(a),"data-state":c.value?"visible":"hidden"}),{default:v(()=>[L(u.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),St=xt,Ct=T({__name:"ScrollAreaScrollbarScroll",props:{forceMount:{type:Boolean,required:!1}},setup(p){const t=z(),a=te(),{forwardRef:o}=U(),{state:c,dispatch:i}=rt("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}}),d=F(()=>c.value!=="hidden");ue(m=>{if(c.value==="idle"){const h=window.setTimeout(()=>i("HIDE"),t.scrollHideDelay.value);m(()=>{window.clearTimeout(h)})}});const u=_e(()=>i("SCROLL_END"),100);return ue(m=>{const h=t.viewport.value,s=a.isHorizontal.value?"scrollLeft":"scrollTop";if(h){let _=h[s];const n=()=>{const y=h[s];_!==y&&(i("SCROLL"),u()),_=y};h.addEventListener("scroll",n),m(()=>{h.removeEventListener("scroll",n)})}}),(m,h)=>($(),A(r(se),{present:m.forceMount||d.value},{default:v(()=>[b(ce,D(m.$attrs,{ref:r(o),"data-state":d.value?"visible":"hidden"}),{default:v(()=>[L(m.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),kt=Ct;const[te,Et]=ne("ScrollAreaScrollbar");var $t=T({inheritAttrs:!1,__name:"ScrollAreaScrollbar",props:{orientation:{type:String,required:!1,default:"vertical"},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(p){const t=p,{forwardRef:a}=U(),o=z(),c=F(()=>t.orientation==="horizontal");K(c,()=>{c.value?o.onScrollbarXEnabledChange(!0):o.onScrollbarYEnabledChange(!0)},{immediate:!0}),Z(()=>{o.onScrollbarXEnabledChange(!1),o.onScrollbarYEnabledChange(!1)});const{orientation:i,forceMount:d,asChild:u,as:m}=le(t);return Et({orientation:i,forceMount:d,isHorizontal:c,as:m,asChild:u}),(h,s)=>r(o).type.value==="hover"?($(),A(St,D({key:0},h.$attrs,{ref:r(a),"force-mount":r(d)}),{default:v(()=>[L(h.$slots,"default")]),_:3},16,["force-mount"])):r(o).type.value==="scroll"?($(),A(kt,D({key:1},h.$attrs,{ref:r(a),"force-mount":r(d)}),{default:v(()=>[L(h.$slots,"default")]),_:3},16,["force-mount"])):r(o).type.value==="auto"?($(),A(Se,D({key:2},h.$attrs,{ref:r(a),"force-mount":r(d)}),{default:v(()=>[L(h.$slots,"default")]),_:3},16,["force-mount"])):r(o).type.value==="always"?($(),A(ce,D({key:3},h.$attrs,{ref:r(a),"data-state":"visible"}),{default:v(()=>[L(h.$slots,"default")]),_:3},16)):Y("v-if",!0)}}),Pt=$t;const[re,At]=ne("ScrollAreaScrollbarVisible");var jt=T({__name:"ScrollAreaScrollbarVisible",setup(p){const t=z(),a=te(),{forwardRef:o}=U(),c=P({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),i=F(()=>{const e=xe(c.value.viewport,c.value.content);return e>0&&e<1}),d=P(),u=P(0);function m(e,l){if(y.value){const f=t.viewport.value.scrollLeft+e.deltaY;t.viewport.value.scrollLeft=f,me(f,l)&&e.preventDefault()}else{const f=t.viewport.value.scrollTop+e.deltaY;t.viewport.value.scrollTop=f,me(f,l)&&e.preventDefault()}}function h(e,l){y.value?u.value=l.x:u.value=l.y}function s(e){u.value=0}function _(e){c.value=e}function n(e,l){return mt(e,u.value,c.value,l)}const y=F(()=>a.isHorizontal.value);function k(e){y.value?t.viewport.value.scrollLeft=n(e,t.dir.value):t.viewport.value.scrollTop=n(e)}function x(){if(y.value){if(t.viewport.value&&d.value){const e=t.viewport.value.scrollLeft,l=ve(e,c.value,t.dir.value);d.value.style.transform=`translate3d(${l}px, 0, 0)`}}else if(t.viewport.value&&d.value){const e=t.viewport.value.scrollTop,l=ve(e,c.value);d.value.style.transform=`translate3d(0, ${l}px, 0)`}}function g(e){d.value=e}return At({sizes:c,hasThumb:i,handleWheelScroll:m,handleThumbDown:h,handleThumbUp:s,handleSizeChange:_,onThumbPositionChange:x,onThumbChange:g,onDragScroll:k}),(e,l)=>y.value?($(),A(bt,D({key:0},e.$attrs,{ref:r(o)}),{default:v(()=>[L(e.$slots,"default")]),_:3},16)):($(),A(wt,D({key:1},e.$attrs,{ref:r(o)}),{default:v(()=>[L(e.$slots,"default")]),_:3},16))}}),ce=jt,Lt=T({__name:"ScrollAreaScrollbarImpl",props:{isHorizontal:{type:Boolean,required:!0}},emits:["onDragScroll","onWheelScroll","onThumbPointerDown"],setup(p,{emit:t}){const a=p,o=t,c=z(),i=re(),d=te(),{forwardRef:u,currentElement:m}=U(),h=P(""),s=P();function _(e){if(s.value){const l=e.clientX-s.value?.left,f=e.clientY-s.value?.top;o("onDragScroll",{x:l,y:f})}}function n(e){e.button===0&&(e.target.setPointerCapture(e.pointerId),s.value=m.value.getBoundingClientRect(),h.value=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",c.viewport&&(c.viewport.value.style.scrollBehavior="auto"),_(e))}function y(e){_(e)}function k(e){const l=e.target;l.hasPointerCapture(e.pointerId)&&l.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=h.value,c.viewport&&(c.viewport.value.style.scrollBehavior=""),s.value=void 0}function x(e){const l=e.target,f=m.value?.contains(l),w=i.sizes.value.content-i.sizes.value.viewport;f&&i.handleWheelScroll(e,w)}B(()=>{document.addEventListener("wheel",x,{passive:!1})}),Z(()=>{document.removeEventListener("wheel",x)});function g(){m.value&&(a.isHorizontal?i.handleSizeChange({content:c.viewport.value?.scrollWidth??0,viewport:c.viewport.value?.offsetWidth??0,scrollbar:{size:m.value.clientWidth??0,paddingStart:J(getComputedStyle(m.value).paddingLeft),paddingEnd:J(getComputedStyle(m.value).paddingRight)}}):i.handleSizeChange({content:c.viewport.value?.scrollHeight??0,viewport:c.viewport.value?.offsetHeight??0,scrollbar:{size:m.value?.clientHeight??0,paddingStart:J(getComputedStyle(m.value).paddingLeft),paddingEnd:J(getComputedStyle(m.value).paddingRight)}}))}return q(m,g),q(c.content,g),(e,l)=>($(),A(r(W),{ref:r(u),style:{position:"absolute"},"data-scrollbarimpl":"",as:r(d).as.value,"as-child":r(d).asChild.value,onPointerdown:n,onPointermove:y,onPointerup:k},{default:v(()=>[L(e.$slots,"default")]),_:3},8,["as","as-child"]))}}),Ce=Lt,Tt=T({__name:"ScrollAreaThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(p){const t=p,a=z(),o=re();function c(n){const k=n.target.getBoundingClientRect(),x=n.clientX-k.left,g=n.clientY-k.top;o.handleThumbDown(n,{x,y:g})}function i(n){o.handleThumbUp(n)}const{forwardRef:d,currentElement:u}=U(),m=P(),h=F(()=>a.viewport.value);function s(){if(!m.value){const n=vt(h.value,o.onThumbPositionChange);m.value=n,o.onThumbPositionChange()}}const _=F(()=>o.sizes.value);return ot(_,()=>{o.onThumbChange(u.value),h.value&&(o.onThumbPositionChange(),h.value.addEventListener("scroll",s))}),Z(()=>{h.value.removeEventListener("scroll",s),a.viewport.value?.removeEventListener("scroll",s)}),(n,y)=>($(),A(r(W),{ref:r(d),"data-state":r(o).hasThumb?"visible":"hidden",style:{width:"var(--reka-scroll-area-thumb-width)",height:"var(--reka-scroll-area-thumb-height)"},"as-child":t.asChild,as:n.as,onPointerdown:c,onPointerup:i},{default:v(()=>[L(n.$slots,"default")]),_:3},8,["data-state","as-child","as"]))}}),Rt=Tt,Dt=T({inheritAttrs:!1,__name:"ScrollAreaViewport",props:{nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(p,{expose:t}){const a=p,{nonce:o}=le(a),c=lt(o),i=z(),d=P();B(()=>{i.onViewportChange(d.value),i.onContentChange(m.value)}),t({viewportElement:d});const{forwardRef:u,currentElement:m}=U();return(h,s)=>($(),I(ae,null,[E("div",D({ref_key:"viewportElement",ref:d,"data-reka-scroll-area-viewport":"",style:{overflowX:r(i).scrollbarXEnabled.value?"scroll":"hidden",overflowY:r(i).scrollbarYEnabled.value?"scroll":"hidden"}},h.$attrs,{tabindex:0}),[b(r(W),{ref:r(u),style:Q({minWidth:r(i).scrollbarXEnabled.value?"fit-content":void 0}),"as-child":a.asChild,as:h.as},{default:v(()=>[L(h.$slots,"default")]),_:3},8,["style","as-child","as"])],16),b(r(W),{as:"style",nonce:r(c)},{default:v(()=>s[0]||(s[0]=[M(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-scroll-area-viewport] { scrollbar-width:none; -ms-overflow-style:none; -webkit-overflow-scrolling:touch; } [data-reka-scroll-area-viewport]::-webkit-scrollbar { display:none; } ")])),_:1,__:[0]},8,["nonce"])],64))}}),Ft=Dt;/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=O("BookCheckIcon",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=O("FileDownIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=O("Maximize2Icon",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=O("MenuIcon",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=O("PanelLeftCloseIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=O("PanelLeftOpenIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=O("PanelRightCloseIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=O("PanelRightOpenIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]),Ht=T({__name:"ScrollBar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(p){const t=p,a=we(t,"class");return(o,c)=>($(),A(r(Pt),D({"data-slot":"scroll-area-scrollbar"},r(a),{class:r(be)("flex touch-none p-px transition-colors select-none",o.orientation==="vertical"&&"h-full w-2.5 border-l border-l-transparent",o.orientation==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t.class)}),{default:v(()=>[b(r(Rt),{"data-slot":"scroll-area-thumb",class:"bg-border relative flex-1 rounded-full"})]),_:1},16,["class"]))}}),Mt=T({__name:"ScrollArea",props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(p){const t=p,a=we(t,"class");return(o,c)=>($(),A(r(ut),D({"data-slot":"scroll-area"},r(a),{class:r(be)("relative",t.class)}),{default:v(()=>[b(r(Ft),{"data-slot":"scroll-area-viewport",class:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1"},{default:v(()=>[L(o.$slots,"default")]),_:3}),b(Ht),b(r(ht))]),_:3},16,["class"]))}}),Ut=T({__name:"RichTextViewer",props:{content:{},showFontControls:{type:Boolean,default:!0}},setup(p){const t=Ee(Ue);ie.initialize({startOnLoad:!1,theme:"default",securityLevel:"loose",fontFamily:"Arial, sans-serif"});const a=p,o=async s=>{const _=s.querySelectorAll("pre code.language-mermaid, .mermaid-diagram");for(let n=0;n<_.length;n++){const y=_[n],k=y.textContent||"";try{const{svg:x}=await ie.render(`mermaid-${Date.now()}-${n}`,k),g=document.createElement("div");g.className="mermaid-container",g.innerHTML=x,y.parentElement?.replaceWith(g)}catch(x){console.error("Mermaid rendering error:",x),y.parentElement?.classList.add("mermaid-error")}}},c=s=>s?(s=s.replace(/```mermaid\n?([\s\S]*?)```/g,(_,n)=>`<pre><code class="language-mermaid">${n.trim()}</code></pre>`),s=s.replace(/``mermaid\n?([\s\S]*?)``/g,(_,n)=>`<pre><code class="language-mermaid">${n.trim()}</code></pre>`),s=s.replace(/`mermaid\n?([\s\S]*?)`/g,(_,n)=>`<pre><code class="language-mermaid">${n.trim()}</code></pre>`),s):"",i=s=>s?(s=s.replace(/```(\w+)\n?([\s\S]*?)```/g,(_,n,y)=>`<pre><code class="language-${n}">${y.trim()}</code></pre>`),s=s.replace(/```\n?([\s\S]*?)```/g,(_,n)=>`<pre><code>${n.trim()}</code></pre>`),s):"",d=s=>{if(!s)return"";const _=s.split(`
`);let n=[],y=0;for(;y<_.length;){const k=_[y];if(k.includes("|")){const x=u(_,y);if(x.html){n.push(x.html),y=x.nextIndex;continue}}n.push(k),y++}return n.join(`
`)},u=(s,_)=>{let n=s[_];if(!n||!n.includes("|"))return{html:null,nextIndex:_+1};const y=n.split("|").map(l=>l.trim()).filter(l=>l.length>0);if(y.length===0)return{html:null,nextIndex:_+1};const k=s[_+1];if(!k||!k.includes("|")||!k.includes("-"))return{html:null,nextIndex:_+1};let x=[],g=_+2;for(;g<s.length;){const l=s[g];if(!l||!l.includes("|"))break;const f=l.split("|").map(w=>w.trim()).filter(w=>w.length>0);f.length>0&&x.push(f),g++}let e='<div class="tableWrapper"><table>';return e+="<thead><tr>",y.forEach(l=>{e+=`<th>${l}</th>`}),e+="</tr></thead>",x.length>0&&(e+="<tbody>",x.forEach(l=>{e+="<tr>";for(let f=0;f<y.length;f++){const w=l[f]||"";e+=`<td>${w}</td>`}e+="</tr>"}),e+="</tbody>"),e+="</table></div>",{html:e,nextIndex:g}},m=s=>{if(!s)return"";if(s.includes("<p>")||s.includes("<h1>")||s.includes("<h2>")||s.includes("<div>")){let k=c(s);return k=i(k),k}let n=s;return n=c(n),n=i(n),n=n.replace(/^#### (.*$)/gim,"<h4>$1</h4>"),n=n.replace(/^### (.*$)/gim,"<h3>$1</h3>"),n=n.replace(/^## (.*$)/gim,"<h2>$1</h2>"),n=n.replace(/^# (.*$)/gim,"<h1>$1</h1>"),n=n.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),n=n.replace(new RegExp("(?<!\\*)\\*([^*\\n]+?)\\*(?!\\*)","g"),"<em>$1</em>"),n=n.replace(/`([^`]+)`/g,"<code>$1</code>"),n=d(n),n.split(/\n\s*\n/).filter(k=>k.trim()).map(k=>{const x=k.trim();if(x.startsWith("<h1>")||x.startsWith("<h2>")||x.startsWith("<h3>")||x.startsWith("<h4>"))return x;if(x.includes(`
`)){const e=x.split(`
`).map(w=>w.trim()).filter(w=>w),l=e.some(w=>w.match(/^\d+\.\s/)),f=e.some(w=>w.match(/^[-*]\s/));if(l||f){const w=e.map(R=>R.match(/^\d+\.\s/)?`<li>${R.replace(/^\d+\.\s/,"")}</li>`:R.match(/^[-*]\s/)?`<li>${R.replace(/^[-*]\s/,"")}</li>`:R);let C=[],j="";for(const R of w)R.startsWith("<li>")?(j&&C.push(j),j=R):j&&(j=j.replace("</li>",` ${R}</li>`));return j&&C.push(j),l?`<ol>${C.join("")}</ol>`:`<ul>${C.join("")}</ul>`}}return`<p>${x.replace(/\n/g,"<br>")}</p>`}).join("")},h=$e({content:m(a.content),editable:!1,extensions:[Pe.configure({heading:{levels:[1,2,3]},codeBlock:!1}),Ae.configure({lowlight:t,HTMLAttributes:{class:"code-block-highlighted"}}),je,Le,Te,Re.configure({resizable:!0}),De,Fe,He],editorProps:{attributes:{class:"prose prose-sm dark:prose-invert max-w-none focus:outline-none"}}});return P("12"),B(()=>{setTimeout(async()=>{if(h.value){h.value.chain().selectAll().setFontSize("12pt").run(),await de();const s=document.querySelector(".ProseMirror");s&&await o(s)}},100)}),K(()=>a.content,async s=>{if(h.value&&h.value.getHTML()!==s){const _=m(s);h.value.commands.setContent(_),await de();const n=document.querySelector(".ProseMirror");n&&await o(n)}}),ze(()=>{h.value&&h.value.destroy()}),(s,_)=>($(),I("div",null,[b(r(Me),{editor:r(h)},null,8,["editor"])]))}}),Sr=Ie(Ut,[["__scopeId","data-v-107ec45b"]]),zt={class:"inline-flex"},Ot={class:"flex flex-col"},Bt={class:"text-xs text-muted-foreground"},It={class:"space-y-4"},Wt={class:"flex items-center justify-between"},qt={class:"flex items-center gap-2 text-sm text-muted-foreground"},Nt={class:"flex items-center gap-2"},Vt={class:"space-y-2"},Xt={class:"flex items-start gap-3"},Yt={class:"flex-1 min-w-0"},Gt={class:"flex items-center gap-2 mb-1"},Jt={class:"font-medium truncate"},Kt={class:"flex items-center gap-4 text-sm text-muted-foreground"},Qt={key:0},Cr=T({__name:"ExportMenu",props:{project:{},currentChapter:{},allChapters:{},triggerElement:{default:"button"},size:{default:"default"},variant:{default:"outline"}},setup(p){const t=p,a=P(!1),o=P([]),c=F(()=>t.allChapters.filter(g=>g.content&&g.content.trim().length>0)),i=F(()=>o.value.length),d=F(()=>t.allChapters.filter(g=>o.value.includes(g.chapter_number)).reduce((g,e)=>g+e.word_count,0)),u=async()=>{S.loading("Exporting chapter...",{id:"export-chapter"});const g=V("export.chapter.word",{project:t.project.slug,chapterNumber:t.currentChapter.chapter_number});try{const e=await fetch(g,{method:"GET",headers:{Accept:"application/json"}});if(e.ok){const l=e.headers.get("content-type");if(l&&l.includes("application/json")){const j=await e.json();S.error("Export Failed",{id:"export-chapter",description:j.message||"An error occurred during export."});return}const f=await e.blob(),w=window.URL.createObjectURL(f),C=document.createElement("a");C.href=w,C.download=`${t.project.slug}-chapter-${t.currentChapter.chapter_number}.docx`,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(w),S.success("Chapter exported successfully!",{id:"export-chapter",description:`${t.currentChapter.title} has been downloaded.`})}else try{const l=await e.json();S.error("Export Failed",{id:"export-chapter",description:l.message||"An error occurred during export."})}catch{S.error("Export Failed",{id:"export-chapter",description:"Unable to export chapter. Please try again."})}}catch{S.error("Export Failed",{id:"export-chapter",description:"Network error occurred. Please check your connection and try again."})}},m=async()=>{S.loading("Exporting full project...",{id:"export-project"});const g=V("export.project.word",{project:t.project.slug});try{const e=await fetch(g,{method:"GET",headers:{Accept:"application/json"}});if(e.ok){const l=e.headers.get("content-type");if(l&&l.includes("application/json")){const j=await e.json();S.error("Export Failed",{id:"export-project",description:j.message||"An error occurred during export."});return}const f=await e.blob(),w=window.URL.createObjectURL(f),C=document.createElement("a");C.href=w,C.download=`${t.project.slug}.docx`,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(w),S.success("Project exported successfully!",{id:"export-project",description:`${t.project.title} has been downloaded.`})}else try{const l=await e.json();S.error("Export Failed",{id:"export-project",description:l.message||"An error occurred during export."})}catch{S.error("Export Failed",{id:"export-project",description:"Unable to export project. Please try again."})}}catch{S.error("Export Failed",{id:"export-project",description:"Network error occurred. Please check your connection and try again."})}},h=async()=>{S.loading("Generating project PDF...",{id:"export-project-pdf"});const g=V("export.project.pdf",{project:t.project.slug});try{const e=await fetch(g,{method:"GET",headers:{Accept:"application/pdf"}});if(e.ok){const l=e.headers.get("content-type");if(l&&l.includes("application/json")){const j=await e.json();S.error("Export Failed",{id:"export-project-pdf",description:j.message||"An error occurred during PDF export."});return}const f=await e.blob(),w=window.URL.createObjectURL(f),C=document.createElement("a");C.href=w,C.download=`${t.project.slug}_full_project.pdf`,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(w),S.success("Project PDF exported successfully!",{id:"export-project-pdf",description:`${t.project.title} has been downloaded as PDF.`})}else try{const l=await e.json();S.error("Export Failed",{id:"export-project-pdf",description:l.message||"An error occurred during PDF export."})}catch{S.error("Export Failed",{id:"export-project-pdf",description:"Unable to export project as PDF. Please try again."})}}catch{S.error("Export Failed",{id:"export-project-pdf",description:"Network error occurred. Please check your connection and try again."})}},s=async()=>{if(o.value.length===0){S.error("No chapters selected",{description:"Please select at least one chapter to export."});return}try{S.loading(`Exporting ${o.value.length} chapters...`,{id:"export-chapters"});const g=V("export.chapters.word",{project:t.project.slug}),e=new FormData;o.value.forEach(w=>{e.append("chapters[]",w.toString())});const l=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");l&&e.append("_token",l);const f=await fetch(g,{method:"POST",body:e,headers:{Accept:"application/json"}});if(f.ok){const w=f.headers.get("content-type");if(w&&w.includes("application/json")){const ke=await f.json();S.error("Export Failed",{id:"export-chapters",description:ke.message||"An error occurred during export."});return}const C=await f.blob(),j=window.URL.createObjectURL(C),R=document.createElement("a");R.href=j,R.download=`${t.project.slug}-chapters-${o.value.join("-")}.docx`,document.body.appendChild(R),R.click(),document.body.removeChild(R),window.URL.revokeObjectURL(j),S.success("Selected chapters exported successfully!",{id:"export-chapters",description:`${o.value.length} chapters exported to Word.`}),o.value=[],a.value=!1}else try{const w=await f.json();S.error("Export Failed",{id:"export-chapters",description:w.message||"An error occurred during export."})}catch{S.error("Export Failed",{id:"export-chapters",description:"Unable to export selected chapters. Please try again."})}}catch{S.error("Export Failed",{id:"export-chapters",description:"Network error occurred. Please check your connection and try again."})}},_=g=>{const e=o.value.indexOf(g);e>-1?o.value.splice(e,1):o.value.push(g)},n=()=>{o.value=c.value.map(g=>g.chapter_number)},y=()=>{o.value=[]},k=()=>{o.value=[],a.value=!0},x=async()=>{S.loading("Generating PDF...",{id:"export-chapter-pdf"});const g=V("export.chapter.pdf",{project:t.project.slug,chapterNumber:t.currentChapter.chapter_number});try{const e=await fetch(g,{method:"GET",headers:{Accept:"application/pdf"}});if(e.ok){const l=e.headers.get("content-type");if(l&&l.includes("application/json")){const j=await e.json();S.error("Export Failed",{id:"export-chapter-pdf",description:j.message||"An error occurred during PDF export."});return}const f=await e.blob(),w=window.URL.createObjectURL(f),C=document.createElement("a");C.href=w,C.download=`chapter_${t.currentChapter.chapter_number}_${t.currentChapter.title.toLowerCase().replace(/\s+/g,"_")}.pdf`,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(w),S.success("PDF exported successfully!",{id:"export-chapter-pdf",description:`${t.currentChapter.title} has been downloaded as PDF.`})}else try{const l=await e.json();S.error("Export Failed",{id:"export-chapter-pdf",description:l.message||"An error occurred during PDF export."})}catch{S.error("Export Failed",{id:"export-chapter-pdf",description:"Unable to export chapter as PDF. Please try again."})}}catch{S.error("Export Failed",{id:"export-chapter-pdf",description:"Network error occurred. Please check your connection and try again."})}};return(g,e)=>($(),I("div",zt,[b(r(Qe),null,{default:v(()=>[b(r(Ze),{asChild:""},{default:v(()=>[b(r(N),{variant:g.variant,size:g.size,class:"gap-2"},{default:v(()=>[g.triggerElement==="button"?($(),I(ae,{key:0},[b(r(oe),{class:"h-4 w-4"}),e[2]||(e[2]=M(" Export ",-1)),b(r(st),{class:"h-3 w-3"})],64)):($(),A(r(oe),{key:1,class:"h-4 w-4"}))]),_:1},8,["variant","size"])]),_:1}),b(r(et),{align:"end",class:"w-64"},{default:v(()=>[b(r(fe),null,{default:v(()=>[...e[3]||(e[3]=[M("Current Chapter",-1)])]),_:1}),b(r(X),{onClick:u,class:"gap-2"},{default:v(()=>[b(r(G),{class:"h-4 w-4"}),E("div",Ot,[e[4]||(e[4]=E("span",{class:"font-medium"},"Export as Word",-1)),E("span",Bt," Chapter "+H(g.currentChapter.chapter_number)+": "+H(g.currentChapter.title),1)])]),_:1}),b(r(X),{onClick:x,class:"gap-2"},{default:v(()=>[b(r(G),{class:"h-4 w-4"}),e[5]||(e[5]=E("div",{class:"flex flex-col"},[E("span",{class:"font-medium"},"Export as PDF"),E("span",{class:"text-xs text-muted-foreground"}," Professional academic format ")],-1))]),_:1}),b(r(he)),b(r(X),{onClick:k,class:"gap-2"},{default:v(()=>[b(r(ge),{class:"h-4 w-4"}),e[6]||(e[6]=E("div",{class:"flex flex-col"},[E("span",{class:"font-medium"},"Selected Chapters"),E("span",{class:"text-xs text-muted-foreground"}," Choose specific chapters to export ")],-1))]),_:1}),b(r(he)),b(r(fe),null,{default:v(()=>[...e[7]||(e[7]=[M("Full Project",-1)])]),_:1}),b(r(X),{onClick:m,class:"gap-2"},{default:v(()=>[b(r(G),{class:"h-4 w-4"}),e[8]||(e[8]=E("div",{class:"flex flex-col"},[E("span",{class:"font-medium"},"Export as Word"),E("span",{class:"text-xs text-muted-foreground"}," Entire project with all chapters ")],-1))]),_:1}),b(r(X),{onClick:h,class:"gap-2"},{default:v(()=>[b(r(G),{class:"h-4 w-4"}),e[9]||(e[9]=E("div",{class:"flex flex-col"},[E("span",{class:"font-medium"},"Export as PDF"),E("span",{class:"text-xs text-muted-foreground"}," Professional academic format with cover page ")],-1))]),_:1})]),_:1})]),_:1}),b(r(Ve),{open:a.value,"onUpdate:open":e[1]||(e[1]=l=>a.value=l)},{default:v(()=>[b(r(Xe),{class:"max-w-2xl"},{default:v(()=>[b(r(Ye),null,{default:v(()=>[b(r(Ge),{class:"flex items-center gap-2"},{default:v(()=>[b(r(ge),{class:"h-5 w-5"}),e[10]||(e[10]=M(" Select Chapters to Export ",-1))]),_:1}),b(r(Je),null,{default:v(()=>[...e[11]||(e[11]=[M(" Choose which chapters you want to include in your Word export. Only chapters with content can be exported. ",-1)])]),_:1})]),_:1}),E("div",It,[E("div",Wt,[E("div",qt,[E("span",null,H(i.value)+" of "+H(c.value.length)+" chapters selected",1),d.value>0?($(),A(r(pe),{key:0,variant:"outline",class:"text-xs"},{default:v(()=>[M(H(d.value.toLocaleString())+" words ",1)]),_:1})):Y("",!0)]),E("div",Nt,[b(r(N),{onClick:n,variant:"ghost",size:"sm"},{default:v(()=>[...e[12]||(e[12]=[M(" Select All ",-1)])]),_:1}),b(r(N),{onClick:y,variant:"ghost",size:"sm"},{default:v(()=>[...e[13]||(e[13]=[M(" Clear ",-1)])]),_:1})])]),b(r(nt)),b(r(Mt),{class:"h-[300px]"},{default:v(()=>[E("div",Vt,[($(!0),I(ae,null,Oe(c.value,l=>($(),A(r(We),{key:l.id,class:Be(["cursor-pointer transition-colors hover:bg-muted/50",{"ring-2 ring-primary":o.value.includes(l.chapter_number),"bg-muted/30":o.value.includes(l.chapter_number)}]),onClick:f=>_(l.chapter_number)},{default:v(()=>[b(r(qe),{class:"p-4"},{default:v(()=>[E("div",Xt,[b(r(Ne),{checked:o.value.includes(l.chapter_number),"onUpdate:checked":f=>_(l.chapter_number),class:"mt-1"},null,8,["checked","onUpdate:checked"]),E("div",Yt,[E("div",Gt,[E("h4",Jt," Chapter "+H(l.chapter_number)+": "+H(l.title),1),b(r(pe),{variant:l.status==="approved"?"default":"secondary",class:"text-xs"},{default:v(()=>[M(H(l.status.replace("_"," ")),1)]),_:2},1032,["variant"])]),E("div",Kt,[E("span",null,H(l.word_count.toLocaleString())+" words",1),l.word_count>0?($(),I("span",Qt,H(Math.ceil(l.word_count/250))+" pages approx. ",1)):Y("",!0)])])])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))])]),_:1})]),b(r(Ke),null,{default:v(()=>[b(r(N),{onClick:e[0]||(e[0]=l=>a.value=!1),variant:"outline"},{default:v(()=>[...e[14]||(e[14]=[M(" Cancel ",-1)])]),_:1}),b(r(N),{onClick:s,disabled:i.value===0,class:"gap-2"},{default:v(()=>[b(r(oe),{class:"h-4 w-4"}),M(" Export "+H(i.value)+" Chapter"+H(i.value===1?"":"s"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]))}});function kr(p="",t=50){const a=P([p]),o=P(0);return{contentHistory:a,historyIndex:o,addToHistory:h=>{a.value[o.value]!==h&&(a.value=a.value.slice(0,o.value+1),a.value.push(h),a.value.length>t?a.value.shift():o.value++)},undo:()=>o.value>0?(o.value--,a.value[o.value]):null,redo:()=>o.value<a.value.length-1?(o.value++,a.value[o.value]):null,canUndo:()=>o.value>0,canRedo:()=>o.value<a.value.length-1}}export{mr as B,br as M,_r as P,Sr as R,Mt as _,Cr as a,gr as b,wr as c,yr as d,xr as e,kr as u};
