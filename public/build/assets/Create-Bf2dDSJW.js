import{P as te,c as G,_ as L}from"./index-Bt90G_JS.js";import{_ as nt,a as ut}from"./CardContent.vue_vue_type_script_setup_true_lang-hI6CIJ8Y.js";import{u as xt,o as Te,n as ke,f as Me,s as se,F as wt,t as kt,g as N,h as F,i as O,j as z,l as U,_ as Ee,a as Ne,c as Fe,b as Oe,d as ze,e as Ue,k as jt}from"./vee-validate-zod-CuQi3_4L.js";import{_ as le}from"./Input.vue_vue_type_script_setup_true_lang-DQnvOcR-.js";import{b as Le,c as Ge,d as Ke}from"./WordBalanceDisplay.vue_vue_type_script_setup_true_lang-Bffg505Y.js";import{d as dt,c as Ve,P as Ct,a as st,g as Vt,b as ct,u as be}from"./Presence-CF0v4nrQ.js";import{u as pt}from"./useFormControl-DZHITw7J.js";import{u as Ye,b as Q,c as lt}from"./useForwardExpose-RFhk291K.js";import{R as It}from"./VisuallyHidden-CHAFMzXk.js";import{V as ft}from"./VisuallyHiddenInput-k5clDSmU.js";import{d as P,M as Ie,m as T,g as w,o as g,w as a,l as E,a as M,u as e,N as B,a7 as He,e as t,r as C,a_ as vt,q as re,y as Ce,b as n,t as V,Q as mt,R as qt,cV as At,bh as qe,bi as Ae,c as D,b7 as $t,b8 as Dt,h as y,a6 as Bt,bo as Rt,a5 as Pt,n as W,F as X,f as fe,b4 as Tt,aI as K,aY as rt,aV as Mt,ay as ot,aP as je,aA as Et,aM as Nt,bO as We,_ as Ft}from"./vendor-Bi-OfESq.js";import{r as oe}from"./index-CAP3Ft32.js";import{R as Ot}from"./RovingFocusItem-BKrtReCo.js";import{j as zt}from"./DialogTitle-DkxZZug9.js";import{i as Ut}from"./ohash.D__AXeF1-C-E83dC9.js";import{u as Lt}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BzGYI4X_.js";import{_ as ye}from"./index-Isya7Tix.js";import{_ as Gt,a as Kt}from"./CardTitle.vue_vue_type_script_setup_true_lang-B2K6zULM.js";import{_ as Wt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Jt}from"./AppLayout.vue_vue_type_script_setup_true_lang-C9tHO2FJ.js";import{s as it}from"./app-BXCYb-rZ.js";import"./Label.vue_vue_type_script_setup_true_lang-B0S6IESV.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-DDlQqk4-.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-DcY1sPuq.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-BNV-YijK.js";import"./useWordBalance-0vIkLXfD.js";import"./PWAInstallPrompt.vue_vue_type_script_setup_true_lang-CKHmQqcC.js";const Yt="radio.select";function Ht(h,d,r){zt(Yt,r,{originalEvent:h,value:d})}var Xt=P({__name:"Radio",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},checked:{type:Boolean,required:!1,default:void 0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:checked","select"],setup(h,{emit:d}){const r=h,v=d,_=Ye(r,"checked",v,{passive:r.checked===void 0}),{value:i}=Ie(r),{forwardRef:b,currentElement:x}=Q(),k=pt(x),m=T(()=>r.id&&x.value?document.querySelector(`[for="${r.id}"]`)?.innerText??r.value:void 0);function f(l){r.disabled||Ht(l,r.value,j=>{v("select",j),!j?.defaultPrevented&&(_.value=!0,k.value&&j.stopPropagation())})}return(l,j)=>(g(),w(e(te),B(l.$attrs,{id:l.id,ref:e(b),role:"radio",type:l.as==="button"?"button":void 0,as:l.as,"aria-checked":e(_),"aria-label":m.value,"as-child":l.asChild,disabled:l.disabled?"":void 0,"data-state":e(_)?"checked":"unchecked","data-disabled":l.disabled?"":void 0,value:e(i),required:l.required,name:l.name,onClick:He(f,["stop"])}),{default:a(()=>[E(l.$slots,"default",{checked:e(_)}),e(k)&&l.name?(g(),w(e(ft),{key:0,type:"radio",tabindex:"-1",value:e(i),checked:!!e(_),name:l.name,disabled:l.disabled,required:l.required},null,8,["value","checked","name","disabled","required"])):M("v-if",!0)]),_:3},16,["id","type","as","aria-checked","aria-label","as-child","disabled","data-state","data-disabled","value","required","name"]))}}),Qt=Xt;const[Zt,ea]=Ve("RadioGroupRoot");var ta=P({__name:"RadioGroupRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(h,{emit:d}){const r=h,v=d,{forwardRef:_,currentElement:i}=Q(),b=Ye(r,"modelValue",v,{defaultValue:r.defaultValue,passive:r.modelValue===void 0}),{disabled:x,loop:k,orientation:m,name:f,required:l,dir:j}=Ie(r),I=dt(j),$=pt(i);return ea({modelValue:b,changeModelValue:q=>{b.value=q},disabled:x,loop:k,orientation:m,name:f?.value,required:l}),(q,ie)=>(g(),w(e(It),{"as-child":"",orientation:e(m),dir:e(I),loop:e(k)},{default:a(()=>[t(e(te),{ref:e(_),role:"radiogroup","data-disabled":e(x)?"":void 0,"as-child":q.asChild,as:q.as,"aria-orientation":e(m),"aria-required":e(l),dir:e(I)},{default:a(()=>[E(q.$slots,"default",{modelValue:e(b)}),e($)&&e(f)?(g(),w(e(ft),{key:0,required:e(l),disabled:e(x),value:e(b),name:e(f)},null,8,["required","disabled","value","name"])):M("v-if",!0)]),_:3},8,["data-disabled","as-child","as","aria-orientation","aria-required","dir"])]),_:3},8,["orientation","dir","loop"]))}}),aa=ta;const[sa,la]=Ve("RadioGroupItem");var ra=P({inheritAttrs:!1,__name:"RadioGroupItem",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["select"],setup(h,{emit:d}){const r=h,v=d,{forwardRef:_,currentElement:i}=Q(),b=Zt(),x=T(()=>b.disabled.value||r.disabled),k=T(()=>b.required.value||r.required),m=T(()=>Ut(b.modelValue?.value,r.value));la({disabled:x,checked:m});const f=C(!1),l=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];lt("keydown",I=>{l.includes(I.key)&&(f.value=!0)}),lt("keyup",()=>{f.value=!1});function j(){setTimeout(()=>{f.value&&i.value?.click()},0)}return(I,$)=>(g(),w(e(Ot),{checked:m.value,disabled:x.value,"as-child":"",focusable:!x.value,active:m.value},{default:a(()=>[t(Qt,B({...I.$attrs,...r},{ref:e(_),checked:m.value,required:k.value,disabled:x.value,"onUpdate:checked":$[0]||($[0]=q=>e(b).changeModelValue(I.value)),onSelect:$[1]||($[1]=q=>v("select",q)),onKeydown:$[2]||($[2]=vt(He(()=>{},["prevent"]),["enter"])),onFocus:j}),{default:a(()=>[E(I.$slots,"default",{checked:m.value,required:k.value,disabled:x.value})]),_:3},16,["checked","required","disabled"])]),_:3},8,["checked","disabled","focusable","active"]))}}),oa=ra,ia=P({__name:"RadioGroupIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(h){const{forwardRef:d}=Q(),r=sa();return(v,_)=>(g(),w(e(Ct),{present:v.forceMount||e(r).checked.value},{default:a(()=>[t(e(te),B({ref:e(d),"data-state":e(r).checked.value?"checked":"unchecked","data-disabled":e(r).disabled.value?"":void 0,"as-child":v.asChild,as:v.as},v.$attrs),{default:a(()=>[E(v.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),na=ia;const ua={"aria-live":"polite","aria-atomic":"true",role:"status",style:{transform:"translateX(-100%)",position:"absolute",pointerEvents:"none",opacity:0,margin:0}},[gt,da]=Ve("StepperRoot");var ca=P({__name:"StepperRoot",props:{defaultValue:{type:Number,required:!1,default:1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},modelValue:{type:Number,required:!1},linear:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(h,{expose:d,emit:r}){const v=h,_=r,{dir:i,orientation:b,linear:x}=Ie(v),k=dt(i),m=C(new Set),f=Ye(v,"modelValue",_,{defaultValue:v.defaultValue,passive:v.modelValue===void 0}),l=T(()=>Array.from(m.value)),j=T(()=>f.value===1),I=T(()=>f.value===l.value.length),$=T(()=>m.value.size);function q(R){R>$.value||R<1||m.value.size&&l.value[R]&&l.value[R].getAttribute("disabled")||x.value&&R>(f.value??1)+1||(f.value=R)}function ie(){q((f.value??1)+1)}function ae(){q((f.value??1)-1)}function H(){return(f.value??1)<$.value}function he(){return(f.value??1)>1}const Z=C(null),ee=C(null),ne=T(()=>Z.value?Z.value.getAttribute("disabled")==="":!0),ue=T(()=>ee.value?ee.value.getAttribute("disabled")==="":!0);return re(f,async()=>{await Ce(()=>{Z.value=l.value.length&&f.value<l.value.length?l.value[f.value]:null,ee.value=l.value.length&&f.value>1?l.value[f.value-2]:null})}),re(l,async()=>{await Ce(()=>{Z.value=l.value.length&&f.value<l.value.length?l.value[f.value]:null,ee.value=l.value.length&&f.value>1?l.value[f.value-2]:null})}),da({modelValue:f,changeModelValue:R=>{f.value=R},orientation:b,dir:k,linear:x,totalStepperItems:m}),d({goToStep:q,nextStep:ie,prevStep:ae,modelValue:f,totalSteps:$,isNextDisabled:ne,isPrevDisabled:ue,isFirstStep:j,isLastStep:I,hasNext:H,hasPrev:he}),Q(),(R,Qe)=>(g(),w(e(te),{role:"group","aria-label":"progress",as:R.as,"as-child":R.asChild,"data-linear":e(x)?"":void 0,"data-orientation":R.orientation},{default:a(()=>[E(R.$slots,"default",{modelValue:e(f),totalSteps:m.value.size,isNextDisabled:ne.value,isPrevDisabled:ue.value,isFirstStep:j.value,isLastStep:I.value,goToStep:q,nextStep:ie,prevStep:ae,hasNext:H,hasPrev:he}),n("div",ua," Step "+V(e(f))+" of "+V(m.value.size),1)]),_:3},8,["as","as-child","data-linear","data-orientation"]))}}),pa=ca;const[Xe,fa]=Ve("StepperItem");var va=P({__name:"StepperItem",props:{step:{type:Number,required:!0},disabled:{type:Boolean,required:!1,default:!1},completed:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(h){const d=h,{disabled:r,step:v,completed:_}=Ie(d),{forwardRef:i}=Q(),b=gt(),x=st(void 0,"reka-stepper-item-title"),k=st(void 0,"reka-stepper-item-description"),m=T(()=>_.value?"completed":b.modelValue.value===v.value?"active":b.modelValue.value>v.value?"completed":"inactive"),f=T(()=>r.value?!1:b.linear.value?v.value<=b.modelValue.value||v.value===b.modelValue.value+1:!0);return fa({titleId:x,descriptionId:k,state:m,disabled:r,step:v,isFocusable:f}),(l,j)=>(g(),w(e(te),{ref:e(i),as:l.as,"as-child":l.asChild,"aria-current":m.value==="active"?"true":void 0,"data-state":m.value,disabled:e(r)||!f.value?"":void 0,"data-disabled":e(r)||!f.value?"":void 0,"data-orientation":e(b).orientation.value},{default:a(()=>[E(l.$slots,"default",{state:m.value})]),_:3},8,["as","as-child","aria-current","data-state","disabled","data-disabled","data-orientation"]))}}),ma=va,ga=P({__name:"StepperDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(h){const d=h;Q();const r=Xe();return(v,_)=>(g(),w(e(te),B(d,{id:e(r).descriptionId}),{default:a(()=>[E(v.$slots,"default")]),_:3},16,["id"]))}}),ya=ga,_a=P({__name:"StepperTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h4"}},setup(h){const d=h,r=Xe();return Q(),(v,_)=>(g(),w(e(te),B(d,{id:e(r).titleId}),{default:a(()=>[E(v.$slots,"default")]),_:3},16,["id"]))}}),ba=_a,ha=P({__name:"StepperTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(h){const d=gt(),r=Xe(),v=xt(),_=T(()=>Array.from(d.totalStepperItems.value));function i(m){if(!r.disabled.value){if(d.linear.value){if((r.step.value<=d.modelValue.value||r.step.value===d.modelValue.value+1)&&m.ctrlKey===!1){d.changeModelValue(r.step.value);return}}else if(m.ctrlKey===!1){d.changeModelValue(r.step.value);return}m.preventDefault()}}function b(m){m.preventDefault(),!r.disabled.value&&((m.key===v.ENTER||m.key===v.SPACE)&&!m.ctrlKey&&!m.shiftKey&&d.changeModelValue(r.step.value),[v.ARROW_LEFT,v.ARROW_RIGHT,v.ARROW_UP,v.ARROW_DOWN].includes(m.key)&&Lt(m,Vt(),void 0,{itemsArray:_.value,focus:!0,loop:!1,arrowKeyOptions:d.orientation.value,dir:d.dir.value}))}const{forwardRef:x,currentElement:k}=Q();return mt(()=>{d.totalStepperItems.value.add(k.value)}),qt(()=>{d.totalStepperItems.value.delete(k.value)}),(m,f)=>(g(),w(e(te),{ref:e(x),type:m.as==="button"?"button":void 0,as:m.as,"as-child":m.asChild,"data-state":e(r).state.value,disabled:e(r).disabled.value||!e(r).isFocusable.value?"":void 0,"data-disabled":e(r).disabled.value||!e(r).isFocusable.value?"":void 0,"data-orientation":e(d).orientation.value,tabindex:e(r).isFocusable.value?0:-1,"aria-describedby":e(r).descriptionId,"aria-labelledby":e(r).titleId,onMousedown:He(i,["left"]),onKeydown:vt(b,["enter","space","left","right","up","down"])},{default:a(()=>[E(m.$slots,"default")]),_:3},8,["type","as","as-child","data-state","disabled","data-disabled","data-orientation","tabindex","aria-describedby","aria-labelledby"]))}}),Sa=ha;const Je=P({__name:"RadioGroup",props:{modelValue:{},defaultValue:{},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(h,{emit:d}){const r=h,v=d,_=oe(r,"class"),i=ct(_,v);return(b,x)=>(g(),w(e(aa),B({"data-slot":"radio-group",class:e(G)("grid gap-3",r.class)},e(i)),{default:a(()=>[E(b.$slots,"default")]),_:3},16,["class"]))}}),_e=P({__name:"RadioGroupItem",props:{id:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},setup(h){const d=h,r=oe(d,"class"),v=be(r);return(_,i)=>(g(),w(e(oa),B({"data-slot":"radio-group-item"},e(v),{class:e(G)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",d.class)}),{default:a(()=>[t(e(na),{"data-slot":"radio-group-indicator",class:"relative flex items-center justify-center"},{default:a(()=>[t(e(At),{class:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})]),_:1})]),_:1},16,["class"]))}}),xa=P({__name:"Stepper",props:{defaultValue:{},orientation:{},dir:{},modelValue:{},linear:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue"],setup(h,{emit:d}){const r=h,v=d,_=oe(r,"class"),i=ct(_,v);return(b,x)=>(g(),w(e(pa),B({class:e(G)("flex gap-2",r.class)},e(i)),{default:a(k=>[E(b.$slots,"default",qe(Ae(k)))]),_:3},16,["class"]))}}),wa=P({__name:"StepperDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(h){const d=h,r=oe(d,"class"),v=be(r);return(_,i)=>(g(),w(e(ya),B(e(v),{class:e(G)("text-xs text-muted-foreground",d.class)}),{default:a(b=>[E(_.$slots,"default",qe(Ae(b)))]),_:3},16,["class"]))}}),ka=P({__name:"StepperItem",props:{step:{},disabled:{type:Boolean},completed:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(h){const d=h,r=oe(d,"class"),v=be(r);return(_,i)=>(g(),w(e(ma),B(e(v),{class:e(G)("flex items-center gap-2 group data-[disabled]:pointer-events-none",d.class)}),{default:a(b=>[E(_.$slots,"default",qe(Ae(b)))]),_:3},16,["class"]))}}),ja=P({__name:"StepperTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(h){const d=h,r=oe(d,"class"),v=be(r);return(_,i)=>(g(),w(e(ba),B(e(v),{class:e(G)("text-md font-semibold whitespace-nowrap",d.class)}),{default:a(()=>[E(_.$slots,"default")]),_:3},16,["class"]))}}),Ca=P({__name:"StepperTrigger",props:{asChild:{type:Boolean},as:{},class:{}},setup(h){const d=h,r=oe(d,"class"),v=be(r);return(_,i)=>(g(),w(e(Sa),B(e(v),{class:e(G)("p-1 flex flex-col items-center text-center gap-1 rounded-md",d.class)}),{default:a(()=>[E(_.$slots,"default")]),_:3},16,["class"]))}}),Va={class:"fixed right-4 bottom-4 z-50"},Ia={class:"flex items-center justify-between"},qa={class:"flex gap-1"},Aa={class:"space-y-2"},$a={class:"space-y-1"},Da={class:"flex justify-between"},Ba={class:"flex justify-between"},Ra={class:"flex justify-between"},Pa={class:"flex justify-between"},Ta={key:0,class:"space-y-2"},Ma={class:"space-y-1"},Ea={class:"space-y-2"},Na={class:"max-h-40 overflow-auto rounded bg-muted p-2 font-mono text-[10px]"},Fa={class:"space-y-2"},Oa={class:"max-h-40 overflow-auto rounded bg-muted p-2 font-mono text-[10px]"},za={class:"space-y-2"},Ua={class:"flex gap-2"},La=P({__name:"WizardDebugPanel",props:{currentStep:{},projectId:{},formValues:{},savedValues:{},isInitializing:{type:Boolean}},emits:["force-save","reset-form"],setup(h,{emit:d}){const r=h,v=d,_=C(!1),i=C(!0),b=T(()=>JSON.stringify(r.formValues)===JSON.stringify(r.savedValues)),x=T(()=>{const f=[];for(const l in r.formValues)r.formValues[l]!==r.savedValues[l]&&f.push(l);return f}),k=()=>{const f={timestamp:new Date().toISOString(),currentStep:r.currentStep,projectId:r.projectId,formValues:r.formValues,savedValues:r.savedValues,unsavedFields:x.value,localStorage:{}};for(let $=0;$<localStorage.length;$++){const q=localStorage.key($);q&&q.includes("project")&&(f.localStorage[q]=localStorage.getItem(q))}const l=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),j=URL.createObjectURL(l),I=document.createElement("a");I.href=j,I.download=`wizard-debug-${Date.now()}.json`,I.click()},m=()=>{if(confirm("This will clear all saved wizard data. Are you sure?")){const f=[];for(let l=0;l<localStorage.length;l++){const j=localStorage.key(l);j&&j.includes("project")&&f.push(j)}f.forEach(l=>localStorage.removeItem(l)),typeof window<"u"&&window.location.reload()}};return re(()=>r.formValues,()=>{i.value&&console.log("Form values changed:",r.formValues)},{deep:!0}),(f,l)=>(g(),D(X,null,[n("div",Va,[t(e(L),{onClick:l[0]||(l[0]=j=>_.value=!_.value),size:"icon",variant:"outline",class:"bg-background shadow-lg"},{default:a(()=>[_.value?(g(),w(e(Dt),{key:1,class:"h-4 w-4"})):(g(),w(e($t),{key:0,class:"h-4 w-4"}))]),_:1})]),t(Tt,{name:"slide"},{default:a(()=>[_.value?(g(),w(e(nt),{key:0,class:"fixed right-4 bottom-20 z-40 max-h-[600px] w-96 overflow-auto shadow-xl"},{default:a(()=>[t(e(Gt),{class:"pb-3"},{default:a(()=>[n("div",Ia,[t(e(Kt),{class:"text-sm font-medium"},{default:a(()=>[...l[4]||(l[4]=[y("Wizard Debug Panel",-1)])]),_:1}),n("div",qa,[t(e(L),{size:"icon",variant:"ghost",class:"h-6 w-6",onClick:k},{default:a(()=>[t(e(Bt),{class:"h-3 w-3"})]),_:1}),t(e(L),{size:"icon",variant:"ghost",class:"h-6 w-6",onClick:m},{default:a(()=>[t(e(Rt),{class:"h-3 w-3"})]),_:1}),t(e(L),{size:"icon",variant:"ghost",class:"h-6 w-6",onClick:l[1]||(l[1]=j=>i.value=!i.value)},{default:a(()=>[t(e(Pt),{class:W(["h-3 w-3",i.value&&"animate-spin"])},null,8,["class"])]),_:1})])])]),_:1}),t(e(ut),{class:"space-y-4 text-xs"},{default:a(()=>[n("div",Aa,[l[9]||(l[9]=n("div",{class:"font-semibold"},"Status",-1)),n("div",$a,[n("div",Da,[l[5]||(l[5]=n("span",{class:"text-muted-foreground"},"Current Step:",-1)),t(e(ye),{variant:"outline"},{default:a(()=>[y(V(f.currentStep),1)]),_:1})]),n("div",Ba,[l[6]||(l[6]=n("span",{class:"text-muted-foreground"},"Project ID:",-1)),t(e(ye),{variant:"outline"},{default:a(()=>[y(V(f.projectId||"Not created"),1)]),_:1})]),n("div",Ra,[l[7]||(l[7]=n("span",{class:"text-muted-foreground"},"Initializing:",-1)),t(e(ye),{variant:f.isInitializing?"destructive":"default"},{default:a(()=>[y(V(f.isInitializing?"Yes":"No"),1)]),_:1},8,["variant"])]),n("div",Pa,[l[8]||(l[8]=n("span",{class:"text-muted-foreground"},"Values Synced:",-1)),t(e(ye),{variant:b.value?"default":"destructive"},{default:a(()=>[y(V(b.value?"Yes":"No"),1)]),_:1},8,["variant"])])])]),x.value.length>0?(g(),D("div",Ta,[l[10]||(l[10]=n("div",{class:"font-semibold text-amber-600"},"Unsaved Fields",-1)),n("div",Ma,[(g(!0),D(X,null,fe(x.value,j=>(g(),w(e(ye),{key:j,variant:"destructive",class:"mr-1 mb-1"},{default:a(()=>[y(V(j),1)]),_:2},1024))),128))])])):M("",!0),n("div",Ea,[l[11]||(l[11]=n("div",{class:"font-semibold"},"Current Form Values",-1)),n("div",Na,[n("pre",null,V(JSON.stringify(f.formValues,null,2)),1)])]),n("div",Fa,[l[12]||(l[12]=n("div",{class:"font-semibold"},"Saved Values",-1)),n("div",Oa,[n("pre",null,V(JSON.stringify(f.savedValues,null,2)),1)])]),n("div",za,[l[15]||(l[15]=n("div",{class:"font-semibold"},"Debug Actions",-1)),n("div",Ua,[t(e(L),{size:"sm",variant:"outline",onClick:l[2]||(l[2]=j=>v("force-save"))},{default:a(()=>[...l[13]||(l[13]=[y(" Force Save ",-1)])]),_:1}),t(e(L),{size:"sm",variant:"outline",onClick:l[3]||(l[3]=j=>v("reset-form"))},{default:a(()=>[...l[14]||(l[14]=[y(" Reset Form ",-1)])]),_:1})])])]),_:1})]),_:1})):M("",!0)]),_:1})],64))}}),Ga=Wt(La,[["__scopeId","data-v-1bbff090"]]),Ka={class:"min-h-screen bg-gradient-to-b from-background via-background/95 to-muted/20"},Wa={class:"mx-auto max-w-4xl space-y-6 p-6 pb-20 lg:p-10 animate-in fade-in slide-in-from-bottom-4 duration-700"},Ja={key:0,class:"mt-4 rounded-lg border border-blue-200 bg-blue-50/50 p-4 text-sm text-blue-600 backdrop-blur-sm flex items-start gap-3 shadow-sm"},Ya=["onSubmit"],Ha={class:"flex w-full flex-col items-start justify-start gap-4 md:flex-row md:gap-0"},Xa={class:"flex flex-col items-start text-left md:mt-5 md:items-center md:text-center"},Qa={key:0,class:"mt-1 block text-xs text-blue-600"},Za={class:"mt-8 space-y-6"},es={key:0,class:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500"},ts={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},as={class:"flex cursor-pointer items-center space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},ss={class:"flex cursor-pointer items-center space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},ls={class:"space-y-3"},rs={class:"flex-1 space-y-2"},os={class:"font-medium"},is={class:"text-sm text-muted-foreground"},ns={class:"grid grid-cols-1 gap-2 text-xs text-muted-foreground sm:grid-cols-3"},us={class:"flex items-center gap-1"},ds={class:"flex items-center gap-1"},cs={class:"flex items-center gap-1"},ps={key:0,class:"py-8 text-center text-muted-foreground"},fs={key:1,class:"py-8 text-center text-muted-foreground"},vs={key:1,class:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-500"},ms={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},gs={key:2,class:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500"},ys={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},_s={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},bs={class:"space-y-3"},hs={class:"flex cursor-pointer items-start space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},Ss={class:"flex cursor-pointer items-start space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},xs={class:"mt-8 flex justify-between"},ws={class:"flex gap-3"},Xs=P({__name:"Create",props:{projectCategories:{},resumeProject:{}},setup(h){const d=h,r=[Te({projectType:Me(["undergraduate","postgraduate"]),projectCategoryId:ke({required_error:"Please select a project category"})}),Te({universityId:ke({required_error:"Please select your university"}),facultyId:ke({required_error:"Please select your faculty"}),departmentId:ke({required_error:"Please select your department"}),course:se().min(2,"Course of study is required")}),Te({fieldOfStudy:se().optional(),supervisorName:se().optional(),matricNumber:se().optional(),academicSession:se().min(1,"Academic session is required"),degree:se().min(2,"Degree is required"),degreeAbbreviation:se().min(2,"Degree abbreviation is required"),workingMode:Me(["auto","manual"]),aiAssistanceLevel:Me(["minimal","moderate","maximum"]).optional()})],v=T(()=>r[i.value-1]),_=!1,i=C(1),b=C(null),x=C(!0),k=C({format_version:"2.0",steps:{},current_step:1,furthest_completed_step:0}),m=C("");let f=null;const l=C([]),j=C([]),I=C([]),$=C(!1),q=C(!1),ie=C(!1),ae=C(null),H=C(null),he=(u,s,c)=>{const S=Y=>String(Y??"").toLowerCase(),A=j.value.find(Y=>Y.id===s)?.name??"",o=I.value.find(Y=>Y.id===c)?.name??"",p=`${S(A)} ${S(o)}`,J=S(u),pe={degree:"Bachelor of Science",degreeAbbreviation:"B.Sc."},we={degree:"Master of Science",degreeAbbreviation:"M.Sc."},me=[{keywords:["engineering","engineer"],undergraduate:{degree:"Bachelor of Engineering",degreeAbbreviation:"B.Eng."},postgraduate:{degree:"Master of Engineering",degreeAbbreviation:"M.Eng."}},{keywords:["technology","polytechnic","technological"],undergraduate:{degree:"Bachelor of Technology",degreeAbbreviation:"B.Tech."},postgraduate:{degree:"Master of Technology",degreeAbbreviation:"M.Tech."}},{keywords:["management","business","administration","accounting","finance","marketing","economics"],undergraduate:pe,postgraduate:{degree:"Master of Business Administration",degreeAbbreviation:"MBA"}},{keywords:["education"],undergraduate:{degree:"Bachelor of Education",degreeAbbreviation:"B.Ed."},postgraduate:{degree:"Master of Education",degreeAbbreviation:"M.Ed."}},{keywords:["law","legal","jurisprud"],undergraduate:{degree:"Bachelor of Laws",degreeAbbreviation:"LL.B."},postgraduate:{degree:"Master of Laws",degreeAbbreviation:"LL.M."}},{keywords:["arts","humanities","history","linguistics","language","philosophy","literature"],undergraduate:{degree:"Bachelor of Arts",degreeAbbreviation:"B.A."},postgraduate:{degree:"Master of Arts",degreeAbbreviation:"M.A."}},{keywords:["agric","agriculture","forestry"],undergraduate:{degree:"Bachelor of Agriculture",degreeAbbreviation:"B.Agric."},postgraduate:{degree:"Master of Agriculture",degreeAbbreviation:"M.Agric."}},{keywords:["medicine","medical","health","nursing","pharmacy","dentistry"],undergraduate:{degree:"Bachelor of Medicine, Bachelor of Surgery",degreeAbbreviation:"MBBS"},postgraduate:we}],Pe=J==="postgraduate";for(const Y of me)if(Y.keywords.some(ge=>p.includes(ge)))return Pe?Y.postgraduate:Y.undergraduate;return Pe?we:pe},Z=C(!1),ee=C(!1),ne=C(!1),ue=u=>{const s=u.toString();return k.value.steps[s]?.data??{}},R=(u,s)=>{const c=u.toString();k.value.steps[c]={data:s,completed:Qe(u,s),timestamp:new Date().toISOString()},k.value.current_step=Math.max(k.value.current_step,u),k.value.steps[c].completed&&(k.value.furthest_completed_step=Math.max(k.value.furthest_completed_step,u))},Qe=(u,s)=>({1:["projectType","projectCategoryId"],2:["universityId","facultyId","departmentId","course"],3:["academicSession","degreeAbbreviation","workingMode"]}[u]||[]).every(A=>s[A]&&s[A]!==""),Ze=()=>{const u={};return Object.values(k.value.steps).forEach(s=>{Object.assign(u,s.data)}),u};re(i,u=>{console.log("ðŸ‘€ Step changed to:",u),k.value.current_step=u,Ce(()=>{const s=ue(u),c=Ze();if(u===3){const S=he(c.projectType,c.facultyId,c.departmentId),A=St=>String(St??"").trim(),o=A(s.degree),p=A(s.degreeAbbreviation);!H.value&&o===S.degree&&p===S.degreeAbbreviation&&(H.value=S);const J=H.value&&o===H.value.degree&&p===H.value.degreeAbbreviation,pe=o==="Bachelor of Science"&&p==="B.Sc."||o===""||p==="",we=o==="Master of Science"&&p==="M.Sc."||o===""||p==="",me=String(c.projectType??"")==="postgraduate",ge=me&&p==="B.Sc."||!me&&(p==="M.Sc."||p==="M.Eng."||p==="MBA")||J||(me?we:pe)?{...s,...S}:s;JSON.stringify(ge)!==JSON.stringify(s)&&(R(u,ge),H.value=S),ce.value=ge}else ce.value=s;xe.value++,s.projectType&&(m.value=s.projectType),u===2&&s.facultyId&&(ae.value=s.facultyId,$e(s.facultyId))})}),mt(()=>{if(yt(),_t(),d.resumeProject){console.log("ðŸ“„ Resuming project setup...",d.resumeProject),i.value=d.resumeProject.current_step,b.value=d.resumeProject.id,k.value=d.resumeProject.wizard_data;const u=ue(i.value);ce.value=u,u.projectType&&(m.value=u.projectType),u.facultyId&&(ae.value=u.facultyId,$e(u.facultyId)),xe.value=Date.now(),console.log("âœ… Step-aware state restored:",{step:i.value,wizardData:k.value,currentStepData:u,selectedProjectType:m.value})}else console.log("ðŸ†• Starting fresh project setup"),ce.value={},xe.value=Date.now();Ce(()=>{x.value=!1})});const yt=async()=>{$.value=!0;try{const s=await(await fetch("/api/universities")).json();l.value=s.universities}catch(u){console.error("Failed to fetch universities:",u),K("Error loading universities")}finally{$.value=!1}},_t=async()=>{q.value=!0;try{const s=await(await fetch("/api/faculties")).json();j.value=s.faculties}catch(u){console.error("Failed to fetch faculties:",u),K("Error loading faculties")}finally{q.value=!1}},$e=async u=>{ie.value=!0;try{const c=await(await fetch(`/api/faculties/${u}/departments`)).json();I.value=c.departments}catch(s){console.error("Failed to fetch departments:",s),K("Error loading departments")}finally{ie.value=!1}};re(ae,u=>{u?$e(u):I.value=[]});const De=async(u,s)=>{try{if(console.log("ðŸ’¾ Saving progress - Step:",u,"Data:",s),x.value){console.log("â¸ï¸ Skipping save during initialization");return}const c=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(!c){console.error("âŒ CSRF token not found"),K("Error",{description:"Security token missing. Please refresh the page."});return}const S=await fetch(it("projects.save-wizard-progress"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":c,"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin",body:JSON.stringify({project_id:b.value,step:u,data:s})});if(S.ok){const A=await S.json();A.success?(b.value=A.project_id,Be.value={...s},console.log("âœ… Progress saved successfully")):(console.error("âŒ Save failed:",A),K("Save Failed",{description:A.message||"Failed to save progress."}))}else{if(console.error("âŒ Save request failed:",S.status,S.statusText),S.status===419){K("Session Expired",{description:"Please refresh the page to continue."});return}else if(S.status===422){const A=await S.json().catch(()=>({}));console.error("âŒ Validation errors:",A),K("Validation Error",{description:"Some form data is invalid."});return}throw new Error(`HTTP ${S.status}: ${S.statusText}`)}}catch(c){console.error("âŒ Failed to save progress:",c),c instanceof SyntaxError&&c.message.includes("Unexpected token")?K("Session Error",{description:"Your session may have expired. Please refresh the page."}):K("Auto-save Error",{description:"Failed to save your progress automatically."})}},et=(u,s)=>{f&&clearTimeout(f),f=setTimeout(()=>{De(u,s)},1e3)},Se=async(u,s)=>{if(u===i.value)return;console.log("ðŸ“„ Navigating from step",i.value,"to step",u);const c=Re(s,i.value);Object.keys(c).length>0&&(console.log("ðŸ’¾ Saving step",i.value,"data before navigation:",c),R(i.value,c),await De(i.value,c)),i.value=u,console.log("âœ… Navigation complete - now on step:",i.value)},de=T(()=>(u,s,c)=>{const S=Math.max(s,d.resumeProject?.setup_step??1);return!!(u<=S||u===s+1&&c)}),ve=[{step:1,title:"Academic Setup",description:"Level & project type",icon:rt},{step:2,title:"Institution",description:"University details",icon:Mt},{step:3,title:"Research Details",description:"Field & supervisor info",icon:ot}],tt=u=>d.projectCategories[u]||[];re(m,u=>{if(u&&!x.value){const s={...Be.value,projectType:u};et(i.value,s)}});const at=C({}),Be=C({}),ce=C({}),xe=C(0);re(ce,u=>{u?.projectType&&u.projectType!==m.value&&(m.value=u.projectType,console.log("ðŸ”„ Synced selectedProjectType from form values:",u.projectType))},{deep:!0,immediate:!0});const Re=(u,s)=>{const S={1:["projectType","projectCategoryId"],2:["universityId","facultyId","departmentId","course"],3:["fieldOfStudy","supervisorName","matricNumber","academicSession","degree","degreeAbbreviation","workingMode","aiAssistanceLevel"]}[s]||[];return Object.fromEntries(Object.entries(u||{}).filter(([A,o])=>S.includes(A)&&o!==null&&o!==void 0&&o!==""))},bt=u=>{if(x.value)return"";const s=Re(u,i.value);if(Object.keys(s).length>0){const c=ue(i.value);JSON.stringify(s)!==JSON.stringify(c)&&(console.log("ðŸ”„ Step",i.value,"data changed:",s),R(i.value,s),s.projectType&&(m.value=s.projectType),et(i.value,s))}return""};function ht(u){console.log("ðŸš€ Submitting final step with current values:",u);const s=Re(u,i.value);R(i.value,s);const c=Ze();if(console.log("ðŸ“‹ All steps data for submission:",c),!c.projectType||!c.universityId||!c.facultyId||!c.departmentId){K("Incomplete Data",{description:"Please complete all previous steps before submitting."});return}const S={project_category_id:c.projectCategoryId,type:c.projectType,university_id:c.universityId,faculty_id:c.facultyId,department_id:c.departmentId,course:c.course,field_of_study:c.fieldOfStudy,supervisor_name:c.supervisorName,matric_number:c.matricNumber,academic_session:c.academicSession,degree:c.degree,degree_abbreviation:c.degreeAbbreviation,mode:c.workingMode,ai_assistance_level:c.aiAssistanceLevel};console.log("ðŸŽ¯ Final project data for submission:",S),Ft.post(it("projects.store"),S,{onSuccess:()=>{K("Project Created!",{description:"Your project has been set up successfully."})},onError:A=>{console.error("âŒ Project creation failed:",A),K("Error",{description:"Failed to create project. Please try again."})}})}return(u,s)=>(g(),w(Jt,{title:"Create New Project"},{default:a(()=>[n("div",Ka,[n("div",Wa,[n("div",null,[s[6]||(s[6]=n("h1",{class:"text-3xl font-bold tracking-tight bg-gradient-to-br from-foreground to-foreground/70 bg-clip-text text-transparent"},"Create Your Project",-1)),s[7]||(s[7]=n("p",{class:"text-muted-foreground mt-2 text-lg"},"Set up your final year project in just a few steps",-1)),i.value>1?(g(),D("div",Ja,[...s[5]||(s[5]=[n("span",{class:"text-lg"},"ðŸ’¡",-1),n("div",null,[n("strong",null,"Tip:"),y(" You can click on any previous step to go back and make changes. Your progress is automatically saved! ")],-1)])])):M("",!0)]),t(e(nt),null,{default:a(()=>[t(e(ut),{class:"pt-6"},{default:a(()=>[(g(),w(e(wt),{key:xe.value,as:"","keep-values":"","validation-schema":e(kt)(v.value),"initial-values":ce.value},{default:a(({meta:c,values:S,validate:A})=>[x.value?M("",!0):(g(),D(X,{key:0},[y(V(bt(S)),1)],64)),t(e(xa),{modelValue:i.value,"onUpdate:modelValue":s[3]||(s[3]=o=>i.value=o),class:"w-full"},{default:a(()=>[n("form",{onSubmit:o=>{o.preventDefault(),A(),i.value===ve.length&&c.valid&&ht(S)},class:"w-full"},[n("div",Ha,[(g(),D(X,null,fe(ve,(o,p)=>(g(),D(X,{key:o.step},[t(e(ka),{class:"relative flex flex-shrink-0 flex-row items-center gap-4 md:flex-col md:gap-0",step:o.step},{default:a(({state:J})=>[t(e(Ca),{"as-child":""},{default:a(()=>[t(e(L),{variant:J==="completed"||J==="active"?"default":"outline",size:"icon",class:W(["relative z-10 shrink-0 rounded-full",[J==="active"&&"ring-2 ring-ring ring-offset-2 ring-offset-background",!de.value(o.step,i.value,c.valid)&&"cursor-not-allowed opacity-50"]]),disabled:!de.value(o.step,i.value,c.valid),onClick:pe=>Se(o.step,S),type:"button"},{default:a(()=>[J==="completed"?(g(),w(e(je),{key:0,class:"size-5"})):(g(),w(Et(o.icon),{key:1,class:"size-5"}))]),_:2},1032,["variant","class","disabled","onClick"])]),_:2},1024),n("div",Xa,[t(e(ja),{class:W([[J==="active"&&"text-primary",de.value(o.step,i.value,c.valid)&&o.step!==i.value&&"cursor-pointer text-blue-600 hover:text-blue-800"],"text-sm font-semibold transition lg:text-base"]),onClick:pe=>de.value(o.step,i.value,c.valid)?Se(o.step,S):null},{default:a(()=>[y(V(o.title),1)]),_:2},1032,["class","onClick"]),t(e(wa),{class:W([[J==="active"&&"text-primary",de.value(o.step,i.value,c.valid)&&o.step!==i.value&&"text-blue-500"],"text-xs text-muted-foreground transition md:text-sm"])},{default:a(()=>[y(V(o.description)+" ",1),de.value(o.step,i.value,c.valid)&&o.step<i.value?(g(),D("span",Qa," (click to edit) ")):M("",!0)]),_:2},1032,["class"])])]),_:2},1032,["step"]),p<ve.length-1?(g(),D("div",{key:0,class:W(["mt-5 hidden h-0.5 w-full max-w-[200px] transition-all duration-300 md:block",i.value>o.step?"bg-primary":"bg-muted"])},null,2)):M("",!0)],64))),64))]),n("div",Za,[i.value===1?(g(),D("div",es,[t(e(N),{name:"projectType"},{default:a(({componentField:o})=>[t(e(F),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[8]||(s[8]=[y("What is your academic level?",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(Je),{"model-value":o.modelValue,"onUpdate:modelValue":p=>{o["onUpdate:modelValue"]?.(p),m.value=p}},{default:a(()=>[n("div",ts,[n("label",as,[t(e(_e),{value:"undergraduate"}),s[9]||(s[9]=n("div",{class:"space-y-1"},[n("p",{class:"text-sm font-medium"},"Undergraduate"),n("p",{class:"text-xs text-muted-foreground"},"BSc/BTech final year project")],-1))]),n("label",ss,[t(e(_e),{value:"postgraduate"}),s[10]||(s[10]=n("div",{class:"space-y-1"},[n("p",{class:"text-sm font-medium"},"Postgraduate"),n("p",{class:"text-xs text-muted-foreground"},"MSc/PhD thesis")],-1))])])]),_:2},1032,["model-value","onUpdate:modelValue"])]),_:2},1024),t(e(U))]),_:2},1024)]),_:1}),t(e(N),{name:"projectCategoryId"},{default:a(({componentField:o})=>[t(e(F),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[11]||(s[11]=[y("What type of project are you creating?",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(Je),{"model-value":o.modelValue?.toString(),"onUpdate:modelValue":p=>o["onUpdate:modelValue"]?.(parseInt(p))},{default:a(()=>[n("div",ls,[(g(!0),D(X,null,fe(tt(m.value),p=>(g(),D("label",{key:p.id,class:"flex cursor-pointer items-start space-y-0 space-x-3 rounded-md border p-4 transition-all duration-200 hover:border-primary hover:bg-accent/50 has-[[data-state=checked]]:border-primary has-[[data-state=checked]]:bg-primary/5"},[t(e(_e),{value:p.id.toString(),class:"mt-1"},null,8,["value"]),n("div",rs,[n("div",null,[n("p",os,V(p.name),1),n("p",is,V(p.description),1)]),n("div",ns,[n("div",us,[t(e(Nt),{class:"h-3 w-3"}),y(" "+V(p.default_chapter_count)+" chapters ",1)]),n("div",ds,[t(e(ot),{class:"h-3 w-3"}),y(" ~"+V((p.target_word_count/1e3).toFixed(0))+"k words ",1)]),n("div",cs,[t(e(rt),{class:"h-3 w-3"}),y(" "+V(p.target_duration),1)])])])]))),128)),m.value?tt(m.value).length===0?(g(),D("div",fs," No project categories available for this academic level ")):M("",!0):(g(),D("div",ps," Please select an academic level first "))])]),_:2},1032,["model-value","onUpdate:modelValue"])]),_:2},1024),t(e(U))]),_:2},1024)]),_:1})])):M("",!0),i.value===2?(g(),D("div",vs,[t(e(N),{name:"universityId"},{default:a(({componentField:o})=>[t(e(F),{class:"flex flex-col"},{default:a(()=>[t(e(O),null,{default:a(()=>[...s[12]||(s[12]=[y("University",-1)])]),_:1}),t(e(Le),{open:Z.value,"onUpdate:open":s[0]||(s[0]=p=>Z.value=p)},{default:a(()=>[t(e(Ge),{"as-child":""},{default:a(()=>[t(e(z),null,{default:a(()=>[t(e(L),{variant:"outline",role:"combobox",class:W(e(G)("w-full justify-between",!o.modelValue&&"text-muted-foreground"))},{default:a(()=>[y(V(o.modelValue?l.value.find(p=>p.id===o.modelValue)?.name:"Select your university...")+" ",1),t(e(We),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024),t(e(Ke),{class:"w-full p-0",align:"start"},{default:a(()=>[t(e(Ee),null,{default:a(()=>[t(e(Ne),{placeholder:"Search university..."}),t(e(Fe),null,{default:a(()=>[...s[13]||(s[13]=[y("No university found.",-1)])]),_:1}),t(e(Oe),null,{default:a(()=>[t(e(ze),null,{default:a(()=>[(g(!0),D(X,null,fe(l.value,p=>(g(),w(e(Ue),{key:p.id,value:p.name,onSelect:()=>{o["onUpdate:modelValue"]?.(p.id),Z.value=!1}},{default:a(()=>[y(V(p.name)+" ",1),t(e(je),{class:W(e(G)("ml-auto h-4 w-4",p.id===o.modelValue?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["open"]),t(e(U))]),_:2},1024)]),_:1}),n("div",ms,[t(e(N),{name:"facultyId"},{default:a(({componentField:o})=>[t(e(F),{class:"flex flex-col"},{default:a(()=>[t(e(O),null,{default:a(()=>[...s[14]||(s[14]=[y("Faculty",-1)])]),_:1}),t(e(Le),{open:ee.value,"onUpdate:open":s[1]||(s[1]=p=>ee.value=p)},{default:a(()=>[t(e(Ge),{"as-child":""},{default:a(()=>[t(e(z),null,{default:a(()=>[t(e(L),{variant:"outline",role:"combobox",class:W(e(G)("w-full justify-between",!o.modelValue&&"text-muted-foreground"))},{default:a(()=>[y(V(o.modelValue?"Faculty of "+j.value.find(p=>p.id===o.modelValue)?.name:"Select faculty...")+" ",1),t(e(We),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024),t(e(Ke),{class:"w-[300px] p-0"},{default:a(()=>[t(e(Ee),null,{default:a(()=>[t(e(Ne),{placeholder:"Search faculty..."}),t(e(Fe),null,{default:a(()=>[...s[15]||(s[15]=[y("No faculty found.",-1)])]),_:1}),t(e(Oe),null,{default:a(()=>[t(e(ze),null,{default:a(()=>[(g(!0),D(X,null,fe(j.value,p=>(g(),w(e(Ue),{key:p.id,value:p.id,onSelect:()=>{o["onUpdate:modelValue"]?.(p.id),ae.value=p.id,ee.value=!1}},{default:a(()=>[t(e(je),{class:W(e(G)("mr-2 h-4 w-4",o.modelValue===p.id?"opacity-100":"opacity-0"))},null,8,["class"]),y(" Faculty of "+V(p.name),1)]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["open"]),t(e(U))]),_:2},1024)]),_:1}),t(e(N),{name:"departmentId"},{default:a(({componentField:o})=>[t(e(F),{class:"flex flex-col"},{default:a(()=>[t(e(O),null,{default:a(()=>[...s[16]||(s[16]=[y("Department",-1)])]),_:1}),t(e(Le),{open:ne.value,"onUpdate:open":s[2]||(s[2]=p=>ne.value=p)},{default:a(()=>[t(e(Ge),{"as-child":""},{default:a(()=>[t(e(z),null,{default:a(()=>[t(e(L),{variant:"outline",role:"combobox",class:W(e(G)("w-full justify-between",!o.modelValue&&"text-muted-foreground"))},{default:a(()=>[y(V(o.modelValue?I.value.find(p=>p.id===o.modelValue)?.name:"Select department...")+" ",1),t(e(We),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024),t(e(Ke),{class:"w-[350px] p-0"},{default:a(()=>[t(e(Ee),null,{default:a(()=>[t(e(Ne),{placeholder:"Search department..."}),t(e(Fe),null,{default:a(()=>[...s[17]||(s[17]=[y("No department found.",-1)])]),_:1}),t(e(Oe),null,{default:a(()=>[t(e(ze),null,{default:a(()=>[(g(!0),D(X,null,fe(I.value,p=>(g(),w(e(Ue),{key:p.id,value:p.id,onSelect:()=>{o["onUpdate:modelValue"]?.(p.id),ne.value=!1}},{default:a(()=>[t(e(je),{class:W(e(G)("mr-2 h-4 w-4",o.modelValue===p.id?"opacity-100":"opacity-0"))},null,8,["class"]),y(" "+V(p.name),1)]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["open"]),t(e(U))]),_:2},1024)]),_:1})]),t(e(N),{name:"course"},{default:a(({componentField:o})=>[t(e(F),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[18]||(s[18]=[y("Course of Study",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(le),B({type:"text",placeholder:"e.g., Computer Science"},o),null,16)]),_:2},1024),t(e(U))]),_:2},1024)]),_:1})])):M("",!0),i.value===3?(g(),D("div",gs,[t(e(N),{name:"fieldOfStudy"},{default:a(({componentField:o})=>[t(e(F),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[19]||(s[19]=[y("Field/Area of Research (Optional)",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(le),B({type:"text",placeholder:"e.g., Artificial Intelligence, Web Development (leave blank if unsure)"},o),null,16)]),_:2},1024),t(e(jt),null,{default:a(()=>[...s[20]||(s[20]=[y(" Your specific area of focus for this project. Leave blank if you need AI guidance in choosing a research area. ",-1)])]),_:1}),t(e(U))]),_:2},1024)]),_:1}),t(e(N),{name:"supervisorName"},{default:a(({componentField:o})=>[t(e(F),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[21]||(s[21]=[y("Supervisor Name (Optional)",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(le),B({type:"text",placeholder:"e.g., Dr. John Doe"},o),null,16)]),_:2},1024),t(e(U))]),_:2},1024)]),_:1}),n("div",ys,[t(e(N),{name:"matricNumber"},{default:a(({componentField:o})=>[t(e(F),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[22]||(s[22]=[y("Matric Number (Optional)",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(le),B({type:"text",placeholder:"e.g., 2019/1234"},o),null,16)]),_:2},1024),t(e(U))]),_:2},1024)]),_:1}),t(e(N),{name:"academicSession"},{default:a(({componentField:o})=>[t(e(F),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[23]||(s[23]=[y("Academic Session",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(le),B({type:"text",placeholder:"e.g., 2024/2025"},o),null,16)]),_:2},1024),t(e(U))]),_:2},1024)]),_:1})]),n("div",_s,[t(e(N),{name:"degree"},{default:a(({componentField:o})=>[t(e(F),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[24]||(s[24]=[y("Degree",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(le),B({type:"text",placeholder:"e.g., Bachelor of Science"},o),null,16)]),_:2},1024),t(e(U))]),_:2},1024)]),_:1}),t(e(N),{name:"degreeAbbreviation"},{default:a(({componentField:o})=>[t(e(F),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[25]||(s[25]=[y("Degree Abbreviation",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(le),B({type:"text",placeholder:"e.g., B.Sc., M.Sc."},o),null,16)]),_:2},1024),t(e(U))]),_:2},1024)]),_:1})]),t(e(N),{name:"workingMode"},{default:a(({componentField:o})=>[t(e(F),null,{default:a(()=>[t(e(O),null,{default:a(()=>[...s[26]||(s[26]=[y("How would you like to work on your project?",-1)])]),_:1}),t(e(z),null,{default:a(()=>[t(e(Je),qe(Ae(o)),{default:a(()=>[n("div",bs,[n("label",hs,[t(e(_e),{value:"auto",class:"mt-1"}),s[27]||(s[27]=n("div",{class:"space-y-1"},[n("p",{class:"font-medium"},"Auto Mode"),n("p",{class:"text-sm text-muted-foreground"}," AI generates complete chapters. You review and approve each section. Perfect for quick completion. ")],-1))]),n("label",Ss,[t(e(_e),{value:"manual",class:"mt-1"}),s[28]||(s[28]=n("div",{class:"space-y-1"},[n("p",{class:"font-medium"},"Manual Mode"),n("p",{class:"text-sm text-muted-foreground"}," Co-write with AI assistance. Get suggestions as you type, maintain full control. ")],-1))])])]),_:2},1040)]),_:2},1024),t(e(U))]),_:2},1024)]),_:1})])):M("",!0)]),n("div",xs,[t(e(L),{disabled:i.value<=1,variant:"outline",onClick:o=>Se(i.value-1,S),type:"button"},{default:a(()=>[...s[29]||(s[29]=[y(" Back ",-1)])]),_:2},1032,["disabled","onClick"]),n("div",ws,[i.value!==ve.length?(g(),w(e(L),{key:0,disabled:!c.valid,onClick:o=>Se(i.value+1,S),type:"button"},{default:a(()=>[...s[30]||(s[30]=[y(" Next ",-1)])]),_:2},1032,["disabled","onClick"])):M("",!0),i.value===ve.length?(g(),w(e(L),{key:1,type:"submit",disabled:!c.valid},{default:a(()=>[...s[31]||(s[31]=[y(" Complete Setup ",-1)])]),_:2},1032,["disabled"])):M("",!0)])])],40,Ya)]),_:2},1032,["modelValue"])]),_:1},8,["validation-schema","initial-values"]))]),_:1})]),_:1})]),e(_)?(g(),w(Ga,{key:0,"current-step":i.value,"project-id":b.value,"form-values":at.value,"saved-values":Be.value,"is-initializing":x.value,onForceSave:s[4]||(s[4]=()=>De(i.value,at.value)),onResetForm:()=>{}},null,8,["current-step","project-id","form-values","saved-values","is-initializing"])):M("",!0)])]),_:1}))}});export{Xs as default};
