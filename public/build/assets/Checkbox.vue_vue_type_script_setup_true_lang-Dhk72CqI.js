import{P as g,a as P}from"./index-D3d1G8kJ.js";import{b as $}from"./VisuallyHidden-C-xRdpIz.js";import{c as q,P as M}from"./Presence-Dwqo9iE1.js";import{i as h}from"./nullish-CHIgUVhi.js";import{i as y}from"./ohash.D__AXeF1-C-E83dC9.js";import{u as A,V as G}from"./VisuallyHiddenInput-BbV2ap4Q.js";import{a as w,u as K}from"./useForwardExpose-C97CAlAR.js";import{R as j}from"./RovingFocusItem-7Pn4sKcg.js";import{d as k,b as v,a as u,o as n,w as p,r as C,L as z,u as e,Q as _,ab as N,ac as L,a1 as D,K as B}from"./app-Bo97tXR7.js";import{M as H}from"./minus-DlFTaqDB.js";import{C as O}from"./check-BSDtehIQ.js";function V(o,i){return h(o)?!1:Array.isArray(o)?o.some(a=>y(a,i)):y(o,i)}const[Q,ne]=q("CheckboxGroupRoot");function b(o){return o==="indeterminate"}function R(o){return b(o)?"indeterminate":o?"checked":"unchecked"}const[T,J]=q("CheckboxRoot");var U=k({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(o,{emit:i}){const a=o,l=i,{forwardRef:f,currentElement:m}=w(),r=Q(null),s=K(a,"modelValue",l,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),c=v(()=>r?.disabled.value||a.disabled),d=v(()=>h(r?.modelValue.value)?s.value==="indeterminate"?"indeterminate":s.value:V(r.modelValue.value,a.value));function S(){if(h(r?.modelValue.value))s.value=b(s.value)?!0:!s.value;else{const t=[...r.modelValue.value||[]];if(V(t,a.value)){const x=t.findIndex(I=>y(I,a.value));t.splice(x,1)}else t.push(a.value);r.modelValue.value=t}}const E=A(m),F=v(()=>a.id&&m.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return J({disabled:c,state:d}),(t,x)=>(n(),u(D(e(r)?.rovingFocus.value?e(j):e(g)),_(t.$attrs,{id:t.id,ref:e(f),role:"checkbox","as-child":t.asChild,as:t.as,type:t.as==="button"?"button":void 0,"aria-checked":e(b)(d.value)?"mixed":d.value,"aria-required":t.required,"aria-label":t.$attrs["aria-label"]||F.value,"data-state":e(R)(d.value),"data-disabled":c.value?"":void 0,disabled:c.value,focusable:e(r)?.rovingFocus.value?!c.value:void 0,onKeydown:N(L(()=>{},["prevent"]),["enter"]),onClick:S}),{default:p(()=>[C(t.$slots,"default",{modelValue:e(s),state:d.value}),e(E)&&t.name&&!e(r)?(n(),u(e(G),{key:0,type:"checkbox",checked:!!d.value,name:t.name,value:t.value,disabled:c.value,required:t.required},null,8,["checked","name","value","disabled","required"])):z("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),W=U,X=k({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(o){const{forwardRef:i}=w(),a=T();return(l,f)=>(n(),u(e(M),{present:l.forceMount||e(b)(e(a).state.value)||e(a).state.value===!0},{default:p(()=>[B(e(g),_({ref:e(i),"data-state":e(R)(e(a).state.value),"data-disabled":e(a).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":l.asChild,as:l.as},l.$attrs),{default:p(()=>[C(l.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),Y=X;const ce=k({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(o,{emit:i}){const a=o,l=i,f=v(()=>{const{class:r,...s}=a;return s}),m=$(f,l);return(r,s)=>(n(),u(e(W),_({"data-slot":"checkbox"},e(m),{class:e(P)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a.class)}),{default:p(()=>[B(e(Y),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:p(()=>[C(r.$slots,"default",{},()=>[a.checked==="indeterminate"?(n(),u(e(H),{key:0,class:"size-3.5"})):(n(),u(e(O),{key:1,class:"size-3.5"}))])]),_:3})]),_:3},16,["class"]))}});export{ce as _};
