import{bu as Ve,ch as qe,bt as y,ci as ve,ck as $,bB as be,cn as g,co as u,cp as l,cr as t,cq as r,bF as s,cE as G,ce as w,cl as k,gE as _,d9 as Ye,cs as i,ct as c,cu as f,dE as Q,cD as b,cT as R,di as Z,cI as h,hJ as He,dm as O,dB as X,gB as he,cN as D,d5 as q,gG as Ke,en as ee,cF as xe,cw as we,hK as ke,dj as te,et as ye,ew as _e,cV as Je,cj as P,df as Qe}from"./vendor-B5jlBrgV.js";import{_ as I}from"./index-DCGYk7ZE.js";import{_ as v}from"./index-D4mJyiz8.js";import{_ as Y,a as H}from"./CardContent.vue_vue_type_script_setup_true_lang-CtTakpSW.js";import{_ as se}from"./CardDescription.vue_vue_type_script_setup_true_lang-Xz6hS9KU.js";import{_ as re,a as oe}from"./CardTitle.vue_vue_type_script_setup_true_lang-XJ5or5ZK.js";import{_ as ae,a as le}from"./DialogContent.vue_vue_type_script_setup_true_lang-DATQht2f.js";import{_ as Ze}from"./DialogDescription.vue_vue_type_script_setup_true_lang-DsP71UmP.js";import{_ as Xe}from"./DialogFooter.vue_vue_type_script_setup_true_lang-B5lGGt-M.js";import{_ as et,a as tt}from"./DialogTitle.vue_vue_type_script_setup_true_lang-Cb9j7AhV.js";import{_ as st,a as rt,b as ne,c as ie}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-B2DGMW6r.js";import{a as ot}from"./AppLayout.vue_vue_type_script_setup_true_lang-C4rWXNax.js";import{_ as at}from"./SafeHtmlText.vue_vue_type_script_setup_true_lang-tt96GLrc.js";import{_ as lt}from"./PurchaseModal.vue_vue_type_script_setup_true_lang-DMxFPDrF.js";import{u as nt}from"./useWordBalance-D_NxFp97.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-w4YHLOMg.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-C5iiu9qR.js";import"./Sonner.vue_vue_type_script_setup_true_lang-sxjlERgN.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-BodEwO0Z.js";import"./WordBalanceDisplay.vue_vue_type_script_setup_true_lang-DBc7hWuL.js";import"./useAppearance-D3We0oPJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PWAInstallPrompt.vue_vue_type_script_setup_true_lang-D12IZ_KU.js";const it={class:"mx-auto max-w-7xl space-y-8 p-6"},dt={class:"flex items-center justify-between"},ut={class:"flex items-center gap-2"},ct={class:"relative overflow-hidden rounded-3xl border border-border/50 bg-gradient-to-b from-background to-muted/20 p-6 md:p-12"},pt={class:"relative z-10 flex flex-col items-center text-center space-y-6"},mt={class:"flex flex-wrap items-center justify-center gap-3"},gt={id:"mode-switcher",class:"flex items-center gap-1 sm:gap-2 rounded-full border border-border/50 bg-background/50 p-1 sm:p-1.5 shadow-sm backdrop-blur-sm"},ft=["onClick"],vt={class:"grid gap-8 lg:grid-cols-3"},bt={class:"space-y-8 lg:col-span-2 order-2 lg:order-1"},ht={key:0,id:"continue-writing-card",class:"group relative overflow-hidden rounded-2xl border border-border/50 bg-gradient-to-br from-amber-50/50 to-orange-50/50 p-6 dark:from-amber-950/10 dark:to-orange-950/10 transition-all hover:shadow-md"},xt={class:"flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between"},wt={class:"space-y-2"},kt={class:"flex items-center gap-2 text-amber-600 dark:text-amber-500"},yt={class:"text-xl font-semibold tracking-tight"},_t={class:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground"},Ct={class:"flex items-center gap-1.5"},jt={class:"flex items-center gap-1.5"},At={id:"action-cards",class:"space-y-4"},Tt=["disabled"],Mt={class:"relative z-10 flex-1 space-y-2"},Gt={class:"flex items-center gap-2.5 mb-1"},$t={class:"flex items-center justify-center rounded-md bg-pink-100/50 p-1.5 text-pink-600 dark:bg-pink-900/20 dark:text-pink-400"},It={class:"relative z-10 hidden sm:flex items-center justify-center pl-4"},St={class:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},zt=["disabled"],Et={class:"rounded-full bg-green-100 p-2.5 text-green-600 dark:bg-green-900/20 dark:text-green-400"},Pt={class:"flex-1"},Lt={class:"text-xs text-muted-foreground mt-1"},Wt={class:"mt-auto flex items-center text-xs font-medium text-primary opacity-0 transition-opacity group-hover:opacity-100"},Rt={class:"rounded-full bg-amber-100 p-2.5 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400"},Dt={class:"flex-1"},Bt={class:"flex items-center gap-2"},Ft={class:"mt-auto flex items-center text-xs font-medium text-amber-600 opacity-0 transition-opacity group-hover:opacity-100"},Ut=["disabled"],Ot={class:"rounded-full bg-purple-100 p-2.5 text-purple-600 dark:bg-purple-900/20 dark:text-purple-400"},Nt={class:"flex-1"},Vt={class:"text-xs text-muted-foreground mt-1"},qt={class:"mt-auto flex items-center text-xs font-medium text-purple-600 opacity-0 transition-opacity group-hover:opacity-100"},Yt={key:1,class:"flex flex-col items-start justify-center gap-4 rounded-2xl border border-border/50 bg-muted/30 p-5 text-left h-full min-h-[140px]"},Ht={class:"flex items-center gap-3"},Kt={class:"rounded-full bg-gray-100 p-2 text-gray-600 dark:bg-gray-800 dark:text-gray-400"},Jt={class:"grid gap-4"},Qt={class:"flex items-start justify-between"},Zt={class:"flex flex-wrap items-center justify-between gap-y-2"},Xt={class:"text-sm text-muted-foreground"},es={class:"flex gap-2"},ts={key:0,class:"rounded-xl border-2 border-dashed border-border/50 bg-muted/10 py-12 text-center"},ss={class:"mb-4 text-sm text-muted-foreground"},rs={class:"flex items-center gap-4"},os={class:"p-3 rounded-xl bg-gradient-to-br from-yellow-500/20 to-orange-500/20 ring-1 ring-yellow-500/30"},as={class:"space-y-1"},ls={class:"space-y-6"},ns={class:"grid gap-6 md:grid-cols-2"},is={class:"flex items-start justify-between"},ds={class:"p-3 rounded-2xl bg-blue-100/80 text-blue-600 dark:bg-blue-900/40 dark:text-blue-400 transition-colors group-hover:bg-blue-100 dark:group-hover:bg-blue-900/60"},us={class:"relative flex h-5 w-5 items-center justify-center"},cs={key:0,class:"absolute -right-12 -top-12 h-32 w-32 rounded-full bg-gradient-to-br from-purple-500/20 to-pink-500/20 blur-2xl"},ps={class:"flex items-start justify-between relative z-10"},ms={class:"p-3 rounded-2xl bg-pink-100/80 text-pink-600 dark:bg-pink-900/40 dark:text-pink-400 transition-colors group-hover:bg-pink-100 dark:group-hover:bg-pink-900/60"},gs={class:"relative flex h-5 w-5 items-center justify-center"},fs={class:"relative z-10"},vs={class:"flex items-center gap-2 mb-1"},bs={class:"pt-4"},hs={key:0,class:"space-y-4"},xs={class:"text-sm text-center text-muted-foreground"},ws={key:0,class:"flex items-center justify-center gap-2"},ks={class:"font-mono font-bold text-foreground"},ys={key:1,class:"text-amber-600 flex items-center justify-center gap-2"},_s={key:1,class:"space-y-4"},Cs={class:"text-sm text-center text-muted-foreground flex items-center justify-center gap-2"},js={class:"rounded-2xl border border-blue-200/50 bg-gradient-to-br from-blue-50 to-indigo-50/50 p-6 dark:from-blue-950/20 dark:to-indigo-950/20 dark:border-blue-800/30"},As={class:"flex gap-4"},Ts={class:"p-2 rounded-lg bg-blue-100 text-blue-600 dark:bg-blue-900/40 dark:text-blue-400 h-fit"},Ms={class:"flex flex-col sm:flex-row gap-3"},Gs={class:"text-xs text-muted-foreground text-center"},$s={class:"space-y-3"},Is={class:"grid gap-3"},Ss={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},zs={class:"flex-1"},Es={class:"font-medium group-hover:text-primary transition-colors"},Ps={class:"text-xs text-muted-foreground"},Ls={class:"mt-2"},Ws={class:"ml-2 text-xs text-muted-foreground"},Rs={class:"flex gap-2"},Ds={class:"space-y-8 lg:col-span-1 order-1 lg:order-2"},Bs={id:"progress-overview",class:"rounded-3xl border border-border/50 bg-card p-6 shadow-sm dark:bg-card/50"},Fs={class:"mb-6 flex items-center gap-2 font-semibold"},Us={class:"relative mx-auto mb-8 flex h-40 w-40 items-center justify-center"},Os={class:"h-full w-full -rotate-90 transform",viewBox:"0 0 100 100"},Ns=["stroke-dashoffset"],Vs={class:"absolute inset-0 flex flex-col items-center justify-center text-center"},qs={class:"text-3xl font-bold"},Ys={class:"space-y-4"},Hs={class:"flex items-center justify-between rounded-lg bg-muted/50 p-3"},Ks={class:"font-mono font-semibold"},Js={class:"flex items-center justify-between rounded-lg bg-muted/50 p-3"},Qs={class:"font-mono font-semibold"},Zs={class:"absolute bottom-6 left-6 flex items-center gap-3"},Xs={class:"text-lg font-semibold tracking-tight text-foreground"},er={class:"p-6 space-y-6"},tr={class:"flex gap-3"},sr={class:"space-y-1"},rr={class:"space-y-3"},or={class:"grid gap-2"},ar={class:"flex items-center gap-3 rounded-lg bg-secondary/30 p-2.5 text-sm"},lr={class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-blue-100 text-blue-600 dark:bg-blue-900/40 dark:text-blue-400"},nr={class:"flex items-center gap-3 rounded-lg bg-secondary/30 p-2.5 text-sm"},ir={class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-green-100 text-green-600 dark:bg-green-900/40 dark:text-green-400"},dr={class:"flex items-center gap-3 rounded-lg bg-secondary/30 p-2.5 text-sm"},ur={class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-zinc-100 text-zinc-600 dark:bg-zinc-800 dark:text-zinc-400"},cr={class:"flex items-center gap-3 rounded-lg bg-secondary/30 p-2.5 text-sm"},pr={class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-green-100 text-green-600 dark:bg-green-900/40 dark:text-green-400"},mr={class:"border-t border-border/40 bg-muted/20 p-6 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end"},gr={class:"relative h-36 w-full overflow-hidden bg-gradient-to-br from-purple-600 via-fuchsia-600 to-pink-600"},fr={class:"absolute bottom-6 left-6 flex items-center gap-4 z-10"},vr={class:"flex h-14 w-14 items-center justify-center rounded-2xl bg-white/10 border border-white/20 shadow-xl backdrop-blur-md"},br={class:"p-6 md:p-8 space-y-6"},hr={class:"space-y-4"},xr={class:"grid grid-cols-1 gap-3"},wr={class:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50 transition-colors"},kr={class:"h-8 w-8 rounded-full bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400 flex items-center justify-center shrink-0"},yr={class:"text-sm"},_r={class:"text-muted-foreground text-xs"},Cr={class:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50 transition-colors"},jr={class:"h-8 w-8 rounded-full bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400 flex items-center justify-center shrink-0"},Ar={class:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50 transition-colors"},Tr={class:"h-8 w-8 rounded-full bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400 flex items-center justify-center shrink-0"},Mr={class:"flex items-center gap-3 rounded-xl bg-purple-50/80 p-4 border border-purple-100 dark:bg-purple-900/10 dark:border-purple-800/30"},Gr={class:"border-t border-border/40 bg-muted/20 p-6 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end"},$r={class:"rounded-xl bg-orange-50 p-4 border border-orange-200"},Ir={class:"flex items-start gap-3"},to=Ve({__name:"Writing",props:{project:{},targetWordCount:{},estimatedChapters:{}},setup(Ce){const d=Ce,de=qe(),L=y("overview"),T=y(!1),x=y("progressive"),S=y(!1),p=y(d.project.mode);ve(()=>d.project.mode,a=>{p.value=a},{immediate:!0});const B=y(!1),C=y("auto"),F=y(!1),N=y(!1),je=()=>{w.visit(k("projects.analysis",{project:d.project.slug}))},{balance:Ae,showPurchaseModal:ue,requiredWordsForModal:Te,actionDescriptionForModal:Me,checkAndPrompt:Ge,closePurchaseModal:$e,estimates:Ie}=nt(),z=$(()=>d.project.facultyStructureChapters?.length||0||d.project.category?.default_chapter_count||d.estimatedChapters||d.project.chapters.length||1),Se=$(()=>{const a=z.value||1,e=d.targetWordCount||0,o=(d.project.facultyStructureChapters||[]).map(m=>m.target_word_count||0),n=o.length>0?Math.ceil(o.reduce((m,A)=>m+A,0)/o.length):0;return e?Math.ceil(e/a):n||2e3}),K=y(p.value==="auto");ve(p,a=>{K.value=a==="auto"},{immediate:!0});const ze=()=>{if(S.value)return;const a=p.value==="auto"?"manual":"auto";C.value=a,B.value=!0};console.log("ðŸ” INITIAL TOGGLE STATE:",{currentMode:p.value,isAutoMode:K.value,shouldBeChecked:p.value==="auto"});const ce=$(()=>d.project.chapters.reduce((a,e)=>a+e.word_count,0)),pe=$(()=>d.project.progress!==void 0?d.project.progress:Math.min(ce.value/d.targetWordCount*100,100)),me=$(()=>d.project.chapters.filter(a=>a.status!=="not_started"&&a.word_count>0).length),j=$(()=>{const a=z.value,e=d.project.chapters.find(m=>m.status==="not_started"||m.content===null||m.content===""||m.content===void 0);if(e)return e.chapter_number<=a?e.chapter_number:null;const o=Math.max(...d.project.chapters.map(m=>m.chapter_number),0),n=o+1;return console.log("nextChapterNumber debug (Writing page):",{maxAllowedChapters:a,categoryName:d.project.category?.name,maxChapterNumber:o,nextNumber:n,withinLimits:n<=a}),n<=a?n:null}),Ee=a=>{const e=a??j.value,o=e?d.project.chapters.find(A=>A.chapter_number===e):null;if(o?.target_word_count)return o.target_word_count;const n=e?(d.project.outlines||[]).find(A=>A.chapter_number===e):null;if(n?.target_word_count)return n.target_word_count;const m=e?(d.project.facultyStructureChapters||[]).find(A=>A.chapter_number===e):null;return m?.target_word_count?m.target_word_count:Se.value},M=$(()=>Math.max(...d.project.chapters.map(e=>e.chapter_number),0)<z.value&&j.value!==null),W=$(()=>{const a=d.project.chapters.filter(e=>e.content&&e.content.trim()!==""&&e.updated_at);return a.length===0?null:a.reduce((e,o)=>new Date(o.updated_at)>new Date(e.updated_at)?o:e)}),Pe=$(()=>{if(!W.value)return null;const a=new Date(W.value.updated_at),o=Math.floor((new Date().getTime()-a.getTime())/(1e3*60*60));return o<1?"Less than an hour ago":o<24?`${o} hours ago`:o<48?"Yesterday":`${Math.floor(o/24)} days ago`});be(()=>{L.value=p.value==="auto"?"ai-generation":"manual-writing"});const Le=(a,e)=>{const o=Ee(e),n=Ie.chapter(o);if(a==="bulk"){const m=Math.max(1,z.value-me.value);return n*m}return n},E=(a,e)=>{const o=Le(a,e);if(!Ge(o,a==="bulk"?"bulk-generate chapters":a==="progressive"?"stream the chapter with AI":"generate the chapter with AI"))return;if(a==="bulk"){F.value=!0;return}const m=e||j.value;if(!m){P("Chapter Limit Reached",{description:`You have reached the maximum number of chapters (${z.value}) for this project category.`});return}const A=d.project.chapters.find(Ne=>Ne.chapter_number===m);A&&A.content&&A.content.trim()!==""&&!confirm(`Chapter ${m} already has content. Do you want to regenerate it?`)||w.visit(k("chapters.write",{project:d.project.slug,chapter:m})+"?ai_generate=true&generation_type="+a)},We=a=>{w.visit(k("chapters.edit",{project:d.project.slug,chapter:a}))},Re=a=>{const e=d.project.chapters.find(n=>n.chapter_number===a),o=e?.content&&e.content.trim()!=="";if(d.project.mode==="manual"&&e){w.visit(k("projects.manual-editor.show",{project:d.project.slug,chapter:e.chapter_number}));return}o?w.visit(k("chapters.edit",{project:d.project.slug,chapter:a})):w.visit(k("chapters.write",{project:d.project.slug,chapter:a}))},V=a=>{if(console.log("ðŸš€ START CHAPTER CLICKED",{chapterNumber:a,projectMode:d.project.mode,projectSlug:d.project.slug}),d.project.mode==="manual"){console.log("ðŸ“ Manual mode detected, routing to manual editor...");const o=k("projects.manual-editor.show",{project:d.project.slug,chapter:a});console.log("âœ… Routing to manual editor:",o),w.visit(o);return}const e=k("chapters.write",{project:d.project.slug,chapter:a});console.log("ðŸ“„ Auto mode: Routing to chapters.write:",e),w.visit(e)},ge=a=>{switch(a){case"approved":return"bg-green-100 text-green-800 border-green-200";case"in_review":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"draft":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},De=a=>({1:"Introduction",2:"Literature Review",3:"Methodology",4:"Design and Implementation",5:"Results and Analysis",6:"Conclusion and Recommendations"})[a]||`Chapter ${a}`,Be=()=>{B.value=!1,Oe()},Fe=()=>{F.value=!1,w.visit(k("projects.bulk-generate",d.project.slug)+"?start=true")},Ue=()=>{N.value=!1;try{w.post(k("projects.go-back-to-topic-approval",d.project.slug),{},{onSuccess:()=>{P("Success",{description:"Returned to topic approval"})},onError:()=>{P("Error",{description:"Failed to go back. Please try again."})}})}catch{P("Error",{description:"Failed to go back. Please try again."})}},Oe=async()=>{const a=C.value,e={auto:"AI Assisted",manual:"Manual"};console.log("ðŸ”„ TOGGLE - Function called",{currentMode:p.value,newMode:a}),console.log("ðŸ”„ TOGGLE - Mode change",{from:p.value,to:a}),console.log("ðŸ”„ TOGGLE - User confirmed, starting request"),S.value=!0;try{const o=k("projects.update-mode",d.project.slug);console.log("ðŸ”„ TOGGLE - Route URL:",o),w.patch(o,{mode:a},{onSuccess:n=>{console.log("ðŸ”„ TOGGLE - Success response:",n),p.value=a;const m=n.props?.flash?.message||`Switched to ${e[a]} writing mode`;P("Success",{description:m}),L.value=a==="auto"?"ai-generation":"manual-writing",console.log("ðŸ”„ TOGGLE - UI Updated:",{newMode:a,currentMode:p.value,isAutoMode:K.value,activeTab:L.value})},onError:n=>{console.error("ðŸ”„ TOGGLE - Error response:",n),P("Error",{description:"Failed to switch writing mode. Please try again."})},onFinish:()=>{console.log("ðŸ”„ TOGGLE - Request finished"),S.value=!1}})}catch(o){console.error("ðŸ”„ TOGGLE - Exception:",o),P("Error",{description:"Failed to switch writing mode. Please try again."}),S.value=!1}},fe=()=>{Qe({showProgress:!0,animate:!0,steps:[{popover:{title:"Welcome to Your Writing Hub",description:"This is where you manage your project. Track progress, switch modes, and manage chapters all in one place.",popoverClass:"driver-popover-welcome"}},{element:"#mode-switcher",popover:{title:"AI Generated vs AI Assisted",description:"Toggle between AI Generated Mode (fully automated chapter generation) and AI Assisted Mode (manual writing with AI tools). You can switch anytime!"}},{element:"#continue-writing-card",popover:{title:"Resume Quickly",description:"Jump right back into your most recently edited chapter."}},{element:"#progress-overview",popover:{title:"Track Progress",description:"See your overall completion status, word counts, and chapter breakdowns at a glance."}},{element:"#action-cards",popover:{title:"Quick Actions",description:"Start a new chapter manually or let AI draft the next one for you."}},{element:"#chapter-tabs",popover:{title:"Chapter Management",description:'Use "Overview" to see all chapters. "AI Generation" offers Progressive (one chapter at a time) or Complete Project generation. "Edit Chapters" lets you start writing manually or generate an AI draft first.'}},{element:"#help-button",popover:{title:"Need Help?",description:"Click here anytime to restart this tour."}}]}).drive()},J=y(null),U=y(!1);return be(()=>{if(L.value=p.value==="auto"?"ai-generation":"manual-writing",d.project.id&&de.props.auth?.user?.email){const a=`writing_hub_tour_seen_${de.props.auth.user.email}`;localStorage.getItem(a)||setTimeout(()=>{fe(),localStorage.setItem(a,"true")},1e3)}"IntersectionObserver"in window&&J.value&&new IntersectionObserver(e=>{e.forEach(o=>{U.value=o.isIntersecting})},{rootMargin:"-40% 0px -40% 0px",threshold:0}).observe(J.value)}),(a,e)=>(u(),g(ot,{title:`Writing: ${a.project.title}`},{default:l(()=>[t("div",it,[t("div",dt,[e[22]||(e[22]=t("div",{class:"flex items-center gap-3"},null,-1)),t("div",ut,[r(s(v),{onClick:je,variant:"ghost",size:"sm",class:"gap-2"},{default:l(()=>[r(s(G),{class:"h-4 w-4 shrink-0"}),e[20]||(e[20]=t("span",{class:"hidden sm:inline"},"Analyze Chapters",-1))]),_:1}),r(s(v),{onClick:e[0]||(e[0]=o=>s(w).visit(s(k)("projects.edit",a.project.slug))),variant:"outline",size:"sm",class:"gap-2"},{default:l(()=>[r(s(_),{class:"h-4 w-4 shrink-0"}),e[21]||(e[21]=t("span",{class:"hidden sm:inline"},"Edit Project Details",-1))]),_:1}),r(s(v),{id:"help-button",variant:"ghost",size:"icon",onClick:fe,title:"Restart Tutorial"},{default:l(()=>[r(s(Ye),{class:"h-4 w-4"})]),_:1})])]),t("div",ct,[e[23]||(e[23]=t("div",{class:"absolute inset-0 bg-grid-primary/5 [mask-image:linear-gradient(0deg,transparent,black)]"},null,-1)),t("div",pt,[t("div",mt,[r(s(I),{variant:"secondary",class:"px-3 py-1 text-sm backdrop-blur-sm"},{default:l(()=>[i(c(a.project.type),1)]),_:1}),r(s(I),{variant:p.value==="auto"?"default":"outline",class:f(p.value==="auto"?"bg-blue-600 hover:bg-blue-700":"")},{default:l(()=>[(u(),g(Q(p.value==="auto"?s(G):s(_)),{class:"mr-1.5 h-3.5 w-3.5"})),i(" "+c(p.value==="auto"?"AI Assisted":"Manual Writing"),1)]),_:1},8,["variant","class"])]),r(at,{as:"h1",class:"max-w-4xl text-2xl font-bold tracking-tight text-foreground sm:text-3xl md:text-4xl bg-clip-text text-transparent bg-gradient-to-r from-foreground to-foreground/70",content:a.project.title},null,8,["content"]),t("div",gt,[(u(),b(R,null,Z(["auto","manual"],o=>t("button",{key:o,onClick:n=>o!==p.value&&ze(),class:f(["relative flex items-center justify-center gap-1.5 sm:gap-2 rounded-full px-3 py-2 sm:px-6 sm:py-2.5 text-xs sm:text-sm font-medium transition-all duration-300 whitespace-nowrap",p.value===o?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground hover:text-foreground hover:bg-muted/50"])},[(u(),g(Q(o==="auto"?s(G):s(_)),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})),i(" "+c(o==="auto"?"AI Generated":"AI Assisted"),1)],10,ft)),64))])])]),t("div",vt,[t("div",bt,[W.value?(u(),b("div",ht,[t("div",xt,[t("div",wt,[t("div",kt,[r(s(He),{class:"h-4 w-4"}),e[24]||(e[24]=t("span",{class:"text-sm font-medium"},"Continue where you left off",-1))]),t("h3",yt,c(W.value.title),1),t("div",_t,[t("span",Ct,[r(s(O),{class:"h-3.5 w-3.5"}),i(" "+c(Pe.value),1)]),t("span",jt,[r(s(X),{class:"h-3.5 w-3.5"}),i(" "+c(W.value.word_count.toLocaleString())+" words ",1)])])]),r(s(v),{onClick:e[1]||(e[1]=o=>V(W.value.chapter_number)),size:"lg",class:"shrink-0 bg-gradient-to-r from-amber-600 to-orange-600 text-white shadow-lg shadow-orange-500/20 transition-all hover:scale-105 hover:shadow-orange-500/30 hover:from-amber-700 hover:to-orange-700"},{default:l(()=>[r(s(he),{class:"mr-2 h-4 w-4 fill-current"}),e[25]||(e[25]=i(" Resume Writing ",-1))]),_:1})])])):h("",!0),t("div",At,[p.value==="auto"?(u(),b("button",{key:0,onClick:e[2]||(e[2]=o=>E("bulk")),ref_key:"bulkCardRef",ref:J,disabled:T.value||!M.value,class:f(["group relative w-full flex items-center justify-between gap-6 rounded-3xl border border-border/50 bg-card p-6 md:px-8 md:py-7 text-left shadow-sm transition-all hover:border-pink-500/30 hover:shadow-lg hover:shadow-pink-500/5 hover:-translate-y-0.5 overflow-hidden",{"border-pink-500/30 shadow-lg shadow-pink-500/5 -translate-y-0.5":U.value}])},[t("div",{class:f(["absolute inset-0 bg-gradient-to-r from-transparent via-transparent to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500",{"opacity-100":U.value}])},null,2),t("div",Mt,[t("div",Gt,[t("div",$t,[r(s(D),{class:"h-3.5 w-3.5"})]),e[26]||(e[26]=t("span",{class:"text-xs font-semibold tracking-wide text-pink-600 dark:text-pink-400 uppercase"},"Automated Workflow",-1))]),t("h3",{class:f(["text-lg md:text-xl font-semibold text-foreground group-hover:text-pink-600 transition-colors",{"text-pink-600":U.value}])}," Complete Project Generation",2),e[27]||(e[27]=t("p",{class:"text-muted-foreground max-w-2xl text-sm leading-relaxed"}," Finalyze will draft your entire project chapters in one seamless process, with citations and references included. ",-1))]),t("div",It,[t("div",{class:f(["flex h-12 w-12 items-center justify-center rounded-full border border-border/50 bg-background shadow-sm group-hover:border-pink-500/30 group-hover:text-pink-600 transition-all duration-300 group-hover:scale-110",{"border-pink-500/30 text-pink-600 scale-110":U.value}])},[r(s(q),{class:"h-5 w-5"})],2)])],10,Tt)):h("",!0),t("div",St,[t("button",{onClick:e[3]||(e[3]=o=>j.value?V(j.value):null),disabled:!M.value,class:"group relative flex flex-col items-start gap-4 rounded-2xl border border-border/50 bg-card p-5 text-left shadow-sm transition-all hover:border-primary/50 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed h-full min-h-[140px]"},[t("div",Et,[r(s(_),{class:"h-5 w-5"})]),t("div",Pt,[e[28]||(e[28]=t("h3",{class:"font-semibold text-sm sm:text-base"},"Start Writing",-1)),t("p",Lt,c(M.value?`Begin Chapter ${j.value} manually`:"All chapters created"),1)]),t("div",Wt,[e[29]||(e[29]=i(" Take the next step ",-1)),r(s(q),{class:"ml-1 h-3.5 w-3.5"})])],8,zt),t("button",{onClick:e[4]||(e[4]=o=>s(w).visit(s(k)("projects.defense",a.project.slug))),class:"group relative flex flex-col items-start gap-4 rounded-2xl border border-border/50 bg-card p-5 text-left shadow-sm transition-all hover:border-amber-500/50 hover:shadow-md h-full min-h-[140px]"},[t("div",Rt,[r(s(Ke),{class:"h-5 w-5"})]),t("div",Dt,[t("div",Bt,[e[31]||(e[31]=t("h3",{class:"font-semibold text-sm sm:text-base"},"Defense Preparation",-1)),r(s(I),{variant:"secondary",class:"text-[10px] bg-amber-500/10 text-amber-600 border-none"},{default:l(()=>[...e[30]||(e[30]=[i("NEW",-1)])]),_:1})]),e[32]||(e[32]=t("p",{class:"text-xs text-muted-foreground mt-1"}," Practice with AI examiners, master your presentation, and simulate your final defense. ",-1))]),t("div",Ft,[e[33]||(e[33]=i(" Enter Defense Mode ",-1)),r(s(q),{class:"ml-1 h-3.5 w-3.5"})])]),p.value==="auto"?(u(),b("button",{key:0,onClick:e[5]||(e[5]=o=>E("progressive")),disabled:T.value||!M.value,class:"group relative flex flex-col items-start gap-4 rounded-2xl border border-border/50 bg-card p-5 text-left shadow-sm transition-all hover:border-purple-500/50 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed h-full min-h-[140px]"},[t("div",Ot,[r(s(G),{class:"h-5 w-5"})]),t("div",Nt,[e[34]||(e[34]=t("h3",{class:"font-semibold text-sm sm:text-base"},"Generate Chapter",-1)),t("p",Vt,c(T.value?"Generating content...":"Let AI draft the next chapter"),1)]),t("div",qt,[e[35]||(e[35]=i(" Start generation ",-1)),r(s(q),{class:"ml-1 h-3.5 w-3.5"})])],8,Ut)):h("",!0),p.value==="manual"?(u(),b("div",Yt,[t("div",Ht,[t("div",Kt,[r(s(ee),{class:"h-4 w-4"})]),e[36]||(e[36]=t("h3",{class:"font-semibold text-sm"},"Manual Mode Active",-1))]),e[37]||(e[37]=t("p",{class:"text-sm text-muted-foreground"}," Switch to AI mode to enable generation features. ",-1))])):h("",!0)])]),r(s(st),{id:"chapter-tabs",modelValue:L.value,"onUpdate:modelValue":e[12]||(e[12]=o=>L.value=o),class:"space-y-8"},{default:l(()=>[r(s(rt),{class:"flex h-auto w-full flex-col items-stretch justify-center rounded-2xl bg-muted/30 p-1.5 text-muted-foreground md:inline-flex md:h-14 md:w-auto md:flex-row md:items-center md:rounded-full border border-border/40 backdrop-blur-sm"},{default:l(()=>[r(s(ne),{value:"overview",class:"rounded-xl px-8 py-2.5 text-sm font-medium transition-all duration-300 data-[state=active]:bg-gray-200 data-[state=active]:text-gray-900 dark:data-[state=active]:bg-neutral-800 dark:data-[state=active]:text-gray-50 data-[state=active]:shadow-sm md:rounded-full md:py-0"},{default:l(()=>[...e[38]||(e[38]=[i(" Overview ",-1)])]),_:1}),p.value==="auto"?(u(),g(s(ne),{key:0,value:"ai-generation",class:"rounded-xl px-8 py-2.5 text-sm font-medium transition-all duration-300 data-[state=active]:bg-gray-200 data-[state=active]:text-gray-900 dark:data-[state=active]:bg-neutral-800 dark:data-[state=active]:text-gray-50 data-[state=active]:shadow-sm md:rounded-full md:py-0"},{default:l(()=>[...e[39]||(e[39]=[i(" AI Generation ",-1)])]),_:1})):h("",!0),r(s(ne),{value:"manual-writing",class:"rounded-xl px-8 py-2.5 text-sm font-medium transition-all duration-300 data-[state=active]:bg-gray-200 data-[state=active]:text-gray-900 dark:data-[state=active]:bg-neutral-800 dark:data-[state=active]:text-gray-50 data-[state=active]:shadow-sm md:rounded-full md:py-0"},{default:l(()=>[i(c(p.value==="auto"?"Edit Chapters":"Manual Writing"),1)]),_:1})]),_:1}),r(s(ie),{value:"overview",class:"space-y-6"},{default:l(()=>[t("div",Jt,[(u(!0),b(R,null,Z(a.project.chapters,o=>(u(),g(s(Y),{key:o.id,class:"group overflow-hidden border border-border/50 shadow-sm transition-all hover:border-primary/20 hover:shadow-md"},{default:l(()=>[r(s(re),{class:"pb-3"},{default:l(()=>[t("div",Qt,[t("div",null,[r(s(oe),{class:"text-lg group-hover:text-primary transition-colors"},{default:l(()=>[i(c(o.title),1)]),_:2},1024),r(s(se),null,{default:l(()=>[i("Chapter "+c(o.chapter_number),1)]),_:2},1024)]),r(s(I),{class:f(ge(o.status)),variant:"outline"},{default:l(()=>[i(c(o.status.replace("_"," ")),1)]),_:2},1032,["class"])])]),_:2},1024),r(s(H),null,{default:l(()=>[t("div",Zt,[t("div",Xt,c(o.word_count.toLocaleString())+" words",1),t("div",es,[p.value==="auto"&&(!o.content||o.content.trim()==="")?(u(),g(s(v),{key:0,onClick:n=>E("progressive",o.chapter_number),size:"sm",class:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-sm"},{default:l(()=>[r(s(G),{class:"mr-1 h-4 w-4"}),e[40]||(e[40]=i(" Generate ",-1))]),_:2},1032,["onClick"])):h("",!0),o.content&&o.content.trim()!==""?(u(),g(s(v),{key:1,onClick:n=>We(o.chapter_number),size:"sm",variant:"outline",class:"hover:bg-muted"},{default:l(()=>[r(s(_),{class:"mr-1 h-4 w-4"}),e[41]||(e[41]=i(" Edit ",-1))]),_:2},1032,["onClick"])):p.value==="manual"||!p.value?(u(),g(s(v),{key:2,onClick:n=>V(o.chapter_number),size:"sm",variant:"default"},{default:l(()=>[r(s(_),{class:"mr-1 h-4 w-4"}),e[42]||(e[42]=i(" Start ",-1))]),_:2},1032,["onClick"])):(u(),g(s(I),{key:3,variant:"outline",class:"text-xs text-muted-foreground"},{default:l(()=>[...e[43]||(e[43]=[i(" Not Started ",-1)])]),_:1}))])])]),_:2},1024)]),_:2},1024))),128)),a.project.chapters.length===0?(u(),b("div",ts,[r(s(ee),{class:"mx-auto mb-4 h-12 w-12 text-muted-foreground/50"}),t("p",ss," No chapters created yet. "+c(p.value==="auto"?`Use AI generation to
                                        get started.`:"Create your first chapter manually."),1)])):h("",!0)])]),_:1}),p.value==="auto"?(u(),g(s(ie),{key:0,value:"ai-generation",class:"space-y-8"},{default:l(()=>[r(s(Y),{class:"border-border/40 bg-card/50 backdrop-blur-xl shadow-xl shadow-primary/5 overflow-hidden"},{default:l(()=>[r(s(re),{class:"border-b border-border/40 bg-muted/10 pb-8"},{default:l(()=>[t("div",rs,[t("div",os,[r(s(xe),{class:"h-6 w-6 text-yellow-600 dark:text-yellow-500"})]),t("div",as,[r(s(oe),{class:"text-xl font-bold tracking-tight"},{default:l(()=>[...e[44]||(e[44]=[i("AI Chapter Generation ",-1)])]),_:1}),r(s(se),{class:"text-base"},{default:l(()=>[...e[45]||(e[45]=[i("Choose how you'd like the AI to generate your academic chapters.",-1)])]),_:1})])])]),_:1}),r(s(H),{class:"p-8 space-y-8"},{default:l(()=>[t("div",ls,[e[50]||(e[50]=t("h4",{class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground"}," Generation Style",-1)),t("div",ns,[t("label",{class:f(["group relative flex cursor-pointer flex-col justify-between gap-6 rounded-3xl border-2 p-6 transition-all duration-300 hover:shadow-xl",x.value==="progressive"?"border-blue-500 bg-blue-50/50 shadow-blue-500/10 dark:bg-blue-950/10":"border-border/50 bg-card hover:border-blue-500/30 hover:bg-accent/5"])},[t("div",is,[t("div",ds,[r(s(X),{class:"h-6 w-6"})]),t("div",us,[t("div",{class:f(["h-5 w-5 rounded-full border-2 transition-colors",x.value==="progressive"?"border-blue-600":"border-muted-foreground/30"])},null,2),t("div",{class:f(["absolute h-2.5 w-2.5 rounded-full bg-blue-600 transition-transform duration-200",x.value==="progressive"?"scale-100":"scale-0"])},null,2),we(t("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=o=>x.value=o),value:"progressive",class:"sr-only"},null,512),[[ke,x.value]])])]),e[46]||(e[46]=t("div",null,[t("p",{class:"text-lg font-bold text-foreground group-hover:text-blue-600 transition-colors"}," Progressive Generation"),t("p",{class:"mt-2 text-sm text-muted-foreground leading-relaxed"}," Best for control. Generate one chapter at a time, review, and ensure each part aligns with your vision before moving forward. ")],-1))],2),t("label",{class:f(["group relative flex cursor-pointer flex-col justify-between gap-6 rounded-3xl border-2 p-6 transition-all duration-300 hover:shadow-xl overflow-hidden",x.value==="bulk"?"border-pink-500 bg-pink-50/50 shadow-pink-500/10 dark:bg-pink-950/10":"border-border/50 bg-card hover:border-pink-500/30 hover:bg-accent/5"])},[x.value==="bulk"?(u(),b("div",cs)):h("",!0),t("div",ps,[t("div",ms,[r(s(D),{class:"h-6 w-6"})]),t("div",gs,[t("div",{class:f(["h-5 w-5 rounded-full border-2 transition-colors",x.value==="bulk"?"border-pink-600":"border-muted-foreground/30"])},null,2),t("div",{class:f(["absolute h-2.5 w-2.5 rounded-full bg-pink-600 transition-transform duration-200",x.value==="bulk"?"scale-100":"scale-0"])},null,2),we(t("input",{type:"radio","onUpdate:modelValue":e[7]||(e[7]=o=>x.value=o),value:"bulk",class:"sr-only"},null,512),[[ke,x.value]])])]),t("div",fs,[t("div",vs,[e[48]||(e[48]=t("p",{class:"text-lg font-bold text-foreground group-hover:text-pink-600 transition-colors"}," Complete Project",-1)),r(s(I),{variant:"secondary",class:"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300 text-[10px] px-1.5 py-0 h-5"},{default:l(()=>[...e[47]||(e[47]=[i(" POPULAR",-1)])]),_:1})]),e[49]||(e[49]=t("p",{class:"mt-2 text-sm text-muted-foreground leading-relaxed"}," Fast-track your drafts. Generate the entire project structure, literature, and chapters in one automated workflow. ",-1))])],2)])]),t("div",bs,[x.value==="progressive"?(u(),b("div",hs,[r(s(v),{onClick:e[8]||(e[8]=o=>E("progressive")),disabled:T.value||!M.value,size:"lg",class:"w-full h-14 text-base font-semibold bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 text-white shadow-lg shadow-indigo-500/25 transition-all hover:scale-[1.01] hover:shadow-indigo-500/40"},{default:l(()=>[T.value?(u(),g(s(O),{key:1,class:"mr-2 h-5 w-5 animate-spin"})):(u(),g(s(he),{key:0,class:"mr-2 h-5 w-5 fill-current"})),i(" "+c(T.value?"Generating Chapter...":M.value?`Generate Chapter ${j.value}`:"Chapter Limit Reached"),1)]),_:1},8,["disabled"]),t("p",xs,[M.value?(u(),b("span",ws,[r(s(G),{class:"h-4 w-4 text-indigo-500"}),e[51]||(e[51]=i(" AI will generate Chapter ",-1)),t("span",ks,c(j.value),1),e[52]||(e[52]=i(" based on your topic and previous chapters. ",-1))])):(u(),b("span",ys,[r(s(te),{class:"h-4 w-4"}),i(" You have reached the maximum chapters ("+c(z.value)+") for this project category. ",1)]))])])):h("",!0),x.value==="bulk"?(u(),b("div",_s,[r(s(v),{onClick:e[9]||(e[9]=o=>E("bulk")),disabled:T.value,size:"lg",class:"w-full h-14 text-base font-semibold bg-gradient-to-r from-purple-600 via-pink-600 to-rose-600 hover:from-purple-700 hover:via-pink-700 hover:to-rose-700 text-white shadow-lg shadow-pink-500/25 transition-all hover:scale-[1.01] hover:shadow-pink-500/40"},{default:l(()=>[T.value?(u(),g(s(O),{key:1,class:"mr-2 h-5 w-5 animate-spin"})):(u(),g(s(xe),{key:0,class:"mr-2 h-5 w-5 fill-current"})),i(" "+c(T.value?"Generating Complete Project...":`Generate
                                                Complete Project`),1)]),_:1},8,["disabled"]),t("p",Cs,[r(s(D),{class:"h-4 w-4 text-pink-500"}),e[53]||(e[53]=i(" AI will collect literature, generate all chapters, and assemble the complete project. ",-1))])])):h("",!0)])]),_:1})]),_:1}),t("div",js,[t("div",As,[t("div",Ts,[r(s(G),{class:"h-5 w-5"})]),e[54]||(e[54]=t("div",{class:"space-y-2"},[t("h4",{class:"font-semibold text-blue-900 dark:text-blue-100"},"AI Generation Tips "),t("ul",{class:"grid gap-2 text-sm text-blue-800/80 dark:text-blue-200/70 sm:grid-cols-2"},[t("li",{class:"flex items-center gap-2"},[t("div",{class:"h-1.5 w-1.5 rounded-full bg-blue-500"}),i(" Progressive generation builds better context ")]),t("li",{class:"flex items-center gap-2"},[t("div",{class:"h-1.5 w-1.5 rounded-full bg-blue-500"}),i(" Bulk generation is faster but may need editing ")]),t("li",{class:"flex items-center gap-2"},[t("div",{class:"h-1.5 w-1.5 rounded-full bg-blue-500"}),i(" All AI content is fully editable ")]),t("li",{class:"flex items-center gap-2"},[t("div",{class:"h-1.5 w-1.5 rounded-full bg-blue-500"}),i(" Uses your approved topic & requirements ")])])],-1))])])]),_:1})):h("",!0),r(s(ie),{value:"manual-writing",class:"space-y-6"},{default:l(()=>[r(s(Y),{class:"border border-border/50 shadow-sm"},{default:l(()=>[r(s(re),null,{default:l(()=>[r(s(oe),{class:"flex items-center gap-2"},{default:l(()=>[r(s(_),{class:"h-5 w-5"}),e[55]||(e[55]=i(" Chapter Management ",-1))]),_:1}),r(s(se),null,{default:l(()=>[...e[56]||(e[56]=[i("Create and edit chapters using the full-featured writing editor. ",-1)])]),_:1})]),_:1}),r(s(H),{class:"space-y-4"},{default:l(()=>[t("div",Ms,[r(s(v),{onClick:e[10]||(e[10]=o=>j.value?V(j.value):null),disabled:!M.value,size:"lg",class:"flex-1"},{default:l(()=>[r(s(_),{class:"mr-2 h-5 w-5"}),i(" "+c(M.value?`Start Chapter ${j.value}`:"Chapter Limit Reached"),1)]),_:1},8,["disabled"]),p.value==="auto"?(u(),g(s(v),{key:0,onClick:e[11]||(e[11]=o=>E("single")),disabled:T.value||!M.value,size:"lg",variant:"outline",class:"flex-1"},{default:l(()=>[r(s(G),{class:"mr-2 h-5 w-5"}),e[57]||(e[57]=i(" AI Draft First ",-1))]),_:1},8,["disabled"])):h("",!0)]),t("p",Gs,c(p.value==="manual"?`Use the full-featured editor to write your
                                        chapters from scratch.`:`Write manually or generate an AI draft to edit
                                        and improve.`),1)]),_:1})]),_:1}),t("div",$s,[e[60]||(e[60]=t("h4",{class:"text-sm font-medium"},"Your Chapters",-1)),t("div",Is,[(u(!0),b(R,null,Z(a.estimatedChapters,o=>(u(),g(s(Y),{key:o,class:"group overflow-hidden border border-border/50 shadow-sm transition-all hover:border-primary/20 hover:shadow-md"},{default:l(()=>[r(s(H),{class:"p-4"},{default:l(()=>[t("div",Ss,[t("div",zs,[t("h5",Es,c(De(o)),1),t("p",Ps,"Chapter "+c(o),1),t("div",Ls,[a.project.chapters.find(n=>n.chapter_number===o&&n.content&&n.content.trim()!=="")?(u(),b(R,{key:0},[r(s(I),{class:f(ge(a.project.chapters.find(n=>n.chapter_number===o)?.status||"draft")),variant:"outline"},{default:l(()=>[i(c(a.project.chapters.find(n=>n.chapter_number===o)?.status.replace("_"," ")),1)]),_:2},1032,["class"]),t("span",Ws,c(a.project.chapters.find(n=>n.chapter_number===o)?.word_count.toLocaleString())+" words ",1)],64)):(u(),g(s(I),{key:1,variant:"outline",class:"bg-muted text-muted-foreground"},{default:l(()=>[...e[58]||(e[58]=[i("Not Started ",-1)])]),_:1}))])]),t("div",Rs,[p.value==="auto"&&!a.project.chapters.find(n=>n.chapter_number===o&&n.content&&n.content.trim()!=="")?(u(),g(s(v),{key:0,onClick:n=>E("progressive",o),size:"sm",class:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white"},{default:l(()=>[r(s(G),{class:"mr-1 h-4 w-4"}),e[59]||(e[59]=i(" Generate ",-1))]),_:2},1032,["onClick"])):h("",!0),r(s(v),{onClick:n=>Re(o),size:"sm",variant:a.project.chapters.find(n=>n.chapter_number===o&&n.content&&n.content.trim()!=="")?"outline":"default"},{default:l(()=>[r(s(_),{class:"mr-1 h-4 w-4"}),i(" "+c(a.project.chapters.find(n=>n.chapter_number===o&&n.content&&n.content.trim()!=="")?"Edit":"Start"),1)]),_:2},1032,["onClick","variant"])])])]),_:2},1024)]),_:2},1024))),128))])])]),_:1})]),_:1},8,["modelValue"])]),t("div",Ds,[t("div",Bs,[t("h3",Fs,[r(s(ye),{class:"h-5 w-5 text-primary"}),e[61]||(e[61]=i(" Project Progress ",-1))]),t("div",Us,[(u(),b("svg",Os,[e[62]||(e[62]=t("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor","stroke-width":"8",class:"text-muted/20"},null,-1)),t("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor","stroke-width":"8",class:"text-primary transition-all duration-1000 ease-out","stroke-dasharray":251.2,"stroke-dashoffset":251.2-251.2*pe.value/100,"stroke-linecap":"round"},null,8,Ns)])),t("div",Vs,[t("span",qs,c(Math.round(pe.value))+"%",1),e[63]||(e[63]=t("span",{class:"text-xs text-muted-foreground"},"Completed",-1))])]),t("div",Ys,[t("div",Hs,[e[64]||(e[64]=t("span",{class:"text-sm text-muted-foreground"},"Total Words",-1)),t("span",Ks,c(ce.value.toLocaleString()),1)]),t("div",Js,[e[65]||(e[65]=t("span",{class:"text-sm text-muted-foreground"},"Chapters Done",-1)),t("span",Qs,c(me.value)+" / "+c(a.estimatedChapters),1)])])])])]),r(s(ae),{open:B.value,"onUpdate:open":e[14]||(e[14]=o=>B.value=o)},{default:l(()=>[r(s(le),{class:"sm:max-w-[425px] border-border/50 bg-background/80 backdrop-blur-xl shadow-2xl p-0 overflow-hidden gap-0"},{default:l(()=>[t("div",{class:f(["relative h-32 w-full overflow-hidden bg-gradient-to-br",C.value==="auto"?"from-blue-600/20 via-indigo-500/10 to-transparent":"from-slate-500/20 via-zinc-500/10 to-transparent"])},[e[67]||(e[67]=t("div",{class:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,transparent,black)]"},null,-1)),t("div",Zs,[t("div",{class:f(["flex h-12 w-12 items-center justify-center rounded-xl border border-white/10 shadow-lg backdrop-blur-md",C.value==="auto"?"bg-blue-500/20 text-blue-500":"bg-zinc-500/20 text-zinc-500"])},[(u(),g(Q(C.value==="auto"?s(G):s(_)),{class:"h-6 w-6"}))],2),t("div",null,[t("h3",Xs,c(C.value==="auto"?"AI Assisted Mode":"Manual Writing Mode"),1),e[66]||(e[66]=t("p",{class:"text-xs text-muted-foreground"},"Switching writing experience",-1))])])],2),t("div",er,[t("div",{class:f(["rounded-xl border border-border/50 p-4",C.value==="auto"?"bg-blue-50/50 dark:bg-blue-950/10":"bg-zinc-50/50 dark:bg-zinc-900/10"])},[t("div",tr,[r(s(te),{class:f(["h-5 w-5 shrink-0 mt-0.5",C.value==="auto"?"text-blue-600":"text-zinc-600"])},null,8,["class"]),t("div",sr,[t("p",{class:f(["text-sm font-medium",C.value==="auto"?"text-blue-900 dark:text-blue-100":"text-zinc-900 dark:text-zinc-100"])}," Mode Translation ",2),e[68]||(e[68]=t("p",{class:"text-xs text-muted-foreground leading-relaxed"}," You are about to facilitate a mode switch. This will update your workspace tools and capabilities. ",-1))])])],2),t("div",rr,[e[73]||(e[73]=t("h4",{class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground"},"What changes",-1)),t("div",or,[C.value==="auto"?(u(),b(R,{key:0},[t("div",ar,[t("div",lr,[r(s(D),{class:"h-3.5 w-3.5"})]),e[69]||(e[69]=t("span",null,"AI Generation & Assistance enabled",-1))]),t("div",nr,[t("div",ir,[r(s(_e),{class:"h-3.5 w-3.5"})]),e[70]||(e[70]=t("span",null,"Existing content preserved",-1))])],64)):(u(),b(R,{key:1},[t("div",dr,[t("div",ur,[r(s(_),{class:"h-3.5 w-3.5"})]),e[71]||(e[71]=t("span",null,"Full manual control enabled",-1))]),t("div",cr,[t("div",pr,[r(s(_e),{class:"h-3.5 w-3.5"})]),e[72]||(e[72]=t("span",null,"Existing content preserved",-1))])],64))])])]),t("div",mr,[r(s(v),{onClick:e[13]||(e[13]=o=>B.value=!1),variant:"ghost",class:"w-full sm:w-auto hover:bg-transparent hover:underline"},{default:l(()=>[...e[74]||(e[74]=[i(" Cancel ",-1)])]),_:1}),r(s(v),{onClick:Be,disabled:S.value,class:f(["w-full sm:w-auto text-white shadow-md transition-all hover:scale-[1.02]",C.value==="auto"?"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700":"bg-zinc-900 dark:bg-zinc-100 dark:text-zinc-900 hover:bg-zinc-800"])},{default:l(()=>[S.value?(u(),g(s(O),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):h("",!0),i(" "+c(S.value?"Switching...":"Confirm Switch"),1)]),_:1},8,["disabled","class"])])]),_:1})]),_:1},8,["open"]),r(s(ae),{open:F.value,"onUpdate:open":e[16]||(e[16]=o=>F.value=o)},{default:l(()=>[r(s(le),{class:"sm:max-w-lg p-0 gap-0 border-border/50 bg-background/80 backdrop-blur-3xl overflow-hidden shadow-2xl rounded-3xl"},{default:l(()=>[t("div",gr,[e[76]||(e[76]=t("div",{class:"absolute inset-0 opacity-20 bg-[url('https://grainy-gradients.vercel.app/noise.svg')]"},null,-1)),e[77]||(e[77]=t("div",{class:"absolute inset-0 bg-grid-white/10 [mask-image:linear-gradient(0deg,transparent,black)]"},null,-1)),t("div",fr,[t("div",vr,[r(s(D),{class:"h-7 w-7 text-white"})]),e[75]||(e[75]=t("div",{class:"text-white"},[t("h3",{class:"text-xl font-bold tracking-tight text-white mb-0.5 shadow-sm"}," Complete Project "),t("p",{class:"text-xs font-medium text-white/80"},"AI Automated Workflow")],-1))])]),t("div",br,[e[83]||(e[83]=t("div",{class:"rounded-2xl border border-purple-100 bg-purple-50/50 p-5 dark:border-purple-900/30 dark:bg-purple-950/10"},[t("p",{class:"text-sm text-purple-900 dark:text-purple-100 leading-relaxed font-medium"},' "This will kickstart a comprehensive generation process. The AI will research, draft, and format your entire project based on the approved topic." ')],-1)),t("div",hr,[e[81]||(e[81]=t("h4",{class:"text-xs font-bold uppercase tracking-wider text-muted-foreground/70"},"Generation Components ",-1)),t("div",xr,[t("div",wr,[t("div",kr,[r(s(ee),{class:"h-4 w-4"})]),t("div",yr,[e[78]||(e[78]=t("span",{class:"font-semibold text-foreground block"},"Full Chapter Generation",-1)),t("span",_r,"Drafting sections 1-"+c(z.value)+" with context.",1)])]),t("div",Cr,[t("div",jr,[r(s(X),{class:"h-4 w-4"})]),e[79]||(e[79]=t("div",{class:"text-sm"},[t("span",{class:"font-semibold text-foreground block"},"Literature Integration"),t("span",{class:"text-muted-foreground text-xs"},"Finding and citing relevant academic sources.")],-1))]),t("div",Ar,[t("div",Tr,[r(s(_),{class:"h-4 w-4"})]),e[80]||(e[80]=t("div",{class:"text-sm"},[t("span",{class:"font-semibold text-foreground block"},"Formatting & Appendices"),t("span",{class:"text-muted-foreground text-xs"},"Structuring preliminary pages and references.")],-1))])])]),t("div",Mr,[r(s(O),{class:"h-5 w-5 text-purple-600 dark:text-purple-400 shrink-0"}),e[82]||(e[82]=t("div",{class:"text-sm"},[t("p",{class:"font-semibold text-purple-900 dark:text-purple-200"},"Estimated Duration"),t("p",{class:"text-purple-700/80 dark:text-purple-300/80 text-xs"},"Approximately 15-20 minutes to complete.")],-1))])]),t("div",Gr,[r(s(v),{onClick:e[15]||(e[15]=o=>F.value=!1),variant:"ghost",class:"w-full sm:w-auto hover:bg-transparent hover:underline"},{default:l(()=>[...e[84]||(e[84]=[i(" Cancel ",-1)])]),_:1}),r(s(v),{onClick:Fe,class:"w-full sm:w-auto h-11 px-8 rounded-xl bg-gradient-to-r from-purple-600 via-fuchsia-600 to-pink-600 text-white shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 hover:scale-[1.02] transition-all font-semibold"},{default:l(()=>[r(s(D),{class:"mr-2 h-4 w-4"}),e[85]||(e[85]=i(" Start Generation ",-1))]),_:1})])]),_:1})]),_:1},8,["open"]),r(s(ae),{open:N.value,"onUpdate:open":e[18]||(e[18]=o=>N.value=o)},{default:l(()=>[r(s(le),{class:"sm:max-w-md"},{default:l(()=>[r(s(et),null,{default:l(()=>[r(s(tt),{class:"flex items-center gap-2 text-destructive"},{default:l(()=>[r(s(te),{class:"h-5 w-5"}),e[86]||(e[86]=i(" Return to Topic Approval ",-1))]),_:1}),r(s(Ze),{class:"space-y-4 pt-2 text-left"},{default:l(()=>[t("div",$r,[t("div",Ir,[r(s(ye),{class:"h-5 w-5 text-orange-600 mt-0.5 flex-shrink-0"}),e[87]||(e[87]=t("div",{class:"space-y-1"},[t("p",{class:"font-semibold text-orange-900"},"Warning: Progress Reset"),t("p",{class:"text-sm text-orange-800/80"}," This will reset your writing progress and return you to the topic approval stage. All chapter content will be preserved, but you'll need to re-approve your topic. ")],-1))])]),e[88]||(e[88]=t("p",{class:"text-sm font-medium text-foreground"},"Are you sure you want to continue? ",-1))]),_:1})]),_:1}),r(s(Xe),{class:"flex-col gap-2 sm:flex-row"},{default:l(()=>[r(s(v),{onClick:e[17]||(e[17]=o=>N.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>[...e[89]||(e[89]=[i(" Cancel ",-1)])]),_:1}),r(s(v),{onClick:Ue,variant:"destructive",class:"w-full sm:w-auto"},{default:l(()=>[r(s(Je),{class:"mr-2 h-4 w-4"}),e[90]||(e[90]=i(" Reset Progress ",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),r(lt,{open:s(ue),"current-balance":s(Ae),"required-words":s(Te),action:s(Me),"onUpdate:open":e[19]||(e[19]=o=>ue.value=o),onClose:s($e)},null,8,["open","current-balance","required-words","action","onClose"])])]),_:1},8,["title"]))}});export{to as default};
