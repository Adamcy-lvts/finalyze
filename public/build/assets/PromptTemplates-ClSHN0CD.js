import{bt as Z,dU as de,cn as C,co as d,cp as l,cq as o,bE as e,cr as a,dV as pe,cs as n,dk as ue,dW as me,ce as ee,cl as S,bx as x,dX as B,ch as ce,ck as $,bs as T,dG as j,bu as _e,cG as _,cL as L,ct as p,dN as fe,cw as U,cB as u,cS as E,df as J,e5 as O,dw as M}from"./vendor-DwcF3VNb.js";import{_ as ye}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Cjul3uBB.js";import{_ as xe}from"./DataTable.vue_vue_type_script_setup_true_lang-DNvUOLdH.js";import{_ as P}from"./index-BU6y8D-V.js";import{_ as te}from"./Switch.vue_vue_type_script_setup_true_lang-1_DMAlPr.js";import{_ as V}from"./index-BpTO5Kag.js";import{_ as ve,a as ge,b as be,c as I,d as ke,e as Ve}from"./Sonner.vue_vue_type_script_setup_true_lang-kLZ_SglN.js";import{_ as he,a as we}from"./CardContent.vue_vue_type_script_setup_true_lang-ByVWGonT.js";import{_ as qe}from"./CardDescription.vue_vue_type_script_setup_true_lang-DCwZv7vk.js";import{_ as $e,a as Ce}from"./CardTitle.vue_vue_type_script_setup_true_lang-CANz9L_6.js";import{_ as F}from"./Input.vue_vue_type_script_setup_true_lang-CQe6L5n4.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-BCx0cnBe.js";import{_ as g}from"./Textarea.vue_vue_type_script_setup_true_lang-CLVewTca.js";import{_ as Se,a as Ue}from"./index-cXKiD0GD.js";import{_ as Oe}from"./AlertTitle.vue_vue_type_script_setup_true_lang-D6lURlAb.js";import{_ as z,a as K}from"./DialogContent.vue_vue_type_script_setup_true_lang-DTGeh0zi.js";import{_ as G}from"./DialogDescription.vue_vue_type_script_setup_true_lang-DJcKnsJu.js";import{_ as W,a as X}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CCtpPhJI.js";import{_ as Ne,a as H,b as Q,c as Y}from"./AccordionTrigger.vue_vue_type_script_setup_true_lang-IUuPmHxw.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-CpzsT-yS.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-C_drGNy-.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-CoHpN3ea.js";const Te=Z({__name:"PromptTemplateActions",props:{template:{}},setup(c){const m=c,w=de("onEditPromptTemplate"),h=()=>{const b=`${m.template.context_type}:${m.template.context_value}`;confirm(`Delete template ${b}? This cannot be undone.`)&&ee.delete(S("admin.system.prompt-templates.destroy",{template:m.template.id}),{preserveScroll:!0})};return(b,y)=>(d(),C(e(Ve),null,{default:l(()=>[o(e(ve),{"as-child":""},{default:l(()=>[o(e(V),{variant:"ghost",class:"h-8 w-8 p-0"},{default:l(()=>[y[1]||(y[1]=a("span",{class:"sr-only"},"Open menu",-1)),o(e(pe),{class:"h-4 w-4"})]),_:1})]),_:1}),o(e(ge),{align:"end"},{default:l(()=>[o(e(be),null,{default:l(()=>[...y[2]||(y[2]=[n("Actions",-1)])]),_:1}),o(e(I),{onClick:y[0]||(y[0]=q=>e(w)?.(m.template))},{default:l(()=>[o(e(ue),{class:"mr-2 h-4 w-4"}),y[3]||(y[3]=n(" Edit ",-1))]),_:1}),o(e(ke)),o(e(I),{onClick:h,class:"text-rose-600 focus:text-rose-600 focus:bg-rose-50"},{default:l(()=>[o(e(me),{class:"mr-2 h-4 w-4"}),y[4]||(y[4]=n(" Delete ",-1))]),_:1})]),_:1})]),_:1}))}}),Ee=(c,m)=>{ee.put(S("admin.system.prompt-templates.toggle-active",{template:c.id}),{is_active:m},{preserveScroll:!0})},Je=[{accessorKey:"context_value",header:({column:c})=>x(V,{variant:"ghost",class:"-ml-2 text-xs hover:bg-muted/50",onClick:()=>c.toggleSorting(c.getIsSorted()==="asc")},()=>["Context",x(B,{class:"ml-2 h-3 w-3"})]),cell:({row:c})=>{const m=c.original;return x("div",{class:"flex flex-col gap-1"},[x("div",{class:"flex items-center gap-2"},[x(P,{variant:"outline",class:"capitalize"},()=>m.context_type.replace(/_/g," ")),x("span",{class:"font-medium"},m.context_value)]),m.chapter_type?x("span",{class:"text-xs text-muted-foreground"},`Chapter: ${m.chapter_type}`):x("span",{class:"text-xs text-muted-foreground"},"Chapter: any")])}},{accessorKey:"priority",header:({column:c})=>x(V,{variant:"ghost",class:"-ml-2 text-xs hover:bg-muted/50",onClick:()=>c.toggleSorting(c.getIsSorted()==="asc")},()=>["Priority",x(B,{class:"ml-2 h-3 w-3"})]),cell:({row:c})=>c.getValue("priority")},{id:"overrides",header:"Overrides",cell:({row:c})=>{const m=c.original,w=!!(m.system_prompt&&m.system_prompt.trim()),h=!!(m.chapter_prompt_template&&m.chapter_prompt_template.trim());return x("div",{class:"flex items-center gap-2"},[x(P,{variant:w?"default":"outline"},()=>`System: ${w?"yes":"no"}`),x(P,{variant:h?"default":"outline"},()=>`User: ${h?"yes":"no"}`)])}},{accessorKey:"is_active",header:"Active",cell:({row:c})=>x(te,{checked:c.original.is_active,"onUpdate:checked":m=>Ee(c.original,m)})},{id:"actions",cell:({row:c})=>x(Te,{template:c.original})}],Pe={class:"flex items-center gap-2"},Fe={class:"grid gap-4 py-4"},Ae={class:"grid gap-4 md:grid-cols-2"},De={class:"space-y-1"},Re=["value"],Be={key:0,class:"text-xs text-rose-500"},je={class:"space-y-1"},Le={key:0,class:"text-xs text-rose-500"},Me={class:"grid gap-4 md:grid-cols-3"},Ie={class:"space-y-1"},ze={key:0,class:"text-xs text-rose-500"},Ke={class:"space-y-1"},Ge={key:0,class:"text-xs text-rose-500"},We={class:"flex items-center justify-between rounded-md border border-border/70 bg-muted/30 px-3 py-2 text-sm"},Xe={class:"space-y-1"},He=["value"],Qe={key:0,class:"text-xs text-rose-500"},Ye={class:"space-y-1"},Ze={key:0,class:"text-xs text-rose-500"},et={class:"space-y-1"},tt={key:0,class:"text-xs text-rose-500"},st={class:"grid gap-4 md:grid-cols-2"},ot={class:"space-y-1"},rt={key:0,class:"text-xs text-rose-500"},lt={class:"space-y-1"},at={key:0,class:"text-xs text-rose-500"},nt={class:"grid gap-4 md:grid-cols-2"},it={class:"space-y-1"},dt={key:0,class:"text-xs text-rose-500"},pt={class:"space-y-1"},ut={key:0,class:"text-xs text-rose-500"},mt={class:"grid gap-4 md:grid-cols-2"},ct={class:"space-y-1"},_t={key:0,class:"text-xs text-rose-500"},ft={class:"space-y-1"},yt={key:0,class:"text-xs text-rose-500"},xt={class:"grid gap-4 md:grid-cols-2"},vt={class:"space-y-1"},gt={key:0,class:"text-xs text-rose-500"},bt={class:"space-y-1"},kt={key:0,class:"text-xs text-rose-500"},Vt={class:"space-y-1"},ht={key:0,class:"text-xs text-rose-500"},wt={class:"flex justify-end gap-2"},qt={class:"grid gap-4 py-4"},$t={class:"space-y-1"},Ct=["value"],St={key:0,class:"text-xs text-rose-500"},Ut={class:"space-y-1"},Ot={key:0,class:"text-xs text-rose-500"},Nt={class:"flex justify-end gap-2"},Tt="{{topic}}, {{faculty}}, {{department}}, {{course}}, {{field_of_study}}, {{academic_level}}, {{university}}, {{chapter_number}}",ss=Z({__name:"PromptTemplates",props:{templates:{},contextTypes:{},facultyOptions:{}},setup(c){const m=c,w=ce(),h=$(()=>w.props.flash),b=T(null),y=T(!1),q=T(!1),A=$(()=>m.templates??[]),se=$(()=>m.contextTypes??[]),oe=$(()=>m.facultyOptions??[]),re=$(()=>A.value.filter(i=>i.id!==b.value)),D=()=>({context_type:"faculty",context_value:"",chapter_type:"",parent_template_id:"",priority:0,is_active:!0,system_prompt:"",chapter_prompt_template:"",table_requirements:"",diagram_requirements:"",calculation_requirements:"",code_requirements:"",placeholder_rules:"",recommended_tools:"",mock_data_config:"",citation_requirements:"",formatting_rules:""}),s=j({...D()}),v=j({faculty:m.facultyOptions?.[0]||"engineering",chapter_type:"all"}),N=$(()=>b.value!==null),R=()=>{b.value=null,s.clearErrors(),Object.assign(s,D())},k=i=>{if(i==null)return"";if(typeof i=="string")return i;try{return JSON.stringify(i,null,2)}catch{return""}},le=()=>{R(),y.value=!0},ae=()=>{v.clearErrors(),q.value=!0};_e("onEditPromptTemplate",i=>{b.value=i.id,s.clearErrors(),s.context_type=i.context_type??"faculty",s.context_value=i.context_value??"",s.chapter_type=i.chapter_type??"",s.parent_template_id=i.parent_template_id?String(i.parent_template_id):"",s.priority=Number(i.priority??0),s.is_active=!!i.is_active,s.system_prompt=i.system_prompt??"",s.chapter_prompt_template=i.chapter_prompt_template??"",s.table_requirements=k(i.table_requirements),s.diagram_requirements=k(i.diagram_requirements),s.calculation_requirements=k(i.calculation_requirements),s.code_requirements=k(i.code_requirements),s.placeholder_rules=k(i.placeholder_rules),s.recommended_tools=k(i.recommended_tools),s.mock_data_config=k(i.mock_data_config),s.citation_requirements=k(i.citation_requirements),s.formatting_rules=k(i.formatting_rules),y.value=!0});const ne=()=>{s.clearErrors(),s.transform(t=>({...t,priority:Number(t.priority??0),chapter_type:t.chapter_type?String(t.chapter_type):null,parent_template_id:t.parent_template_id?Number(t.parent_template_id):null,is_active:!!t.is_active}));const i={preserveScroll:!0,onSuccess:()=>{y.value=!1,R()}};N.value&&b.value?s.put(S("admin.system.prompt-templates.update",{template:b.value}),i):s.post(S("admin.system.prompt-templates.store"),i)},ie=()=>{v.clearErrors(),v.post(S("admin.system.prompt-templates.seed-from-code"),{preserveScroll:!0,onSuccess:()=>{q.value=!1}})};return(i,t)=>(d(),C(ye,{title:"Prompt Templates",subtitle:"Override chapter system/user prompts without changing code."},{default:l(()=>[h.value?.success?(d(),C(e(Se),{key:0,class:"mb-6 border border-emerald-500/40 bg-emerald-500/10"},{default:l(()=>[o(e(L),{class:"h-4 w-4 text-emerald-500"}),o(e(Oe),null,{default:l(()=>[...t[23]||(t[23]=[n("Saved",-1)])]),_:1}),o(e(Ue),null,{default:l(()=>[n(p(h.value.success),1)]),_:1})]),_:1})):_("",!0),o(e(he),{class:"border border-border/50 bg-card shadow-sm"},{default:l(()=>[o(e($e),{class:"flex flex-row items-center justify-between pb-3"},{default:l(()=>[a("div",null,[o(e(Ce),{class:"text-base font-semibold text-foreground"},{default:l(()=>[...t[24]||(t[24]=[n("Templates",-1)])]),_:1}),o(e(qe),null,{default:l(()=>[...t[25]||(t[25]=[n(" Active templates override code templates when a matching context is found. ",-1)])]),_:1})]),a("div",Pe,[o(e(V),{variant:"outline",size:"sm",onClick:ae},{default:l(()=>[o(e(L),{class:"mr-2 h-4 w-4"}),t[26]||(t[26]=n(" Create From Code ",-1))]),_:1}),o(e(V),{size:"sm",onClick:le},{default:l(()=>[o(e(fe),{class:"mr-2 h-4 w-4"}),t[27]||(t[27]=n(" Add Template ",-1))]),_:1})])]),_:1}),o(e(we),null,{default:l(()=>[o(xe,{columns:e(Je),data:A.value,"search-key":"context_value","search-placeholder":"Filter templates..."},null,8,["columns","data"])]),_:1})]),_:1}),o(e(z),{open:y.value,"onUpdate:open":t[18]||(t[18]=r=>y.value=r)},{default:l(()=>[o(e(K),{class:"sm:max-w-[900px] max-h-[90vh] overflow-y-auto"},{default:l(()=>[o(e(W),null,{default:l(()=>[o(e(X),null,{default:l(()=>[n(p(N.value?"Edit template":"Create template"),1)]),_:1}),o(e(G),null,{default:l(()=>[...t[28]||(t[28]=[n(" Edit system and user prompt overrides, plus optional requirement JSON. ",-1)])]),_:1})]),_:1}),a("div",Fe,[a("div",Ae,[a("div",De,[o(e(f),null,{default:l(()=>[...t[29]||(t[29]=[n("Context Type",-1)])]),_:1}),U(a("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>e(s).context_type=r),class:"h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},[(d(!0),u(E,null,J(se.value,r=>(d(),u("option",{key:r,value:r},p(r.replace(/_/g," ")),9,Re))),128))],512),[[O,e(s).context_type]]),e(s).errors.context_type?(d(),u("p",Be,p(e(s).errors.context_type),1)):_("",!0)]),a("div",je,[o(e(f),null,{default:l(()=>[...t[30]||(t[30]=[n("Context Value",-1)])]),_:1}),o(e(F),{modelValue:e(s).context_value,"onUpdate:modelValue":t[1]||(t[1]=r=>e(s).context_value=r),placeholder:"engineering / computer_science / etc"},null,8,["modelValue"]),e(s).errors.context_value?(d(),u("p",Le,p(e(s).errors.context_value),1)):_("",!0)])]),a("div",Me,[a("div",Ie,[o(e(f),null,{default:l(()=>[...t[31]||(t[31]=[n("Chapter Type (optional)",-1)])]),_:1}),o(e(F),{modelValue:e(s).chapter_type,"onUpdate:modelValue":t[2]||(t[2]=r=>e(s).chapter_type=r),placeholder:"introduction / methodology / ..."},null,8,["modelValue"]),e(s).errors.chapter_type?(d(),u("p",ze,p(e(s).errors.chapter_type),1)):_("",!0)]),a("div",Ke,[o(e(f),null,{default:l(()=>[...t[32]||(t[32]=[n("Priority",-1)])]),_:1}),o(e(F),{modelValue:e(s).priority,"onUpdate:modelValue":t[3]||(t[3]=r=>e(s).priority=r),type:"number",min:"0",max:"1000"},null,8,["modelValue"]),e(s).errors.priority?(d(),u("p",Ge,p(e(s).errors.priority),1)):_("",!0)]),a("label",We,[t[33]||(t[33]=a("span",{class:"text-foreground"},"Active",-1)),o(e(te),{checked:e(s).is_active,"onUpdate:checked":t[4]||(t[4]=r=>e(s).is_active=r)},null,8,["checked"])])]),a("div",Xe,[o(e(f),null,{default:l(()=>[...t[34]||(t[34]=[n("Parent Template (optional)",-1)])]),_:1}),U(a("select",{"onUpdate:modelValue":t[5]||(t[5]=r=>e(s).parent_template_id=r),class:"h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},[t[35]||(t[35]=a("option",{value:""},"None",-1)),(d(!0),u(E,null,J(re.value,r=>(d(),u("option",{key:r.id,value:String(r.id)}," #"+p(r.id)+" · "+p(r.context_type)+":"+p(r.context_value)+p(r.chapter_type?` · ${r.chapter_type}`:""),9,He))),128))],512),[[O,e(s).parent_template_id]]),e(s).errors.parent_template_id?(d(),u("p",Qe,p(e(s).errors.parent_template_id),1)):_("",!0),t[36]||(t[36]=a("p",{class:"text-xs text-muted-foreground"}," Note: inheritance/merging is currently limited; parent is primarily for future use. ",-1))]),a("div",Ye,[o(e(f),null,{default:l(()=>[...t[37]||(t[37]=[n("System Prompt Override (optional)",-1)])]),_:1}),o(e(g),{modelValue:e(s).system_prompt,"onUpdate:modelValue":t[6]||(t[6]=r=>e(s).system_prompt=r),rows:"8",class:"font-mono text-sm",placeholder:"Leave empty to use the code template system prompt."},null,8,["modelValue"]),e(s).errors.system_prompt?(d(),u("p",Ze,p(e(s).errors.system_prompt),1)):_("",!0)]),a("div",et,[o(e(f),null,{default:l(()=>[...t[38]||(t[38]=[n("User Prompt Override (chapter prompt template) (optional)",-1)])]),_:1}),o(e(g),{modelValue:e(s).chapter_prompt_template,"onUpdate:modelValue":t[7]||(t[7]=r=>e(s).chapter_prompt_template=r),rows:"10",class:"font-mono text-sm",placeholder:"Leave empty to use the code template chapter prompt."},null,8,["modelValue"]),e(s).errors.chapter_prompt_template?(d(),u("p",tt,p(e(s).errors.chapter_prompt_template),1)):_("",!0),a("p",{class:"text-xs text-muted-foreground"},[t[39]||(t[39]=n(" Supported variables: ",-1)),a("span",{class:"font-mono"},p(Tt))])]),o(e(Ne),{type:"multiple",class:"w-full"},{default:l(()=>[o(e(H),{value:"requirements"},{default:l(()=>[o(e(Q),null,{default:l(()=>[...t[40]||(t[40]=[n("Requirements JSON (optional)",-1)])]),_:1}),o(e(Y),{class:"space-y-4"},{default:l(()=>[a("div",st,[a("div",ot,[o(e(f),null,{default:l(()=>[...t[41]||(t[41]=[n("Table Requirements (JSON)",-1)])]),_:1}),o(e(g),{modelValue:e(s).table_requirements,"onUpdate:modelValue":t[8]||(t[8]=r=>e(s).table_requirements=r),rows:"6",class:"font-mono text-sm",placeholder:"[] or { ... }"},null,8,["modelValue"]),e(s).errors.table_requirements?(d(),u("p",rt,p(e(s).errors.table_requirements),1)):_("",!0)]),a("div",lt,[o(e(f),null,{default:l(()=>[...t[42]||(t[42]=[n("Diagram Requirements (JSON)",-1)])]),_:1}),o(e(g),{modelValue:e(s).diagram_requirements,"onUpdate:modelValue":t[9]||(t[9]=r=>e(s).diagram_requirements=r),rows:"6",class:"font-mono text-sm",placeholder:"[] or { ... }"},null,8,["modelValue"]),e(s).errors.diagram_requirements?(d(),u("p",at,p(e(s).errors.diagram_requirements),1)):_("",!0)])]),a("div",nt,[a("div",it,[o(e(f),null,{default:l(()=>[...t[43]||(t[43]=[n("Calculation Requirements (JSON)",-1)])]),_:1}),o(e(g),{modelValue:e(s).calculation_requirements,"onUpdate:modelValue":t[10]||(t[10]=r=>e(s).calculation_requirements=r),rows:"6",class:"font-mono text-sm",placeholder:"[] or { ... }"},null,8,["modelValue"]),e(s).errors.calculation_requirements?(d(),u("p",dt,p(e(s).errors.calculation_requirements),1)):_("",!0)]),a("div",pt,[o(e(f),null,{default:l(()=>[...t[44]||(t[44]=[n("Code Requirements (JSON)",-1)])]),_:1}),o(e(g),{modelValue:e(s).code_requirements,"onUpdate:modelValue":t[11]||(t[11]=r=>e(s).code_requirements=r),rows:"6",class:"font-mono text-sm",placeholder:"[] or { ... }"},null,8,["modelValue"]),e(s).errors.code_requirements?(d(),u("p",ut,p(e(s).errors.code_requirements),1)):_("",!0)])]),a("div",mt,[a("div",ct,[o(e(f),null,{default:l(()=>[...t[45]||(t[45]=[n("Placeholder Rules (JSON)",-1)])]),_:1}),o(e(g),{modelValue:e(s).placeholder_rules,"onUpdate:modelValue":t[12]||(t[12]=r=>e(s).placeholder_rules=r),rows:"6",class:"font-mono text-sm",placeholder:"[] or { ... }"},null,8,["modelValue"]),e(s).errors.placeholder_rules?(d(),u("p",_t,p(e(s).errors.placeholder_rules),1)):_("",!0)]),a("div",ft,[o(e(f),null,{default:l(()=>[...t[46]||(t[46]=[n("Recommended Tools (JSON)",-1)])]),_:1}),o(e(g),{modelValue:e(s).recommended_tools,"onUpdate:modelValue":t[13]||(t[13]=r=>e(s).recommended_tools=r),rows:"6",class:"font-mono text-sm",placeholder:"[] or { ... }"},null,8,["modelValue"]),e(s).errors.recommended_tools?(d(),u("p",yt,p(e(s).errors.recommended_tools),1)):_("",!0)])])]),_:1})]),_:1}),o(e(H),{value:"extras"},{default:l(()=>[o(e(Q),null,{default:l(()=>[...t[47]||(t[47]=[n("Extra JSON (optional)",-1)])]),_:1}),o(e(Y),{class:"space-y-4"},{default:l(()=>[a("div",xt,[a("div",vt,[o(e(f),null,{default:l(()=>[...t[48]||(t[48]=[n("Mock Data Config (JSON)",-1)])]),_:1}),o(e(g),{modelValue:e(s).mock_data_config,"onUpdate:modelValue":t[14]||(t[14]=r=>e(s).mock_data_config=r),rows:"6",class:"font-mono text-sm",placeholder:"{}"},null,8,["modelValue"]),e(s).errors.mock_data_config?(d(),u("p",gt,p(e(s).errors.mock_data_config),1)):_("",!0)]),a("div",bt,[o(e(f),null,{default:l(()=>[...t[49]||(t[49]=[n("Citation Requirements (JSON)",-1)])]),_:1}),o(e(g),{modelValue:e(s).citation_requirements,"onUpdate:modelValue":t[15]||(t[15]=r=>e(s).citation_requirements=r),rows:"6",class:"font-mono text-sm",placeholder:"{}"},null,8,["modelValue"]),e(s).errors.citation_requirements?(d(),u("p",kt,p(e(s).errors.citation_requirements),1)):_("",!0)])]),a("div",Vt,[o(e(f),null,{default:l(()=>[...t[50]||(t[50]=[n("Formatting Rules (JSON)",-1)])]),_:1}),o(e(g),{modelValue:e(s).formatting_rules,"onUpdate:modelValue":t[16]||(t[16]=r=>e(s).formatting_rules=r),rows:"6",class:"font-mono text-sm",placeholder:"{}"},null,8,["modelValue"]),e(s).errors.formatting_rules?(d(),u("p",ht,p(e(s).errors.formatting_rules),1)):_("",!0)])]),_:1})]),_:1})]),_:1})]),a("div",wt,[o(e(V),{variant:"ghost",onClick:t[17]||(t[17]=r=>y.value=!1)},{default:l(()=>[...t[51]||(t[51]=[n("Cancel",-1)])]),_:1}),o(e(V),{disabled:e(s).processing,onClick:ne},{default:l(()=>[e(s).processing?(d(),C(e(M),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):_("",!0),a("span",null,p(N.value?"Update template":"Add template"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["open"]),o(e(z),{open:q.value,"onUpdate:open":t[22]||(t[22]=r=>q.value=r)},{default:l(()=>[o(e(K),{class:"sm:max-w-[520px]"},{default:l(()=>[o(e(W),null,{default:l(()=>[o(e(X),null,{default:l(()=>[...t[52]||(t[52]=[n("Create From Code Template",-1)])]),_:1}),o(e(G),null,{default:l(()=>[...t[53]||(t[53]=[n(" Creates inactive starter templates in the database so you can edit and then activate them. ",-1)])]),_:1})]),_:1}),a("div",qt,[a("div",$t,[o(e(f),null,{default:l(()=>[...t[54]||(t[54]=[n("Faculty",-1)])]),_:1}),U(a("select",{"onUpdate:modelValue":t[19]||(t[19]=r=>e(v).faculty=r),class:"h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},[(d(!0),u(E,null,J(oe.value,r=>(d(),u("option",{key:r,value:r},p(r.replace(/_/g," ")),9,Ct))),128))],512),[[O,e(v).faculty]]),e(v).errors.faculty?(d(),u("p",St,p(e(v).errors.faculty),1)):_("",!0)]),a("div",Ut,[o(e(f),null,{default:l(()=>[...t[55]||(t[55]=[n("Chapter Type",-1)])]),_:1}),U(a("select",{"onUpdate:modelValue":t[20]||(t[20]=r=>e(v).chapter_type=r),class:"h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},[...t[56]||(t[56]=[a("option",{value:"all"},"All (1–6)",-1),a("option",{value:"introduction"},"Introduction",-1),a("option",{value:"literature_review"},"Literature review",-1),a("option",{value:"methodology"},"Methodology",-1),a("option",{value:"results"},"Results",-1),a("option",{value:"discussion"},"Discussion",-1),a("option",{value:"conclusion"},"Conclusion",-1)])],512),[[O,e(v).chapter_type]]),e(v).errors.chapter_type?(d(),u("p",Ot,p(e(v).errors.chapter_type),1)):_("",!0),t[57]||(t[57]=a("p",{class:"text-xs text-muted-foreground"},[n(" Tip: these are created with "),a("span",{class:"font-mono"},"is_active=false"),n(", so they won’t affect generation until you activate. ")],-1))])]),a("div",Nt,[o(e(V),{variant:"ghost",onClick:t[21]||(t[21]=r=>q.value=!1)},{default:l(()=>[...t[58]||(t[58]=[n("Cancel",-1)])]),_:1}),o(e(V),{disabled:e(v).processing,onClick:ie},{default:l(()=>[e(v).processing?(d(),C(e(M),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):_("",!0),t[59]||(t[59]=a("span",null,"Create",-1))]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["open"])]),_:1}))}});export{ss as default};
