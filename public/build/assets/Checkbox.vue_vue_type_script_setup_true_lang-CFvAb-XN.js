import{P as V,a as I}from"./index-C0SLUj2i.js";import{c as g,P,b as $}from"./Presence-Bj9mfJQy.js";import{i as _}from"./nullish-CHIgUVhi.js";import{i as x}from"./isValueEqualOrExist-DSClXoPv.js";import{u as M}from"./useFormControl-DMTNplH2.js";import{b as q,u as G}from"./useForwardExpose-DvsR2gOR.js";import{R as j}from"./RovingFocusItem-ggaQs033.js";import{V as z}from"./VisuallyHiddenInput-BpJTHr4g.js";import{d as h,a as v,C as d,o as u,E as p,r as k,O as K,u as e,D as y,_ as N,T as A,a4 as D,H as B}from"./app-B0kF8k29.js";import{i as H}from"./ohash.D__AXeF1-C-E83dC9.js";import{M as O}from"./minus-D-MVpDlp.js";import{C as T}from"./check-CEt2jqUz.js";const[L,ce]=g("CheckboxGroupRoot");function b(r){return r==="indeterminate"}function w(r){return b(r)?"indeterminate":r?"checked":"unchecked"}const[J,Q]=g("CheckboxRoot");var U=h({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(r,{emit:n}){const a=r,l=n,{forwardRef:m,currentElement:f}=q(),o=L(null),s=G(a,"modelValue",l,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),c=v(()=>o?.disabled.value||a.disabled),i=v(()=>_(o?.modelValue.value)?s.value==="indeterminate"?"indeterminate":s.value:x(o.modelValue.value,a.value));function R(){if(_(o?.modelValue.value))s.value=b(s.value)?!0:!s.value;else{const t=[...o.modelValue.value||[]];if(x(t,a.value)){const C=t.findIndex(F=>H(F,a.value));t.splice(C,1)}else t.push(a.value);o.modelValue.value=t}}const S=M(f),E=v(()=>a.id&&f.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return Q({disabled:c,state:i}),(t,C)=>(u(),d(D(e(o)?.rovingFocus.value?e(j):e(V)),y(t.$attrs,{id:t.id,ref:e(m),role:"checkbox","as-child":t.asChild,as:t.as,type:t.as==="button"?"button":void 0,"aria-checked":e(b)(i.value)?"mixed":i.value,"aria-required":t.required,"aria-label":t.$attrs["aria-label"]||E.value,"data-state":e(w)(i.value),"data-disabled":c.value?"":void 0,disabled:c.value,focusable:e(o)?.rovingFocus.value?!c.value:void 0,onKeydown:N(A(()=>{},["prevent"]),["enter"]),onClick:R}),{default:p(()=>[k(t.$slots,"default",{modelValue:e(s),state:i.value}),e(S)&&t.name&&!e(o)?(u(),d(e(z),{key:0,type:"checkbox",checked:!!i.value,name:t.name,value:t.value,disabled:c.value,required:t.required},null,8,["checked","name","value","disabled","required"])):K("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),W=U,X=h({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(r){const{forwardRef:n}=q(),a=J();return(l,m)=>(u(),d(e(P),{present:l.forceMount||e(b)(e(a).state.value)||e(a).state.value===!0},{default:p(()=>[B(e(V),y({ref:e(n),"data-state":e(w)(e(a).state.value),"data-disabled":e(a).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":l.asChild,as:l.as},l.$attrs),{default:p(()=>[k(l.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),Y=X;const pe=h({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(r,{emit:n}){const a=r,l=n,m=v(()=>{const{class:o,...s}=a;return s}),f=$(m,l);return(o,s)=>(u(),d(e(W),y({"data-slot":"checkbox"},e(f),{class:e(I)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a.class)}),{default:p(()=>[B(e(Y),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:p(()=>[k(o.$slots,"default",{},()=>[a.checked==="indeterminate"?(u(),d(e(O),{key:0,class:"size-3.5"})):(u(),d(e(T),{key:1,class:"size-3.5"}))])]),_:3})]),_:3},16,["class"]))}});export{pe as _};
