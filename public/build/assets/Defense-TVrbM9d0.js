import{d as ye,y as f,w as re,c as d,o as l,K as t,a3 as Rt,O as k,Q as H,S as W,H as i,E as o,u as s,M as c,n as N,P as p,a as q,C as J,aa as nt,ad as j,F as Dt,q as Nt,A as ge,R as Gt,L as Ze,B as Ke,f as Mt}from"./app-Bo8mbAfA.js";import{t as Te}from"./index-B_MauiHY.js";import{_ as Ft}from"./AppLayout.vue_vue_type_script_setup_true_lang-Zmvd_PeE.js";import{c as At,_ as w}from"./index-BhKU_YgD.js";import{_ as F,a as Q}from"./CardContent.vue_vue_type_script_setup_true_lang-BHX5x4LF.js";import{_ as E}from"./CardDescription.vue_vue_type_script_setup_true_lang-BCfgfNT0.js";import{_ as U,a as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-WPH9TeEi.js";import{_ as K}from"./index-2iaKBSZ8.js";import{_ as Le}from"./Progress.vue_vue_type_script_setup_true_lang-PLcmb06L.js";import{_ as Qt,a as Bt}from"./DialogContent.vue_vue_type_script_setup_true_lang-D__DE2lJ.js";import{R as ae}from"./RichTextViewer-CbLD5RwQ.js";import{e as Me}from"./useForwardExpose-CaqOkBGp.js";import{C as le}from"./chevron-right-D3DgVsqA.js";import{H as Z}from"./history-Ckzp_I2x.js";import{P as we}from"./presentation-CbzGRoMm.js";import{M as Ot}from"./message-square-DlaqEp4G.js";import{F as Ge}from"./file-text-az3w2ek1.js";import{S as O}from"./sparkles-DpJu23B-.js";import{R as ot}from"./refresh-cw-CBACVbtT.js";import{C as at}from"./chevron-left-BldKTmn7.js";import{C as Ht}from"./circle-help-DDKianVx.js";import{L as Et}from"./lightbulb-CqOzwqSi.js";import{T as se}from"./target-CQBPhanr.js";import{A as Re}from"./arrow-left-D3y6BBA2.js";import{S as Ut}from"./shield-Dsws_8Ee.js";import{Z as Vt}from"./zap-CP-LnE9t.js";import{U as De}from"./users-nnNj8y6v.js";import{A as he}from"./arrow-up-down-3LU6fJq7.js";import{B as et}from"./brain-BapQtty2.js";import{M as Jt}from"./maximize-2-C1fNOwSX.js";import{P as Yt}from"./play-C9TgxHIk.js";import{_ as Xt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-D30F56aL.js";import"./Presence-ABQ3CmB4.js";import"./index-BYDQf9oC.js";import"./DialogTitle-CV-KUDMi.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-vOUZYu2f.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-Baa0XZcP.js";import"./loader-circle-CTShm-CK.js";import"./triangle-alert-VSHaK9e6.js";import"./VisuallyHidden-CNTNOnky.js";import"./coins-BPkQRo7h.js";import"./log-out-BmbOPh1s.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-C85nP1yh.js";import"./library-DgJVTek8.js";import"./plus-C3UDVPn1.js";import"./WordBalanceDisplay.vue_vue_type_script_setup_true_lang-DXXeLf0i.js";import"./sun-CRzakPrN.js";import"./useWordBalance-q8CtVh_6.js";import"./nullish-CHIgUVhi.js";import"./index-ClYkR1f9.js";import"./purify.es-DxJI3Wx7.js";import"./index-BWEDi_FC.js";import"./step-DrZ9DcYd.js";import"./chart-column-DwnqJsR6.js";import"./calendar-z93NjGA8.js";import"./circle-alert-CyBLfuka.js";import"./eye-B2llWvAP.js";import"./check-B-hpQ5Fu.js";import"./copy-CNm8BXAB.js";import"./download-BDwgAcfX.js";import"./trash-2-D6zuQNGS.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=At("MicIcon",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Wt={class:"w-full h-1 bg-zinc-800 rounded-full overflow-hidden shrink-0"},Zt={key:0,class:"hidden lg:block lg:col-span-4 space-y-1 overflow-y-auto pr-2 custom-scrollbar h-full max-h-[400px] lg:max-h-none"},Kt=["onClick"],es={class:"flex items-center gap-3 overflow-hidden"},ts={class:"text-xs font-medium truncate"},ss={key:1,class:"flex items-center justify-between mb-4 border-b border-white/5 pb-4 shrink-0"},is={class:"text-center"},ns={class:"text-[10px] uppercase tracking-wider text-indigo-400 font-bold block"},os={class:"text-sm font-bold font-display text-white truncate max-w-[200px]"},as={class:"relative bg-zinc-900/50 border border-white/5 rounded-2xl p-5 flex flex-col h-full overflow-hidden"},ls={key:0,class:"flex items-start justify-between mb-4 border-b border-white/5 pb-4 shrink-0"},rs={class:"text-[10px] uppercase tracking-wider text-indigo-400 font-bold mb-1 block"},ds={class:"text-base md:text-lg font-bold font-display text-white line-clamp-2 md:line-clamp-none"},cs={class:"hidden sm:inline"},us={class:"sm:hidden"},ps={class:"flex-1 overflow-y-auto custom-scrollbar pr-2 space-y-4"},fs={key:0,class:"bg-indigo-500/5 border border-indigo-500/10 rounded-lg p-3"},ms={class:"flex items-start gap-2 text-xs text-indigo-300/80"},vs={class:"bg-indigo-500/20 p-1 rounded-md mt-0.5 shrink-0"},xs={class:"leading-relaxed"},gs={class:"prose prose-sm dark:prose-invert max-w-none text-zinc-300 text-xs leading-relaxed"},hs={class:"pt-4 border-t border-white/5"},bs={class:"text-xs font-bold text-zinc-500 uppercase mb-3 flex items-center gap-2"},ws={class:"space-y-2"},ys={key:1,class:"mt-4 text-sm text-muted-foreground"},_s={key:2,class:"flex flex-col items-center justify-center py-8 text-center space-y-4 h-full"},ks={class:"h-12 w-12 rounded-full bg-indigo-500/10 flex items-center justify-center"},tt=ye({__name:"PresentationGuide",props:{slides:{},isLoading:{type:Boolean},rawGuide:{},activeIndex:{},layout:{default:"split"}},emits:["update:activeIndex","regenerate"],setup(G,{emit:y}){const v=G,h=y,T=r=>{h("update:activeIndex",r)},z=()=>{v.activeIndex<v.slides.length-1&&T(v.activeIndex+1)},$=()=>{v.activeIndex>0&&T(v.activeIndex-1)},S=f(null),{isSwiping:L,direction:M}=Me(S);return re(L,(r,x)=>{x&&!r&&(M.value==="left"?z():M.value==="right"&&$())}),(r,x)=>r.slides.length?(l(),d("div",{key:0,class:"flex flex-col gap-4 h-full",ref_key:"containerRef",ref:S},[t("div",Wt,[t("div",{class:"h-full bg-indigo-500 transition-all duration-500 ease-out",style:Rt({width:`${(r.activeIndex+1)/r.slides.length*100}%`})},null,4)]),t("div",{class:N(["min-h-0 flex-1",r.layout==="split"?"grid grid-cols-1 lg:grid-cols-12 gap-6":"flex flex-col"])},[r.layout==="split"?(l(),d("div",Zt,[(l(!0),d(H,null,W(r.slides,(u,m)=>(l(),d("button",{key:m,onClick:C=>T(m),class:N(["w-full flex items-center justify-between p-3 rounded-lg text-left transition-all group border border-transparent shrink-0",r.activeIndex===m?"bg-indigo-500/10 border-indigo-500/20 text-white":"hover:bg-muted/50 text-muted-foreground"])},[t("div",es,[t("span",{class:N(["text-xs font-mono font-bold w-4 shrink-0",r.activeIndex===m?"text-indigo-400":"text-zinc-600"])},c((m+1).toString().padStart(2,"0")),3),t("span",ts,c(u.title),1)]),i(s(le),{class:N(["h-3 w-3 transition-transform shrink-0",r.activeIndex===m?"text-indigo-400":"opacity-0"])},null,8,["class"])],10,Kt))),128))])):k("",!0),r.layout==="compact"?(l(),d("div",ss,[i(s(w),{variant:"ghost",size:"icon",class:"h-8 w-8 text-zinc-400 hover:text-white",disabled:r.activeIndex===0,onClick:$},{default:o(()=>[i(s(le),{class:"h-4 w-4 rotate-180"})]),_:1},8,["disabled"]),t("div",is,[t("span",ns," Slide "+c(r.activeIndex+1)+" of "+c(r.slides.length),1),t("h4",os,c(r.slides[r.activeIndex].title),1)]),i(s(w),{variant:"ghost",size:"icon",class:"h-8 w-8 text-zinc-400 hover:text-white",disabled:r.activeIndex===r.slides.length-1,onClick:z},{default:o(()=>[i(s(le),{class:"h-4 w-4"})]),_:1},8,["disabled"])])):k("",!0),t("div",{class:N(["flex flex-col h-full min-h-0",r.layout==="split"?"lg:col-span-8":"w-full"])},[t("div",as,[r.layout==="split"?(l(),d("div",ls,[t("div",null,[t("span",rs,"Slide "+c(r.activeIndex+1),1),t("h4",ds,c(r.slides[r.activeIndex].title),1)]),i(s(K),{variant:"outline",class:"bg-zinc-950/50 border-zinc-800 text-zinc-400 text-[10px] gap-1.5 font-mono shrink-0 ml-2"},{default:o(()=>[i(s(Z),{class:"h-3 w-3"}),t("span",cs,c(r.slides[r.activeIndex].duration),1),t("span",us,c(r.slides[r.activeIndex].duration.split(" ")[0])+"m",1)]),_:1})])):k("",!0),t("div",ps,[r.slides[r.activeIndex].visuals?(l(),d("div",fs,[t("div",ms,[t("div",vs,[i(s(we),{class:"h-3 w-3 text-indigo-400"})]),t("span",xs,[x[1]||(x[1]=t("strong",{class:"text-indigo-300"},"Visuals:",-1)),p(" "+c(r.slides[r.activeIndex].visuals),1)])])])):k("",!0),t("div",gs,[i(ae,{content:r.slides[r.activeIndex].content,"show-font-controls":!1,class:"!bg-transparent !p-0","viewer-class":"prose-sm"},null,8,["content"])]),t("div",hs,[t("h5",bs,[i(s(Ot),{class:"h-3 w-3"}),x[2]||(x[2]=p(" Speaker Notes ",-1))]),t("ul",ws,[(l(!0),d(H,null,W(r.slides[r.activeIndex].talking_points,(u,m)=>(l(),d("li",{key:m,class:"flex gap-2 text-xs text-zinc-400"},[x[3]||(x[3]=t("span",{class:"text-indigo-500/50"},"â€¢",-1)),p(" "+c(u),1)]))),128))])])])])],2)],2)],512)):r.rawGuide?(l(),d("div",ys,[i(ae,{content:r.rawGuide,"show-font-controls":!1,class:"!bg-transparent","viewer-class":"prose-sm md:prose-base"},null,8,["content"])])):(l(),d("div",_s,[t("div",ks,[i(s(we),{class:"h-6 w-6 text-indigo-500/50"})]),x[4]||(x[4]=t("p",{class:"text-sm text-zinc-500 max-w-xs"}," No presentation guide yet. Generate a structured slide deck for your defense. ",-1)),i(s(w),{class:"gap-2 rounded-xl group",onClick:x[0]||(x[0]=u=>r.$emit("regenerate")),disabled:r.isLoading},{default:o(()=>[i(s(Ge),{class:"h-4 w-4"}),p(" "+c(r.isLoading?"Generating...":"Generate Guide")+" ",1),i(s(O),{class:"h-3.5 w-3.5 opacity-50 group-hover:opacity-100"})]),_:1},8,["disabled"])]))}}),zs={class:"flex-1 min-h-[300px] relative overflow-hidden"},$s={class:"text-xl md:text-4xl font-bold font-display text-white mb-6 md:mb-10 tracking-tight leading-tight"},Ss={class:"flex-1 overflow-y-auto custom-scrollbar pr-4 md:pr-6 pb-4 max-w-4xl"},js=["innerHTML"],Cs={key:1,class:"flex flex-col items-center justify-center h-full text-center space-y-4"},Is={class:"h-12 w-12 rounded-full bg-indigo-500/10 flex items-center justify-center"},Ps={key:2,class:"absolute inset-0 bg-zinc-950/50 backdrop-blur-sm flex items-center justify-center z-10 rounded-xl"},qs={class:"flex flex-col items-center gap-3"},Ts={key:0,class:"mt-6 pt-4 border-t border-white/5 flex items-center justify-between"},Ls={class:"flex items-center gap-1.5"},Rs=["onClick"],Ds={class:"flex items-center gap-2"},Ns={class:"text-sm font-mono text-zinc-500 w-12 text-center"},st=ye({__name:"ExecutiveBriefingDeck",props:{slides:{default:()=>[]},isLoading:{type:Boolean}},emits:["refresh"],setup(G,{emit:y}){const v=G,h=f(0),T=f(null),{isSwiping:z,direction:$}=Me(T);re(z,(u,m)=>{m&&!u&&($.value==="left"?L():$.value==="right"&&M())});const S=q(()=>v.slides[h.value]),L=()=>{h.value<v.slides.length-1&&h.value++},M=()=>{h.value>0&&h.value--},r=u=>{h.value=u},x=u=>{if(!u)return"";let m=u;return m=m.replace(/^#### (.*$)/gim,"<h4>$1</h4>"),m=m.replace(/^### (.*$)/gim,"<h3>$1</h3>"),m=m.replace(/^## (.*$)/gim,"<h2>$1</h2>"),m=m.replace(/^# (.*$)/gim,"<h1>$1</h1>"),m=m.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),m=m.replace(new RegExp("(?<!\\*)\\*([^*\\n]+?)\\*(?!\\*)","g"),"<em>$1</em>"),m.split(/\n\s*\n/).filter(b=>b.trim()).map(b=>{const g=b.trim();if(g.match(/^<h[1-4]>/))return g;if(g.includes(`
`)&&(g.match(/^\d+\.\s/)||g.match(/^[-*]\s/))){const I=g.split(`
`).map(_=>_.trim()).filter(_=>_),P=I.some(_=>_.match(/^\d+\.\s/)),Y=I.map(_=>`<li>${_.replace(/^(\d+\.|[-*])\s/,"")}</li>`).join("");return P?`<ol>${Y}</ol>`:`<ul>${Y}</ul>`}return`<p>${g.replace(/\n/g,"<br>")}</p>`}).join("")};return(u,m)=>(l(),d("div",{class:"flex flex-col h-full relative",ref_key:"containerRef",ref:T},[t("div",zs,[u.slides.length>0?(l(),J(nt,{key:0,"enter-active-class":"transition-opacity duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-200 ease-in absolute inset-0","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:o(()=>[(l(),d("div",{key:h.value,class:"h-full flex flex-col"},[t("h3",$s,c(S.value.title),1),t("div",Ss,[t("div",{innerHTML:x(S.value.content),class:"prose-sm md:prose-xl dark:prose-invert leading-relaxed md:leading-loose tracking-wide [&_p]:mb-4 md:[&_p]:mb-6 [&_strong]:text-indigo-400 [&_strong]:font-semibold text-zinc-50 [&_ul]:list-none [&_ul]:pl-0 [&_ol]:list-decimal [&_ol]:pl-5 [&_li]:mb-4 md:[&_li]:mb-6 [&_li]:pl-4 [&_li]:border-l-2 [&_li]:border-indigo-500/50"},null,8,js)])]))]),_:1})):u.isLoading?k("",!0):(l(),d("div",Cs,[t("div",Is,[i(s(O),{class:"h-6 w-6 text-indigo-500/50"})]),m[0]||(m[0]=t("p",{class:"text-base text-zinc-500 max-w-xs"}," No executive briefing yet. Click refresh to generate a summary. ",-1))])),u.isLoading?(l(),d("div",Ps,[t("div",qs,[i(s(ot),{class:"h-6 w-6 text-indigo-400 animate-spin"}),m[1]||(m[1]=t("span",{class:"text-xs font-medium text-indigo-300"},"Analyzing Project...",-1))])])):k("",!0)]),u.slides.length>0?(l(),d("div",Ts,[t("div",Ls,[(l(!0),d(H,null,W(u.slides,(C,b)=>(l(),d("button",{key:b,onClick:g=>r(b),class:N(["h-1.5 rounded-full transition-all duration-300",h.value===b?"w-6 bg-indigo-500":"w-1.5 bg-zinc-700 hover:bg-zinc-600"])},null,10,Rs))),128))]),t("div",Ds,[i(s(w),{variant:"ghost",size:"icon",class:"h-8 w-8 text-zinc-400 hover:text-white",disabled:h.value===0,onClick:M},{default:o(()=>[i(s(at),{class:"h-4 w-4"})]),_:1},8,["disabled"]),t("span",Ns,c(h.value+1)+" / "+c(u.slides.length),1),i(s(w),{variant:"ghost",size:"icon",class:"h-8 w-8 text-zinc-400 hover:text-white",disabled:h.value===u.slides.length-1,onClick:L},{default:o(()=>[i(s(le),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])):k("",!0)],512))}}),Gs={class:"flex-1 min-h-[350px] relative overflow-hidden"},Ms={key:0,class:"mb-6"},Fs={class:"mb-6 md:mb-10"},As={class:"flex items-start gap-3 md:gap-4"},Qs={class:"h-8 w-8 md:h-10 md:w-10 shrink-0 rounded-lg md:rounded-xl bg-rose-500/10 flex items-center justify-center"},Bs={class:"text-xl md:text-4xl font-bold font-display text-white tracking-tight leading-snug md:leading-tight"},Os={class:"flex-1 overflow-y-auto custom-scrollbar pr-4 md:pr-6 pb-6"},Hs={class:"relative pl-5 md:pl-6"},Es={class:"flex items-center gap-2 mb-3 md:mb-4 text-indigo-400 font-medium text-[10px] md:text-sm tracking-wide uppercase"},Us=["innerHTML"],Vs={key:1,class:"flex flex-col items-center justify-center h-full text-center space-y-4"},Js={class:"h-16 w-16 rounded-full bg-rose-500/10 flex items-center justify-center"},Ys={key:2,class:"absolute inset-0 bg-zinc-950/50 backdrop-blur-sm flex items-center justify-center z-10 rounded-3xl border border-white/5"},Xs={class:"flex flex-col items-center gap-4"},Ws={class:"relative"},Zs={key:0,class:"mt-8 pt-6 border-t border-white/5 flex items-center justify-between"},Ks={class:"flex items-center gap-2"},ei=["onClick"],ti={class:"flex items-center gap-3"},si={class:"flex flex-col items-center min-w-[3rem]"},ii={class:"text-base font-bold text-white leading-none"},ni={class:"text-[10px] text-zinc-500 font-mono uppercase mt-1"},it=ye({__name:"PredictedQuestionsDeck",props:{questions:{default:()=>[]},isLoading:{type:Boolean}},setup(G){const y=G,v=f(0),h=f(null),{isSwiping:T,direction:z}=Me(h);re(T,(x,u)=>{u&&!x&&(z.value==="left"?S():z.value==="right"&&L())});const $=q(()=>y.questions[v.value]),S=()=>{v.value<y.questions.length-1&&v.value++},L=()=>{v.value>0&&v.value--},M=x=>{v.value=x},r=x=>x?x.split(`

`).map(u=>`<p>${u.trim().replace(/\n/g,"<br>")}</p>`).join(""):"";return(x,u)=>(l(),d("div",{class:"flex flex-col h-full relative",ref_key:"containerRef",ref:h},[t("div",Gs,[x.questions.length>0?(l(),J(nt,{key:0,"enter-active-class":"transition-opacity duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-200 ease-in absolute inset-0","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:o(()=>[(l(),d("div",{key:v.value,class:"h-full flex flex-col pt-2"},[$.value.category?(l(),d("div",Ms,[i(s(K),{variant:"outline",class:"text-[10px] uppercase tracking-widest bg-rose-500/5 text-rose-400 border-rose-500/20 px-3 py-1"},{default:o(()=>[p(c($.value.category),1)]),_:1})])):k("",!0),t("div",Fs,[t("div",As,[t("div",Qs,[i(s(Ht),{class:"h-4 w-4 md:h-5 md:w-5 text-rose-500"})]),t("h3",Bs,c($.value.question),1)])]),t("div",Os,[t("div",Hs,[u[1]||(u[1]=t("div",{class:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-indigo-500 to-transparent rounded-full opacity-50"},null,-1)),t("div",Es,[i(s(Et),{class:"h-3 w-3 md:h-4 md:w-4"}),u[0]||(u[0]=t("span",null,"Defense Strategy",-1))]),t("div",{innerHTML:r($.value.suggested_answer),class:"text-zinc-300 text-base md:text-xl leading-relaxed tracking-wide italic font-serif [&_p]:mb-4 md:[&_p]:mb-6"},null,8,Us)])])]))]),_:1})):x.isLoading?k("",!0):(l(),d("div",Vs,[t("div",Js,[i(s(se),{class:"h-8 w-8 text-rose-500/50"})]),u[2]||(u[2]=t("div",{class:"space-y-2"},[t("p",{class:"text-lg font-medium text-white"},"No questions identified"),t("p",{class:"text-sm text-zinc-500 max-w-xs"}," Generate defense questions to prepare for potential examiner inquiry. ")],-1))])),x.isLoading?(l(),d("div",Ys,[t("div",Xs,[t("div",Ws,[i(s(ot),{class:"h-10 w-10 text-rose-500 animate-spin"}),i(s(O),{class:"h-4 w-4 text-rose-400 absolute -top-1 -right-1 animate-pulse"})]),u[3]||(u[3]=t("span",{class:"text-sm font-medium text-rose-200"},"Simulating Defense Panel...",-1))])])):k("",!0)]),x.questions.length>0?(l(),d("div",Zs,[t("div",Ks,[(l(!0),d(H,null,W(x.questions,(m,C)=>(l(),d("button",{key:C,onClick:b=>M(C),class:N(["h-2 rounded-full transition-all duration-300",v.value===C?"w-8 bg-rose-500":"w-2 bg-zinc-800 hover:bg-zinc-700"])},null,10,ei))),128))]),t("div",ti,[i(s(w),{variant:"ghost",size:"icon",class:"h-10 w-10 rounded-xl border border-white/5 text-zinc-400 hover:text-white hover:bg-white/5 transition-all",disabled:v.value===0,onClick:L},{default:o(()=>[i(s(at),{class:"h-5 w-5"})]),_:1},8,["disabled"]),t("div",si,[t("span",ii,c(v.value+1),1),t("span",ni,c(x.questions.length)+" Total",1)]),i(s(w),{variant:"ghost",size:"icon",class:"h-10 w-10 rounded-xl border border-white/5 text-zinc-400 hover:text-white hover:bg-white/5 transition-all",disabled:v.value===x.questions.length-1,onClick:S},{default:o(()=>[i(s(le),{class:"h-5 w-5"})]),_:1},8,["disabled"])])])):k("",!0)],512))}});function oi(G){const y=f(null),v=f([]),h=f(null),T=f(null),z=f(!1),$=f(!1),S=f(!1),L=q(()=>!!y.value);return{session:y,messages:v,feedback:h,performanceMetrics:T,isStarting:z,isLoading:$,isSending:S,hasSession:L,startSession:async b=>{if(!z.value){z.value=!0;try{const{data:g}=await j.post(`/api/projects/${G}/defense/sessions`,b);return y.value=g.session,v.value=[],h.value=null,T.value=y.value?.performance_metrics??null,g.session}finally{z.value=!1}}},loadSession:async b=>{if(!$.value){$.value=!0;try{const{data:g}=await j.get(`/api/projects/${G}/defense/sessions/${b}`);y.value=g.session,v.value=g.session?.messages??[],h.value=g.session?.feedback??null,T.value=g.session?.performance_metrics??null}finally{$.value=!1}}},getNextQuestion:async(b,g,I)=>{const{data:P}=await j.get(`/api/projects/${G}/defense/sessions/${b}/next-question`,{params:{...g?{persona:g}:{},...I?{request_hint:1}:{}}});return v.value.push(P.message),y.value=P.session,P.message},sendResponse:async(b,g,I)=>{if(S.value)return;S.value=!0;const P=-Date.now(),Y={id:P,session_id:b,role:"student",panelist_persona:null,content:g,response_time_ms:I??null};v.value.push(Y);try{const{data:_}=await j.post(`/api/projects/${G}/defense/sessions/${b}/respond`,{response:g,response_time_ms:I}),A=v.value.findIndex(ee=>ee.id===P);return A>=0?v.value[A]=_.message:v.value.push(_.message),T.value=_.performance_metrics,_}catch(_){throw v.value=v.value.filter(A=>A.id!==P),_}finally{S.value=!1}},endSession:async b=>{const{data:g}=await j.post(`/api/projects/${G}/defense/sessions/${b}/end`);return y.value=g.session,h.value=g.feedback,T.value=g.session?.performance_metrics??null,g.feedback},loadTranscript:async b=>{const{data:g}=await j.get(`/api/projects/${G}/defense/sessions/${b}/transcript`);return v.value=g.messages,g.messages}}}const ai={class:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8"},li={class:"flex flex-col gap-6 md:flex-row md:items-end md:justify-between mb-12"},ri={class:"space-y-4"},di={class:"flex items-center gap-2"},ci={key:0,class:"flex items-start justify-between gap-3 rounded-2xl border border-amber-500/30 bg-amber-500/10 px-4 py-3 text-sm text-amber-100/90"},ui={class:"flex flex-row md:flex-col items-center gap-4 md:gap-3 p-4 md:p-6 rounded-3xl border border-primary/10 bg-primary/5 backdrop-blur-sm w-full md:w-auto"},pi={class:"relative flex items-center justify-center shrink-0"},fi={class:"h-16 w-16 md:h-20 md:w-20 transform -rotate-90"},mi=["stroke-dasharray","stroke-dashoffset"],vi=["stroke-dasharray","stroke-dashoffset"],xi={class:"absolute text-base md:text-xl font-bold"},gi={class:"flex p-1 rounded-2xl bg-muted/50 border border-border/50 mb-8 w-full sm:w-auto sm:inline-flex"},hi={key:0,class:"grid gap-8 lg:grid-cols-12 animate-in fade-in slide-in-from-bottom-4 duration-700"},bi={class:"lg:col-span-8 space-y-8 transition-all duration-500"},wi={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 sm:gap-0"},yi={class:"flex items-center gap-2"},_i={key:0,class:"h-full"},ki={key:1,class:"relative z-10 space-y-4"},zi={key:2,class:"flex flex-col items-center justify-center py-12 text-center space-y-4"},$i={class:"h-12 w-12 rounded-full bg-indigo-500/10 flex items-center justify-center"},Si={class:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500 delay-75"},ji={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 sm:gap-0"},Ci={class:"flex items-center gap-2"},Ii={class:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500"},Pi={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 sm:gap-0"},qi={class:"flex items-center gap-2"},Ti={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 sm:gap-0"},Li={class:"flex items-center gap-2"},Ri={key:0,class:"h-full"},Di={key:1,class:"relative z-10 space-y-4"},Ni={key:2,class:"flex flex-col items-center justify-center py-12 text-center space-y-4"},Gi={class:"h-12 w-12 rounded-full bg-indigo-500/10 flex items-center justify-center"},Mi={class:"relative"},Fi={class:"absolute bottom-3 right-3 flex items-center gap-2"},Ai={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Qi={key:0,class:"text-sm text-muted-foreground border-t border-emerald-500/10 pt-4 mt-2"},Bi={class:"lg:col-span-4 space-y-8"},Oi={class:"relative z-10 flex items-center gap-3 mb-2"},Hi={class:"p-2 bg-indigo-500/10 rounded-xl backdrop-blur-md border border-indigo-500/20"},Ei={class:"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-4"},Ui={class:"flex items-center gap-2 flex-wrap justify-end"},Vi={key:0,class:"mb-3 text-[11px] text-zinc-400"},Ji={key:0},Yi={key:1},Xi={key:2},Wi={key:3},Zi={key:4},Ki={key:5},en={key:1,class:"mb-3 text-[11px] text-rose-400"},tn={class:"flex items-center justify-between mb-2 shrink-0"},sn={class:"text-xl font-display font-bold text-white flex items-center gap-2"},nn={class:"flex-1 min-h-0 overflow-hidden"},on={key:0,class:"text-xs text-muted-foreground"},an={key:1,class:"text-xs text-muted-foreground"},ln={key:2,class:"space-y-3"},rn={class:"space-y-1"},dn={class:"text-xs font-semibold text-foreground"},cn={class:"text-[11px] text-muted-foreground"},un={key:1,class:"flex flex-col items-center justify-center py-20 animate-in zoom-in-95 duration-700"},pn={class:"relative mb-8"},fn={class:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-5xl mb-12"},mn={class:"text-xs text-muted-foreground/80"},vn={class:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-4xl mb-12"},xn={class:"text-4xl mb-4"},gn={class:"font-bold"},hn={class:"text-xs text-muted-foreground leading-relaxed"},bn={key:2,class:"fixed inset-0 z-50 bg-zinc-950 flex flex-col items-center p-4 md:p-8 animate-in fade-in duration-500"},wn={class:"w-full max-w-6xl flex items-center justify-between mb-8"},yn={class:"flex items-center gap-4"},_n={class:"flex items-center gap-2 bg-zinc-900 px-4 py-2 rounded-full border border-zinc-800"},kn={class:"flex items-center gap-2 bg-zinc-900 px-4 py-2 rounded-full border border-zinc-800"},zn={class:"text-xs text-zinc-300"},$n={class:"grid lg:grid-cols-12 gap-8 w-full max-w-6xl flex-grow overflow-hidden"},Sn={class:"lg:col-span-4 space-y-4 md:space-y-6 overflow-y-auto pr-2 custom-scrollbar"},jn={class:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-1 gap-4 md:gap-6"},Cn={class:"flex items-center gap-3 md:gap-4"},In={class:"h-10 w-10 md:h-12 md:w-12 rounded-2xl bg-zinc-800 flex items-center justify-center text-xl md:text-2xl"},Pn={class:"flex-1 min-w-0"},qn={class:"flex items-center justify-between gap-2"},Tn={class:"font-bold text-zinc-200 text-sm md:text-base truncate"},Ln={class:"text-[10px] md:text-xs text-zinc-500 truncate"},Rn={class:"text-[10px] md:text-xs text-zinc-600"},Dn={class:"grid grid-cols-3 lg:grid-cols-1 gap-4 md:gap-6"},Nn={class:"space-y-2"},Gn={class:"flex items-center justify-between text-[10px] md:text-xs"},Mn={class:"text-zinc-200"},Fn={class:"space-y-2"},An={class:"flex items-center justify-between text-[10px] md:text-xs"},Qn={class:"text-zinc-200"},Bn={class:"space-y-2"},On={class:"flex items-center justify-between text-[10px] md:text-xs"},Hn={class:"text-zinc-200"},En={class:"lg:col-span-8 flex flex-col bg-zinc-900/40 rounded-[2.5rem] border border-zinc-800/50 backdrop-blur-xl overflow-hidden"},Un={class:"space-y-10 max-w-3xl mx-auto py-8"},Vn={class:"flex items-center gap-2 mb-2 px-1"},Jn={class:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest"},Yn={class:"text-[8px] text-zinc-600"},Xn={key:0,class:"mt-3 flex gap-4 px-2"},Wn={class:"text-[10px] font-bold text-zinc-600 hover:text-zinc-400 uppercase tracking-tighter flex items-center gap-1"},Zn={class:"text-[10px] font-bold text-zinc-600 hover:text-zinc-400 uppercase tracking-tighter flex items-center gap-1"},Kn={class:"p-4 md:p-8 border-t border-zinc-800/50 bg-black/20"},eo={class:"relative max-w-3xl mx-auto"},to=["disabled"],so={class:"absolute right-3 md:right-4 top-1/2 -translate-y-1/2 flex items-center gap-2"},io={class:"mt-4 flex justify-center gap-6"},no={class:"flex items-center gap-2 text-[10px] font-bold text-zinc-500 hover:text-white transition-colors uppercase tracking-widest"},be=10,oo=ye({__name:"Defense",props:{project:{}},setup(G){const y=G,v=f("preparation"),h=f(!1),T=f(72),z=f(null),$=f(!1),S=f([{id:"skeptic",name:"The Skeptic",role:"Critical Reviewer",avatar:"ðŸ§",color:"text-amber-500"},{id:"methodologist",name:"The Methodologist",role:"Technical Expert",avatar:"ðŸ§ª",color:"text-blue-500"},{id:"generalist",name:"The Generalist",role:"Value Reviewer",avatar:"ðŸŒ",color:"text-green-500"}]),L=f([]),M=f(!1),r=f(!1),x=f(""),u=f(null),m=f([]),C=f(!1),b=f([]),g=f(0);f(0);const I=f(null),P=f(!1),Y=f(!1),_=f("idle"),A=f(null),ee=f(null),ie=f(!1),de=f(null),te=f(""),ce=f(null),ne=f(!1),oe=f(!1),ue=f(!1),_e=f(null),{session:R,messages:lt,performanceMetrics:X,startSession:rt,loadSession:dt,getNextQuestion:ct,sendResponse:ut,endSession:pt,isStarting:Fe,isSending:Ae}=oi(y.project.id),ke=f(!1),pe=()=>{ke.value=!ke.value},ft=q(()=>S.value.reduce((n,e)=>(n[e.id]=e.name,n),{})),D=n=>{const e=n?.response,a=e?.data?.message;return e?.status===402||a&&a.includes("Insufficient credit balance")?(z.value=a||"Insufficient credit balance. Please top up to continue.",Te.error(z.value),!0):!1},mt=()=>{z.value=null},vt=async()=>{if(!Fe.value)try{const n=await j.get(`/api/projects/${y.project.id}/defense/sessions/active`);if(n.data.session){await Ie(n.data.session.id);return}const e=S.value.map(a=>a.id);await rt({selected_panelists:e,difficulty_level:"undergraduate",question_limit:be}),h.value=!0,v.value="simulation",R.value&&await $e()}catch(n){if(D(n))return;console.error("Failed to start simulation:",n)}},ze=async(n=!1)=>{if(!$.value){$.value=n,console.log("[Defense] Finish & Analysis clicked",{sessionId:R.value?.id,status:R.value?.status});try{if(R.value){const e=await pt(R.value.id);console.log("[Defense] endSession response",e),e?.recommendations&&e.recommendations.toLowerCase().includes("credit balance")&&(z.value=e.recommendations,Te.error(e.recommendations)),n&&Te.success("Simulation completed. Your score is ready.")}}catch(e){if(D(e))return;console.error("[Defense] Failed to end simulation:",e)}finally{await Ue(),h.value=!1,v.value="preparation",$.value=!1}}},xt=async()=>{if(!R.value||!x.value.trim())return;const n=x.value.trim();x.value="";try{if(await ut(R.value.id,n),R.value?.question_limit&&R.value.questions_asked>=R.value.question_limit){await ze(!0);return}await $e()}catch(e){if(D(e))return;console.error("Failed to submit response:",e)}},$e=async(n=!1)=>{if(R.value){ue.value=!0;try{const e=await ct(R.value.id,void 0,n);_e.value=e.panelist_persona??null}catch(e){if(D(e))return;const a=e?.response?.data?.message;if(a&&a.toLowerCase().includes("question limit")){await ze(!0);return}console.error("Failed to fetch next question:",e)}finally{ue.value=!1}}},gt=async()=>{!R.value||ue.value||await $e(!0)},fe=async()=>{if(!C.value){C.value=!0;try{const e=(await j.get(`/api/projects/${y.project.id}/defense/executive-briefing`,{params:{force_refresh:1}})).data.briefing;if(typeof e=="string"&&e.includes("```json"))try{const a=e.replace(/```json\n?|\n?```/g,""),B=JSON.parse(a);m.value=B.slides||[],u.value=null}catch(a){console.warn("Failed to parse briefing JSON",a),u.value=e,m.value=[]}else typeof e=="object"&&e.slides?(m.value=e.slides,u.value=null):(u.value=e??null,m.value=[])}catch(n){D(n),console.error("Failed to load executive briefing:",n)}finally{C.value=!1}}},Qe=n=>{if(n)if(typeof n=="string"&&n.includes("```json"))try{const e=n.replace(/```json\n?|\n?```/g,""),a=JSON.parse(e);b.value=a.slides||[],I.value=null}catch(e){console.warn("Failed to parse presentation guide JSON",e),I.value=n,b.value=[]}else if(typeof n=="object"&&n.slides)b.value=n.slides,I.value=null;else if(typeof n=="string"&&n.trim().startsWith("{"))try{const e=JSON.parse(n);b.value=e.slides||[],I.value=null}catch{I.value=n,b.value=[]}else I.value=n,b.value=[]},Se=async()=>{if(!P.value){P.value=!0;try{const n=await j.get(`/api/projects/${y.project.id}/defense/presentation-guide`,{params:{force_refresh:1}});Qe(n.data.guide),g.value=0}catch(n){D(n),console.error("Failed to load presentation guide:",n)}finally{P.value=!1}}},ht=async()=>{if(!(ne.value||!te.value.trim())){ne.value=!0;try{const n=await j.post(`/api/projects/${y.project.id}/defense/opening-statement/analyze`,{opening_statement:te.value.trim()});ce.value=n.data.analysis??null}catch(n){D(n),console.error("Failed to analyze opening statement:",n)}finally{ne.value=!1}}},Be=async()=>{if(!oe.value){oe.value=!0;try{const n=await j.get(`/api/projects/${y.project.id}/defense/opening-statement`,{params:{force_refresh:1}});te.value=n.data.opening_statement??""}catch(n){D(n),console.error("Failed to generate opening statement:",n)}finally{oe.value=!1}}},Oe=n=>{if(!n){_.value="idle",A.value=null,ee.value=null;return}_.value=n.status||"idle",A.value=n.pptx_url??null,ee.value=n.error_message??null},je=()=>{de.value&&(clearInterval(de.value),de.value=null)},bt=()=>{je(),de.value=setInterval(()=>{He()},6e3)},He=async()=>{try{const e=(await j.get(`/api/projects/${y.project.id}/defense/deck`)).data.deck??null;Oe(e),(e?.status==="ready"||e?.status==="failed"||e?.status==="idle")&&je()}catch(n){if(D(n))return;console.error("Failed to refresh defense deck status:",n)}},wt=async(n=!1)=>{if(!ie.value){ie.value=!0;try{const e=await j.post(`/api/projects/${y.project.id}/defense/deck`,{force_refresh:n?1:0});Oe(e.data.deck??null),e.data.deck?.status!=="ready"&&bt()}catch(e){if(D(e))return;console.error("Failed to generate defense deck:",e)}finally{ie.value=!1}}},yt=()=>{if(!A.value)return;const n=document.createElement("a");n.href=A.value,n.click()},Ee=async()=>{if(!r.value){r.value=!0;try{const n=await j.post(`/api/projects/${y.project.id}/defense/questions/generate`,{count:5});L.value=n.data.questions||[]}catch(n){D(n),console.error("Failed to generate predicted questions:",n)}finally{r.value=!1}}},_t=async()=>{if(!M.value){M.value=!0;try{const n=await j.get(`/api/projects/${y.project.id}/defense/questions`,{params:{limit:5,skip_generation:1}});L.value=n.data.questions||[]}catch(n){D(n),console.error("Failed to load predicted questions:",n)}finally{M.value=!1}}},kt=async()=>{try{const e=(await j.get(`/api/projects/${y.project.id}/defense/preparation`)).data.preparation;if(e){if(u.value=e.executive_briefing??null,e.executive_briefing){if(typeof e.executive_briefing=="string"&&e.executive_briefing.includes("```json"))try{const a=e.executive_briefing.replace(/```json\n?|\n?```/g,""),B=JSON.parse(a);m.value=B.slides||[],u.value=null}catch{}else if(typeof e.executive_briefing=="object"&&e.executive_briefing.slides)m.value=e.executive_briefing.slides,u.value=null;else if(typeof e.executive_briefing=="string"&&e.executive_briefing.trim().startsWith("{"))try{const a=JSON.parse(e.executive_briefing);m.value=a.slides||[],u.value=null}catch{}}e.presentation_guide&&Qe(e.presentation_guide),te.value=e.opening_statement??"",ce.value=e.opening_analysis??null,e.opening_statement||await Be()}}catch(n){D(n),console.error("Failed to load preparation data:",n)}},Ce=f([]),me=f(!1),Ue=async()=>{if(!me.value){me.value=!0;try{const n=await j.get(`/api/projects/${y.project.id}/defense/sessions`);Ce.value=n.data.sessions||[]}catch(n){D(n),console.error("Failed to load session history:",n)}finally{me.value=!1}}},Ie=async n=>{await dt(n),h.value=!0,v.value="simulation"};async function zt(){try{const n=await j.get(`/api/projects/${y.project.id}/defense/sessions/active`);n.data.session&&await Ie(n.data.session.id)}catch(n){D(n),console.error("Failed to load active session:",n)}}const $t=q(()=>h.value?"bg-zinc-950 text-white":"bg-background"),Pe=q(()=>lt.value||[]),qe=q(()=>X.value?.readiness_score??T.value),Ve=q(()=>X.value?.clarity??0),Je=q(()=>X.value?.technical_depth??0);q(()=>X.value?.question_coverage??0),q(()=>X.value?.confidence_score??0),q(()=>X.value?.response_time??0);const Ye=q(()=>Pe.value.reduce((n,e)=>{if(e.role!=="panelist"||e.is_follow_up)return n;const a=e.panelist_persona??"panelist";return n[a]=(n[a]||0)+1,n},{})),St=q(()=>Object.values(Ye.value).reduce((n,e)=>n+e,0)),jt=q(()=>be),Ct=q(()=>{const n=S.value;if(n.length===0)return{};const e=Math.floor(be/n.length),a=be%n.length,B=n.findIndex(xe=>xe.id==="generalist");return n.reduce((xe,Tt,We)=>{const Lt=B>=0?We===B:We===0;return xe[Tt.id]=e+(Lt?a:0),xe},{})}),It=q(()=>R.value?.question_limit?`${St.value}/${R.value.question_limit}`:"Adaptive"),Pt=n=>n.created_at?new Date(n.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",qt=n=>n?new Date(n).toLocaleDateString():"";Dt(()=>{_t(),kt(),Ue(),zt(),He()});const ve=f(null),Xe=async()=>{await Mt(),ve.value&&(ve.value.scrollTop=ve.value.scrollHeight)};return re(Pe,()=>{Xe()},{deep:!0}),re(h,n=>{n&&Xe()}),Nt(()=>{je()}),(n,e)=>(l(),J(Ft,{title:`Defense Preparation: ${n.project.title}`},{default:o(()=>[t("div",{class:N(["min-h-screen transition-colors duration-700",$t.value])},[t("div",ai,[t("div",li,[t("div",ri,[t("div",di,[i(s(w),{variant:"ghost",size:"sm",onClick:e[0]||(e[0]=a=>s(Gt).visit(n.route("projects.writing",n.project.slug))),class:N(["h-8 w-8 rounded-full p-0",h.value?"text-zinc-400 hover:text-white":""])},{default:o(()=>[i(s(Re),{class:"h-4 w-4"})]),_:1},8,["class"]),i(s(K),{variant:"outline",class:"gap-1 border-primary/20 bg-primary/5 text-primary"},{default:o(()=>[i(s(Ut),{class:"h-3 w-3"}),e[9]||(e[9]=p(" Defense Readiness ",-1))]),_:1})]),t("h1",{class:N(["text-3xl font-bold tracking-tight md:text-6xl font-display",h.value?"text-white":"text-foreground"])}," Prepare for Victory ",2),t("p",{class:N(["max-w-2xl text-base md:text-lg text-muted-foreground",h.value?"text-zinc-400":""])}," Master your project defense with AI-predicted questions, structured presentation guides, and high-stakes simulation. ",2),z.value?(l(),d("div",ci,[t("span",null,c(z.value),1),i(s(w),{variant:"ghost",size:"sm",class:"h-7 px-2 text-amber-100/90 hover:text-white",onClick:mt},{default:o(()=>[...e[10]||(e[10]=[p(" Dismiss ",-1)])]),_:1})])):k("",!0)]),ge(t("div",ui,[t("div",pi,[(l(),d("svg",fi,[e[11]||(e[11]=t("circle",{class:"text-muted/20 md:hidden","stroke-width":"5",stroke:"currentColor",fill:"transparent",r:"28",cx:"32",cy:"32"},null,-1)),e[12]||(e[12]=t("circle",{class:"text-muted/20 hidden md:block","stroke-width":"6",stroke:"currentColor",fill:"transparent",r:"34",cx:"40",cy:"40"},null,-1)),t("circle",{class:"text-primary transition-all duration-1000 ease-out md:hidden","stroke-width":"5","stroke-dasharray":2*Math.PI*28,"stroke-dashoffset":2*Math.PI*28*(1-qe.value/100),"stroke-linecap":"round",stroke:"currentColor",fill:"transparent",r:"28",cx:"32",cy:"32"},null,8,mi),t("circle",{class:"text-primary transition-all duration-1000 ease-out hidden md:block","stroke-width":"6","stroke-dasharray":2*Math.PI*34,"stroke-dashoffset":2*Math.PI*34*(1-qe.value/100),"stroke-linecap":"round",stroke:"currentColor",fill:"transparent",r:"34",cx:"40",cy:"40"},null,8,vi)])),t("span",xi,c(qe.value)+"%",1)]),e[13]||(e[13]=t("span",{class:"text-[10px] md:text-xs font-semibold uppercase tracking-wider text-muted-foreground text-center"},"Readiness Score",-1))],512),[[Ze,!h.value]])]),ge(t("div",gi,[t("button",{onClick:e[1]||(e[1]=a=>v.value="preparation"),class:N(["flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 md:px-6 py-2 rounded-xl text-sm font-medium transition-all",v.value==="preparation"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"])},[i(s(Vt),{class:"h-4 w-4"}),e[14]||(e[14]=t("span",{class:"hidden sm:inline"},"Preparation Suite",-1)),e[15]||(e[15]=t("span",{class:"sm:hidden"},"Prep",-1))],2),t("button",{onClick:e[2]||(e[2]=a=>v.value="simulation"),class:N(["flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 md:px-6 py-2 rounded-xl text-sm font-medium transition-all",v.value==="simulation"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"])},[i(s(De),{class:"h-4 w-4"}),e[16]||(e[16]=t("span",{class:"hidden sm:inline"},"Simulation Lab",-1)),e[17]||(e[17]=t("span",{class:"sm:hidden"},"Sim",-1))],2)],512),[[Ze,!h.value]]),v.value==="preparation"&&!h.value?(l(),d("div",hi,[t("div",bi,[ke.value?(l(),d(H,{key:1},[t("div",Ii,[i(s(F),{class:"overflow-hidden border-none bg-zinc-900/30 shadow-none ring-1 ring-border/50"},{default:o(()=>[i(s(U),{class:"pb-2"},{default:o(()=>[t("div",Pi,[i(s(V),{class:"flex items-center gap-2 text-xl md:text-2xl font-display"},{default:o(()=>[i(s(se),{class:"h-5 w-5 text-rose-500"}),e[24]||(e[24]=p(" Predicted Defense Questions ",-1))]),_:1}),t("div",qi,[i(s(K),{variant:"secondary",class:"font-mono text-[10px]"},{default:o(()=>[p(c(L.value.length)+" TOP QUESTIONS",1)]),_:1}),i(s(w),{variant:"ghost",size:"sm",class:"text-xs h-8",onClick:Ee,disabled:r.value},{default:o(()=>[i(s(O),{class:"h-3.5 w-3.5"}),p(" "+c(r.value?"Generating...":"Generate"),1)]),_:1},8,["disabled"]),i(s(w),{variant:"ghost",size:"icon",class:"h-8 w-8 text-zinc-500 hover:text-rose-400",onClick:pe,title:"Swap position"},{default:o(()=>[i(s(he),{class:"h-4 w-4"})]),_:1})])]),i(s(E),{class:"text-rose-600/70 dark:text-rose-400/70 text-sm"},{default:o(()=>[...e[25]||(e[25]=[p(" Identify and prepare for high-probability questions examiners might ask. ",-1)])]),_:1})]),_:1}),i(s(Q),{class:"relative pb-6 md:pb-10 px-6 md:px-10 min-h-[450px]"},{default:o(()=>[i(it,{questions:L.value,"is-loading":r.value},null,8,["questions","is-loading"])]),_:1})]),_:1})]),i(s(F),{class:"overflow-hidden border-none bg-zinc-900/30 shadow-none ring-1 ring-border/50 animate-in fade-in slide-in-from-bottom-4 duration-500 delay-75"},{default:o(()=>[i(s(U),{class:"pb-2"},{default:o(()=>[t("div",Ti,[i(s(V),{class:"flex items-center gap-2 text-xl md:text-2xl font-display"},{default:o(()=>[i(s(O),{class:"h-5 w-5 text-indigo-500"}),e[26]||(e[26]=p(" Executive Briefing ",-1))]),_:1}),t("div",Li,[i(s(w),{variant:"ghost",size:"sm",class:"text-xs gap-1.5 h-8 w-fit",onClick:fe,disabled:C.value},{default:o(()=>[i(s(Z),{class:"h-3.5 w-3.5"}),p(" "+c(C.value?"Loading...":"Refresh AI"),1)]),_:1},8,["disabled"]),i(s(w),{variant:"ghost",size:"icon",class:"h-8 w-8 text-zinc-500 hover:text-indigo-400",onClick:pe,title:"Swap position"},{default:o(()=>[i(s(he),{class:"h-4 w-4"})]),_:1})])]),i(s(E),{class:"text-indigo-600/70 dark:text-indigo-400/70 text-sm"},{default:o(()=>[...e[27]||(e[27]=[p("Your project's core value proposition, synthesized for your defense.",-1)])]),_:1})]),_:1}),i(s(Q),{class:"relative pb-6 md:pb-10 px-6 md:px-10 min-h-[400px]"},{default:o(()=>[m.value.length>0?(l(),d("div",Ri,[i(st,{slides:m.value,"is-loading":C.value,onRefresh:fe},null,8,["slides","is-loading"])])):u.value?(l(),d("div",Di,[e[28]||(e[28]=t("div",{class:"absolute -left-6 top-0 bottom-0 w-1 bg-gradient-to-b from-indigo-500/80 via-purple-500/80 to-transparent rounded-full opacity-60"},null,-1)),i(ae,{content:u.value,"show-font-controls":!1,"viewer-class":"prose-sm md:prose-base dark:prose-invert leading-relaxed",class:"!bg-transparent"},null,8,["content"])])):(l(),d("div",Ni,[t("div",Gi,[i(s(O),{class:"h-6 w-6 text-indigo-500/50"})]),e[29]||(e[29]=t("p",{class:"text-base text-muted-foreground italic max-w-xs"}," No executive briefing yet. Click â€œRefresh AIâ€ to generate a comprehensive summary of your research. ",-1))]))]),_:1})]),_:1})],64)):(l(),d(H,{key:0},[i(s(F),{class:"overflow-hidden border-none bg-zinc-900/30 shadow-none ring-1 ring-border/50 animate-in fade-in slide-in-from-bottom-4 duration-500"},{default:o(()=>[i(s(U),{class:"pb-2"},{default:o(()=>[t("div",wi,[i(s(V),{class:"flex items-center gap-2 text-xl md:text-2xl font-display"},{default:o(()=>[i(s(O),{class:"h-5 w-5 text-indigo-500"}),e[18]||(e[18]=p(" Executive Briefing ",-1))]),_:1}),t("div",yi,[i(s(w),{variant:"ghost",size:"sm",class:"text-xs gap-1.5 h-8 w-fit",onClick:fe,disabled:C.value},{default:o(()=>[i(s(Z),{class:"h-3.5 w-3.5"}),p(" "+c(C.value?"Loading...":"Refresh AI"),1)]),_:1},8,["disabled"]),i(s(w),{variant:"ghost",size:"icon",class:"h-8 w-8 text-zinc-500 hover:text-indigo-400",onClick:pe,title:"Swap position"},{default:o(()=>[i(s(he),{class:"h-4 w-4"})]),_:1})])]),i(s(E),{class:"text-indigo-600/70 dark:text-indigo-400/70 text-sm"},{default:o(()=>[...e[19]||(e[19]=[p("Your project's core value proposition, synthesized for your defense.",-1)])]),_:1})]),_:1}),i(s(Q),{class:"relative pb-6 md:pb-10 px-6 md:px-10 min-h-[400px]"},{default:o(()=>[m.value.length>0?(l(),d("div",_i,[i(st,{slides:m.value,"is-loading":C.value,onRefresh:fe},null,8,["slides","is-loading"])])):u.value?(l(),d("div",ki,[e[20]||(e[20]=t("div",{class:"absolute -left-6 top-0 bottom-0 w-1 bg-gradient-to-b from-indigo-500/80 via-purple-500/80 to-transparent rounded-full opacity-60"},null,-1)),i(ae,{content:u.value,"show-font-controls":!1,"viewer-class":"prose-sm md:prose-base dark:prose-invert leading-relaxed",class:"!bg-transparent"},null,8,["content"])])):(l(),d("div",zi,[t("div",$i,[i(s(O),{class:"h-6 w-6 text-indigo-500/50"})]),e[21]||(e[21]=t("p",{class:"text-base text-muted-foreground italic max-w-xs"}," No executive briefing yet. Click â€œRefresh AIâ€ to generate a comprehensive summary of your research. ",-1))]))]),_:1})]),_:1}),t("div",Si,[i(s(F),{class:"overflow-hidden border-none bg-zinc-900/30 shadow-none ring-1 ring-border/50"},{default:o(()=>[i(s(U),{class:"pb-2"},{default:o(()=>[t("div",ji,[i(s(V),{class:"flex items-center gap-2 text-xl md:text-2xl font-display"},{default:o(()=>[i(s(se),{class:"h-5 w-5 text-rose-500"}),e[22]||(e[22]=p(" Predicted Defense Questions ",-1))]),_:1}),t("div",Ci,[i(s(K),{variant:"secondary",class:"font-mono text-[10px]"},{default:o(()=>[p(c(L.value.length)+" TOP QUESTIONS",1)]),_:1}),i(s(w),{variant:"ghost",size:"sm",class:"text-xs h-8",onClick:Ee,disabled:r.value},{default:o(()=>[i(s(O),{class:"h-3.5 w-3.5"}),p(" "+c(r.value?"Generating...":"Generate"),1)]),_:1},8,["disabled"]),i(s(w),{variant:"ghost",size:"icon",class:"h-8 w-8 text-zinc-500 hover:text-rose-400",onClick:pe,title:"Swap position"},{default:o(()=>[i(s(he),{class:"h-4 w-4"})]),_:1})])]),i(s(E),{class:"text-rose-600/70 dark:text-rose-400/70 text-sm"},{default:o(()=>[...e[23]||(e[23]=[p(" Identify and prepare for high-probability questions examiners might ask. ",-1)])]),_:1})]),_:1}),i(s(Q),{class:"relative pb-6 md:pb-10 px-6 md:px-10 min-h-[450px]"},{default:o(()=>[i(it,{questions:L.value,"is-loading":r.value},null,8,["questions","is-loading"])]),_:1})]),_:1})])],64)),i(s(F),{class:"border-border/50 shadow-sm rounded-3xl overflow-hidden group"},{default:o(()=>[i(s(U),{class:"pb-2"},{default:o(()=>[i(s(V),{class:"flex items-center gap-2 text-base"},{default:o(()=>[i(s(Ne),{class:"h-4 w-4 text-emerald-500"}),e[30]||(e[30]=p(" Opening Statement ",-1))]),_:1}),i(s(E),null,{default:o(()=>[...e[31]||(e[31]=[p('Your 60-second "hook" to impress the panel.',-1)])]),_:1})]),_:1}),i(s(Q),{class:"space-y-4"},{default:o(()=>[t("div",Mi,[ge(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=a=>te.value=a),rows:"4",class:"w-full rounded-2xl border-border/50 bg-muted/30 p-4 text-sm focus:ring-primary/20 transition-all",placeholder:"Type your opening statement here..."},null,512),[[Ke,te.value]]),t("div",Fi,[i(s(w),{variant:"outline",size:"icon",class:"h-8 w-8 rounded-full"},{default:o(()=>[i(s(Ne),{class:"h-3.5 w-3.5"})]),_:1})])]),t("div",Ai,[i(s(w),{variant:"outline",class:"w-full text-xs font-bold gap-2 rounded-xl",onClick:Be,disabled:oe.value},{default:o(()=>[i(s(O),{class:"h-3.5 w-3.5"}),p(" "+c(oe.value?"Generating...":"GENERATE OPENING"),1)]),_:1},8,["disabled"]),i(s(w),{variant:"secondary",class:"w-full text-xs font-bold gap-2 rounded-xl",onClick:ht,disabled:ne.value},{default:o(()=>[i(s(et),{class:"h-3.5 w-3.5"}),p(" "+c(ne.value?"Analyzing...":"ANALYZE PITCH FLOW"),1)]),_:1},8,["disabled"])]),ce.value?(l(),d("div",Qi,[i(ae,{content:ce.value,"show-font-controls":!1,class:"!bg-transparent","viewer-class":"prose-xs md:prose-sm"},null,8,["content"])])):k("",!0)]),_:1})]),_:1})]),t("div",Bi,[i(s(F),{class:"border-border/50 shadow-2xl shadow-indigo-500/10 rounded-3xl overflow-hidden bg-zinc-900/20"},{default:o(()=>[i(s(U),{class:"relative overflow-hidden bg-gradient-to-br from-indigo-950 via-zinc-900 to-black text-white pb-6 border-b border-white/5"},{default:o(()=>[e[35]||(e[35]=t("div",{class:"absolute -right-6 -top-6 h-32 w-32 bg-indigo-500/10 rounded-full blur-3xl"},null,-1)),e[36]||(e[36]=t("div",{class:"absolute -left-10 -bottom-10 h-40 w-40 bg-purple-500/10 rounded-full blur-3xl"},null,-1)),t("div",Oi,[t("div",Hi,[i(s(we),{class:"h-5 w-5 text-indigo-400"})]),i(s(V),{class:"text-xl md:text-2xl font-display font-bold tracking-tight bg-gradient-to-r from-white to-zinc-400 bg-clip-text text-transparent"},{default:o(()=>[...e[32]||(e[32]=[p(" Presentation Guide",-1)])]),_:1})]),t("div",Ei,[i(s(E),{class:"text-zinc-400 text-sm leading-relaxed max-w-[280px]"},{default:o(()=>[...e[33]||(e[33]=[p(" Step-by-step structure for high-impact defense slides. ",-1)])]),_:1}),t("div",Ui,[b.value.length||I.value?(l(),J(s(w),{key:0,variant:"outline",size:"sm",class:"h-7 text-xs gap-1.5 border-white/10 bg-white/5 hover:bg-white/10 text-zinc-300 hover:text-white",onClick:Se,disabled:P.value},{default:o(()=>[i(s(Z),{class:"h-3 w-3"}),p(" "+c(P.value?"Refreshing...":"Regenerate"),1)]),_:1},8,["disabled"])):k("",!0),i(s(w),{variant:"outline",size:"sm",class:"h-7 text-xs gap-1.5 border-white/10 bg-white/5 hover:bg-white/10 text-zinc-300 hover:text-white",onClick:wt,disabled:ie.value},{default:o(()=>[i(s(Ge),{class:"h-3 w-3"}),p(" "+c(ie.value?"Building...":"Generate PPTX"),1)]),_:1},8,["disabled"]),_.value==="ready"&&A.value?(l(),J(s(w),{key:1,variant:"secondary",size:"sm",class:"h-7 text-xs gap-1.5",onClick:yt},{default:o(()=>[i(s(Ge),{class:"h-3 w-3"}),e[34]||(e[34]=p(" Download ",-1))]),_:1})):k("",!0),b.value.length?(l(),J(s(w),{key:2,variant:"ghost",size:"icon",class:"h-7 w-7 text-zinc-400 hover:text-white",onClick:e[4]||(e[4]=a=>Y.value=!0)},{default:o(()=>[i(s(Jt),{class:"h-4 w-4"})]),_:1})):k("",!0)])])]),_:1}),i(s(Q),{class:"p-4 md:p-6 h-[500px] flex flex-col"},{default:o(()=>[_.value!=="idle"?(l(),d("div",Vi,[_.value==="queued"?(l(),d("span",Ji,"Deck queued.")):_.value==="outlining"?(l(),d("span",Yi,"Generating slide outline with GPT-4o...")):_.value==="outlined"?(l(),d("span",Xi,"Outline complete. Rendering PPTX...")):_.value==="rendering"?(l(),d("span",Wi,"Rendering PPTX with Claude...")):_.value==="ready"?(l(),d("span",Zi,"PPTX ready for download.")):_.value==="failed"?(l(),d("span",Ki,"Failed to generate PPTX.")):k("",!0)])):k("",!0),_.value==="failed"&&ee.value?(l(),d("div",en,c(ee.value),1)):k("",!0),i(tt,{slides:b.value,"is-loading":P.value,"raw-guide":I.value,"active-index":g.value,"onUpdate:activeIndex":e[5]||(e[5]=a=>g.value=a),layout:"compact",onRegenerate:Se},null,8,["slides","is-loading","raw-guide","active-index"])]),_:1})]),_:1}),i(s(Qt),{open:Y.value,"onUpdate:open":e[7]||(e[7]=a=>Y.value=a)},{default:o(()=>[i(s(Bt),{class:"max-w-[95vw] w-full lg:max-w-screen-2xl h-[85vh] flex flex-col p-6 bg-zinc-950 border-white/10"},{default:o(()=>[t("div",tn,[t("h3",sn,[i(s(we),{class:"h-5 w-5 text-indigo-400"}),e[37]||(e[37]=p(" Presentation Guide ",-1))])]),t("div",nn,[i(tt,{slides:b.value,"is-loading":P.value,"raw-guide":I.value,"active-index":g.value,"onUpdate:activeIndex":e[6]||(e[6]=a=>g.value=a),onRegenerate:Se},null,8,["slides","is-loading","raw-guide","active-index"])])]),_:1})]),_:1},8,["open"]),i(s(F),{class:"border-border/50 shadow-sm rounded-3xl overflow-hidden"},{default:o(()=>[i(s(U),{class:"pb-2"},{default:o(()=>[i(s(V),{class:"flex items-center gap-2 text-base"},{default:o(()=>[i(s(Z),{class:"h-4 w-4 text-amber-500"}),e[38]||(e[38]=p(" Session History ",-1))]),_:1}),i(s(E),null,{default:o(()=>[...e[39]||(e[39]=[p("Your past defense simulations for this project.",-1)])]),_:1})]),_:1}),i(s(Q),{class:"space-y-3"},{default:o(()=>[me.value?(l(),d("div",on," Loading sessions... ")):Ce.value.length?(l(),d("div",ln,[(l(!0),d(H,null,W(Ce.value,a=>(l(),d("div",{key:a.id,class:"flex items-center justify-between gap-3 rounded-2xl border border-border/50 p-3"},[t("div",rn,[t("div",dn,c(qt(a.started_at||a.created_at)),1),t("div",cn,c(a.status)+" â€¢ "+c(a.questions_asked)+" Qs ",1)]),i(s(w),{size:"sm",variant:"outline",onClick:B=>Ie(a.id)},{default:o(()=>[p(c(a.status==="completed"?"Review":"Resume"),1)]),_:2},1032,["onClick"])]))),128))])):(l(),d("div",an," No sessions yet. Start a simulation to create your first one. "))]),_:1})]),_:1})])])):k("",!0),v.value==="simulation"&&!h.value?(l(),d("div",un,[t("div",pn,[e[40]||(e[40]=t("div",{class:"absolute -inset-4 bg-gradient-to-r from-primary to-purple-500 rounded-full opacity-20 blur-2xl animate-pulse"},null,-1)),i(s(De),{class:"h-24 w-24 text-primary relative z-10"})]),e[51]||(e[51]=t("h2",{class:"text-3xl font-bold mb-4"},"The Mock Defense",-1)),e[52]||(e[52]=t("p",{class:"max-w-md text-center text-muted-foreground mb-12"}," Face a panel of AI examiners who will challenge your research from different perspectives. Record your session for post-defense feedback. ",-1)),t("div",fn,[i(s(F),{class:"border-border/50 bg-card/50 backdrop-blur-sm rounded-3xl overflow-hidden"},{default:o(()=>[i(s(U),{class:"pb-2"},{default:o(()=>[i(s(V),{class:"text-base flex items-center gap-2"},{default:o(()=>[i(s(De),{class:"h-4 w-4 text-primary"}),e[41]||(e[41]=p(" How the simulation works ",-1))]),_:1}),i(s(E),null,{default:o(()=>[...e[42]||(e[42]=[p("Chair-moderated rotation with real-time feedback.",-1)])]),_:1})]),_:1}),i(s(Q),{class:"space-y-3 text-sm text-muted-foreground"},{default:o(()=>[e[43]||(e[43]=t("p",null,"1) The chair opens, then panelists rotate with targeted questions.",-1)),e[44]||(e[44]=t("p",null,"2) You respond; the system scores clarity and technical depth.",-1)),e[45]||(e[45]=t("p",null,"3) Hints guide you before answers are revealed.",-1)),e[46]||(e[46]=t("p",null,"4) When the question limit is reached, the session auto-completes and scores.",-1)),t("p",mn,"Total questions: "+c(jt.value)+". Each question is worth 10 marks (100 total).",1)]),_:1})]),_:1}),i(s(F),{class:"border-border/50 bg-card/50 backdrop-blur-sm rounded-3xl overflow-hidden"},{default:o(()=>[i(s(U),{class:"pb-2"},{default:o(()=>[i(s(V),{class:"text-base flex items-center gap-2"},{default:o(()=>[i(s(se),{class:"h-4 w-4 text-emerald-500"}),e[47]||(e[47]=p(" Scoring breakdown ",-1))]),_:1}),i(s(E),null,{default:o(()=>[...e[48]||(e[48]=[p("Readiness is a weighted summary of core metrics.",-1)])]),_:1})]),_:1}),i(s(Q),{class:"space-y-3 text-sm text-muted-foreground"},{default:o(()=>[...e[49]||(e[49]=[t("div",{class:"flex items-center justify-between"},[t("span",null,"Per-question mark"),t("span",{class:"text-foreground font-semibold"},"10 marks total")],-1),t("div",{class:"flex items-center justify-between"},[t("span",null,"Derived from"),t("span",{class:"text-foreground font-semibold"},"Clarity + Depth")],-1),t("div",{class:"flex items-center justify-between"},[t("span",null,"Coverage, confidence, and response time"),t("span",{class:"text-foreground font-semibold"},"Shown as diagnostics")],-1),t("div",{class:"text-xs text-muted-foreground/80"}," 10 questions x 10 marks each = 100 total marks. Readiness uses clarity/depth averages. ",-1)])]),_:1})]),_:1})]),t("div",vn,[(l(!0),d(H,null,W(S.value,a=>(l(),J(s(F),{key:a.id,class:"border-border/50 bg-card/50 backdrop-blur-sm rounded-3xl overflow-hidden hover:border-primary/30 transition-all"},{default:o(()=>[i(s(Q),{class:"p-8 text-center space-y-3"},{default:o(()=>[t("div",xn,c(a.avatar),1),t("h4",gn,c(a.name),1),i(s(K),{variant:"secondary",class:"text-[10px]"},{default:o(()=>[p(c(a.role),1)]),_:2},1024),t("p",hn,c(a.name==="The Skeptic"?"High pressure, doubts your findings.":a.name==="The Methodologist"?"Strict on research design and ethics.":"Focuses on the bigger picture."),1)]),_:2},1024)]),_:2},1024))),128))]),i(s(w),{size:"lg",onClick:vt,disabled:s(Fe),class:"px-12 py-8 text-xl font-bold rounded-3xl shadow-2xl shadow-primary/20 gap-4 hover:scale-105 transition-all"},{default:o(()=>[i(s(Yt),{class:"h-6 w-6 fill-current"}),e[50]||(e[50]=p(" START SIMULATION ",-1))]),_:1},8,["disabled"])])):k("",!0),h.value?(l(),d("div",bn,[t("div",wn,[t("div",yn,[e[54]||(e[54]=t("div",{class:"h-3 w-3 rounded-full bg-rose-600 animate-pulse"},null,-1)),e[55]||(e[55]=t("span",{class:"text-xs font-bold tracking-[0.2em] text-zinc-500 uppercase"},"Live Simulation",-1)),t("div",_n,[i(s(Z),{class:"h-3.5 w-3.5 text-zinc-400"}),e[53]||(e[53]=t("span",{class:"text-sm font-mono text-zinc-300"},"14:22",-1))]),t("div",kn,[i(s(se),{class:"h-3.5 w-3.5 text-zinc-400"}),t("span",zn,"Questions "+c(It.value),1)])]),i(s(w),{variant:"ghost",onClick:ze,class:"rounded-full text-zinc-400 hover:text-white hover:bg-zinc-900 gap-2"},{default:o(()=>[e[56]||(e[56]=p(" Finish & Analysis ",-1)),i(s(Re),{class:"h-4 w-4 rotate-180"})]),_:1})]),t("div",$n,[t("div",Sn,[e[62]||(e[62]=t("h3",{class:"text-[10px] md:text-sm font-bold text-zinc-500 uppercase tracking-widest px-2"}," The Panel",-1)),t("div",jn,[(l(!0),d(H,null,W(S.value,a=>(l(),J(s(F),{key:a.id,class:"bg-zinc-900/50 border-zinc-800 hover:border-zinc-700 transition-all rounded-3xl"},{default:o(()=>[i(s(Q),{class:"p-4 md:p-6"},{default:o(()=>[t("div",Cn,[t("div",In,c(a.avatar),1),t("div",Pn,[t("div",qn,[t("span",Tn,c(a.name),1),ue.value&&(!_e.value||_e.value===a.id)?(l(),J(s(K),{key:0,class:"bg-amber-500/10 text-amber-500 border-none text-[8px] h-4 shrink-0"},{default:o(()=>[...e[57]||(e[57]=[p(" THINKING",-1)])]),_:1})):k("",!0)]),t("span",Ln,c(a.role),1),t("div",Rn," Questions asked: "+c(Ye.value[a.id]??0)+" / "+c(Ct.value[a.id]??0),1)])])]),_:2},1024)]),_:2},1024))),128))]),i(s(F),{class:"bg-zinc-900 border-none rounded-3xl p-4 md:p-6 mt-6 md:mt-12 bg-gradient-to-br from-zinc-900 to-black"},{default:o(()=>[e[61]||(e[61]=t("h4",{class:"text-[10px] md:text-xs font-bold text-zinc-500 mb-4 uppercase"},"Live Performance",-1)),t("div",Dn,[t("div",Nn,[t("div",Gn,[e[58]||(e[58]=t("span",{class:"text-zinc-400"},"Clarity",-1)),t("span",Mn,c(Ve.value)+"%",1)]),i(s(Le),{"model-value":Ve.value,class:"h-1 bg-zinc-800","indicator-class":"bg-blue-500"},null,8,["model-value"])]),t("div",Fn,[t("div",An,[e[59]||(e[59]=t("span",{class:"text-zinc-400"},"Depth",-1)),t("span",Qn,c(Je.value)+"%",1)]),i(s(Le),{"model-value":Je.value,class:"h-1 bg-zinc-800","indicator-class":"bg-emerald-500"},null,8,["model-value"])]),t("div",Bn,[t("div",On,[e[60]||(e[60]=t("span",{class:"text-zinc-400"},"Confidence",-1)),t("span",Hn,c(s(X)?.confidence_score??0)+"%",1)]),i(s(Le),{"model-value":s(X)?.confidence_score??0,class:"h-1 bg-zinc-800","indicator-class":"bg-rose-500"},null,8,["model-value"])])])]),_:1})]),t("div",En,[t("div",{ref_key:"chatContainer",ref:ve,class:"flex-grow p-8 overflow-y-auto custom-scrollbar"},[t("div",Un,[(l(!0),d(H,null,W(Pe.value,(a,B)=>(l(),d("div",{key:B,class:N(["group animate-in fade-in slide-in-from-bottom-2 duration-500",a.role==="student"?"flex flex-col items-end":"flex flex-col items-start"])},[t("div",Vn,[t("span",Jn,c(a.role==="panelist"?ft.value[a.panelist_persona||""]||"Panelist":"Candidate"),1),t("span",Yn,c(Pt(a)),1)]),t("div",{class:N(["p-5 rounded-3xl text-sm leading-relaxed max-w-[85%]",a.role==="student"?"bg-zinc-100 text-zinc-950 rounded-tr-none":"bg-zinc-800/80 text-zinc-200 border border-zinc-700/50 rounded-tl-none"])},c(a.content),3),a.role==="panelist"?(l(),d("div",Xn,[t("button",Wn,[i(s(se),{class:"h-3 w-3"}),e[63]||(e[63]=p(" View Strategy ",-1))]),t("button",Zn,[i(s(et),{class:"h-3 w-3"}),e[64]||(e[64]=p(" Analyze Critique ",-1))])])):k("",!0)],2))),128))])],512),t("div",Kn,[t("div",eo,[ge(t("textarea",{"onUpdate:modelValue":e[8]||(e[8]=a=>x.value=a),placeholder:"Speak your defense answer...",class:"w-full bg-zinc-950 border-zinc-800 rounded-2xl py-4 md:py-6 px-4 md:px-6 pr-20 md:pr-24 text-zinc-100 focus:ring-primary/40 focus:border-primary/40 placeholder-zinc-700 transition-all resize-none shadow-2xl text-sm md:text-base",disabled:s(Ae),rows:"2"},null,8,to),[[Ke,x.value]]),t("div",so,[e[65]||(e[65]=t("div",{class:"hidden sm:flex gap-1 h-8 px-2 items-center bg-zinc-900 rounded-full border border-zinc-800"},[t("div",{class:"h-2 w-0.5 bg-rose-500 animate-pulse"}),t("div",{class:"h-4 w-0.5 bg-rose-500 animate-pulse delay-75"}),t("div",{class:"h-2 w-0.5 bg-rose-500 animate-pulse delay-150"})],-1)),i(s(w),{size:"icon",onClick:xt,disabled:s(Ae),class:"h-9 w-9 md:h-10 md:w-10 rounded-full bg-primary hover:bg-primary/90 text-white shadow-lg shadow-primary/20"},{default:o(()=>[i(s(Re),{class:"h-4 w-4 md:h-5 md:w-5 rotate-180"})]),_:1},8,["disabled"])])]),t("div",io,[t("button",no,[i(s(Ne),{class:"h-3.5 w-3.5"}),e[66]||(e[66]=p(" Hold Space to Speak ",-1))]),t("button",{class:"flex items-center gap-2 text-[10px] font-bold text-zinc-500 hover:text-white transition-colors uppercase tracking-widest",onClick:gt},[i(s(Z),{class:"h-3.5 w-3.5"}),e[67]||(e[67]=p(" Request Hint ",-1))])])])])])])):k("",!0)])],2)]),_:1},8,["title"]))}}),va=Xt(oo,[["__scopeId","data-v-a2fafcda"]]);export{va as default};
