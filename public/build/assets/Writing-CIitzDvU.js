import{d as Oe,I as Ne,y as G,w as ge,a as $,F as fe,C as g,o as u,E as l,K as t,H as s,u as r,R as w,J as k,P as i,M as c,n as b,a4 as H,c as v,Q as D,V as K,O as h,A as ve,a9 as be}from"./app-D1-ZJD0S.js";import{_ as E}from"./index-D1Bfe2iA.js";import{_ as f}from"./index-vAbk2bOP.js";import{_ as V,a as q}from"./CardContent.vue_vue_type_script_setup_true_lang-Bm-RstVc.js";import{_ as Q}from"./CardDescription.vue_vue_type_script_setup_true_lang-C004Nejf.js";import{_ as J,a as Z}from"./CardTitle.vue_vue_type_script_setup_true_lang-BRJY5xD6.js";import{_ as X,c as ee,a as Ve,b as qe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BuWKUmEO.js";import{_ as Ye}from"./DialogDescription.vue_vue_type_script_setup_true_lang-COWoln-x.js";import{_ as He}from"./DialogFooter.vue_vue_type_script_setup_true_lang-g3H-4K57.js";import{_ as Ke,a as Qe,b as te,c as re}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-D5D1y5tD.js";import{_ as Je}from"./AppLayout.vue_vue_type_script_setup_true_lang-BZrU-4fw.js";import{_ as Ze}from"./SafeHtmlText.vue_vue_type_script_setup_true_lang-AoQUy52D.js";import{B as se,t as P}from"./index-Bi1qUVbe.js";import{_ as Xe}from"./PurchaseModal.vue_vue_type_script_setup_true_lang-CLA75FBd.js";import{u as et}from"./useWordBalance-Cxj5u-b5.js";import{A as tt}from"./driver-B4w0q6_T.js";import{B as M}from"./brain-B3TXv2of.js";import{S as _}from"./square-pen-cKDUKPw4.js";import{C as rt}from"./circle-help-C5LeXxbP.js";import{A as st}from"./activity-DBHMxgLy.js";import{C as B}from"./clock-Be0K5R4A.js";import{F as oe}from"./file-text-C5iyYYX1.js";import{P as he}from"./play-DH0zLOeT.js";import{A as ae}from"./arrow-right-DpMhafhR.js";import{S as L}from"./sparkles-CKA886iz.js";import{Z as xe}from"./zap-4Zu81YsZ.js";import{T as le}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DXVh9fst.js";import{T as we}from"./target-VnqIWd4W.js";import{C as ke}from"./check-Dq1-0GWJ.js";import{A as ot}from"./arrow-left-DVtSKQuY.js";import"./index-DSHUedNx.js";import"./Presence-BgCsZU84.js";import"./useForwardExpose-28GxStSc.js";import"./DialogTitle-D-XWd999.js";import"./x-DKak0CSd.js";import"./VisuallyHidden-G0GCiqHZ.js";import"./RovingFocusItem-B0CXMVsW.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-BsQkOs9d.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-DHEtkRox.js";import"./coins-X9R8FRve.js";import"./log-out-WHumE8jX.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-BHJaMpVl.js";import"./library-nvV3QdC9.js";import"./plus-a-hjrPqv.js";import"./chevron-right-C7kEas8G.js";import"./WordBalanceDisplay.vue_vue_type_script_setup_true_lang-BCW4QxZF.js";import"./sun-0x3cE1Si.js";import"./purify.es-DxJI3Wx7.js";import"./loader-circle-DIwZu7ZG.js";const at={class:"mx-auto max-w-7xl space-y-8 p-6"},lt={class:"flex items-center justify-between"},nt={class:"flex items-center gap-2"},it={class:"relative overflow-hidden rounded-3xl border border-border/50 bg-gradient-to-b from-background to-muted/20 p-6 md:p-12"},dt={class:"relative z-10 flex flex-col items-center text-center space-y-6"},ut={class:"flex flex-wrap items-center justify-center gap-3"},ct={id:"mode-switcher",class:"flex items-center gap-1 sm:gap-2 rounded-full border border-border/50 bg-background/50 p-1 sm:p-1.5 shadow-sm backdrop-blur-sm"},pt=["onClick"],mt={class:"grid gap-8 lg:grid-cols-3"},gt={class:"space-y-8 lg:col-span-2 order-2 lg:order-1"},ft={key:0,id:"continue-writing-card",class:"group relative overflow-hidden rounded-2xl border border-border/50 bg-gradient-to-br from-amber-50/50 to-orange-50/50 p-6 dark:from-amber-950/10 dark:to-orange-950/10 transition-all hover:shadow-md"},vt={class:"flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between"},bt={class:"space-y-2"},ht={class:"flex items-center gap-2 text-amber-600 dark:text-amber-500"},xt={class:"text-xl font-semibold tracking-tight"},wt={class:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground"},kt={class:"flex items-center gap-1.5"},_t={class:"flex items-center gap-1.5"},yt={id:"action-cards",class:"grid gap-4 grid-cols-1 sm:grid-cols-3"},Ct=["disabled"],jt={class:"rounded-full bg-green-100 p-2.5 text-green-600 dark:bg-green-900/20 dark:text-green-400"},At={class:"flex-1"},Tt={class:"text-xs text-muted-foreground mt-1"},Gt={class:"mt-auto flex items-center text-xs font-medium text-primary opacity-0 transition-opacity group-hover:opacity-100"},Mt=["disabled"],$t={class:"rounded-full bg-purple-100 p-2.5 text-purple-600 dark:bg-purple-900/20 dark:text-purple-400"},St={class:"flex-1"},It={class:"text-xs text-muted-foreground mt-1"},zt={class:"mt-auto flex items-center text-xs font-medium text-purple-600 opacity-0 transition-opacity group-hover:opacity-100"},Et=["disabled"],Pt={class:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity"},Lt={class:"rounded-full bg-pink-100 p-2.5 text-pink-600 dark:bg-pink-900/20 dark:text-pink-400 relative z-10"},Rt={class:"mt-auto flex items-center text-xs font-medium text-pink-600 opacity-0 transition-opacity group-hover:opacity-100 relative z-10"},Wt={key:2,class:"flex flex-col items-start gap-4 rounded-2xl border border-border/50 bg-muted/30 p-5 text-left sm:col-span-2 lg:col-span-2"},Dt={class:"rounded-full bg-gray-100 p-2.5 text-gray-600 dark:bg-gray-800 dark:text-gray-400"},Ut={class:"grid gap-4"},Ft={class:"flex items-start justify-between"},Bt={class:"flex flex-wrap items-center justify-between gap-y-2"},Ot={class:"text-sm text-muted-foreground"},Nt={class:"flex gap-2"},Vt={key:0,class:"rounded-xl border-2 border-dashed border-border/50 bg-muted/10 py-12 text-center"},qt={class:"mb-4 text-sm text-muted-foreground"},Yt={class:"flex items-center gap-4"},Ht={class:"p-3 rounded-xl bg-gradient-to-br from-yellow-500/20 to-orange-500/20 ring-1 ring-yellow-500/30"},Kt={class:"space-y-1"},Qt={class:"space-y-6"},Jt={class:"grid gap-6 md:grid-cols-2"},Zt={class:"flex items-start justify-between"},Xt={class:"p-3 rounded-2xl bg-blue-100/80 text-blue-600 dark:bg-blue-900/40 dark:text-blue-400 transition-colors group-hover:bg-blue-100 dark:group-hover:bg-blue-900/60"},er={class:"relative flex h-5 w-5 items-center justify-center"},tr={key:0,class:"absolute -right-12 -top-12 h-32 w-32 rounded-full bg-gradient-to-br from-purple-500/20 to-pink-500/20 blur-2xl"},rr={class:"flex items-start justify-between relative z-10"},sr={class:"p-3 rounded-2xl bg-pink-100/80 text-pink-600 dark:bg-pink-900/40 dark:text-pink-400 transition-colors group-hover:bg-pink-100 dark:group-hover:bg-pink-900/60"},or={class:"relative flex h-5 w-5 items-center justify-center"},ar={class:"relative z-10"},lr={class:"flex items-center gap-2 mb-1"},nr={class:"pt-4"},ir={key:0,class:"space-y-4"},dr={class:"text-sm text-center text-muted-foreground"},ur={key:0,class:"flex items-center justify-center gap-2"},cr={class:"font-mono font-bold text-foreground"},pr={key:1,class:"text-amber-600 flex items-center justify-center gap-2"},mr={key:1,class:"space-y-4"},gr={class:"text-sm text-center text-muted-foreground flex items-center justify-center gap-2"},fr={class:"rounded-2xl border border-blue-200/50 bg-gradient-to-br from-blue-50 to-indigo-50/50 p-6 dark:from-blue-950/20 dark:to-indigo-950/20 dark:border-blue-800/30"},vr={class:"flex gap-4"},br={class:"p-2 rounded-lg bg-blue-100 text-blue-600 dark:bg-blue-900/40 dark:text-blue-400 h-fit"},hr={class:"flex flex-col sm:flex-row gap-3"},xr={class:"text-xs text-muted-foreground text-center"},wr={class:"space-y-3"},kr={class:"grid gap-3"},_r={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},yr={class:"flex-1"},Cr={class:"font-medium group-hover:text-primary transition-colors"},jr={class:"text-xs text-muted-foreground"},Ar={class:"mt-2"},Tr={class:"ml-2 text-xs text-muted-foreground"},Gr={class:"flex gap-2"},Mr={class:"space-y-8 lg:col-span-1 order-1 lg:order-2"},$r={id:"progress-overview",class:"rounded-3xl border border-border/50 bg-card p-6 shadow-sm dark:bg-card/50"},Sr={class:"mb-6 flex items-center gap-2 font-semibold"},Ir={class:"relative mx-auto mb-8 flex h-40 w-40 items-center justify-center"},zr={class:"h-full w-full -rotate-90 transform",viewBox:"0 0 100 100"},Er=["stroke-dashoffset"],Pr={class:"absolute inset-0 flex flex-col items-center justify-center text-center"},Lr={class:"text-3xl font-bold"},Rr={class:"space-y-4"},Wr={class:"flex items-center justify-between rounded-lg bg-muted/50 p-3"},Dr={class:"font-mono font-semibold"},Ur={class:"flex items-center justify-between rounded-lg bg-muted/50 p-3"},Fr={class:"font-mono font-semibold"},Br={class:"absolute bottom-6 left-6 flex items-center gap-3"},Or={class:"text-lg font-semibold tracking-tight text-foreground"},Nr={class:"p-6 space-y-6"},Vr={class:"flex gap-3"},qr={class:"space-y-1"},Yr={class:"space-y-3"},Hr={class:"grid gap-2"},Kr={class:"flex items-center gap-3 rounded-lg bg-secondary/30 p-2.5 text-sm"},Qr={class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-blue-100 text-blue-600 dark:bg-blue-900/40 dark:text-blue-400"},Jr={class:"flex items-center gap-3 rounded-lg bg-secondary/30 p-2.5 text-sm"},Zr={class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-green-100 text-green-600 dark:bg-green-900/40 dark:text-green-400"},Xr={class:"flex items-center gap-3 rounded-lg bg-secondary/30 p-2.5 text-sm"},es={class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-zinc-100 text-zinc-600 dark:bg-zinc-800 dark:text-zinc-400"},ts={class:"flex items-center gap-3 rounded-lg bg-secondary/30 p-2.5 text-sm"},rs={class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-green-100 text-green-600 dark:bg-green-900/40 dark:text-green-400"},ss={class:"border-t border-border/40 bg-muted/20 p-6 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end"},os={class:"relative h-36 w-full overflow-hidden bg-gradient-to-br from-purple-600 via-fuchsia-600 to-pink-600"},as={class:"absolute bottom-6 left-6 flex items-center gap-4 z-10"},ls={class:"flex h-14 w-14 items-center justify-center rounded-2xl bg-white/10 border border-white/20 shadow-xl backdrop-blur-md"},ns={class:"p-6 md:p-8 space-y-6"},is={class:"space-y-4"},ds={class:"grid grid-cols-1 gap-3"},us={class:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50 transition-colors"},cs={class:"h-8 w-8 rounded-full bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400 flex items-center justify-center shrink-0"},ps={class:"text-sm"},ms={class:"text-muted-foreground text-xs"},gs={class:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50 transition-colors"},fs={class:"h-8 w-8 rounded-full bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400 flex items-center justify-center shrink-0"},vs={class:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50 transition-colors"},bs={class:"h-8 w-8 rounded-full bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400 flex items-center justify-center shrink-0"},hs={class:"flex items-center gap-3 rounded-xl bg-purple-50/80 p-4 border border-purple-100 dark:bg-purple-900/10 dark:border-purple-800/30"},xs={class:"border-t border-border/40 bg-muted/20 p-6 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end"},ws={class:"rounded-xl bg-orange-50 p-4 border border-orange-200"},ks={class:"flex items-start gap-3"},ho=Oe({__name:"Writing",props:{project:{},targetWordCount:{},estimatedChapters:{}},setup(_e){const d=_e,ne=Ne(),R=G("overview"),A=G(!1),x=G("progressive"),S=G(!1),p=G(d.project.mode);ge(()=>d.project.mode,a=>{p.value=a},{immediate:!0});const U=G(!1),y=G("auto"),F=G(!1),O=G(!1),ye=()=>{w.visit(k("projects.analysis",{project:d.project.slug}))},{balance:Ce,showPurchaseModal:ie,requiredWordsForModal:je,actionDescriptionForModal:Ae,checkAndPrompt:Te,closePurchaseModal:Ge,estimates:Me}=et(),I=$(()=>d.project.facultyStructureChapters?.length||0||d.project.category?.default_chapter_count||d.estimatedChapters||d.project.chapters.length||1),$e=$(()=>{const a=I.value||1,e=d.targetWordCount||0,o=(d.project.facultyStructureChapters||[]).map(m=>m.target_word_count||0),n=o.length>0?Math.ceil(o.reduce((m,j)=>m+j,0)/o.length):0;return e?Math.ceil(e/a):n||2e3}),Y=G(p.value==="auto");ge(p,a=>{Y.value=a==="auto"},{immediate:!0});const Se=()=>{if(S.value)return;const a=p.value==="auto"?"manual":"auto";y.value=a,U.value=!0};console.log("ðŸ” INITIAL TOGGLE STATE:",{currentMode:p.value,isAutoMode:Y.value,shouldBeChecked:p.value==="auto"});const de=$(()=>d.project.chapters.reduce((a,e)=>a+e.word_count,0)),ue=$(()=>d.project.progress!==void 0?d.project.progress:Math.min(de.value/d.targetWordCount*100,100)),ce=$(()=>d.project.chapters.filter(a=>a.status!=="not_started"&&a.word_count>0).length),C=$(()=>{const a=I.value,e=d.project.chapters.find(m=>m.status==="not_started"||m.content===null||m.content===""||m.content===void 0);if(e)return e.chapter_number<=a?e.chapter_number:null;const o=Math.max(...d.project.chapters.map(m=>m.chapter_number),0),n=o+1;return console.log("nextChapterNumber debug (Writing page):",{maxAllowedChapters:a,categoryName:d.project.category?.name,maxChapterNumber:o,nextNumber:n,withinLimits:n<=a}),n<=a?n:null}),Ie=a=>{const e=a??C.value,o=e?d.project.chapters.find(j=>j.chapter_number===e):null;if(o?.target_word_count)return o.target_word_count;const n=e?(d.project.outlines||[]).find(j=>j.chapter_number===e):null;if(n?.target_word_count)return n.target_word_count;const m=e?(d.project.facultyStructureChapters||[]).find(j=>j.chapter_number===e):null;return m?.target_word_count?m.target_word_count:$e.value},T=$(()=>Math.max(...d.project.chapters.map(e=>e.chapter_number),0)<I.value&&C.value!==null),W=$(()=>{const a=d.project.chapters.filter(e=>e.content&&e.content.trim()!==""&&e.updated_at);return a.length===0?null:a.reduce((e,o)=>new Date(o.updated_at)>new Date(e.updated_at)?o:e)}),ze=$(()=>{if(!W.value)return null;const a=new Date(W.value.updated_at),o=Math.floor((new Date().getTime()-a.getTime())/(1e3*60*60));return o<1?"Less than an hour ago":o<24?`${o} hours ago`:o<48?"Yesterday":`${Math.floor(o/24)} days ago`});fe(()=>{R.value=p.value==="auto"?"ai-generation":"manual-writing"});const Ee=(a,e)=>{const o=Ie(e),n=Me.chapter(o);if(a==="bulk"){const m=Math.max(1,I.value-ce.value);return n*m}return n},z=(a,e)=>{const o=Ee(a,e);if(!Te(o,a==="bulk"?"bulk-generate chapters":a==="progressive"?"stream the chapter with AI":"generate the chapter with AI"))return;if(a==="bulk"){F.value=!0;return}const m=e||C.value;if(!m){P("Chapter Limit Reached",{description:`You have reached the maximum number of chapters (${I.value}) for this project category.`});return}const j=d.project.chapters.find(Be=>Be.chapter_number===m);j&&j.content&&j.content.trim()!==""&&!confirm(`Chapter ${m} already has content. Do you want to regenerate it?`)||w.visit(k("chapters.write",{project:d.project.slug,chapter:m})+"?ai_generate=true&generation_type="+a)},Pe=a=>{w.visit(k("chapters.edit",{project:d.project.slug,chapter:a}))},Le=a=>{const e=d.project.chapters.find(n=>n.chapter_number===a),o=e?.content&&e.content.trim()!=="";if(d.project.mode==="manual"&&e){w.visit(k("projects.manual-editor.show",{project:d.project.slug,chapter:e.chapter_number}));return}o?w.visit(k("chapters.edit",{project:d.project.slug,chapter:a})):w.visit(k("chapters.write",{project:d.project.slug,chapter:a}))},N=a=>{if(console.log("ðŸš€ START CHAPTER CLICKED",{chapterNumber:a,projectMode:d.project.mode,projectSlug:d.project.slug}),d.project.mode==="manual"){console.log("ðŸ“ Manual mode detected, routing to manual editor...");const o=k("projects.manual-editor.show",{project:d.project.slug,chapter:a});console.log("âœ… Routing to manual editor:",o),w.visit(o);return}const e=k("chapters.write",{project:d.project.slug,chapter:a});console.log("ðŸ“„ Auto mode: Routing to chapters.write:",e),w.visit(e)},pe=a=>{switch(a){case"approved":return"bg-green-100 text-green-800 border-green-200";case"in_review":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"draft":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},Re=a=>({1:"Introduction",2:"Literature Review",3:"Methodology",4:"Design and Implementation",5:"Results and Analysis",6:"Conclusion and Recommendations"})[a]||`Chapter ${a}`,We=()=>{U.value=!1,Fe()},De=()=>{F.value=!1,w.visit(k("projects.bulk-generate",d.project.slug)+"?start=true")},Ue=()=>{O.value=!1;try{w.post(k("projects.go-back-to-topic-approval",d.project.slug),{},{onSuccess:()=>{P("Success",{description:"Returned to topic approval"})},onError:()=>{P("Error",{description:"Failed to go back. Please try again."})}})}catch{P("Error",{description:"Failed to go back. Please try again."})}},Fe=async()=>{const a=y.value,e={auto:"AI Assisted",manual:"Manual"};console.log("ðŸ”„ TOGGLE - Function called",{currentMode:p.value,newMode:a}),console.log("ðŸ”„ TOGGLE - Mode change",{from:p.value,to:a}),console.log("ðŸ”„ TOGGLE - User confirmed, starting request"),S.value=!0;try{const o=k("projects.update-mode",d.project.slug);console.log("ðŸ”„ TOGGLE - Route URL:",o),w.patch(o,{mode:a},{onSuccess:n=>{console.log("ðŸ”„ TOGGLE - Success response:",n),p.value=a;const m=n.props?.flash?.message||`Switched to ${e[a]} writing mode`;P("Success",{description:m}),R.value=a==="auto"?"ai-generation":"manual-writing",console.log("ðŸ”„ TOGGLE - UI Updated:",{newMode:a,currentMode:p.value,isAutoMode:Y.value,activeTab:R.value})},onError:n=>{console.error("ðŸ”„ TOGGLE - Error response:",n),P("Error",{description:"Failed to switch writing mode. Please try again."})},onFinish:()=>{console.log("ðŸ”„ TOGGLE - Request finished"),S.value=!1}})}catch(o){console.error("ðŸ”„ TOGGLE - Exception:",o),P("Error",{description:"Failed to switch writing mode. Please try again."}),S.value=!1}},me=()=>{tt({showProgress:!0,animate:!0,steps:[{popover:{title:"Welcome to Your Writing Hub",description:"This is where you manage your project. Track progress, switch modes, and manage chapters all in one place.",popoverClass:"driver-popover-welcome"}},{element:"#mode-switcher",popover:{title:"AI Generated vs AI Assisted",description:"Toggle between AI Generated Mode (fully automated chapter generation) and AI Assisted Mode (manual writing with AI tools). You can switch anytime!"}},{element:"#continue-writing-card",popover:{title:"Resume Quickly",description:"Jump right back into your most recently edited chapter."}},{element:"#progress-overview",popover:{title:"Track Progress",description:"See your overall completion status, word counts, and chapter breakdowns at a glance."}},{element:"#action-cards",popover:{title:"Quick Actions",description:"Start a new chapter manually or let AI draft the next one for you."}},{element:"#chapter-tabs",popover:{title:"Chapter Management",description:'Use "Overview" to see all chapters. "AI Generation" offers Progressive (one chapter at a time) or Complete Project generation. "Edit Chapters" lets you start writing manually or generate an AI draft first.'}},{element:"#help-button",popover:{title:"Need Help?",description:"Click here anytime to restart this tour."}}]}).drive()};return fe(()=>{if(R.value=p.value==="auto"?"ai-generation":"manual-writing",d.project.id&&ne.props.auth?.user?.email){const a=`writing_hub_tour_seen_${ne.props.auth.user.email}`;localStorage.getItem(a)||setTimeout(()=>{me(),localStorage.setItem(a,"true")},1e3)}}),(a,e)=>(u(),g(Je,{title:`Writing: ${a.project.title}`},{default:l(()=>[t("div",at,[t("div",lt,[e[21]||(e[21]=t("div",{class:"flex items-center gap-3"},null,-1)),t("div",nt,[s(r(f),{onClick:ye,variant:"ghost",size:"sm",class:"gap-2"},{default:l(()=>[s(r(M),{class:"h-4 w-4 shrink-0"}),e[19]||(e[19]=t("span",{class:"hidden sm:inline"},"Analyze Chapters",-1))]),_:1}),s(r(f),{onClick:e[0]||(e[0]=o=>r(w).visit(r(k)("projects.edit",a.project.slug))),variant:"outline",size:"sm",class:"gap-2"},{default:l(()=>[s(r(_),{class:"h-4 w-4 shrink-0"}),e[20]||(e[20]=t("span",{class:"hidden sm:inline"},"Edit Project Details",-1))]),_:1}),s(r(f),{id:"help-button",variant:"ghost",size:"icon",onClick:me,title:"Restart Tutorial"},{default:l(()=>[s(r(rt),{class:"h-4 w-4"})]),_:1})])]),t("div",it,[e[22]||(e[22]=t("div",{class:"absolute inset-0 bg-grid-primary/5 [mask-image:linear-gradient(0deg,transparent,black)]"},null,-1)),t("div",dt,[t("div",ut,[s(r(E),{variant:"secondary",class:"px-3 py-1 text-sm backdrop-blur-sm"},{default:l(()=>[i(c(a.project.type),1)]),_:1}),s(r(E),{variant:p.value==="auto"?"default":"outline",class:b(p.value==="auto"?"bg-blue-600 hover:bg-blue-700":"")},{default:l(()=>[(u(),g(H(p.value==="auto"?r(M):r(_)),{class:"mr-1.5 h-3.5 w-3.5"})),i(" "+c(p.value==="auto"?"AI Assisted":"Manual Writing"),1)]),_:1},8,["variant","class"])]),s(Ze,{as:"h1",class:"max-w-4xl text-2xl font-bold tracking-tight text-foreground sm:text-3xl md:text-4xl bg-clip-text text-transparent bg-gradient-to-r from-foreground to-foreground/70",content:a.project.title},null,8,["content"]),t("div",ct,[(u(),v(D,null,K(["auto","manual"],o=>t("button",{key:o,onClick:n=>o!==p.value&&Se(),class:b(["relative flex items-center justify-center gap-1.5 sm:gap-2 rounded-full px-3 py-2 sm:px-6 sm:py-2.5 text-xs sm:text-sm font-medium transition-all duration-300 whitespace-nowrap",p.value===o?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground hover:text-foreground hover:bg-muted/50"])},[(u(),g(H(o==="auto"?r(M):r(_)),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})),i(" "+c(o==="auto"?"AI Generated":"AI Assisted"),1)],10,pt)),64))])])]),t("div",mt,[t("div",gt,[W.value?(u(),v("div",ft,[t("div",vt,[t("div",bt,[t("div",ht,[s(r(st),{class:"h-4 w-4"}),e[23]||(e[23]=t("span",{class:"text-sm font-medium"},"Continue where you left off",-1))]),t("h3",xt,c(W.value.title),1),t("div",wt,[t("span",kt,[s(r(B),{class:"h-3.5 w-3.5"}),i(" "+c(ze.value),1)]),t("span",_t,[s(r(oe),{class:"h-3.5 w-3.5"}),i(" "+c(W.value.word_count.toLocaleString())+" words ",1)])])]),s(r(f),{onClick:e[1]||(e[1]=o=>N(W.value.chapter_number)),size:"lg",class:"shrink-0 bg-gradient-to-r from-amber-600 to-orange-600 text-white shadow-lg shadow-orange-500/20 transition-all hover:scale-105 hover:shadow-orange-500/30 hover:from-amber-700 hover:to-orange-700"},{default:l(()=>[s(r(he),{class:"mr-2 h-4 w-4 fill-current"}),e[24]||(e[24]=i(" Resume Writing ",-1))]),_:1})])])):h("",!0),t("div",yt,[t("button",{onClick:e[2]||(e[2]=o=>C.value?N(C.value):null),disabled:!T.value,class:"group relative flex flex-col items-start gap-4 rounded-2xl border border-border/50 bg-card p-5 text-left shadow-sm transition-all hover:border-primary/50 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed h-full"},[t("div",jt,[s(r(_),{class:"h-5 w-5"})]),t("div",At,[e[25]||(e[25]=t("h3",{class:"font-semibold text-sm sm:text-base"},"Start Writing",-1)),t("p",Tt,c(T.value?`Begin Chapter ${C.value} manually`:"All chapters created"),1)]),t("div",Gt,[e[26]||(e[26]=i(" Get started ",-1)),s(r(ae),{class:"ml-1 h-3.5 w-3.5"})])],8,Ct),p.value==="auto"?(u(),v("button",{key:0,onClick:e[3]||(e[3]=o=>z("progressive")),disabled:A.value||!T.value,class:"group relative flex flex-col items-start gap-4 rounded-2xl border border-border/50 bg-card p-5 text-left shadow-sm transition-all hover:border-purple-500/50 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed h-full"},[t("div",$t,[s(r(M),{class:"h-5 w-5"})]),t("div",St,[e[27]||(e[27]=t("h3",{class:"font-semibold text-sm sm:text-base"},"Generate Chapter",-1)),t("p",It,c(A.value?"Generating content...":"Let AI draft the next chapter"),1)]),t("div",zt,[e[28]||(e[28]=i(" Start generation ",-1)),s(r(ae),{class:"ml-1 h-3.5 w-3.5"})])],8,Mt)):h("",!0),p.value==="auto"?(u(),v("button",{key:1,onClick:e[4]||(e[4]=o=>z("bulk")),disabled:A.value||!T.value,class:"group relative flex flex-col items-start gap-4 rounded-2xl border border-border/50 bg-gradient-to-br from-card to-pink-50/50 dark:to-pink-950/10 p-5 text-left shadow-sm transition-all hover:border-pink-500/50 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed h-full overflow-hidden"},[t("div",Pt,[s(r(L),{class:"h-12 w-12 text-pink-500"})]),t("div",Lt,[s(r(L),{class:"h-5 w-5"})]),e[30]||(e[30]=t("div",{class:"flex-1 relative z-10"},[t("h3",{class:"font-semibold text-sm sm:text-base"},"Complete Project"),t("p",{class:"text-xs text-muted-foreground mt-1"}," Generate all remaining chapters at once ")],-1)),t("div",Rt,[e[29]||(e[29]=i(" Generate all ",-1)),s(r(ae),{class:"ml-1 h-3.5 w-3.5"})])],8,Et)):h("",!0),p.value==="manual"?(u(),v("div",Wt,[t("div",Dt,[s(r(se),{class:"h-5 w-5"})]),e[31]||(e[31]=t("div",null,[t("h3",{class:"font-semibold text-sm sm:text-base"},"Manual Mode Active"),t("p",{class:"text-sm text-muted-foreground mt-1"},"Switch to AI mode to enable generation features.")],-1))])):h("",!0)]),s(r(Ke),{id:"chapter-tabs",modelValue:R.value,"onUpdate:modelValue":e[11]||(e[11]=o=>R.value=o),class:"space-y-8"},{default:l(()=>[s(r(Qe),{class:"flex h-auto w-full flex-col items-stretch justify-center rounded-2xl bg-muted/30 p-1.5 text-muted-foreground md:inline-flex md:h-14 md:w-auto md:flex-row md:items-center md:rounded-full border border-border/40 backdrop-blur-sm"},{default:l(()=>[s(r(te),{value:"overview",class:"rounded-xl px-8 py-2.5 text-sm font-medium transition-all duration-300 data-[state=active]:bg-gray-200 data-[state=active]:text-gray-900 dark:data-[state=active]:bg-neutral-800 dark:data-[state=active]:text-gray-50 data-[state=active]:shadow-sm md:rounded-full md:py-0"},{default:l(()=>[...e[32]||(e[32]=[i(" Overview ",-1)])]),_:1}),p.value==="auto"?(u(),g(r(te),{key:0,value:"ai-generation",class:"rounded-xl px-8 py-2.5 text-sm font-medium transition-all duration-300 data-[state=active]:bg-gray-200 data-[state=active]:text-gray-900 dark:data-[state=active]:bg-neutral-800 dark:data-[state=active]:text-gray-50 data-[state=active]:shadow-sm md:rounded-full md:py-0"},{default:l(()=>[...e[33]||(e[33]=[i(" AI Generation ",-1)])]),_:1})):h("",!0),s(r(te),{value:"manual-writing",class:"rounded-xl px-8 py-2.5 text-sm font-medium transition-all duration-300 data-[state=active]:bg-gray-200 data-[state=active]:text-gray-900 dark:data-[state=active]:bg-neutral-800 dark:data-[state=active]:text-gray-50 data-[state=active]:shadow-sm md:rounded-full md:py-0"},{default:l(()=>[i(c(p.value==="auto"?"Edit Chapters":"Manual Writing"),1)]),_:1})]),_:1}),s(r(re),{value:"overview",class:"space-y-6"},{default:l(()=>[t("div",Ut,[(u(!0),v(D,null,K(a.project.chapters,o=>(u(),g(r(V),{key:o.id,class:"group overflow-hidden border border-border/50 shadow-sm transition-all hover:border-primary/20 hover:shadow-md"},{default:l(()=>[s(r(J),{class:"pb-3"},{default:l(()=>[t("div",Ft,[t("div",null,[s(r(Z),{class:"text-lg group-hover:text-primary transition-colors"},{default:l(()=>[i(c(o.title),1)]),_:2},1024),s(r(Q),null,{default:l(()=>[i("Chapter "+c(o.chapter_number),1)]),_:2},1024)]),s(r(E),{class:b(pe(o.status)),variant:"outline"},{default:l(()=>[i(c(o.status.replace("_"," ")),1)]),_:2},1032,["class"])])]),_:2},1024),s(r(q),null,{default:l(()=>[t("div",Bt,[t("div",Ot,c(o.word_count.toLocaleString())+" words",1),t("div",Nt,[p.value==="auto"&&(!o.content||o.content.trim()==="")?(u(),g(r(f),{key:0,onClick:n=>z("progressive",o.chapter_number),size:"sm",class:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-sm"},{default:l(()=>[s(r(M),{class:"mr-1 h-4 w-4"}),e[34]||(e[34]=i(" Generate ",-1))]),_:2},1032,["onClick"])):h("",!0),o.content&&o.content.trim()!==""?(u(),g(r(f),{key:1,onClick:n=>Pe(o.chapter_number),size:"sm",variant:"outline",class:"hover:bg-muted"},{default:l(()=>[s(r(_),{class:"mr-1 h-4 w-4"}),e[35]||(e[35]=i(" Edit ",-1))]),_:2},1032,["onClick"])):p.value==="manual"||!p.value?(u(),g(r(f),{key:2,onClick:n=>N(o.chapter_number),size:"sm",variant:"default"},{default:l(()=>[s(r(_),{class:"mr-1 h-4 w-4"}),e[36]||(e[36]=i(" Start ",-1))]),_:2},1032,["onClick"])):(u(),g(r(E),{key:3,variant:"outline",class:"text-xs text-muted-foreground"},{default:l(()=>[...e[37]||(e[37]=[i(" Not Started ",-1)])]),_:1}))])])]),_:2},1024)]),_:2},1024))),128)),a.project.chapters.length===0?(u(),v("div",Vt,[s(r(se),{class:"mx-auto mb-4 h-12 w-12 text-muted-foreground/50"}),t("p",qt," No chapters created yet. "+c(p.value==="auto"?`Use AI generation to
                                        get started.`:"Create your first chapter manually."),1)])):h("",!0)])]),_:1}),p.value==="auto"?(u(),g(r(re),{key:0,value:"ai-generation",class:"space-y-8"},{default:l(()=>[s(r(V),{class:"border-border/40 bg-card/50 backdrop-blur-xl shadow-xl shadow-primary/5 overflow-hidden"},{default:l(()=>[s(r(J),{class:"border-b border-border/40 bg-muted/10 pb-8"},{default:l(()=>[t("div",Yt,[t("div",Ht,[s(r(xe),{class:"h-6 w-6 text-yellow-600 dark:text-yellow-500"})]),t("div",Kt,[s(r(Z),{class:"text-xl font-bold tracking-tight"},{default:l(()=>[...e[38]||(e[38]=[i("AI Chapter Generation ",-1)])]),_:1}),s(r(Q),{class:"text-base"},{default:l(()=>[...e[39]||(e[39]=[i("Choose how you'd like the AI to generate your academic chapters.",-1)])]),_:1})])])]),_:1}),s(r(q),{class:"p-8 space-y-8"},{default:l(()=>[t("div",Qt,[e[44]||(e[44]=t("h4",{class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground"}," Generation Style",-1)),t("div",Jt,[t("label",{class:b(["group relative flex cursor-pointer flex-col justify-between gap-6 rounded-3xl border-2 p-6 transition-all duration-300 hover:shadow-xl",x.value==="progressive"?"border-blue-500 bg-blue-50/50 shadow-blue-500/10 dark:bg-blue-950/10":"border-border/50 bg-card hover:border-blue-500/30 hover:bg-accent/5"])},[t("div",Zt,[t("div",Xt,[s(r(oe),{class:"h-6 w-6"})]),t("div",er,[t("div",{class:b(["h-5 w-5 rounded-full border-2 transition-colors",x.value==="progressive"?"border-blue-600":"border-muted-foreground/30"])},null,2),t("div",{class:b(["absolute h-2.5 w-2.5 rounded-full bg-blue-600 transition-transform duration-200",x.value==="progressive"?"scale-100":"scale-0"])},null,2),ve(t("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=o=>x.value=o),value:"progressive",class:"sr-only"},null,512),[[be,x.value]])])]),e[40]||(e[40]=t("div",null,[t("p",{class:"text-lg font-bold text-foreground group-hover:text-blue-600 transition-colors"}," Progressive Generation"),t("p",{class:"mt-2 text-sm text-muted-foreground leading-relaxed"}," Best for control. Generate one chapter at a time, review, and ensure each part aligns with your vision before moving forward. ")],-1))],2),t("label",{class:b(["group relative flex cursor-pointer flex-col justify-between gap-6 rounded-3xl border-2 p-6 transition-all duration-300 hover:shadow-xl overflow-hidden",x.value==="bulk"?"border-pink-500 bg-pink-50/50 shadow-pink-500/10 dark:bg-pink-950/10":"border-border/50 bg-card hover:border-pink-500/30 hover:bg-accent/5"])},[x.value==="bulk"?(u(),v("div",tr)):h("",!0),t("div",rr,[t("div",sr,[s(r(L),{class:"h-6 w-6"})]),t("div",or,[t("div",{class:b(["h-5 w-5 rounded-full border-2 transition-colors",x.value==="bulk"?"border-pink-600":"border-muted-foreground/30"])},null,2),t("div",{class:b(["absolute h-2.5 w-2.5 rounded-full bg-pink-600 transition-transform duration-200",x.value==="bulk"?"scale-100":"scale-0"])},null,2),ve(t("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=o=>x.value=o),value:"bulk",class:"sr-only"},null,512),[[be,x.value]])])]),t("div",ar,[t("div",lr,[e[42]||(e[42]=t("p",{class:"text-lg font-bold text-foreground group-hover:text-pink-600 transition-colors"}," Complete Project",-1)),s(r(E),{variant:"secondary",class:"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300 text-[10px] px-1.5 py-0 h-5"},{default:l(()=>[...e[41]||(e[41]=[i(" POPULAR",-1)])]),_:1})]),e[43]||(e[43]=t("p",{class:"mt-2 text-sm text-muted-foreground leading-relaxed"}," Fast-track your drafts. Generate the entire project structure, literature, and chapters in one automated workflow. ",-1))])],2)])]),t("div",nr,[x.value==="progressive"?(u(),v("div",ir,[s(r(f),{onClick:e[7]||(e[7]=o=>z("progressive")),disabled:A.value||!T.value,size:"lg",class:"w-full h-14 text-base font-semibold bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 text-white shadow-lg shadow-indigo-500/25 transition-all hover:scale-[1.01] hover:shadow-indigo-500/40"},{default:l(()=>[A.value?(u(),g(r(B),{key:1,class:"mr-2 h-5 w-5 animate-spin"})):(u(),g(r(he),{key:0,class:"mr-2 h-5 w-5 fill-current"})),i(" "+c(A.value?"Generating Chapter...":T.value?`Generate Chapter ${C.value}`:"Chapter Limit Reached"),1)]),_:1},8,["disabled"]),t("p",dr,[T.value?(u(),v("span",ur,[s(r(M),{class:"h-4 w-4 text-indigo-500"}),e[45]||(e[45]=i(" AI will generate Chapter ",-1)),t("span",cr,c(C.value),1),e[46]||(e[46]=i(" based on your topic and previous chapters. ",-1))])):(u(),v("span",pr,[s(r(le),{class:"h-4 w-4"}),i(" You have reached the maximum chapters ("+c(I.value)+") for this project category. ",1)]))])])):h("",!0),x.value==="bulk"?(u(),v("div",mr,[s(r(f),{onClick:e[8]||(e[8]=o=>z("bulk")),disabled:A.value,size:"lg",class:"w-full h-14 text-base font-semibold bg-gradient-to-r from-purple-600 via-pink-600 to-rose-600 hover:from-purple-700 hover:via-pink-700 hover:to-rose-700 text-white shadow-lg shadow-pink-500/25 transition-all hover:scale-[1.01] hover:shadow-pink-500/40"},{default:l(()=>[A.value?(u(),g(r(B),{key:1,class:"mr-2 h-5 w-5 animate-spin"})):(u(),g(r(xe),{key:0,class:"mr-2 h-5 w-5 fill-current"})),i(" "+c(A.value?"Generating Complete Project...":`Generate
                                                Complete Project`),1)]),_:1},8,["disabled"]),t("p",gr,[s(r(L),{class:"h-4 w-4 text-pink-500"}),e[47]||(e[47]=i(" AI will collect literature, generate all chapters, and assemble the complete project. ",-1))])])):h("",!0)])]),_:1})]),_:1}),t("div",fr,[t("div",vr,[t("div",br,[s(r(M),{class:"h-5 w-5"})]),e[48]||(e[48]=t("div",{class:"space-y-2"},[t("h4",{class:"font-semibold text-blue-900 dark:text-blue-100"},"AI Generation Tips "),t("ul",{class:"grid gap-2 text-sm text-blue-800/80 dark:text-blue-200/70 sm:grid-cols-2"},[t("li",{class:"flex items-center gap-2"},[t("div",{class:"h-1.5 w-1.5 rounded-full bg-blue-500"}),i(" Progressive generation builds better context ")]),t("li",{class:"flex items-center gap-2"},[t("div",{class:"h-1.5 w-1.5 rounded-full bg-blue-500"}),i(" Bulk generation is faster but may need editing ")]),t("li",{class:"flex items-center gap-2"},[t("div",{class:"h-1.5 w-1.5 rounded-full bg-blue-500"}),i(" All AI content is fully editable ")]),t("li",{class:"flex items-center gap-2"},[t("div",{class:"h-1.5 w-1.5 rounded-full bg-blue-500"}),i(" Uses your approved topic & requirements ")])])],-1))])])]),_:1})):h("",!0),s(r(re),{value:"manual-writing",class:"space-y-6"},{default:l(()=>[s(r(V),{class:"border border-border/50 shadow-sm"},{default:l(()=>[s(r(J),null,{default:l(()=>[s(r(Z),{class:"flex items-center gap-2"},{default:l(()=>[s(r(_),{class:"h-5 w-5"}),e[49]||(e[49]=i(" Chapter Management ",-1))]),_:1}),s(r(Q),null,{default:l(()=>[...e[50]||(e[50]=[i("Create and edit chapters using the full-featured writing editor. ",-1)])]),_:1})]),_:1}),s(r(q),{class:"space-y-4"},{default:l(()=>[t("div",hr,[s(r(f),{onClick:e[9]||(e[9]=o=>C.value?N(C.value):null),disabled:!T.value,size:"lg",class:"flex-1"},{default:l(()=>[s(r(_),{class:"mr-2 h-5 w-5"}),i(" "+c(T.value?`Start Chapter ${C.value}`:"Chapter Limit Reached"),1)]),_:1},8,["disabled"]),p.value==="auto"?(u(),g(r(f),{key:0,onClick:e[10]||(e[10]=o=>z("single")),disabled:A.value||!T.value,size:"lg",variant:"outline",class:"flex-1"},{default:l(()=>[s(r(M),{class:"mr-2 h-5 w-5"}),e[51]||(e[51]=i(" AI Draft First ",-1))]),_:1},8,["disabled"])):h("",!0)]),t("p",xr,c(p.value==="manual"?`Use the full-featured editor to write your
                                        chapters from scratch.`:`Write manually or generate an AI draft to edit
                                        and improve.`),1)]),_:1})]),_:1}),t("div",wr,[e[54]||(e[54]=t("h4",{class:"text-sm font-medium"},"Your Chapters",-1)),t("div",kr,[(u(!0),v(D,null,K(a.estimatedChapters,o=>(u(),g(r(V),{key:o,class:"group overflow-hidden border border-border/50 shadow-sm transition-all hover:border-primary/20 hover:shadow-md"},{default:l(()=>[s(r(q),{class:"p-4"},{default:l(()=>[t("div",_r,[t("div",yr,[t("h5",Cr,c(Re(o)),1),t("p",jr,"Chapter "+c(o),1),t("div",Ar,[a.project.chapters.find(n=>n.chapter_number===o&&n.content&&n.content.trim()!=="")?(u(),v(D,{key:0},[s(r(E),{class:b(pe(a.project.chapters.find(n=>n.chapter_number===o)?.status||"draft")),variant:"outline"},{default:l(()=>[i(c(a.project.chapters.find(n=>n.chapter_number===o)?.status.replace("_"," ")),1)]),_:2},1032,["class"]),t("span",Tr,c(a.project.chapters.find(n=>n.chapter_number===o)?.word_count.toLocaleString())+" words ",1)],64)):(u(),g(r(E),{key:1,variant:"outline",class:"bg-muted text-muted-foreground"},{default:l(()=>[...e[52]||(e[52]=[i("Not Started ",-1)])]),_:1}))])]),t("div",Gr,[p.value==="auto"&&!a.project.chapters.find(n=>n.chapter_number===o&&n.content&&n.content.trim()!=="")?(u(),g(r(f),{key:0,onClick:n=>z("progressive",o),size:"sm",class:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white"},{default:l(()=>[s(r(M),{class:"mr-1 h-4 w-4"}),e[53]||(e[53]=i(" Generate ",-1))]),_:2},1032,["onClick"])):h("",!0),s(r(f),{onClick:n=>Le(o),size:"sm",variant:a.project.chapters.find(n=>n.chapter_number===o&&n.content&&n.content.trim()!=="")?"outline":"default"},{default:l(()=>[s(r(_),{class:"mr-1 h-4 w-4"}),i(" "+c(a.project.chapters.find(n=>n.chapter_number===o&&n.content&&n.content.trim()!=="")?"Edit":"Start"),1)]),_:2},1032,["onClick","variant"])])])]),_:2},1024)]),_:2},1024))),128))])])]),_:1})]),_:1},8,["modelValue"])]),t("div",Mr,[t("div",$r,[t("h3",Sr,[s(r(we),{class:"h-5 w-5 text-primary"}),e[55]||(e[55]=i(" Project Progress ",-1))]),t("div",Ir,[(u(),v("svg",zr,[e[56]||(e[56]=t("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor","stroke-width":"8",class:"text-muted/20"},null,-1)),t("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor","stroke-width":"8",class:"text-primary transition-all duration-1000 ease-out","stroke-dasharray":251.2,"stroke-dashoffset":251.2-251.2*ue.value/100,"stroke-linecap":"round"},null,8,Er)])),t("div",Pr,[t("span",Lr,c(Math.round(ue.value))+"%",1),e[57]||(e[57]=t("span",{class:"text-xs text-muted-foreground"},"Completed",-1))])]),t("div",Rr,[t("div",Wr,[e[58]||(e[58]=t("span",{class:"text-sm text-muted-foreground"},"Total Words",-1)),t("span",Dr,c(de.value.toLocaleString()),1)]),t("div",Ur,[e[59]||(e[59]=t("span",{class:"text-sm text-muted-foreground"},"Chapters Done",-1)),t("span",Fr,c(ce.value)+" / "+c(a.estimatedChapters),1)])])])])]),s(r(X),{open:U.value,"onUpdate:open":e[13]||(e[13]=o=>U.value=o)},{default:l(()=>[s(r(ee),{class:"sm:max-w-[425px] border-border/50 bg-background/80 backdrop-blur-xl shadow-2xl p-0 overflow-hidden gap-0"},{default:l(()=>[t("div",{class:b(["relative h-32 w-full overflow-hidden bg-gradient-to-br",y.value==="auto"?"from-blue-600/20 via-indigo-500/10 to-transparent":"from-slate-500/20 via-zinc-500/10 to-transparent"])},[e[61]||(e[61]=t("div",{class:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,transparent,black)]"},null,-1)),t("div",Br,[t("div",{class:b(["flex h-12 w-12 items-center justify-center rounded-xl border border-white/10 shadow-lg backdrop-blur-md",y.value==="auto"?"bg-blue-500/20 text-blue-500":"bg-zinc-500/20 text-zinc-500"])},[(u(),g(H(y.value==="auto"?r(M):r(_)),{class:"h-6 w-6"}))],2),t("div",null,[t("h3",Or,c(y.value==="auto"?"AI Assisted Mode":"Manual Writing Mode"),1),e[60]||(e[60]=t("p",{class:"text-xs text-muted-foreground"},"Switching writing experience",-1))])])],2),t("div",Nr,[t("div",{class:b(["rounded-xl border border-border/50 p-4",y.value==="auto"?"bg-blue-50/50 dark:bg-blue-950/10":"bg-zinc-50/50 dark:bg-zinc-900/10"])},[t("div",Vr,[s(r(le),{class:b(["h-5 w-5 shrink-0 mt-0.5",y.value==="auto"?"text-blue-600":"text-zinc-600"])},null,8,["class"]),t("div",qr,[t("p",{class:b(["text-sm font-medium",y.value==="auto"?"text-blue-900 dark:text-blue-100":"text-zinc-900 dark:text-zinc-100"])}," Mode Translation ",2),e[62]||(e[62]=t("p",{class:"text-xs text-muted-foreground leading-relaxed"}," You are about to facilitate a mode switch. This will update your workspace tools and capabilities. ",-1))])])],2),t("div",Yr,[e[67]||(e[67]=t("h4",{class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground"},"What changes",-1)),t("div",Hr,[y.value==="auto"?(u(),v(D,{key:0},[t("div",Kr,[t("div",Qr,[s(r(L),{class:"h-3.5 w-3.5"})]),e[63]||(e[63]=t("span",null,"AI Generation & Assistance enabled",-1))]),t("div",Jr,[t("div",Zr,[s(r(ke),{class:"h-3.5 w-3.5"})]),e[64]||(e[64]=t("span",null,"Existing content preserved",-1))])],64)):(u(),v(D,{key:1},[t("div",Xr,[t("div",es,[s(r(_),{class:"h-3.5 w-3.5"})]),e[65]||(e[65]=t("span",null,"Full manual control enabled",-1))]),t("div",ts,[t("div",rs,[s(r(ke),{class:"h-3.5 w-3.5"})]),e[66]||(e[66]=t("span",null,"Existing content preserved",-1))])],64))])])]),t("div",ss,[s(r(f),{onClick:e[12]||(e[12]=o=>U.value=!1),variant:"ghost",class:"w-full sm:w-auto hover:bg-transparent hover:underline"},{default:l(()=>[...e[68]||(e[68]=[i(" Cancel ",-1)])]),_:1}),s(r(f),{onClick:We,disabled:S.value,class:b(["w-full sm:w-auto text-white shadow-md transition-all hover:scale-[1.02]",y.value==="auto"?"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700":"bg-zinc-900 dark:bg-zinc-100 dark:text-zinc-900 hover:bg-zinc-800"])},{default:l(()=>[S.value?(u(),g(r(B),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):h("",!0),i(" "+c(S.value?"Switching...":"Confirm Switch"),1)]),_:1},8,["disabled","class"])])]),_:1})]),_:1},8,["open"]),s(r(X),{open:F.value,"onUpdate:open":e[15]||(e[15]=o=>F.value=o)},{default:l(()=>[s(r(ee),{class:"sm:max-w-lg p-0 gap-0 border-border/50 bg-background/80 backdrop-blur-3xl overflow-hidden shadow-2xl rounded-3xl"},{default:l(()=>[t("div",os,[e[70]||(e[70]=t("div",{class:"absolute inset-0 opacity-20 bg-[url('https://grainy-gradients.vercel.app/noise.svg')]"},null,-1)),e[71]||(e[71]=t("div",{class:"absolute inset-0 bg-grid-white/10 [mask-image:linear-gradient(0deg,transparent,black)]"},null,-1)),t("div",as,[t("div",ls,[s(r(L),{class:"h-7 w-7 text-white"})]),e[69]||(e[69]=t("div",{class:"text-white"},[t("h3",{class:"text-xl font-bold tracking-tight text-white mb-0.5 shadow-sm"}," Complete Project "),t("p",{class:"text-xs font-medium text-white/80"},"AI Automated Workflow")],-1))])]),t("div",ns,[e[77]||(e[77]=t("div",{class:"rounded-2xl border border-purple-100 bg-purple-50/50 p-5 dark:border-purple-900/30 dark:bg-purple-950/10"},[t("p",{class:"text-sm text-purple-900 dark:text-purple-100 leading-relaxed font-medium"},' "This will kickstart a comprehensive generation process. The AI will research, draft, and format your entire project based on the approved topic." ')],-1)),t("div",is,[e[75]||(e[75]=t("h4",{class:"text-xs font-bold uppercase tracking-wider text-muted-foreground/70"},"Generation Components ",-1)),t("div",ds,[t("div",us,[t("div",cs,[s(r(se),{class:"h-4 w-4"})]),t("div",ps,[e[72]||(e[72]=t("span",{class:"font-semibold text-foreground block"},"Full Chapter Generation",-1)),t("span",ms,"Drafting sections 1-"+c(I.value)+" with context.",1)])]),t("div",gs,[t("div",fs,[s(r(oe),{class:"h-4 w-4"})]),e[73]||(e[73]=t("div",{class:"text-sm"},[t("span",{class:"font-semibold text-foreground block"},"Literature Integration"),t("span",{class:"text-muted-foreground text-xs"},"Finding and citing relevant academic sources.")],-1))]),t("div",vs,[t("div",bs,[s(r(_),{class:"h-4 w-4"})]),e[74]||(e[74]=t("div",{class:"text-sm"},[t("span",{class:"font-semibold text-foreground block"},"Formatting & Appendices"),t("span",{class:"text-muted-foreground text-xs"},"Structuring preliminary pages and references.")],-1))])])]),t("div",hs,[s(r(B),{class:"h-5 w-5 text-purple-600 dark:text-purple-400 shrink-0"}),e[76]||(e[76]=t("div",{class:"text-sm"},[t("p",{class:"font-semibold text-purple-900 dark:text-purple-200"},"Estimated Duration"),t("p",{class:"text-purple-700/80 dark:text-purple-300/80 text-xs"},"Approximately 15-20 minutes to complete.")],-1))])]),t("div",xs,[s(r(f),{onClick:e[14]||(e[14]=o=>F.value=!1),variant:"ghost",class:"w-full sm:w-auto hover:bg-transparent hover:underline"},{default:l(()=>[...e[78]||(e[78]=[i(" Cancel ",-1)])]),_:1}),s(r(f),{onClick:De,class:"w-full sm:w-auto h-11 px-8 rounded-xl bg-gradient-to-r from-purple-600 via-fuchsia-600 to-pink-600 text-white shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 hover:scale-[1.02] transition-all font-semibold"},{default:l(()=>[s(r(L),{class:"mr-2 h-4 w-4"}),e[79]||(e[79]=i(" Start Generation ",-1))]),_:1})])]),_:1})]),_:1},8,["open"]),s(r(X),{open:O.value,"onUpdate:open":e[17]||(e[17]=o=>O.value=o)},{default:l(()=>[s(r(ee),{class:"sm:max-w-md"},{default:l(()=>[s(r(Ve),null,{default:l(()=>[s(r(qe),{class:"flex items-center gap-2 text-destructive"},{default:l(()=>[s(r(le),{class:"h-5 w-5"}),e[80]||(e[80]=i(" Return to Topic Approval ",-1))]),_:1}),s(r(Ye),{class:"space-y-4 pt-2 text-left"},{default:l(()=>[t("div",ws,[t("div",ks,[s(r(we),{class:"h-5 w-5 text-orange-600 mt-0.5 flex-shrink-0"}),e[81]||(e[81]=t("div",{class:"space-y-1"},[t("p",{class:"font-semibold text-orange-900"},"Warning: Progress Reset"),t("p",{class:"text-sm text-orange-800/80"}," This will reset your writing progress and return you to the topic approval stage. All chapter content will be preserved, but you'll need to re-approve your topic. ")],-1))])]),e[82]||(e[82]=t("p",{class:"text-sm font-medium text-foreground"},"Are you sure you want to continue? ",-1))]),_:1})]),_:1}),s(r(He),{class:"flex-col gap-2 sm:flex-row"},{default:l(()=>[s(r(f),{onClick:e[16]||(e[16]=o=>O.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>[...e[83]||(e[83]=[i(" Cancel ",-1)])]),_:1}),s(r(f),{onClick:Ue,variant:"destructive",class:"w-full sm:w-auto"},{default:l(()=>[s(r(ot),{class:"mr-2 h-4 w-4"}),e[84]||(e[84]=i(" Reset Progress ",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(Xe,{open:r(ie),"current-balance":r(Ce),"required-words":r(je),action:r(Ae),"onUpdate:open":e[18]||(e[18]=o=>ie.value=o),onClose:r(Ge)},null,8,["open","current-balance","required-words","action","onClose"])])]),_:1},8,["title"]))}});export{ho as default};
