import{bt as y,bs as f,bA as b,cm as x,cn as a,co as r,cq as t,cp as i,bE as n,cr as c,cC as l,cH as h,cS as k,dh as $,cs as d,ck as N}from"./vendor-B0P7kkmx.js";import{a as w}from"./AppLayout.vue_vue_type_script_setup_true_lang-DgGnVzcb.js";import{_ as C,a as B}from"./CardContent.vue_vue_type_script_setup_true_lang-Inj97kMy.js";import{_ as D,a as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-mTag2pdV.js";import{_ as L}from"./index-DoaZXG4c.js";import{_ as g}from"./index-CeE5dpwC.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-mfygCHkH.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-j6BVOz2e.js";import"./Sonner.vue_vue_type_script_setup_true_lang-DEHww6d5.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-PZJ5tAoX.js";import"./WordBalanceDisplay.vue_vue_type_script_setup_true_lang-CPYESHVZ.js";import"./useAppearance-aNFzu-SB.js";import"./useWordBalance-BdsKHd_Q.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PWAInstallPrompt.vue_vue_type_script_setup_true_lang-QsmOkiEy.js";const R={class:"container mx-auto px-4 py-8 max-w-6xl"},S={key:0,class:"text-sm text-muted-foreground"},j={key:1,class:"text-sm text-muted-foreground"},z={key:2,class:"overflow-x-auto"},A={class:"w-full"},E={class:"py-3 px-2 text-sm"},P={class:"font-medium"},q={class:"text-xs text-muted-foreground"},F={class:"py-3 px-2 text-center"},G={key:1,class:"text-xs text-muted-foreground"},H={class:"py-3 px-2 text-right text-sm text-muted-foreground"},J={key:3,class:"flex items-center justify-end gap-2 pt-4"},re=y({__name:"Referrals",setup(M){const m=f([]),_=f(!1),o=f({current_page:1,last_page:1,total:0,per_page:20}),p=async(u=1)=>{_.value=!0;try{const s=await(await fetch(`${N("affiliate.referrals.data")}?page=${u}`)).json();m.value=s.referrals||[],o.value=s.pagination||o.value}finally{_.value=!1}},v=u=>new Date(u).toLocaleDateString("en-NG",{year:"numeric",month:"short",day:"numeric"});return b(()=>p()),(u,e)=>(a(),x(w,{title:"Affiliate Referrals"},{default:r(()=>[t("div",R,[i(n(C),{class:"border-border/50"},{default:r(()=>[i(n(D),null,{default:r(()=>[i(n(V),null,{default:r(()=>[...e[2]||(e[2]=[c("Your Referrals",-1)])]),_:1})]),_:1}),i(n(B),null,{default:r(()=>[_.value?(a(),l("div",S,"Loading referrals...")):m.value.length===0?(a(),l("div",j,"No referrals yet.")):(a(),l("div",z,[t("table",A,[e[3]||(e[3]=t("thead",null,[t("tr",{class:"border-b border-border/50"},[t("th",{class:"text-left py-3 px-2 text-sm font-medium text-muted-foreground"},"User"),t("th",{class:"text-center py-3 px-2 text-sm font-medium text-muted-foreground"},"Purchases"),t("th",{class:"text-right py-3 px-2 text-sm font-medium text-muted-foreground"},"Joined")])],-1)),t("tbody",null,[(a(!0),l(k,null,$(m.value,s=>(a(),l("tr",{key:s.id,class:"border-b border-border/30"},[t("td",E,[t("div",P,d(s.name),1),t("div",q,d(s.email),1)]),t("td",F,[s.successful_payments_count>0?(a(),x(n(L),{key:0,class:"bg-green-500/10 text-green-600 border-green-500/20"},{default:r(()=>[c(d(s.successful_payments_count)+" purchase"+d(s.successful_payments_count>1?"s":""),1)]),_:2},1024)):(a(),l("span",G,"No purchases"))]),t("td",H,d(v(s.created_at)),1)]))),128))])])])),o.value.last_page>1?(a(),l("div",J,[i(n(g),{variant:"outline",size:"sm",disabled:o.value.current_page<=1,onClick:e[0]||(e[0]=s=>p(o.value.current_page-1))},{default:r(()=>[...e[4]||(e[4]=[c(" Previous ",-1)])]),_:1},8,["disabled"]),i(n(g),{variant:"outline",size:"sm",disabled:o.value.current_page>=o.value.last_page,onClick:e[1]||(e[1]=s=>p(o.value.current_page+1))},{default:r(()=>[...e[5]||(e[5]=[c(" Next ",-1)])]),_:1},8,["disabled"])])):h("",!0)]),_:1})]),_:1})])]),_:1}))}});export{re as default};
