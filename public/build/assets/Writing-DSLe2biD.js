import{d as Ve,I as qe,y,w as ve,a as G,F as be,C as g,o as u,E as l,K as t,H as s,u as r,R as w,J as k,P as i,M as c,n as f,a4 as J,c as b,Q as W,S as Z,O as h,A as he,a9 as xe}from"./app-B0kF8k29.js";import{_ as S}from"./index-BX_nQR4F.js";import{_ as v}from"./index-C0SLUj2i.js";import{_ as q,a as Y}from"./CardContent.vue_vue_type_script_setup_true_lang-C0hLN4X4.js";import{_ as X}from"./CardDescription.vue_vue_type_script_setup_true_lang-Emv7Gmfq.js";import{_ as ee,a as te}from"./CardTitle.vue_vue_type_script_setup_true_lang-CAnl3p65.js";import{_ as re,a as se}from"./DialogContent.vue_vue_type_script_setup_true_lang-DzWVUis5.js";import{_ as Ye}from"./DialogDescription.vue_vue_type_script_setup_true_lang-BhxzrhH5.js";import{_ as He}from"./DialogFooter.vue_vue_type_script_setup_true_lang-TTx3NMsS.js";import{_ as Ke,a as Qe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CDS6yRqv.js";import{_ as Je,a as Ze,b as oe,c as ae}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-BZv0sS3g.js";import{_ as Xe}from"./AppLayout.vue_vue_type_script_setup_true_lang-BWmiPav5.js";import{_ as et}from"./SafeHtmlText.vue_vue_type_script_setup_true_lang-NcCzllL4.js";import{t as P}from"./index-BoeZbtgA.js";import{_ as tt}from"./PurchaseModal.vue_vue_type_script_setup_true_lang-DPeZaGQy.js";import{u as rt}from"./useWordBalance-D2Uha6ZQ.js";import{A as st}from"./driver-B4w0q6_T.js";import{B as $}from"./brain-B4SqKrkT.js";import{S as _}from"./square-pen-Db_yHK52.js";import{C as ot}from"./circle-help-49c5suVN.js";import{A as at}from"./activity-D9cd-CQj.js";import{C as B}from"./clock-C_L0mzp0.js";import{F as le}from"./file-text-Br9UtEh4.js";import{P as we}from"./play-CGQUdKar.js";import{S as D}from"./sparkles-BbsS5jnr.js";import{A as H}from"./arrow-right-C9mGfiUk.js";import{S as lt}from"./shield-DABUA-Pl.js";import{B as ne,T as ie}from"./triangle-alert-DuP5arm-.js";import{Z as ke}from"./zap-B_SH-bQR.js";import{T as ye}from"./target-DibfvKqo.js";import{C as _e}from"./check-CEt2jqUz.js";import{A as nt}from"./arrow-left-BtCM5dlY.js";import"./index-DsHxzjCZ.js";import"./Presence-Bj9mfJQy.js";import"./useForwardExpose-DvsR2gOR.js";import"./DialogTitle-kUDE-DWA.js";import"./VisuallyHidden-KLLlvcL-.js";import"./RovingFocusItem-ggaQs033.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-DnzsZePu.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-BnyjwDqu.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CBBrHpG-.js";import"./loader-circle-BBhT74IN.js";import"./coins-B6BEFjYp.js";import"./log-out-CHUAohWC.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-2j9PBaRI.js";import"./library-Bk_rqwxG.js";import"./plus-DdJuN8aN.js";import"./chevron-right-DXpi25t3.js";import"./WordBalanceDisplay.vue_vue_type_script_setup_true_lang-D7NVm75V.js";import"./sun-nzcdUt0o.js";import"./purify.es-DxJI3Wx7.js";const it={class:"mx-auto max-w-7xl space-y-8 p-6"},dt={class:"flex items-center justify-between"},ut={class:"flex items-center gap-2"},ct={class:"relative overflow-hidden rounded-3xl border border-border/50 bg-gradient-to-b from-background to-muted/20 p-6 md:p-12"},pt={class:"relative z-10 flex flex-col items-center text-center space-y-6"},mt={class:"flex flex-wrap items-center justify-center gap-3"},gt={id:"mode-switcher",class:"flex items-center gap-1 sm:gap-2 rounded-full border border-border/50 bg-background/50 p-1 sm:p-1.5 shadow-sm backdrop-blur-sm"},ft=["onClick"],vt={class:"grid gap-8 lg:grid-cols-3"},bt={class:"space-y-8 lg:col-span-2 order-2 lg:order-1"},ht={key:0,id:"continue-writing-card",class:"group relative overflow-hidden rounded-2xl border border-border/50 bg-gradient-to-br from-amber-50/50 to-orange-50/50 p-6 dark:from-amber-950/10 dark:to-orange-950/10 transition-all hover:shadow-md"},xt={class:"flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between"},wt={class:"space-y-2"},kt={class:"flex items-center gap-2 text-amber-600 dark:text-amber-500"},yt={class:"text-xl font-semibold tracking-tight"},_t={class:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground"},Ct={class:"flex items-center gap-1.5"},jt={class:"flex items-center gap-1.5"},At={id:"action-cards",class:"space-y-4"},Tt=["disabled"],Mt={class:"relative z-10 flex-1 space-y-2"},$t={class:"flex items-center gap-2.5 mb-1"},Gt={class:"flex items-center justify-center rounded-md bg-pink-100/50 p-1.5 text-pink-600 dark:bg-pink-900/20 dark:text-pink-400"},St={class:"relative z-10 hidden sm:flex items-center justify-center pl-4"},It={class:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},zt=["disabled"],Et={class:"rounded-full bg-green-100 p-2.5 text-green-600 dark:bg-green-900/20 dark:text-green-400"},Pt={class:"flex-1"},Lt={class:"text-xs text-muted-foreground mt-1"},Rt={class:"mt-auto flex items-center text-xs font-medium text-primary opacity-0 transition-opacity group-hover:opacity-100"},Wt={class:"rounded-full bg-amber-100 p-2.5 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400"},Dt={class:"flex-1"},Ft={class:"flex items-center gap-2"},Ot={class:"mt-auto flex items-center text-xs font-medium text-amber-600 opacity-0 transition-opacity group-hover:opacity-100"},Ut=["disabled"],Bt={class:"rounded-full bg-purple-100 p-2.5 text-purple-600 dark:bg-purple-900/20 dark:text-purple-400"},Nt={class:"flex-1"},Vt={class:"text-xs text-muted-foreground mt-1"},qt={class:"mt-auto flex items-center text-xs font-medium text-purple-600 opacity-0 transition-opacity group-hover:opacity-100"},Yt={key:1,class:"flex flex-col items-start justify-center gap-4 rounded-2xl border border-border/50 bg-muted/30 p-5 text-left h-full min-h-[140px]"},Ht={class:"flex items-center gap-3"},Kt={class:"rounded-full bg-gray-100 p-2 text-gray-600 dark:bg-gray-800 dark:text-gray-400"},Qt={class:"grid gap-4"},Jt={class:"flex items-start justify-between"},Zt={class:"flex flex-wrap items-center justify-between gap-y-2"},Xt={class:"text-sm text-muted-foreground"},er={class:"flex gap-2"},tr={key:0,class:"rounded-xl border-2 border-dashed border-border/50 bg-muted/10 py-12 text-center"},rr={class:"mb-4 text-sm text-muted-foreground"},sr={class:"flex items-center gap-4"},or={class:"p-3 rounded-xl bg-gradient-to-br from-yellow-500/20 to-orange-500/20 ring-1 ring-yellow-500/30"},ar={class:"space-y-1"},lr={class:"space-y-6"},nr={class:"grid gap-6 md:grid-cols-2"},ir={class:"flex items-start justify-between"},dr={class:"p-3 rounded-2xl bg-blue-100/80 text-blue-600 dark:bg-blue-900/40 dark:text-blue-400 transition-colors group-hover:bg-blue-100 dark:group-hover:bg-blue-900/60"},ur={class:"relative flex h-5 w-5 items-center justify-center"},cr={key:0,class:"absolute -right-12 -top-12 h-32 w-32 rounded-full bg-gradient-to-br from-purple-500/20 to-pink-500/20 blur-2xl"},pr={class:"flex items-start justify-between relative z-10"},mr={class:"p-3 rounded-2xl bg-pink-100/80 text-pink-600 dark:bg-pink-900/40 dark:text-pink-400 transition-colors group-hover:bg-pink-100 dark:group-hover:bg-pink-900/60"},gr={class:"relative flex h-5 w-5 items-center justify-center"},fr={class:"relative z-10"},vr={class:"flex items-center gap-2 mb-1"},br={class:"pt-4"},hr={key:0,class:"space-y-4"},xr={class:"text-sm text-center text-muted-foreground"},wr={key:0,class:"flex items-center justify-center gap-2"},kr={class:"font-mono font-bold text-foreground"},yr={key:1,class:"text-amber-600 flex items-center justify-center gap-2"},_r={key:1,class:"space-y-4"},Cr={class:"text-sm text-center text-muted-foreground flex items-center justify-center gap-2"},jr={class:"rounded-2xl border border-blue-200/50 bg-gradient-to-br from-blue-50 to-indigo-50/50 p-6 dark:from-blue-950/20 dark:to-indigo-950/20 dark:border-blue-800/30"},Ar={class:"flex gap-4"},Tr={class:"p-2 rounded-lg bg-blue-100 text-blue-600 dark:bg-blue-900/40 dark:text-blue-400 h-fit"},Mr={class:"flex flex-col sm:flex-row gap-3"},$r={class:"text-xs text-muted-foreground text-center"},Gr={class:"space-y-3"},Sr={class:"grid gap-3"},Ir={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},zr={class:"flex-1"},Er={class:"font-medium group-hover:text-primary transition-colors"},Pr={class:"text-xs text-muted-foreground"},Lr={class:"mt-2"},Rr={class:"ml-2 text-xs text-muted-foreground"},Wr={class:"flex gap-2"},Dr={class:"space-y-8 lg:col-span-1 order-1 lg:order-2"},Fr={id:"progress-overview",class:"rounded-3xl border border-border/50 bg-card p-6 shadow-sm dark:bg-card/50"},Or={class:"mb-6 flex items-center gap-2 font-semibold"},Ur={class:"relative mx-auto mb-8 flex h-40 w-40 items-center justify-center"},Br={class:"h-full w-full -rotate-90 transform",viewBox:"0 0 100 100"},Nr=["stroke-dashoffset"],Vr={class:"absolute inset-0 flex flex-col items-center justify-center text-center"},qr={class:"text-3xl font-bold"},Yr={class:"space-y-4"},Hr={class:"flex items-center justify-between rounded-lg bg-muted/50 p-3"},Kr={class:"font-mono font-semibold"},Qr={class:"flex items-center justify-between rounded-lg bg-muted/50 p-3"},Jr={class:"font-mono font-semibold"},Zr={class:"absolute bottom-6 left-6 flex items-center gap-3"},Xr={class:"text-lg font-semibold tracking-tight text-foreground"},es={class:"p-6 space-y-6"},ts={class:"flex gap-3"},rs={class:"space-y-1"},ss={class:"space-y-3"},os={class:"grid gap-2"},as={class:"flex items-center gap-3 rounded-lg bg-secondary/30 p-2.5 text-sm"},ls={class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-blue-100 text-blue-600 dark:bg-blue-900/40 dark:text-blue-400"},ns={class:"flex items-center gap-3 rounded-lg bg-secondary/30 p-2.5 text-sm"},is={class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-green-100 text-green-600 dark:bg-green-900/40 dark:text-green-400"},ds={class:"flex items-center gap-3 rounded-lg bg-secondary/30 p-2.5 text-sm"},us={class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-zinc-100 text-zinc-600 dark:bg-zinc-800 dark:text-zinc-400"},cs={class:"flex items-center gap-3 rounded-lg bg-secondary/30 p-2.5 text-sm"},ps={class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-green-100 text-green-600 dark:bg-green-900/40 dark:text-green-400"},ms={class:"border-t border-border/40 bg-muted/20 p-6 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end"},gs={class:"relative h-36 w-full overflow-hidden bg-gradient-to-br from-purple-600 via-fuchsia-600 to-pink-600"},fs={class:"absolute bottom-6 left-6 flex items-center gap-4 z-10"},vs={class:"flex h-14 w-14 items-center justify-center rounded-2xl bg-white/10 border border-white/20 shadow-xl backdrop-blur-md"},bs={class:"p-6 md:p-8 space-y-6"},hs={class:"space-y-4"},xs={class:"grid grid-cols-1 gap-3"},ws={class:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50 transition-colors"},ks={class:"h-8 w-8 rounded-full bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400 flex items-center justify-center shrink-0"},ys={class:"text-sm"},_s={class:"text-muted-foreground text-xs"},Cs={class:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50 transition-colors"},js={class:"h-8 w-8 rounded-full bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400 flex items-center justify-center shrink-0"},As={class:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50 transition-colors"},Ts={class:"h-8 w-8 rounded-full bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400 flex items-center justify-center shrink-0"},Ms={class:"flex items-center gap-3 rounded-xl bg-purple-50/80 p-4 border border-purple-100 dark:bg-purple-900/10 dark:border-purple-800/30"},$s={class:"border-t border-border/40 bg-muted/20 p-6 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end"},Gs={class:"rounded-xl bg-orange-50 p-4 border border-orange-200"},Ss={class:"flex items-start gap-3"},Go=Ve({__name:"Writing",props:{project:{},targetWordCount:{},estimatedChapters:{}},setup(Ce){const d=Ce,de=qe(),L=y("overview"),T=y(!1),x=y("progressive"),I=y(!1),p=y(d.project.mode);ve(()=>d.project.mode,a=>{p.value=a},{immediate:!0});const F=y(!1),C=y("auto"),O=y(!1),N=y(!1),je=()=>{w.visit(k("projects.analysis",{project:d.project.slug}))},{balance:Ae,showPurchaseModal:ue,requiredWordsForModal:Te,actionDescriptionForModal:Me,checkAndPrompt:$e,closePurchaseModal:Ge,estimates:Se}=rt(),z=G(()=>d.project.facultyStructureChapters?.length||0||d.project.category?.default_chapter_count||d.estimatedChapters||d.project.chapters.length||1),Ie=G(()=>{const a=z.value||1,e=d.targetWordCount||0,o=(d.project.facultyStructureChapters||[]).map(m=>m.target_word_count||0),n=o.length>0?Math.ceil(o.reduce((m,A)=>m+A,0)/o.length):0;return e?Math.ceil(e/a):n||2e3}),K=y(p.value==="auto");ve(p,a=>{K.value=a==="auto"},{immediate:!0});const ze=()=>{if(I.value)return;const a=p.value==="auto"?"manual":"auto";C.value=a,F.value=!0};console.log("ðŸ” INITIAL TOGGLE STATE:",{currentMode:p.value,isAutoMode:K.value,shouldBeChecked:p.value==="auto"});const ce=G(()=>d.project.chapters.reduce((a,e)=>a+e.word_count,0)),pe=G(()=>d.project.progress!==void 0?d.project.progress:Math.min(ce.value/d.targetWordCount*100,100)),me=G(()=>d.project.chapters.filter(a=>a.status!=="not_started"&&a.word_count>0).length),j=G(()=>{const a=z.value,e=d.project.chapters.find(m=>m.status==="not_started"||m.content===null||m.content===""||m.content===void 0);if(e)return e.chapter_number<=a?e.chapter_number:null;const o=Math.max(...d.project.chapters.map(m=>m.chapter_number),0),n=o+1;return console.log("nextChapterNumber debug (Writing page):",{maxAllowedChapters:a,categoryName:d.project.category?.name,maxChapterNumber:o,nextNumber:n,withinLimits:n<=a}),n<=a?n:null}),Ee=a=>{const e=a??j.value,o=e?d.project.chapters.find(A=>A.chapter_number===e):null;if(o?.target_word_count)return o.target_word_count;const n=e?(d.project.outlines||[]).find(A=>A.chapter_number===e):null;if(n?.target_word_count)return n.target_word_count;const m=e?(d.project.facultyStructureChapters||[]).find(A=>A.chapter_number===e):null;return m?.target_word_count?m.target_word_count:Ie.value},M=G(()=>Math.max(...d.project.chapters.map(e=>e.chapter_number),0)<z.value&&j.value!==null),R=G(()=>{const a=d.project.chapters.filter(e=>e.content&&e.content.trim()!==""&&e.updated_at);return a.length===0?null:a.reduce((e,o)=>new Date(o.updated_at)>new Date(e.updated_at)?o:e)}),Pe=G(()=>{if(!R.value)return null;const a=new Date(R.value.updated_at),o=Math.floor((new Date().getTime()-a.getTime())/(1e3*60*60));return o<1?"Less than an hour ago":o<24?`${o} hours ago`:o<48?"Yesterday":`${Math.floor(o/24)} days ago`});be(()=>{L.value=p.value==="auto"?"ai-generation":"manual-writing"});const Le=(a,e)=>{const o=Ee(e),n=Se.chapter(o);if(a==="bulk"){const m=Math.max(1,z.value-me.value);return n*m}return n},E=(a,e)=>{const o=Le(a,e);if(!$e(o,a==="bulk"?"bulk-generate chapters":a==="progressive"?"stream the chapter with AI":"generate the chapter with AI"))return;if(a==="bulk"){O.value=!0;return}const m=e||j.value;if(!m){P("Chapter Limit Reached",{description:`You have reached the maximum number of chapters (${z.value}) for this project category.`});return}const A=d.project.chapters.find(Ne=>Ne.chapter_number===m);A&&A.content&&A.content.trim()!==""&&!confirm(`Chapter ${m} already has content. Do you want to regenerate it?`)||w.visit(k("chapters.write",{project:d.project.slug,chapter:m})+"?ai_generate=true&generation_type="+a)},Re=a=>{w.visit(k("chapters.edit",{project:d.project.slug,chapter:a}))},We=a=>{const e=d.project.chapters.find(n=>n.chapter_number===a),o=e?.content&&e.content.trim()!=="";if(d.project.mode==="manual"&&e){w.visit(k("projects.manual-editor.show",{project:d.project.slug,chapter:e.chapter_number}));return}o?w.visit(k("chapters.edit",{project:d.project.slug,chapter:a})):w.visit(k("chapters.write",{project:d.project.slug,chapter:a}))},V=a=>{if(console.log("ðŸš€ START CHAPTER CLICKED",{chapterNumber:a,projectMode:d.project.mode,projectSlug:d.project.slug}),d.project.mode==="manual"){console.log("ðŸ“ Manual mode detected, routing to manual editor...");const o=k("projects.manual-editor.show",{project:d.project.slug,chapter:a});console.log("âœ… Routing to manual editor:",o),w.visit(o);return}const e=k("chapters.write",{project:d.project.slug,chapter:a});console.log("ðŸ“„ Auto mode: Routing to chapters.write:",e),w.visit(e)},ge=a=>{switch(a){case"approved":return"bg-green-100 text-green-800 border-green-200";case"in_review":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"draft":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},De=a=>({1:"Introduction",2:"Literature Review",3:"Methodology",4:"Design and Implementation",5:"Results and Analysis",6:"Conclusion and Recommendations"})[a]||`Chapter ${a}`,Fe=()=>{F.value=!1,Be()},Oe=()=>{O.value=!1,w.visit(k("projects.bulk-generate",d.project.slug)+"?start=true")},Ue=()=>{N.value=!1;try{w.post(k("projects.go-back-to-topic-approval",d.project.slug),{},{onSuccess:()=>{P("Success",{description:"Returned to topic approval"})},onError:()=>{P("Error",{description:"Failed to go back. Please try again."})}})}catch{P("Error",{description:"Failed to go back. Please try again."})}},Be=async()=>{const a=C.value,e={auto:"AI Assisted",manual:"Manual"};console.log("ðŸ”„ TOGGLE - Function called",{currentMode:p.value,newMode:a}),console.log("ðŸ”„ TOGGLE - Mode change",{from:p.value,to:a}),console.log("ðŸ”„ TOGGLE - User confirmed, starting request"),I.value=!0;try{const o=k("projects.update-mode",d.project.slug);console.log("ðŸ”„ TOGGLE - Route URL:",o),w.patch(o,{mode:a},{onSuccess:n=>{console.log("ðŸ”„ TOGGLE - Success response:",n),p.value=a;const m=n.props?.flash?.message||`Switched to ${e[a]} writing mode`;P("Success",{description:m}),L.value=a==="auto"?"ai-generation":"manual-writing",console.log("ðŸ”„ TOGGLE - UI Updated:",{newMode:a,currentMode:p.value,isAutoMode:K.value,activeTab:L.value})},onError:n=>{console.error("ðŸ”„ TOGGLE - Error response:",n),P("Error",{description:"Failed to switch writing mode. Please try again."})},onFinish:()=>{console.log("ðŸ”„ TOGGLE - Request finished"),I.value=!1}})}catch(o){console.error("ðŸ”„ TOGGLE - Exception:",o),P("Error",{description:"Failed to switch writing mode. Please try again."}),I.value=!1}},fe=()=>{st({showProgress:!0,animate:!0,steps:[{popover:{title:"Welcome to Your Writing Hub",description:"This is where you manage your project. Track progress, switch modes, and manage chapters all in one place.",popoverClass:"driver-popover-welcome"}},{element:"#mode-switcher",popover:{title:"AI Generated vs AI Assisted",description:"Toggle between AI Generated Mode (fully automated chapter generation) and AI Assisted Mode (manual writing with AI tools). You can switch anytime!"}},{element:"#continue-writing-card",popover:{title:"Resume Quickly",description:"Jump right back into your most recently edited chapter."}},{element:"#progress-overview",popover:{title:"Track Progress",description:"See your overall completion status, word counts, and chapter breakdowns at a glance."}},{element:"#action-cards",popover:{title:"Quick Actions",description:"Start a new chapter manually or let AI draft the next one for you."}},{element:"#chapter-tabs",popover:{title:"Chapter Management",description:'Use "Overview" to see all chapters. "AI Generation" offers Progressive (one chapter at a time) or Complete Project generation. "Edit Chapters" lets you start writing manually or generate an AI draft first.'}},{element:"#help-button",popover:{title:"Need Help?",description:"Click here anytime to restart this tour."}}]}).drive()},Q=y(null),U=y(!1);return be(()=>{if(L.value=p.value==="auto"?"ai-generation":"manual-writing",d.project.id&&de.props.auth?.user?.email){const a=`writing_hub_tour_seen_${de.props.auth.user.email}`;localStorage.getItem(a)||setTimeout(()=>{fe(),localStorage.setItem(a,"true")},1e3)}"IntersectionObserver"in window&&Q.value&&new IntersectionObserver(e=>{e.forEach(o=>{U.value=o.isIntersecting})},{rootMargin:"-40% 0px -40% 0px",threshold:0}).observe(Q.value)}),(a,e)=>(u(),g(Xe,{title:`Writing: ${a.project.title}`},{default:l(()=>[t("div",it,[t("div",dt,[e[22]||(e[22]=t("div",{class:"flex items-center gap-3"},null,-1)),t("div",ut,[s(r(v),{onClick:je,variant:"ghost",size:"sm",class:"gap-2"},{default:l(()=>[s(r($),{class:"h-4 w-4 shrink-0"}),e[20]||(e[20]=t("span",{class:"hidden sm:inline"},"Analyze Chapters",-1))]),_:1}),s(r(v),{onClick:e[0]||(e[0]=o=>r(w).visit(r(k)("projects.edit",a.project.slug))),variant:"outline",size:"sm",class:"gap-2"},{default:l(()=>[s(r(_),{class:"h-4 w-4 shrink-0"}),e[21]||(e[21]=t("span",{class:"hidden sm:inline"},"Edit Project Details",-1))]),_:1}),s(r(v),{id:"help-button",variant:"ghost",size:"icon",onClick:fe,title:"Restart Tutorial"},{default:l(()=>[s(r(ot),{class:"h-4 w-4"})]),_:1})])]),t("div",ct,[e[23]||(e[23]=t("div",{class:"absolute inset-0 bg-grid-primary/5 [mask-image:linear-gradient(0deg,transparent,black)]"},null,-1)),t("div",pt,[t("div",mt,[s(r(S),{variant:"secondary",class:"px-3 py-1 text-sm backdrop-blur-sm"},{default:l(()=>[i(c(a.project.type),1)]),_:1}),s(r(S),{variant:p.value==="auto"?"default":"outline",class:f(p.value==="auto"?"bg-blue-600 hover:bg-blue-700":"")},{default:l(()=>[(u(),g(J(p.value==="auto"?r($):r(_)),{class:"mr-1.5 h-3.5 w-3.5"})),i(" "+c(p.value==="auto"?"AI Assisted":"Manual Writing"),1)]),_:1},8,["variant","class"])]),s(et,{as:"h1",class:"max-w-4xl text-2xl font-bold tracking-tight text-foreground sm:text-3xl md:text-4xl bg-clip-text text-transparent bg-gradient-to-r from-foreground to-foreground/70",content:a.project.title},null,8,["content"]),t("div",gt,[(u(),b(W,null,Z(["auto","manual"],o=>t("button",{key:o,onClick:n=>o!==p.value&&ze(),class:f(["relative flex items-center justify-center gap-1.5 sm:gap-2 rounded-full px-3 py-2 sm:px-6 sm:py-2.5 text-xs sm:text-sm font-medium transition-all duration-300 whitespace-nowrap",p.value===o?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground hover:text-foreground hover:bg-muted/50"])},[(u(),g(J(o==="auto"?r($):r(_)),{class:"h-3.5 w-3.5 sm:h-4 sm:w-4"})),i(" "+c(o==="auto"?"AI Generated":"AI Assisted"),1)],10,ft)),64))])])]),t("div",vt,[t("div",bt,[R.value?(u(),b("div",ht,[t("div",xt,[t("div",wt,[t("div",kt,[s(r(at),{class:"h-4 w-4"}),e[24]||(e[24]=t("span",{class:"text-sm font-medium"},"Continue where you left off",-1))]),t("h3",yt,c(R.value.title),1),t("div",_t,[t("span",Ct,[s(r(B),{class:"h-3.5 w-3.5"}),i(" "+c(Pe.value),1)]),t("span",jt,[s(r(le),{class:"h-3.5 w-3.5"}),i(" "+c(R.value.word_count.toLocaleString())+" words ",1)])])]),s(r(v),{onClick:e[1]||(e[1]=o=>V(R.value.chapter_number)),size:"lg",class:"shrink-0 bg-gradient-to-r from-amber-600 to-orange-600 text-white shadow-lg shadow-orange-500/20 transition-all hover:scale-105 hover:shadow-orange-500/30 hover:from-amber-700 hover:to-orange-700"},{default:l(()=>[s(r(we),{class:"mr-2 h-4 w-4 fill-current"}),e[25]||(e[25]=i(" Resume Writing ",-1))]),_:1})])])):h("",!0),t("div",At,[p.value==="auto"?(u(),b("button",{key:0,onClick:e[2]||(e[2]=o=>E("bulk")),ref_key:"bulkCardRef",ref:Q,disabled:T.value||!M.value,class:f(["group relative w-full flex items-center justify-between gap-6 rounded-3xl border border-border/50 bg-card p-6 md:px-8 md:py-7 text-left shadow-sm transition-all hover:border-pink-500/30 hover:shadow-lg hover:shadow-pink-500/5 hover:-translate-y-0.5 overflow-hidden",{"border-pink-500/30 shadow-lg shadow-pink-500/5 -translate-y-0.5":U.value}])},[t("div",{class:f(["absolute inset-0 bg-gradient-to-r from-transparent via-transparent to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500",{"opacity-100":U.value}])},null,2),t("div",Mt,[t("div",$t,[t("div",Gt,[s(r(D),{class:"h-3.5 w-3.5"})]),e[26]||(e[26]=t("span",{class:"text-xs font-semibold tracking-wide text-pink-600 dark:text-pink-400 uppercase"},"Automated Workflow",-1))]),t("h3",{class:f(["text-lg md:text-xl font-semibold text-foreground group-hover:text-pink-600 transition-colors",{"text-pink-600":U.value}])}," Complete Project Generation",2),e[27]||(e[27]=t("p",{class:"text-muted-foreground max-w-2xl text-sm leading-relaxed"}," Finalyze will draft your entire project chapters in one seamless process, with citations and references included. ",-1))]),t("div",St,[t("div",{class:f(["flex h-12 w-12 items-center justify-center rounded-full border border-border/50 bg-background shadow-sm group-hover:border-pink-500/30 group-hover:text-pink-600 transition-all duration-300 group-hover:scale-110",{"border-pink-500/30 text-pink-600 scale-110":U.value}])},[s(r(H),{class:"h-5 w-5"})],2)])],10,Tt)):h("",!0),t("div",It,[t("button",{onClick:e[3]||(e[3]=o=>j.value?V(j.value):null),disabled:!M.value,class:"group relative flex flex-col items-start gap-4 rounded-2xl border border-border/50 bg-card p-5 text-left shadow-sm transition-all hover:border-primary/50 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed h-full min-h-[140px]"},[t("div",Et,[s(r(_),{class:"h-5 w-5"})]),t("div",Pt,[e[28]||(e[28]=t("h3",{class:"font-semibold text-sm sm:text-base"},"Start Writing",-1)),t("p",Lt,c(M.value?`Begin Chapter ${j.value} manually`:"All chapters created"),1)]),t("div",Rt,[e[29]||(e[29]=i(" Take the next step ",-1)),s(r(H),{class:"ml-1 h-3.5 w-3.5"})])],8,zt),t("button",{onClick:e[4]||(e[4]=o=>r(w).visit(r(k)("projects.defense",a.project.slug))),class:"group relative flex flex-col items-start gap-4 rounded-2xl border border-border/50 bg-card p-5 text-left shadow-sm transition-all hover:border-amber-500/50 hover:shadow-md h-full min-h-[140px]"},[t("div",Wt,[s(r(lt),{class:"h-5 w-5"})]),t("div",Dt,[t("div",Ft,[e[31]||(e[31]=t("h3",{class:"font-semibold text-sm sm:text-base"},"Defense Preparation",-1)),s(r(S),{variant:"secondary",class:"text-[10px] bg-amber-500/10 text-amber-600 border-none"},{default:l(()=>[...e[30]||(e[30]=[i("NEW",-1)])]),_:1})]),e[32]||(e[32]=t("p",{class:"text-xs text-muted-foreground mt-1"}," Practice with AI examiners, master your presentation, and simulate your final defense. ",-1))]),t("div",Ot,[e[33]||(e[33]=i(" Enter Defense Mode ",-1)),s(r(H),{class:"ml-1 h-3.5 w-3.5"})])]),p.value==="auto"?(u(),b("button",{key:0,onClick:e[5]||(e[5]=o=>E("progressive")),disabled:T.value||!M.value,class:"group relative flex flex-col items-start gap-4 rounded-2xl border border-border/50 bg-card p-5 text-left shadow-sm transition-all hover:border-purple-500/50 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed h-full min-h-[140px]"},[t("div",Bt,[s(r($),{class:"h-5 w-5"})]),t("div",Nt,[e[34]||(e[34]=t("h3",{class:"font-semibold text-sm sm:text-base"},"Generate Chapter",-1)),t("p",Vt,c(T.value?"Generating content...":"Let AI draft the next chapter"),1)]),t("div",qt,[e[35]||(e[35]=i(" Start generation ",-1)),s(r(H),{class:"ml-1 h-3.5 w-3.5"})])],8,Ut)):h("",!0),p.value==="manual"?(u(),b("div",Yt,[t("div",Ht,[t("div",Kt,[s(r(ne),{class:"h-4 w-4"})]),e[36]||(e[36]=t("h3",{class:"font-semibold text-sm"},"Manual Mode Active",-1))]),e[37]||(e[37]=t("p",{class:"text-sm text-muted-foreground"}," Switch to AI mode to enable generation features. ",-1))])):h("",!0)])]),s(r(Je),{id:"chapter-tabs",modelValue:L.value,"onUpdate:modelValue":e[12]||(e[12]=o=>L.value=o),class:"space-y-8"},{default:l(()=>[s(r(Ze),{class:"flex h-auto w-full flex-col items-stretch justify-center rounded-2xl bg-muted/30 p-1.5 text-muted-foreground md:inline-flex md:h-14 md:w-auto md:flex-row md:items-center md:rounded-full border border-border/40 backdrop-blur-sm"},{default:l(()=>[s(r(oe),{value:"overview",class:"rounded-xl px-8 py-2.5 text-sm font-medium transition-all duration-300 data-[state=active]:bg-gray-200 data-[state=active]:text-gray-900 dark:data-[state=active]:bg-neutral-800 dark:data-[state=active]:text-gray-50 data-[state=active]:shadow-sm md:rounded-full md:py-0"},{default:l(()=>[...e[38]||(e[38]=[i(" Overview ",-1)])]),_:1}),p.value==="auto"?(u(),g(r(oe),{key:0,value:"ai-generation",class:"rounded-xl px-8 py-2.5 text-sm font-medium transition-all duration-300 data-[state=active]:bg-gray-200 data-[state=active]:text-gray-900 dark:data-[state=active]:bg-neutral-800 dark:data-[state=active]:text-gray-50 data-[state=active]:shadow-sm md:rounded-full md:py-0"},{default:l(()=>[...e[39]||(e[39]=[i(" AI Generation ",-1)])]),_:1})):h("",!0),s(r(oe),{value:"manual-writing",class:"rounded-xl px-8 py-2.5 text-sm font-medium transition-all duration-300 data-[state=active]:bg-gray-200 data-[state=active]:text-gray-900 dark:data-[state=active]:bg-neutral-800 dark:data-[state=active]:text-gray-50 data-[state=active]:shadow-sm md:rounded-full md:py-0"},{default:l(()=>[i(c(p.value==="auto"?"Edit Chapters":"Manual Writing"),1)]),_:1})]),_:1}),s(r(ae),{value:"overview",class:"space-y-6"},{default:l(()=>[t("div",Qt,[(u(!0),b(W,null,Z(a.project.chapters,o=>(u(),g(r(q),{key:o.id,class:"group overflow-hidden border border-border/50 shadow-sm transition-all hover:border-primary/20 hover:shadow-md"},{default:l(()=>[s(r(ee),{class:"pb-3"},{default:l(()=>[t("div",Jt,[t("div",null,[s(r(te),{class:"text-lg group-hover:text-primary transition-colors"},{default:l(()=>[i(c(o.title),1)]),_:2},1024),s(r(X),null,{default:l(()=>[i("Chapter "+c(o.chapter_number),1)]),_:2},1024)]),s(r(S),{class:f(ge(o.status)),variant:"outline"},{default:l(()=>[i(c(o.status.replace("_"," ")),1)]),_:2},1032,["class"])])]),_:2},1024),s(r(Y),null,{default:l(()=>[t("div",Zt,[t("div",Xt,c(o.word_count.toLocaleString())+" words",1),t("div",er,[p.value==="auto"&&(!o.content||o.content.trim()==="")?(u(),g(r(v),{key:0,onClick:n=>E("progressive",o.chapter_number),size:"sm",class:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-sm"},{default:l(()=>[s(r($),{class:"mr-1 h-4 w-4"}),e[40]||(e[40]=i(" Generate ",-1))]),_:2},1032,["onClick"])):h("",!0),o.content&&o.content.trim()!==""?(u(),g(r(v),{key:1,onClick:n=>Re(o.chapter_number),size:"sm",variant:"outline",class:"hover:bg-muted"},{default:l(()=>[s(r(_),{class:"mr-1 h-4 w-4"}),e[41]||(e[41]=i(" Edit ",-1))]),_:2},1032,["onClick"])):p.value==="manual"||!p.value?(u(),g(r(v),{key:2,onClick:n=>V(o.chapter_number),size:"sm",variant:"default"},{default:l(()=>[s(r(_),{class:"mr-1 h-4 w-4"}),e[42]||(e[42]=i(" Start ",-1))]),_:2},1032,["onClick"])):(u(),g(r(S),{key:3,variant:"outline",class:"text-xs text-muted-foreground"},{default:l(()=>[...e[43]||(e[43]=[i(" Not Started ",-1)])]),_:1}))])])]),_:2},1024)]),_:2},1024))),128)),a.project.chapters.length===0?(u(),b("div",tr,[s(r(ne),{class:"mx-auto mb-4 h-12 w-12 text-muted-foreground/50"}),t("p",rr," No chapters created yet. "+c(p.value==="auto"?`Use AI generation to
                                        get started.`:"Create your first chapter manually."),1)])):h("",!0)])]),_:1}),p.value==="auto"?(u(),g(r(ae),{key:0,value:"ai-generation",class:"space-y-8"},{default:l(()=>[s(r(q),{class:"border-border/40 bg-card/50 backdrop-blur-xl shadow-xl shadow-primary/5 overflow-hidden"},{default:l(()=>[s(r(ee),{class:"border-b border-border/40 bg-muted/10 pb-8"},{default:l(()=>[t("div",sr,[t("div",or,[s(r(ke),{class:"h-6 w-6 text-yellow-600 dark:text-yellow-500"})]),t("div",ar,[s(r(te),{class:"text-xl font-bold tracking-tight"},{default:l(()=>[...e[44]||(e[44]=[i("AI Chapter Generation ",-1)])]),_:1}),s(r(X),{class:"text-base"},{default:l(()=>[...e[45]||(e[45]=[i("Choose how you'd like the AI to generate your academic chapters.",-1)])]),_:1})])])]),_:1}),s(r(Y),{class:"p-8 space-y-8"},{default:l(()=>[t("div",lr,[e[50]||(e[50]=t("h4",{class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground"}," Generation Style",-1)),t("div",nr,[t("label",{class:f(["group relative flex cursor-pointer flex-col justify-between gap-6 rounded-3xl border-2 p-6 transition-all duration-300 hover:shadow-xl",x.value==="progressive"?"border-blue-500 bg-blue-50/50 shadow-blue-500/10 dark:bg-blue-950/10":"border-border/50 bg-card hover:border-blue-500/30 hover:bg-accent/5"])},[t("div",ir,[t("div",dr,[s(r(le),{class:"h-6 w-6"})]),t("div",ur,[t("div",{class:f(["h-5 w-5 rounded-full border-2 transition-colors",x.value==="progressive"?"border-blue-600":"border-muted-foreground/30"])},null,2),t("div",{class:f(["absolute h-2.5 w-2.5 rounded-full bg-blue-600 transition-transform duration-200",x.value==="progressive"?"scale-100":"scale-0"])},null,2),he(t("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=o=>x.value=o),value:"progressive",class:"sr-only"},null,512),[[xe,x.value]])])]),e[46]||(e[46]=t("div",null,[t("p",{class:"text-lg font-bold text-foreground group-hover:text-blue-600 transition-colors"}," Progressive Generation"),t("p",{class:"mt-2 text-sm text-muted-foreground leading-relaxed"}," Best for control. Generate one chapter at a time, review, and ensure each part aligns with your vision before moving forward. ")],-1))],2),t("label",{class:f(["group relative flex cursor-pointer flex-col justify-between gap-6 rounded-3xl border-2 p-6 transition-all duration-300 hover:shadow-xl overflow-hidden",x.value==="bulk"?"border-pink-500 bg-pink-50/50 shadow-pink-500/10 dark:bg-pink-950/10":"border-border/50 bg-card hover:border-pink-500/30 hover:bg-accent/5"])},[x.value==="bulk"?(u(),b("div",cr)):h("",!0),t("div",pr,[t("div",mr,[s(r(D),{class:"h-6 w-6"})]),t("div",gr,[t("div",{class:f(["h-5 w-5 rounded-full border-2 transition-colors",x.value==="bulk"?"border-pink-600":"border-muted-foreground/30"])},null,2),t("div",{class:f(["absolute h-2.5 w-2.5 rounded-full bg-pink-600 transition-transform duration-200",x.value==="bulk"?"scale-100":"scale-0"])},null,2),he(t("input",{type:"radio","onUpdate:modelValue":e[7]||(e[7]=o=>x.value=o),value:"bulk",class:"sr-only"},null,512),[[xe,x.value]])])]),t("div",fr,[t("div",vr,[e[48]||(e[48]=t("p",{class:"text-lg font-bold text-foreground group-hover:text-pink-600 transition-colors"}," Complete Project",-1)),s(r(S),{variant:"secondary",class:"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300 text-[10px] px-1.5 py-0 h-5"},{default:l(()=>[...e[47]||(e[47]=[i(" POPULAR",-1)])]),_:1})]),e[49]||(e[49]=t("p",{class:"mt-2 text-sm text-muted-foreground leading-relaxed"}," Fast-track your drafts. Generate the entire project structure, literature, and chapters in one automated workflow. ",-1))])],2)])]),t("div",br,[x.value==="progressive"?(u(),b("div",hr,[s(r(v),{onClick:e[8]||(e[8]=o=>E("progressive")),disabled:T.value||!M.value,size:"lg",class:"w-full h-14 text-base font-semibold bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 text-white shadow-lg shadow-indigo-500/25 transition-all hover:scale-[1.01] hover:shadow-indigo-500/40"},{default:l(()=>[T.value?(u(),g(r(B),{key:1,class:"mr-2 h-5 w-5 animate-spin"})):(u(),g(r(we),{key:0,class:"mr-2 h-5 w-5 fill-current"})),i(" "+c(T.value?"Generating Chapter...":M.value?`Generate Chapter ${j.value}`:"Chapter Limit Reached"),1)]),_:1},8,["disabled"]),t("p",xr,[M.value?(u(),b("span",wr,[s(r($),{class:"h-4 w-4 text-indigo-500"}),e[51]||(e[51]=i(" AI will generate Chapter ",-1)),t("span",kr,c(j.value),1),e[52]||(e[52]=i(" based on your topic and previous chapters. ",-1))])):(u(),b("span",yr,[s(r(ie),{class:"h-4 w-4"}),i(" You have reached the maximum chapters ("+c(z.value)+") for this project category. ",1)]))])])):h("",!0),x.value==="bulk"?(u(),b("div",_r,[s(r(v),{onClick:e[9]||(e[9]=o=>E("bulk")),disabled:T.value,size:"lg",class:"w-full h-14 text-base font-semibold bg-gradient-to-r from-purple-600 via-pink-600 to-rose-600 hover:from-purple-700 hover:via-pink-700 hover:to-rose-700 text-white shadow-lg shadow-pink-500/25 transition-all hover:scale-[1.01] hover:shadow-pink-500/40"},{default:l(()=>[T.value?(u(),g(r(B),{key:1,class:"mr-2 h-5 w-5 animate-spin"})):(u(),g(r(ke),{key:0,class:"mr-2 h-5 w-5 fill-current"})),i(" "+c(T.value?"Generating Complete Project...":`Generate
                                                Complete Project`),1)]),_:1},8,["disabled"]),t("p",Cr,[s(r(D),{class:"h-4 w-4 text-pink-500"}),e[53]||(e[53]=i(" AI will collect literature, generate all chapters, and assemble the complete project. ",-1))])])):h("",!0)])]),_:1})]),_:1}),t("div",jr,[t("div",Ar,[t("div",Tr,[s(r($),{class:"h-5 w-5"})]),e[54]||(e[54]=t("div",{class:"space-y-2"},[t("h4",{class:"font-semibold text-blue-900 dark:text-blue-100"},"AI Generation Tips "),t("ul",{class:"grid gap-2 text-sm text-blue-800/80 dark:text-blue-200/70 sm:grid-cols-2"},[t("li",{class:"flex items-center gap-2"},[t("div",{class:"h-1.5 w-1.5 rounded-full bg-blue-500"}),i(" Progressive generation builds better context ")]),t("li",{class:"flex items-center gap-2"},[t("div",{class:"h-1.5 w-1.5 rounded-full bg-blue-500"}),i(" Bulk generation is faster but may need editing ")]),t("li",{class:"flex items-center gap-2"},[t("div",{class:"h-1.5 w-1.5 rounded-full bg-blue-500"}),i(" All AI content is fully editable ")]),t("li",{class:"flex items-center gap-2"},[t("div",{class:"h-1.5 w-1.5 rounded-full bg-blue-500"}),i(" Uses your approved topic & requirements ")])])],-1))])])]),_:1})):h("",!0),s(r(ae),{value:"manual-writing",class:"space-y-6"},{default:l(()=>[s(r(q),{class:"border border-border/50 shadow-sm"},{default:l(()=>[s(r(ee),null,{default:l(()=>[s(r(te),{class:"flex items-center gap-2"},{default:l(()=>[s(r(_),{class:"h-5 w-5"}),e[55]||(e[55]=i(" Chapter Management ",-1))]),_:1}),s(r(X),null,{default:l(()=>[...e[56]||(e[56]=[i("Create and edit chapters using the full-featured writing editor. ",-1)])]),_:1})]),_:1}),s(r(Y),{class:"space-y-4"},{default:l(()=>[t("div",Mr,[s(r(v),{onClick:e[10]||(e[10]=o=>j.value?V(j.value):null),disabled:!M.value,size:"lg",class:"flex-1"},{default:l(()=>[s(r(_),{class:"mr-2 h-5 w-5"}),i(" "+c(M.value?`Start Chapter ${j.value}`:"Chapter Limit Reached"),1)]),_:1},8,["disabled"]),p.value==="auto"?(u(),g(r(v),{key:0,onClick:e[11]||(e[11]=o=>E("single")),disabled:T.value||!M.value,size:"lg",variant:"outline",class:"flex-1"},{default:l(()=>[s(r($),{class:"mr-2 h-5 w-5"}),e[57]||(e[57]=i(" AI Draft First ",-1))]),_:1},8,["disabled"])):h("",!0)]),t("p",$r,c(p.value==="manual"?`Use the full-featured editor to write your
                                        chapters from scratch.`:`Write manually or generate an AI draft to edit
                                        and improve.`),1)]),_:1})]),_:1}),t("div",Gr,[e[60]||(e[60]=t("h4",{class:"text-sm font-medium"},"Your Chapters",-1)),t("div",Sr,[(u(!0),b(W,null,Z(a.estimatedChapters,o=>(u(),g(r(q),{key:o,class:"group overflow-hidden border border-border/50 shadow-sm transition-all hover:border-primary/20 hover:shadow-md"},{default:l(()=>[s(r(Y),{class:"p-4"},{default:l(()=>[t("div",Ir,[t("div",zr,[t("h5",Er,c(De(o)),1),t("p",Pr,"Chapter "+c(o),1),t("div",Lr,[a.project.chapters.find(n=>n.chapter_number===o&&n.content&&n.content.trim()!=="")?(u(),b(W,{key:0},[s(r(S),{class:f(ge(a.project.chapters.find(n=>n.chapter_number===o)?.status||"draft")),variant:"outline"},{default:l(()=>[i(c(a.project.chapters.find(n=>n.chapter_number===o)?.status.replace("_"," ")),1)]),_:2},1032,["class"]),t("span",Rr,c(a.project.chapters.find(n=>n.chapter_number===o)?.word_count.toLocaleString())+" words ",1)],64)):(u(),g(r(S),{key:1,variant:"outline",class:"bg-muted text-muted-foreground"},{default:l(()=>[...e[58]||(e[58]=[i("Not Started ",-1)])]),_:1}))])]),t("div",Wr,[p.value==="auto"&&!a.project.chapters.find(n=>n.chapter_number===o&&n.content&&n.content.trim()!=="")?(u(),g(r(v),{key:0,onClick:n=>E("progressive",o),size:"sm",class:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white"},{default:l(()=>[s(r($),{class:"mr-1 h-4 w-4"}),e[59]||(e[59]=i(" Generate ",-1))]),_:2},1032,["onClick"])):h("",!0),s(r(v),{onClick:n=>We(o),size:"sm",variant:a.project.chapters.find(n=>n.chapter_number===o&&n.content&&n.content.trim()!=="")?"outline":"default"},{default:l(()=>[s(r(_),{class:"mr-1 h-4 w-4"}),i(" "+c(a.project.chapters.find(n=>n.chapter_number===o&&n.content&&n.content.trim()!=="")?"Edit":"Start"),1)]),_:2},1032,["onClick","variant"])])])]),_:2},1024)]),_:2},1024))),128))])])]),_:1})]),_:1},8,["modelValue"])]),t("div",Dr,[t("div",Fr,[t("h3",Or,[s(r(ye),{class:"h-5 w-5 text-primary"}),e[61]||(e[61]=i(" Project Progress ",-1))]),t("div",Ur,[(u(),b("svg",Br,[e[62]||(e[62]=t("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor","stroke-width":"8",class:"text-muted/20"},null,-1)),t("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor","stroke-width":"8",class:"text-primary transition-all duration-1000 ease-out","stroke-dasharray":251.2,"stroke-dashoffset":251.2-251.2*pe.value/100,"stroke-linecap":"round"},null,8,Nr)])),t("div",Vr,[t("span",qr,c(Math.round(pe.value))+"%",1),e[63]||(e[63]=t("span",{class:"text-xs text-muted-foreground"},"Completed",-1))])]),t("div",Yr,[t("div",Hr,[e[64]||(e[64]=t("span",{class:"text-sm text-muted-foreground"},"Total Words",-1)),t("span",Kr,c(ce.value.toLocaleString()),1)]),t("div",Qr,[e[65]||(e[65]=t("span",{class:"text-sm text-muted-foreground"},"Chapters Done",-1)),t("span",Jr,c(me.value)+" / "+c(a.estimatedChapters),1)])])])])]),s(r(re),{open:F.value,"onUpdate:open":e[14]||(e[14]=o=>F.value=o)},{default:l(()=>[s(r(se),{class:"sm:max-w-[425px] border-border/50 bg-background/80 backdrop-blur-xl shadow-2xl p-0 overflow-hidden gap-0"},{default:l(()=>[t("div",{class:f(["relative h-32 w-full overflow-hidden bg-gradient-to-br",C.value==="auto"?"from-blue-600/20 via-indigo-500/10 to-transparent":"from-slate-500/20 via-zinc-500/10 to-transparent"])},[e[67]||(e[67]=t("div",{class:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,transparent,black)]"},null,-1)),t("div",Zr,[t("div",{class:f(["flex h-12 w-12 items-center justify-center rounded-xl border border-white/10 shadow-lg backdrop-blur-md",C.value==="auto"?"bg-blue-500/20 text-blue-500":"bg-zinc-500/20 text-zinc-500"])},[(u(),g(J(C.value==="auto"?r($):r(_)),{class:"h-6 w-6"}))],2),t("div",null,[t("h3",Xr,c(C.value==="auto"?"AI Assisted Mode":"Manual Writing Mode"),1),e[66]||(e[66]=t("p",{class:"text-xs text-muted-foreground"},"Switching writing experience",-1))])])],2),t("div",es,[t("div",{class:f(["rounded-xl border border-border/50 p-4",C.value==="auto"?"bg-blue-50/50 dark:bg-blue-950/10":"bg-zinc-50/50 dark:bg-zinc-900/10"])},[t("div",ts,[s(r(ie),{class:f(["h-5 w-5 shrink-0 mt-0.5",C.value==="auto"?"text-blue-600":"text-zinc-600"])},null,8,["class"]),t("div",rs,[t("p",{class:f(["text-sm font-medium",C.value==="auto"?"text-blue-900 dark:text-blue-100":"text-zinc-900 dark:text-zinc-100"])}," Mode Translation ",2),e[68]||(e[68]=t("p",{class:"text-xs text-muted-foreground leading-relaxed"}," You are about to facilitate a mode switch. This will update your workspace tools and capabilities. ",-1))])])],2),t("div",ss,[e[73]||(e[73]=t("h4",{class:"text-xs font-semibold uppercase tracking-wider text-muted-foreground"},"What changes",-1)),t("div",os,[C.value==="auto"?(u(),b(W,{key:0},[t("div",as,[t("div",ls,[s(r(D),{class:"h-3.5 w-3.5"})]),e[69]||(e[69]=t("span",null,"AI Generation & Assistance enabled",-1))]),t("div",ns,[t("div",is,[s(r(_e),{class:"h-3.5 w-3.5"})]),e[70]||(e[70]=t("span",null,"Existing content preserved",-1))])],64)):(u(),b(W,{key:1},[t("div",ds,[t("div",us,[s(r(_),{class:"h-3.5 w-3.5"})]),e[71]||(e[71]=t("span",null,"Full manual control enabled",-1))]),t("div",cs,[t("div",ps,[s(r(_e),{class:"h-3.5 w-3.5"})]),e[72]||(e[72]=t("span",null,"Existing content preserved",-1))])],64))])])]),t("div",ms,[s(r(v),{onClick:e[13]||(e[13]=o=>F.value=!1),variant:"ghost",class:"w-full sm:w-auto hover:bg-transparent hover:underline"},{default:l(()=>[...e[74]||(e[74]=[i(" Cancel ",-1)])]),_:1}),s(r(v),{onClick:Fe,disabled:I.value,class:f(["w-full sm:w-auto text-white shadow-md transition-all hover:scale-[1.02]",C.value==="auto"?"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700":"bg-zinc-900 dark:bg-zinc-100 dark:text-zinc-900 hover:bg-zinc-800"])},{default:l(()=>[I.value?(u(),g(r(B),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):h("",!0),i(" "+c(I.value?"Switching...":"Confirm Switch"),1)]),_:1},8,["disabled","class"])])]),_:1})]),_:1},8,["open"]),s(r(re),{open:O.value,"onUpdate:open":e[16]||(e[16]=o=>O.value=o)},{default:l(()=>[s(r(se),{class:"sm:max-w-lg p-0 gap-0 border-border/50 bg-background/80 backdrop-blur-3xl overflow-hidden shadow-2xl rounded-3xl"},{default:l(()=>[t("div",gs,[e[76]||(e[76]=t("div",{class:"absolute inset-0 opacity-20 bg-[url('https://grainy-gradients.vercel.app/noise.svg')]"},null,-1)),e[77]||(e[77]=t("div",{class:"absolute inset-0 bg-grid-white/10 [mask-image:linear-gradient(0deg,transparent,black)]"},null,-1)),t("div",fs,[t("div",vs,[s(r(D),{class:"h-7 w-7 text-white"})]),e[75]||(e[75]=t("div",{class:"text-white"},[t("h3",{class:"text-xl font-bold tracking-tight text-white mb-0.5 shadow-sm"}," Complete Project "),t("p",{class:"text-xs font-medium text-white/80"},"AI Automated Workflow")],-1))])]),t("div",bs,[e[83]||(e[83]=t("div",{class:"rounded-2xl border border-purple-100 bg-purple-50/50 p-5 dark:border-purple-900/30 dark:bg-purple-950/10"},[t("p",{class:"text-sm text-purple-900 dark:text-purple-100 leading-relaxed font-medium"},' "This will kickstart a comprehensive generation process. The AI will research, draft, and format your entire project based on the approved topic." ')],-1)),t("div",hs,[e[81]||(e[81]=t("h4",{class:"text-xs font-bold uppercase tracking-wider text-muted-foreground/70"},"Generation Components ",-1)),t("div",xs,[t("div",ws,[t("div",ks,[s(r(ne),{class:"h-4 w-4"})]),t("div",ys,[e[78]||(e[78]=t("span",{class:"font-semibold text-foreground block"},"Full Chapter Generation",-1)),t("span",_s,"Drafting sections 1-"+c(z.value)+" with context.",1)])]),t("div",Cs,[t("div",js,[s(r(le),{class:"h-4 w-4"})]),e[79]||(e[79]=t("div",{class:"text-sm"},[t("span",{class:"font-semibold text-foreground block"},"Literature Integration"),t("span",{class:"text-muted-foreground text-xs"},"Finding and citing relevant academic sources.")],-1))]),t("div",As,[t("div",Ts,[s(r(_),{class:"h-4 w-4"})]),e[80]||(e[80]=t("div",{class:"text-sm"},[t("span",{class:"font-semibold text-foreground block"},"Formatting & Appendices"),t("span",{class:"text-muted-foreground text-xs"},"Structuring preliminary pages and references.")],-1))])])]),t("div",Ms,[s(r(B),{class:"h-5 w-5 text-purple-600 dark:text-purple-400 shrink-0"}),e[82]||(e[82]=t("div",{class:"text-sm"},[t("p",{class:"font-semibold text-purple-900 dark:text-purple-200"},"Estimated Duration"),t("p",{class:"text-purple-700/80 dark:text-purple-300/80 text-xs"},"Approximately 15-20 minutes to complete.")],-1))])]),t("div",$s,[s(r(v),{onClick:e[15]||(e[15]=o=>O.value=!1),variant:"ghost",class:"w-full sm:w-auto hover:bg-transparent hover:underline"},{default:l(()=>[...e[84]||(e[84]=[i(" Cancel ",-1)])]),_:1}),s(r(v),{onClick:Oe,class:"w-full sm:w-auto h-11 px-8 rounded-xl bg-gradient-to-r from-purple-600 via-fuchsia-600 to-pink-600 text-white shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 hover:scale-[1.02] transition-all font-semibold"},{default:l(()=>[s(r(D),{class:"mr-2 h-4 w-4"}),e[85]||(e[85]=i(" Start Generation ",-1))]),_:1})])]),_:1})]),_:1},8,["open"]),s(r(re),{open:N.value,"onUpdate:open":e[18]||(e[18]=o=>N.value=o)},{default:l(()=>[s(r(se),{class:"sm:max-w-md"},{default:l(()=>[s(r(Ke),null,{default:l(()=>[s(r(Qe),{class:"flex items-center gap-2 text-destructive"},{default:l(()=>[s(r(ie),{class:"h-5 w-5"}),e[86]||(e[86]=i(" Return to Topic Approval ",-1))]),_:1}),s(r(Ye),{class:"space-y-4 pt-2 text-left"},{default:l(()=>[t("div",Gs,[t("div",Ss,[s(r(ye),{class:"h-5 w-5 text-orange-600 mt-0.5 flex-shrink-0"}),e[87]||(e[87]=t("div",{class:"space-y-1"},[t("p",{class:"font-semibold text-orange-900"},"Warning: Progress Reset"),t("p",{class:"text-sm text-orange-800/80"}," This will reset your writing progress and return you to the topic approval stage. All chapter content will be preserved, but you'll need to re-approve your topic. ")],-1))])]),e[88]||(e[88]=t("p",{class:"text-sm font-medium text-foreground"},"Are you sure you want to continue? ",-1))]),_:1})]),_:1}),s(r(He),{class:"flex-col gap-2 sm:flex-row"},{default:l(()=>[s(r(v),{onClick:e[17]||(e[17]=o=>N.value=!1),variant:"outline",class:"w-full sm:w-auto"},{default:l(()=>[...e[89]||(e[89]=[i(" Cancel ",-1)])]),_:1}),s(r(v),{onClick:Ue,variant:"destructive",class:"w-full sm:w-auto"},{default:l(()=>[s(r(nt),{class:"mr-2 h-4 w-4"}),e[90]||(e[90]=i(" Reset Progress ",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),s(tt,{open:r(ue),"current-balance":r(Ae),"required-words":r(Te),action:r(Me),"onUpdate:open":e[19]||(e[19]=o=>ue.value=o),onClose:r(Ge)},null,8,["open","current-balance","required-words","action","onClose"])])]),_:1},8,["title"]))}});export{Go as default};
