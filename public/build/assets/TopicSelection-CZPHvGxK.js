import{d as he,A as f,h as be,g as xe,C as S,c as j,o as u,w as l,e as t,k as o,u as a,s as c,t as p,a as w,q as te,n as O,b as oe,ac as se,Y as ye,F as L,E as G,x as V}from"./app-VmIkgWBY.js";import{_ as F}from"./index-D4xO16iz.js";import{_ as R}from"./index-BJSIFph3.js";import{_ as E,a as z}from"./CardContent.vue_vue_type_script_setup_true_lang-Cb_8jfwT.js";import{_ as re}from"./CardDescription.vue_vue_type_script_setup_true_lang-CpT7hOfC.js";import{_ as q,a as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-j4AD8KV6.js";import{_ as _e}from"./Input.vue_vue_type_script_setup_true_lang-D0OX6Ifa.js";import{_ as Y}from"./Label.vue_vue_type_script_setup_true_lang-BWW4caQ4.js";import{_ as we,a as Se,b as ae,c as le}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-ZcKlwGtI.js";import{_ as Te}from"./Textarea.vue_vue_type_script_setup_true_lang-DhfHw2V1.js";import{_ as Ie}from"./AppLayout.vue_vue_type_script_setup_true_lang-DcLqYe8A.js";import{t as h}from"./Sonner.vue_vue_type_script_setup_true_lang-QiSNjKcB.js";import{_ as ne}from"./SafeHtmlText.vue_vue_type_script_setup_true_lang-DI75JFou.js";import{ao as ke}from"./RichTextEditor-Cr6VPunt.js";import{_ as Ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useForwardExpose-DSP-40WM.js";import"./VisuallyHidden-BAxoT5X5.js";import"./RovingFocusItem-NjCnkNxF.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-DIY5100-.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BACWwGEz.js";import"./coins-BFuKMT37.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Kk3CC2gM.js";import"./plus-D7tpekVh.js";import"./chevron-right-1f__Kgh4.js";import"./triangle-alert-B9bRhR8x.js";import"./circle-check-Cus68PVN.js";import"./Progress.vue_vue_type_script_setup_true_lang-Doo5IkBn.js";import"./nullish-CHIgUVhi.js";import"./index-BWEDi_FC.js";import"./step-DrZ9DcYd.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-DIQ68_IQ.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-Dh8LRqlQ.js";import"./type-BQA-ujsk.js";import"./minus-DTxf3rGE.js";import"./list-BTeXPBBG.js";const Oe={class:"min-h-screen bg-gradient-to-b from-background via-background/95 to-muted/20"},Pe={class:"mx-auto max-w-7xl space-y-10 p-6 pb-20 lg:p-10"},je={class:"flex items-center justify-between"},Ee={class:"flex h-8 w-8 items-center justify-center rounded-full bg-muted/50 group-hover:bg-primary/10 transition-colors mr-2"},Ne={class:"space-y-4 text-center animate-in fade-in slide-in-from-bottom-4 duration-700"},Me={class:"mx-auto flex h-20 w-20 items-center justify-center rounded-2xl bg-gradient-to-br from-primary/20 to-primary/5 shadow-lg shadow-primary/10 ring-1 ring-white/20"},Re={class:"space-y-2"},Ae={class:"mx-auto max-w-2xl text-lg text-muted-foreground leading-relaxed"},Be={class:"font-medium text-foreground"},Ue={class:"font-medium text-foreground"},Fe={class:"animate-in fade-in slide-in-from-bottom-6 duration-700 delay-100"},$e={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},De={class:"p-6 relative"},Le={class:"mb-4 flex h-10 w-10 items-center justify-center rounded-xl bg-blue-500/10 text-blue-500 group-hover:scale-110 group-hover:bg-blue-500/20 transition-all duration-300"},Ge={class:"space-y-1"},Ve={class:"font-bold text-lg leading-tight text-foreground"},ze={class:"p-6 relative"},qe={class:"mb-4 flex h-10 w-10 items-center justify-center rounded-xl bg-purple-500/10 text-purple-500 group-hover:scale-110 group-hover:bg-purple-500/20 transition-all duration-300"},He={class:"space-y-1"},Ye={class:"font-bold text-lg leading-tight text-foreground capitalize"},Xe={class:"p-6 relative"},Je={class:"mb-4 flex h-10 w-10 items-center justify-center rounded-xl bg-orange-500/10 text-orange-500 group-hover:scale-110 group-hover:bg-orange-500/20 transition-all duration-300"},We={class:"space-y-1"},Ke=["title"],Qe={class:"p-6 relative"},Ze={class:"mb-4 flex h-10 w-10 items-center justify-center rounded-xl bg-green-500/10 text-green-500 group-hover:scale-110 group-hover:bg-green-500/20 transition-all duration-300"},et={class:"space-y-1"},tt={class:"font-bold text-lg leading-tight text-foreground"},ot={class:"animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200"},st={class:"flex justify-center"},rt={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},at={class:"p-1.5 rounded-md bg-primary/10 text-primary"},lt={class:"space-y-3"},nt={class:"space-y-3"},it={class:"p-1.5 rounded-md bg-primary/10 text-primary"},dt={class:"space-y-3 flex-1 flex flex-col"},ct={class:"flex-1 border rounded-md overflow-hidden bg-background"},ut={class:"pt-4 mt-auto"},pt={key:1,class:"flex items-center"},gt={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},mt={class:"space-y-1"},ft={class:"p-1.5 rounded-md bg-primary/10 text-primary"},vt={class:"flex items-center gap-3"},ht={key:0,class:"mt-6 flex flex-wrap items-center gap-4 animate-in fade-in slide-in-from-top-2"},bt={class:"flex items-center gap-2 bg-background/50 p-1 rounded-lg border border-border/50"},xt={class:"flex items-center gap-2 bg-background/50 p-1 rounded-lg border border-border/50"},yt={class:"ml-auto"},_t={key:0,class:"flex flex-col items-center justify-center h-[400px] p-8 text-center space-y-8 animate-in fade-in duration-500"},wt={class:"relative"},St={class:"relative flex items-center justify-center h-20 w-20 rounded-full bg-background border-2 border-primary/20 shadow-xl"},Tt={class:"space-y-4 max-w-md w-full"},It={class:"space-y-2"},kt={class:"flex justify-between text-xs font-medium text-muted-foreground px-1"},Ct={class:"h-2 w-full bg-muted/50 rounded-full overflow-hidden"},Ot={class:"grid grid-cols-4 gap-2 pt-4"},Pt={key:1,class:"flex flex-col items-center justify-center h-[400px] p-8 text-center space-y-6 animate-in fade-in zoom-in-95 duration-500"},jt={class:"h-24 w-24 rounded-3xl bg-muted/30 flex items-center justify-center mb-2"},Et={key:2,class:"p-6 flex flex-col gap-8"},Nt={key:0,class:"absolute top-0 right-0 p-0 z-10"},Mt={class:"bg-primary text-primary-foreground rounded-bl-xl px-3 py-1.5 shadow-sm flex items-center gap-1.5"},Rt={class:"p-6 flex flex-col gap-4 flex-1"},At={class:"flex flex-wrap gap-2"},Bt={class:"flex flex-wrap gap-1.5 pt-2"},Ut={class:"mt-auto pt-4 space-y-4"},Ft={class:"flex items-center gap-3 bg-muted/20 p-3 rounded-lg border border-border/30"},$t={class:"relative h-10 w-10 flex items-center justify-center shrink-0"},Dt={class:"h-full w-full -rotate-90",viewBox:"0 0 36 36"},Lt=["stroke-dasharray"],Gt={class:"absolute text-[10px] font-bold"},Vt={class:"flex flex-col"},zt={class:"lg:col-span-2 group relative flex flex-col rounded-xl border border-border/50 bg-card/50 transition-all duration-300 hover:shadow-lg hover:border-primary/20"},qt={class:"p-6 md:p-8 flex flex-col h-full"},Ht={class:"flex items-center gap-2 mb-4 pb-4 border-b border-border/30"},Yt={class:"p-1.5 rounded-md bg-primary/10 text-primary"},Xt={class:"prose prose-sm dark:prose-invert max-w-none text-muted-foreground leading-relaxed flex-1"},Jt=he({__name:"TopicSelection",props:{project:{},savedTopics:{}},setup(ie){const d=ie,k=f("existing"),T=f(!1),A=f(!1),m=f([]),P=f(""),de=f(""),b=f(""),x=f(""),I=f(""),B=f("all"),U=f("all");f(new Set),be(()=>{console.log("üìã TOPIC SELECTION - Project data received:",{topic:d.project.topic,title:d.project.title,description:d.project.description,description_exists:!!d.project.description,description_length:d.project.description?.length||0}),d.project.topic&&(b.value=d.project.topic,x.value=d.project.description||"",I.value=d.project.title||"",k.value="existing",console.log("‚úÖ TOPIC SELECTION - Form fields populated:",{customTopic:b.value?.substring(0,50),customDescription:x.value?.substring(0,50),customTitle:I.value})),d.savedTopics&&d.savedTopics.length>0&&(m.value=d.savedTopics,console.log("üì¶ SAVED TOPICS - Loaded from database",{count:d.savedTopics.length,topics:d.savedTopics.map(r=>r.title)}),d.project.topic||(k.value="generated"))});const g=f(""),y=f(""),N={connecting:{order:1,label:"Connecting to AI service"},analyzing:{order:2,label:"Analyzing your project context"},generating:{order:3,label:"Generating research topics"},enriching:{order:4,label:"Enriching with metadata"},complete:{order:5,label:"Complete"}},ce=r=>{const e=N[y.value]?.order||0,i=N[r]?.order||0;return i<e?"h-3 w-3 rounded-full bg-green-500":i===e?"h-3 w-3 rounded-full bg-primary animate-pulse":"h-3 w-3 rounded-full bg-muted"},X=()=>{const r=N[y.value]?.order||0,e=Object.keys(N).length;return Math.min(r/e*100,100)},J=async()=>{console.log("üöÄ TOPIC GENERATION - Starting streaming topic generation"),T.value=!0,m.value=[];try{y.value="connecting",g.value="Connecting to AI service...";const r=route("topics.stream",d.project.slug)+"?regenerate=true";console.log("üì° TOPIC GENERATION - Connecting to stream:",r);const e=new EventSource(r);e.onopen=()=>{console.log("üì° SSE - Connection opened"),y.value="connecting",g.value="Connected to AI service - analyzing your project..."},e.onmessage=i=>{try{const s=JSON.parse(i.data);switch(console.log("üì° SSE - Message received:",s.type,s),s.type){case"start":y.value="analyzing",g.value=s.message||"Starting topic generation...";break;case"progress":s.message&&s.message.includes("academic context")?y.value="analyzing":s.message&&s.message.includes("generating")?y.value="generating":s.message&&s.message.includes("enriching")&&(y.value="enriching"),g.value=s.message||"Processing...",s.context&&console.log("üéì Academic context:",s.context);break;case"content":if(y.value="generating",s.chunk){const v=s.word_count||0;g.value=`Generating topics... (${v} words generated)`}s.topics&&s.from_cache&&(y.value="enriching",g.value="Loading topics from cache for faster response...");break;case"complete":y.value="complete",s.topics&&Array.isArray(s.topics)?(m.value=s.topics,g.value=`‚úì Successfully generated ${s.topics.length} personalized research topics!`,k.value="generated",h("Success",{description:`${s.topics.length} research topics generated successfully!`})):g.value=s.message||"Topics generated successfully!";break;case"error":throw new Error(s.message||"Stream error occurred");case"end":console.log("üì° SSE - Stream ended"),e.close(),T.value=!1;break}}catch(s){console.error("üì° SSE - Failed to parse message:",s,i.data)}},e.onerror=i=>{console.error("üì° SSE - Connection error:",i),e.close(),m.value.length>0?(g.value=`‚úì Generated ${m.value.length} topics (connection ended early)`,k.value="generated",h("Partial Success",{description:`${m.value.length} topics generated before connection ended.`})):(console.log("üì° TOPIC GENERATION - Falling back to regular endpoint"),ue().catch(s=>{console.error("Fallback also failed:",s),g.value="Failed to generate topics. Please try again.",h("Error",{description:"Failed to generate topics. Please try again."})})),T.value=!1},setTimeout(()=>{T.value&&(console.log("‚è∞ TOPIC GENERATION - Timeout reached, closing stream"),e.close(),m.value.length>0?(g.value=`‚úì Generated ${m.value.length} topics (timeout reached)`,k.value="generated"):(g.value="Generation timed out. Please try again.",h("Timeout",{description:"Topic generation took longer than expected. Please try again."})),T.value=!1)},3e5)}catch(r){console.error("üí• TOPIC GENERATION - Error:",r),g.value="Failed to generate topics. Please try again.",h("Error",{description:r.message||"Failed to generate topics. Please try again."}),T.value=!1}},ue=async()=>{console.log("üîÑ TOPIC GENERATION - Using fallback method"),g.value="Retrying with fallback method...";try{const r=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(!r)throw new Error("CSRF token not found. Please refresh the page and try again.");const e=new AbortController,i=setTimeout(()=>e.abort(),3e5),s=await fetch(route("topics.generate",d.project.slug),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":r,Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({regenerate:!0}),signal:e.signal});if(clearTimeout(i),!s.ok){let _=`HTTP error! status: ${s.status}`;try{_=(await s.clone().json()).message||_}catch{try{const M=await s.text();s.status===419?_="Session expired. Please refresh the page and try again.":s.status===504?_="Request timed out. Please try again in a few moments.":M.includes("<!DOCTYPE")&&(_="Server returned an error page instead of data. Please try again.")}catch{s.status===504&&(_="Request timed out. Please try again in a few moments.")}}throw new Error(_)}const v=await s.json();if(v.topics&&Array.isArray(v.topics))m.value=v.topics,g.value=`‚úì Successfully generated ${v.topics.length} research topics!`,k.value="generated",h("Success",{description:`${v.topics.length} research topics generated successfully!`});else throw new Error("Invalid response format: topics array not found")}catch(r){console.error("üí• FALLBACK GENERATION - Error:",r),g.value="Failed to generate topics. Please try again.",h("Error",{description:r.message||"Failed to generate topics. Please try again."})}},pe=r=>{P.value=r.title,de.value=r.description;const e=document.createElement("div");e.innerHTML=r.title;const i=e.textContent||e.innerText||r.title;b.value=i,x.value=r.description,I.value=W(i),k.value="existing"},W=r=>{const e=document.createElement("div");e.innerHTML=r;const i=e.textContent||e.innerText||r;return i.length>100?i.substring(0,100)+"...":i},K=xe(()=>{let r=m.value;return B.value!=="all"&&(r=r.filter(e=>e.difficulty.toLowerCase().includes(B.value.toLowerCase()))),U.value!=="all"&&(r=r.filter(e=>e.timeline===U.value)),r.sort((e,i)=>i.feasibility_score-e.feasibility_score)}),ge=r=>{switch(r.toLowerCase()){case"beginner friendly":return"secondary";case"intermediate":return"default";case"advanced":return"destructive";default:return"secondary"}},me=async()=>{if(console.log("üöÄ TOPIC SUBMISSION - Starting",{customTopic:b.value?.substring(0,50)+"...",customDescription:x.value?.substring(0,50)+"...",customTitle:I.value,project_slug:d.project.slug,current_url:window.location.href,timestamp:new Date().toISOString()}),console.log("üîç TOPIC SUBMISSION - Full form data:",{customTopic:b.value,customDescription:x.value,customTitle:I.value,customTopic_length:b.value?.length||0,customDescription_length:x.value?.length||0,customTitle_length:I.value?.length||0}),!b.value.trim()&&!x.value.trim()){console.log("‚ùå TOPIC SUBMISSION - Validation failed: No topic or description"),h("Error",{description:"Please enter a project topic and description."});return}A.value=!0;try{const r={topic:b.value.trim()||I.value.trim()||"Research Topic",title:I.value.trim()||W(b.value||x.value),description:x.value.trim()};console.log("üì§ TOPIC SUBMISSION - Request data:",r),console.log("üìç TOPIC SUBMISSION - Request URL:",route("topics.select",d.project.slug));const e=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(console.log("üîê TOPIC SUBMISSION - CSRF token found:",!!e),console.log("üîê TOPIC SUBMISSION - CSRF token preview:",e?.substring(0,10)+"..."),!e)throw new Error("CSRF token not found. Please refresh the page and try again.");console.log("üì° TOPIC SUBMISSION - Making fetch request...");const i=await fetch(route("topics.select",d.project.slug),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":e,Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(r)});if(console.log("üì• TOPIC SUBMISSION - Response received"),console.log("üì• TOPIC SUBMISSION - Response status:",i.status),console.log("üì• TOPIC SUBMISSION - Response statusText:",i.statusText),console.log("üì• TOPIC SUBMISSION - Response ok:",i.ok),console.log("üì• TOPIC SUBMISSION - Response headers:",Object.fromEntries(i.headers.entries())),i.ok){console.log("‚úÖ TOPIC SUBMISSION - Success! Processing response...");const s=await i.json();console.log("‚úÖ TOPIC SUBMISSION - Response data:",s),h("Topic Selected!",{description:"Your project topic has been set. You can now submit it for supervisor approval."}),console.log("üîÑ TOPIC SUBMISSION - Letting middleware handle redirect"),console.log("üîÑ TOPIC SUBMISSION - Current project slug:",d.project.slug),console.log("üîÑ TOPIC SUBMISSION - Target route:",route("projects.show",d.project.slug)),V.visit(route("projects.show",d.project.slug),{method:"get",replace:!0})}else{console.error("‚ùå TOPIC SUBMISSION - Request failed"),console.error("‚ùå TOPIC SUBMISSION - Status:",i.status),console.error("‚ùå TOPIC SUBMISSION - StatusText:",i.statusText);let s=`HTTP error! status: ${i.status}`;try{const v=await i.json();console.error("‚ùå TOPIC SUBMISSION - Error JSON:",v),s=v.message||s}catch{const _=await i.text();console.error("‚ùå TOPIC SUBMISSION - Error HTML (first 500 chars):",_.substring(0,500)),i.status===419?s="Session expired. Please refresh the page and try again.":_.includes("<!DOCTYPE")&&(s="Server returned an error page instead of data. Please try again.")}throw new Error(s)}}catch(r){console.error("üí• TOPIC SUBMISSION - Exception:",r),h("Error",{description:"Failed to select topic. Please try again."})}finally{A.value=!1,console.log("üèÅ TOPIC SUBMISSION - Finished (isSelecting set to false)")}},fe=async()=>{try{V.post(route("projects.go-back-to-wizard",d.project.slug),{},{onSuccess:()=>{h("Success",{description:"Returned to project setup"}),V.visit(route("projects.create"))},onError:()=>{h("Error",{description:"Failed to go back to setup. Please try again."})}})}catch{h("Error",{description:"Failed to go back to setup. Please try again."})}};return(r,e)=>{const i=S("ArrowLeft"),s=S("Lightbulb"),v=S("BookOpen"),_=S("GraduationCap"),$=S("School"),M=S("FileText"),Q=S("MessageSquare"),D=S("Loader2"),Z=S("ArrowRight"),ve=S("RefreshCw"),ee=S("CheckCircle");return u(),j(Ie,{title:"Select Project Topic"},{default:l(()=>[t("div",Oe,[t("div",Pe,[t("div",je,[o(a(R),{onClick:fe,variant:"ghost",size:"sm",class:"group text-muted-foreground hover:text-foreground transition-colors"},{default:l(()=>[t("div",Ee,[o(i,{class:"h-4 w-4 transition-transform group-hover:-translate-x-0.5"})]),e[6]||(e[6]=c(" Back to Project Setup ",-1))]),_:1})]),t("div",Ne,[t("div",Me,[o(s,{class:"h-10 w-10 text-primary"})]),t("div",Re,[e[9]||(e[9]=t("h1",{class:"text-4xl font-bold tracking-tight sm:text-5xl bg-gradient-to-br from-foreground to-foreground/70 bg-clip-text text-transparent"}," Choose Your Project Topic ",-1)),t("p",Ae,[e[7]||(e[7]=c(" Select or generate a research topic for your ",-1)),t("span",Be,p(r.project.type),1),t("span",Ue,p(r.project.field_of_study),1),e[8]||(e[8]=c(" project. ",-1))])])]),t("div",Fe,[t("div",$e,[o(a(E),{class:"group relative overflow-hidden border-border/50 bg-card/50 backdrop-blur-sm transition-all duration-300 hover:shadow-lg hover:shadow-primary/5 hover:border-primary/20 hover:-translate-y-1"},{default:l(()=>[e[11]||(e[11]=t("div",{class:"absolute -right-6 -top-6 h-24 w-24 rounded-full bg-blue-500/10 group-hover:bg-blue-500/20 transition-colors blur-2xl"},null,-1)),t("div",De,[t("div",Le,[o(v,{class:"h-5 w-5"})]),t("div",Ge,[e[10]||(e[10]=t("span",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Field of Study",-1)),t("div",Ve,p(r.project.field_of_study),1)])])]),_:1}),o(a(E),{class:"group relative overflow-hidden border-border/50 bg-card/50 backdrop-blur-sm transition-all duration-300 hover:shadow-lg hover:shadow-primary/5 hover:border-primary/20 hover:-translate-y-1"},{default:l(()=>[e[13]||(e[13]=t("div",{class:"absolute -right-6 -top-6 h-24 w-24 rounded-full bg-purple-500/10 group-hover:bg-purple-500/20 transition-colors blur-2xl"},null,-1)),t("div",ze,[t("div",qe,[o(_,{class:"h-5 w-5"})]),t("div",He,[e[12]||(e[12]=t("span",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Academic Level",-1)),t("div",Ye,p(r.project.type),1)])])]),_:1}),o(a(E),{class:"group relative overflow-hidden border-border/50 bg-card/50 backdrop-blur-sm transition-all duration-300 hover:shadow-lg hover:shadow-primary/5 hover:border-primary/20 hover:-translate-y-1"},{default:l(()=>[e[15]||(e[15]=t("div",{class:"absolute -right-6 -top-6 h-24 w-24 rounded-full bg-orange-500/10 group-hover:bg-orange-500/20 transition-colors blur-2xl"},null,-1)),t("div",Xe,[t("div",Je,[o($,{class:"h-5 w-5"})]),t("div",We,[e[14]||(e[14]=t("span",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"University",-1)),t("div",{class:"font-bold text-lg leading-tight text-foreground",title:r.project.full_university_name||r.project.university},p(r.project.full_university_name||r.project.university),9,Ke)])])]),_:1}),o(a(E),{class:"group relative overflow-hidden border-border/50 bg-card/50 backdrop-blur-sm transition-all duration-300 hover:shadow-lg hover:shadow-primary/5 hover:border-primary/20 hover:-translate-y-1"},{default:l(()=>[e[17]||(e[17]=t("div",{class:"absolute -right-6 -top-6 h-24 w-24 rounded-full bg-green-500/10 group-hover:bg-green-500/20 transition-colors blur-2xl"},null,-1)),t("div",Qe,[t("div",Ze,[o(M,{class:"h-5 w-5"})]),t("div",et,[e[16]||(e[16]=t("span",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Course",-1)),t("div",tt,p(r.project.course),1)])])]),_:1})])]),t("div",ot,[o(a(we),{modelValue:k.value,"onUpdate:modelValue":e[5]||(e[5]=n=>k.value=n),class:"space-y-8"},{default:l(()=>[t("div",st,[o(a(Se),{class:"grid w-full max-w-md grid-cols-2 p-1 bg-muted/50 backdrop-blur-sm"},{default:l(()=>[o(a(ae),{value:"existing",class:"data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all duration-300"},{default:l(()=>[...e[18]||(e[18]=[c(" Enter Topic ",-1)])]),_:1}),o(a(ae),{value:"generated",class:"data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all duration-300"},{default:l(()=>[...e[19]||(e[19]=[c(" AI Generated Topics ",-1)])]),_:1})]),_:1})]),o(a(le),{value:"existing",class:"focus-visible:outline-none"},{default:l(()=>[t("div",rt,[o(a(E),{class:"lg:col-span-1 border-border/50 shadow-lg shadow-primary/5 overflow-hidden group flex flex-col"},{default:l(()=>[e[24]||(e[24]=t("div",{class:"absolute -right-20 -top-20 h-64 w-64 rounded-full bg-primary/5 transition-colors blur-3xl pointer-events-none"},null,-1)),o(a(q),{class:"pb-2 border-b border-border/40 bg-muted/10"},{default:l(()=>[o(a(H),{class:"flex items-center gap-2 text-lg"},{default:l(()=>[t("div",at,[o(s,{class:"h-4 w-4"})]),e[20]||(e[20]=c(" Project Details ",-1))]),_:1})]),_:1}),o(a(z),{class:"space-y-6 pt-6 flex-1"},{default:l(()=>[t("div",lt,[o(a(Y),{for:"custom-title",class:"text-sm font-medium text-foreground/80"},{default:l(()=>[...e[21]||(e[21]=[c("Project Title",-1)])]),_:1}),o(a(_e),{id:"custom-title",modelValue:I.value,"onUpdate:modelValue":e[0]||(e[0]=n=>I.value=n),placeholder:"A concise title...",class:"h-12 bg-muted/30 border-border/50 focus:bg-background transition-all"},null,8,["modelValue"])]),t("div",nt,[o(a(Y),{for:"custom-topic",class:"text-sm font-medium text-foreground/80"},{default:l(()=>[...e[22]||(e[22]=[c("Research Topic",-1)])]),_:1}),o(a(Te),{id:"custom-topic",modelValue:b.value,"onUpdate:modelValue":e[1]||(e[1]=n=>b.value=n),placeholder:"Enter your main research topic or question...",rows:"4",class:"resize-none bg-muted/30 border-border/50 focus:bg-background transition-all"},null,8,["modelValue"]),e[23]||(e[23]=t("p",{class:"text-xs text-muted-foreground"},"The main topic you want to investigate.",-1))])]),_:1})]),_:1}),o(a(E),{class:"lg:col-span-2 border-border/50 shadow-lg shadow-primary/5 overflow-hidden group flex flex-col"},{default:l(()=>[e[29]||(e[29]=t("div",{class:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/50 to-transparent opacity-20"},null,-1)),o(a(q),{class:"pb-2 border-b border-border/40 bg-muted/10"},{default:l(()=>[o(a(H),{class:"flex items-center gap-2 text-lg"},{default:l(()=>[t("div",it,[o(Q,{class:"h-4 w-4"})]),e[25]||(e[25]=c(" Detailed Description ",-1))]),_:1}),o(a(re),null,{default:l(()=>[...e[26]||(e[26]=[c(" Provide a comprehensive description of your research. ",-1)])]),_:1})]),_:1}),o(a(z),{class:"space-y-6 pt-6 flex-1 flex flex-col"},{default:l(()=>[t("div",dt,[o(a(Y),{for:"custom-description",class:"sr-only"},{default:l(()=>[...e[27]||(e[27]=[c("Project Description",-1)])]),_:1}),t("div",ct,[o(ke,{modelValue:x.value,"onUpdate:modelValue":e[2]||(e[2]=n=>x.value=n),placeholder:"Describe your research focus, objectives, problem statement, and scope in detail...","min-height":"300px","show-toolbar":!0},null,8,["modelValue"])])]),t("div",ut,[o(a(R),{onClick:me,disabled:!b.value.trim()&&!x.value.trim()||A.value,class:"w-full h-12 text-base font-medium shadow-lg shadow-primary/20 hover:shadow-primary/30 transition-all"},{default:l(()=>[A.value?(u(),j(D,{key:0,class:"mr-2 h-5 w-5 animate-spin"})):(u(),w("span",pt,[e[28]||(e[28]=c(" Continue with This Topic ",-1)),o(Z,{class:"ml-2 h-5 w-5"})]))]),_:1},8,["disabled"])])]),_:1})]),_:1})])]),_:1}),o(a(le),{value:"generated",class:"focus-visible:outline-none"},{default:l(()=>[o(a(E),{class:"border-border/40 shadow-lg shadow-primary/5 overflow-hidden min-h-[500px] flex flex-col"},{default:l(()=>[o(a(q),{class:"border-b border-border/40 bg-muted/10 pb-6"},{default:l(()=>[t("div",gt,[t("div",mt,[o(a(H),{class:"flex items-center gap-2 text-xl"},{default:l(()=>[t("div",ft,[o(s,{class:"h-5 w-5"})]),e[30]||(e[30]=c(" AI Generated Suggestions ",-1))]),_:1}),o(a(re),null,{default:l(()=>[...e[31]||(e[31]=[c(" Tailored research topics based on your academic profile. ",-1)])]),_:1})]),t("div",vt,[o(a(R),{onClick:J,disabled:T.value,variant:m.value.length>0?"outline":"default",class:O(["h-10 transition-all",m.value.length===0?"shadow-lg shadow-primary/20 hover:shadow-primary/30":""])},{default:l(()=>[T.value?(u(),j(D,{key:0,class:"mr-2 h-4 w-4 animate-spin"})):m.value.length>0?(u(),j(ve,{key:1,class:"mr-2 h-4 w-4"})):(u(),j(s,{key:2,class:"mr-2 h-4 w-4"})),c(" "+p(T.value?"Generating...":m.value.length>0?"Regenerate":"Generate Topics"),1)]),_:1},8,["disabled","variant","class"])])]),m.value.length>0?(u(),w("div",ht,[t("div",bt,[e[33]||(e[33]=t("span",{class:"text-xs font-medium px-2 text-muted-foreground"},"Difficulty",-1)),oe(t("select",{"onUpdate:modelValue":e[3]||(e[3]=n=>B.value=n),class:"h-8 rounded-md border-0 bg-transparent text-xs font-medium focus:ring-0 cursor-pointer hover:bg-muted/50 transition-colors"},[...e[32]||(e[32]=[t("option",{value:"all"},"All Levels",-1),t("option",{value:"beginner"},"Beginner Friendly",-1),t("option",{value:"intermediate"},"Intermediate",-1),t("option",{value:"advanced"},"Advanced",-1)])],512),[[se,B.value]])]),t("div",xt,[e[35]||(e[35]=t("span",{class:"text-xs font-medium px-2 text-muted-foreground"},"Timeline",-1)),oe(t("select",{"onUpdate:modelValue":e[4]||(e[4]=n=>U.value=n),class:"h-8 rounded-md border-0 bg-transparent text-xs font-medium focus:ring-0 cursor-pointer hover:bg-muted/50 transition-colors"},[...e[34]||(e[34]=[t("option",{value:"all"},"Any Duration",-1),t("option",{value:"6-9 months"},"6-9 months",-1),t("option",{value:"9-12 months"},"9-12 months",-1),t("option",{value:"12+ months"},"12+ months",-1)])],512),[[se,U.value]])]),t("div",yt,[o(a(F),{variant:"secondary",class:"h-8 px-3 text-xs font-medium"},{default:l(()=>[c(p(K.value.length)+" results ",1)]),_:1})])])):te("",!0)]),_:1}),o(a(z),{class:"p-0 flex-1 bg-muted/5"},{default:l(()=>[T.value?(u(),w("div",_t,[t("div",wt,[e[36]||(e[36]=t("div",{class:"absolute inset-0 rounded-full bg-primary/20 animate-ping opacity-75"},null,-1)),t("div",St,[o(D,{class:"h-10 w-10 text-primary animate-spin"})])]),t("div",Tt,[e[38]||(e[38]=t("h3",{class:"text-xl font-semibold bg-gradient-to-br from-foreground to-muted-foreground bg-clip-text text-transparent"}," Crafting Your Topics ",-1)),t("div",It,[t("div",kt,[t("span",null,p(g.value||"Initializing..."),1),t("span",null,p(Math.round(X()))+"%",1)]),t("div",Ct,[t("div",{class:"h-full bg-primary transition-all duration-500 ease-out relative overflow-hidden",style:ye(`width: ${X()}%`)},[...e[37]||(e[37]=[t("div",{class:"absolute inset-0 bg-white/20 animate-[shimmer_2s_infinite]"},null,-1)])],4)])]),t("div",Ot,[(u(),w(L,null,G(N,(n,C)=>t("div",{key:C,class:O(["flex flex-col items-center gap-2",C==="complete"?"hidden":""])},[t("div",{class:O(["h-2 w-2 rounded-full transition-colors duration-300",ce(C)])},null,2),t("span",{class:O(["text-[10px] uppercase tracking-wider font-medium text-muted-foreground",y.value===C?"text-primary":""])},p(C),3)],2)),64))])])])):m.value.length===0?(u(),w("div",Pt,[t("div",jt,[o(s,{class:"h-12 w-12 text-muted-foreground/50"})]),e[40]||(e[40]=t("div",{class:"max-w-sm space-y-2"},[t("h3",{class:"text-lg font-semibold"},"No Topics Generated Yet"),t("p",{class:"text-muted-foreground text-sm"},' Click the "Generate Topics" button to let our AI analyze your profile and suggest personalized research topics. ')],-1)),o(a(R),{onClick:J,size:"lg",class:"shadow-lg shadow-primary/20 hover:shadow-primary/30 transition-all"},{default:l(()=>[o(s,{class:"mr-2 h-5 w-5"}),e[39]||(e[39]=c(" Generate Topics ",-1))]),_:1})])):(u(),w("div",Et,[(u(!0),w(L,null,G(K.value,n=>(u(),w("div",{key:n.id,class:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-in fade-in slide-in-from-bottom-2 duration-500"},[t("div",{class:O(["lg:col-span-1 group relative flex flex-col rounded-xl border border-border/50 bg-card transition-all duration-300 hover:shadow-xl hover:shadow-primary/5 hover:border-primary/30 hover:-translate-y-1 overflow-hidden",P.value===n.title?"ring-2 ring-primary border-primary bg-primary/5":""])},[P.value===n.title?(u(),w("div",Nt,[t("div",Mt,[o(ee,{class:"h-3.5 w-3.5"}),e[41]||(e[41]=t("span",{class:"text-[10px] font-bold uppercase tracking-wider"},"Selected",-1))])])):te("",!0),t("div",Rt,[o(ne,{content:n.title,as:"h3",class:"text-lg font-bold leading-tight text-foreground group-hover:text-primary transition-colors"},null,8,["content"]),t("div",At,[o(a(F),{variant:ge(n.difficulty),class:"text-[10px] uppercase tracking-wider font-semibold py-0.5"},{default:l(()=>[c(p(n.difficulty),1)]),_:2},1032,["variant"]),o(a(F),{variant:"outline",class:"text-[10px] uppercase tracking-wider font-medium border-border text-muted-foreground"},{default:l(()=>[c(p(n.timeline),1)]),_:2},1024),o(a(F),{variant:"secondary",class:"text-[10px] uppercase tracking-wider font-medium bg-muted/50"},{default:l(()=>[c(p(n.research_type),1)]),_:2},1024)]),t("div",Bt,[(u(!0),w(L,null,G(n.keywords,C=>(u(),w("span",{key:C,class:"text-[10px] font-medium text-muted-foreground bg-muted/30 px-2 py-1 rounded-md border border-border/30"}," #"+p(C),1))),128))]),t("div",Ut,[t("div",Ft,[t("div",$t,[(u(),w("svg",Dt,[e[42]||(e[42]=t("path",{class:"text-muted/30",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor","stroke-width":"3"},null,-1)),t("path",{class:O(n.feasibility_score>=80?"text-green-500":n.feasibility_score>=60?"text-yellow-500":"text-red-500"),"stroke-dasharray":`${n.feasibility_score}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round"},null,10,Lt)])),t("span",Gt,p(n.feasibility_score)+"%",1)]),t("div",Vt,[e[43]||(e[43]=t("span",{class:"text-[10px] uppercase tracking-wider font-semibold text-muted-foreground"},"Feasibility",-1)),t("span",{class:O(["text-xs font-medium",n.feasibility_score>=80?"text-green-600":n.feasibility_score>=60?"text-yellow-600":"text-red-600"])},p(n.feasibility_score>=80?"High":n.feasibility_score>=60?"Medium":"Low"),3)])]),o(a(R),{onClick:C=>pe(n),variant:P.value===n.title?"secondary":"default",class:O(["w-full shadow-sm transition-all duration-300",P.value===n.title?"bg-green-100 text-green-700 hover:bg-green-200 border-green-200":"hover:shadow-md hover:scale-[1.02]"])},{default:l(()=>[c(p(P.value===n.title?"Selected":"Select This Topic")+" ",1),P.value===n.title?(u(),j(ee,{key:0,class:"ml-2 h-3.5 w-3.5"})):(u(),j(Z,{key:1,class:"ml-2 h-3.5 w-3.5"}))]),_:2},1032,["onClick","variant","class"])])])],2),t("div",zt,[t("div",qt,[t("div",Ht,[t("div",Yt,[o(Q,{class:"h-4 w-4"})]),e[44]||(e[44]=t("span",{class:"text-sm font-semibold uppercase tracking-wider text-muted-foreground"},"Description",-1))]),t("div",Xt,[o(ne,{content:n.description,as:"div"},null,8,["content"])])])])]))),128))]))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])])])]),_:1})}}}),No=Ce(Jt,[["__scopeId","data-v-3f25d739"]]);export{No as default};
