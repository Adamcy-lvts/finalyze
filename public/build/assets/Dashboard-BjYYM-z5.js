import{d as Z,$ as ee,e as te,_ as M,i as u,o as i,j as t,g as a,c as p,F as v,h as x,u as e,k as s,y as n,z as m,v as N,n as se,f as k,U as T,X as re}from"./app-BicGrlwU.js";import{t as g}from"./index-BPEm9iTg.js";import{C as oe,_ as ae}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Bep3Pr4B.js";import{_ as h,a as C}from"./CardContent.vue_vue_type_script_setup_true_lang-BxKVy80C.js";import{_ as I}from"./CardDescription.vue_vue_type_script_setup_true_lang-BtcIDcmh.js";import{_ as $,a as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-C_5BBdQa.js";import{j as le,u as ne,d as E,_ as L,b,e as w,a as P,c as y,F as B,i as ie}from"./TableHeader.vue_vue_type_script_setup_true_lang-BzeWDoFo.js";import{c as R,_ as A}from"./index-C2F2o1a3.js";import{_ as D}from"./Input.vue_vue_type_script_setup_true_lang--GImuJqk.js";import{_ as S}from"./Label.vue_vue_type_script_setup_true_lang-DDUho2Lj.js";import{_ as O}from"./index-CRqxo5FJ.js";import{U as de}from"./users-kD_TwSJu.js";import{D as ue}from"./dollar-sign-pjwWDYvN.js";import{F as me}from"./file-text-uA9DX8Ua.js";import{T as ce,C as fe,L as pe}from"./type-C1pu9aTT.js";import{C as _e}from"./chart-column-BGIEYRFg.js";import{A as ye}from"./activity-AvcqdO8n.js";import{P as ve}from"./plus-DKhy4pqt.js";import{B as xe}from"./ban-D3-RgrQu.js";import{F as ge}from"./filter-BfiLI0Sn.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-QaRya4Lh.js";import"./index-DN_PCO6k.js";import"./x-C7Pzo2_h.js";import"./loader-circle-C1bSNMcD.js";import"./useForwardExpose-DWbvDHA4.js";import"./VisuallyHidden-B1NWfLqP.js";import"./Presence-DLFvc6ec.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-D2pGzKMY.js";import"./list-X137O4On.js";import"./log-out-BaGmpDze.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=R("ArrowDownRightIcon",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=R("ArrowUpRightIcon",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=R("DatabaseIcon",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=R("ServerIcon",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),Ce={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-8"},$e={class:"text-2xl font-bold"},Ve={class:"text-xs text-muted-foreground mt-1 flex items-center gap-1"},Ae={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-7"},Ie={class:"h-[350px] w-full flex items-center justify-center rounded-md border border-dashed border-border bg-muted/20"},Re={class:"flex flex-col items-center gap-2 text-muted-foreground"},Ue={class:"space-y-6"},De={class:"flex items-center gap-3"},Se={class:"flex h-9 w-9 items-center justify-center rounded-full bg-muted/50 border border-border"},je={class:"space-y-1"},ze={class:"text-sm font-medium leading-none"},Fe={class:"text-xs text-muted-foreground"},Me={class:"mt-8"},Ne={class:"flex items-start justify-between gap-4"},Te={class:"grid gap-4 md:grid-cols-3"},Ee={class:"grid gap-2"},Le={class:"grid gap-2"},Pe={class:"grid gap-2"},Be={class:"flex flex-wrap items-center gap-3"},Oe={key:0,class:"text-sm text-destructive"},He={class:"rounded-md border border-border"},Ge={key:0},qe={class:"flex justify-end gap-2"},Je={class:"mt-8"},Qe={class:"flex items-center justify-between"},We={class:"rounded-md border border-border"},Vt=Z({__name:"Dashboard",props:{inviteOnlyEnabled:{type:Boolean},stats:{},recentActivity:{},invites:{}},setup(H){const f=H,_=l=>Number(l??0).toLocaleString(),G=l=>new Date(l).toLocaleString(),c=ee({count:1,max_uses:1,expires_in_days:7}),q=()=>{c.post(T("admin.invites.store"),{preserveScroll:!0,onSuccess:()=>{g.success("Invite(s) created")}})},J=l=>{re.post(T("admin.invites.revoke",{invite:l}),void 0,{preserveScroll:!0,onSuccess:()=>{g.success("Invite revoked")}})},j=async(l,r)=>{const o=String(l??"");if(!o){g.error("Nothing to copy");return}try{if(window.isSecureContext&&navigator.clipboard?.writeText){await navigator.clipboard.writeText(o),g.success(r);return}}catch{}try{const d=document.createElement("textarea");d.value=o,d.setAttribute("readonly","true"),d.style.position="fixed",d.style.top="-9999px",d.style.left="-9999px",document.body.appendChild(d),d.focus(),d.select();const Y=document.execCommand("copy");document.body.removeChild(d),Y?g.success(r):g.error("Copy failed (browser blocked)")}catch{g.error("Copy failed")}},Q=l=>l==="active"?"Active":l==="expired"?"Expired":l==="revoked"?"Revoked":l==="used_up"?"Used up":l,W=l=>l==="active"?"default":l==="expired"||l==="used_up"?"secondary":l==="revoked"?"destructive":"secondary",X=te(()=>[{title:"Total Users",value:_(f.stats.users.total),icon:de,trend:`+${_(f.stats.users.today)}`,trendUp:!0},{title:"Total Revenue",value:`₦${_(f.stats.revenue.total)}`,icon:ue,trend:`+₦${_(f.stats.revenue.today)}`,trendUp:!0},{title:"Active Projects",value:_(f.stats.projects.total),icon:me,trend:`+${_(f.stats.projects.today)}`,trendUp:!0},{title:"Words Generated",value:_(f.stats.words.total),icon:ce,trend:`+${_(f.stats.words.today)}`,trendUp:!0}]),K=[{name:"Job Queue",description:"Processing background tasks",icon:ye},{name:"OpenAI API",description:"Content generation service",icon:oe},{name:"Database",description:"Primary data storage",icon:ke},{name:"Cache",description:"Redis cache cluster",icon:he}],z=le(),F=[z.accessor("message",{header:"Activity",cell:l=>M("div",{class:"font-medium text-foreground"},l.getValue())}),z.accessor("time",{header:"Time",cell:l=>M("div",{class:"text-muted-foreground text-sm"},l.getValue())})],U=ne({get data(){return f.recentActivity},columns:F,getCoreRowModel:ie()});return(l,r)=>(i(),u(ae,{title:"Dashboard",subtitle:"Overview of your system's performance."},{default:t(()=>[a("div",Ce,[(i(!0),p(v,null,x(X.value,o=>(i(),u(e(h),{key:o.title,class:"bg-card text-card-foreground border-border/50 shadow-sm hover:shadow-md transition-all duration-200"},{default:t(()=>[s(e($),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:t(()=>[s(e(V),{class:"text-sm font-medium text-muted-foreground"},{default:t(()=>[n(m(o.title),1)]),_:2},1024),(i(),u(N(o.icon),{class:"h-4 w-4 text-muted-foreground"}))]),_:2},1024),s(e(C),null,{default:t(()=>[a("div",$e,m(o.value),1),a("p",Ve,[a("span",{class:se([o.trendUp?"text-emerald-500":"text-rose-500","flex items-center"])},[o.trendUp?(i(),u(e(we),{key:0,class:"h-3 w-3 mr-0.5"})):(i(),u(e(be),{key:1,class:"h-3 w-3 mr-0.5"})),n(" "+m(o.trend),1)],2),r[3]||(r[3]=a("span",{class:"opacity-70"},"from yesterday",-1))])]),_:2},1024)]),_:2},1024))),128))]),a("div",Ae,[s(e(h),{class:"col-span-4 border-border/50 shadow-sm"},{default:t(()=>[s(e($),null,{default:t(()=>[s(e(V),null,{default:t(()=>[...r[4]||(r[4]=[n("Revenue Overview",-1)])]),_:1}),s(e(I),null,{default:t(()=>[...r[5]||(r[5]=[n("Monthly revenue breakdown for the current year.",-1)])]),_:1})]),_:1}),s(e(C),{class:"pl-2"},{default:t(()=>[a("div",Ie,[a("div",Re,[s(e(_e),{class:"h-10 w-10 opacity-50"}),r[6]||(r[6]=a("span",{class:"text-sm font-medium"},"Chart Visualization Placeholder",-1))])])]),_:1})]),_:1}),s(e(h),{class:"col-span-3 border-border/50 shadow-sm flex flex-col"},{default:t(()=>[s(e($),null,{default:t(()=>[s(e(V),null,{default:t(()=>[...r[7]||(r[7]=[n("System Health",-1)])]),_:1}),s(e(I),null,{default:t(()=>[...r[8]||(r[8]=[n("Real-time status of core services.",-1)])]),_:1})]),_:1}),s(e(C),{class:"flex-1"},{default:t(()=>[a("div",Ue,[(i(),p(v,null,x(K,(o,d)=>a("div",{key:d,class:"flex items-center justify-between"},[a("div",De,[a("div",Se,[(i(),u(N(o.icon),{class:"h-4 w-4 text-foreground"}))]),a("div",je,[a("p",ze,m(o.name),1),a("p",Fe,m(o.description),1)])]),r[9]||(r[9]=a("div",{class:"flex items-center gap-2"},[a("span",{class:"relative flex h-2.5 w-2.5"},[a("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),a("span",{class:"relative inline-flex rounded-full h-2.5 w-2.5 bg-emerald-500"})]),a("span",{class:"text-xs font-medium text-emerald-600 dark:text-emerald-400"},"Operational")],-1))])),64))])]),_:1})]),_:1})]),a("div",Me,[s(e(h),{class:"border-border/50 shadow-sm"},{default:t(()=>[s(e($),null,{default:t(()=>[a("div",Ne,[a("div",null,[s(e(V),null,{default:t(()=>[...r[10]||(r[10]=[n("Registration Invites",-1)])]),_:1}),s(e(I),null,{default:t(()=>[...r[11]||(r[11]=[n(" Generate invite codes/links to control who can register while testing. ",-1)])]),_:1})]),s(e(O),{variant:l.inviteOnlyEnabled?"default":"secondary"},{default:t(()=>[n(m(l.inviteOnlyEnabled?"Invite-only enabled":"Invite-only disabled"),1)]),_:1},8,["variant"])])]),_:1}),s(e(C),{class:"space-y-6"},{default:t(()=>[a("div",Te,[a("div",Ee,[s(e(S),{for:"count"},{default:t(()=>[...r[12]||(r[12]=[n("How many",-1)])]),_:1}),s(e(D),{id:"count",type:"number",min:"1",max:"25",modelValue:e(c).count,"onUpdate:modelValue":r[0]||(r[0]=o=>e(c).count=o)},null,8,["modelValue"])]),a("div",Le,[s(e(S),{for:"max_uses"},{default:t(()=>[...r[13]||(r[13]=[n("Max uses",-1)])]),_:1}),s(e(D),{id:"max_uses",type:"number",min:"1",max:"1000",modelValue:e(c).max_uses,"onUpdate:modelValue":r[1]||(r[1]=o=>e(c).max_uses=o)},null,8,["modelValue"])]),a("div",Pe,[s(e(S),{for:"expires_in_days"},{default:t(()=>[...r[14]||(r[14]=[n("Expires in (days)",-1)])]),_:1}),s(e(D),{id:"expires_in_days",type:"number",min:"1",max:"365",modelValue:e(c).expires_in_days,"onUpdate:modelValue":r[2]||(r[2]=o=>e(c).expires_in_days=o)},null,8,["modelValue"])])]),a("div",Be,[s(e(A),{size:"sm",class:"gap-2",disabled:e(c).processing,onClick:q},{default:t(()=>[s(e(ve),{class:"h-4 w-4"}),n(" Generate invite"+m(Number(e(c).count)===1?"":"s"),1)]),_:1},8,["disabled"]),e(c).hasErrors?(i(),p("div",Oe," Please fix the invite form errors. ")):k("",!0)]),a("div",He,[s(e(E),null,{default:t(()=>[s(e(L),null,{default:t(()=>[s(e(b),null,{default:t(()=>[s(e(w),null,{default:t(()=>[...r[15]||(r[15]=[n("Code",-1)])]),_:1}),s(e(w),null,{default:t(()=>[...r[16]||(r[16]=[n("Status",-1)])]),_:1}),s(e(w),null,{default:t(()=>[...r[17]||(r[17]=[n("Uses",-1)])]),_:1}),s(e(w),null,{default:t(()=>[...r[18]||(r[18]=[n("Expires",-1)])]),_:1}),s(e(w),{class:"text-right"},{default:t(()=>[...r[19]||(r[19]=[n("Actions",-1)])]),_:1})]),_:1})]),_:1}),s(e(P),null,{default:t(()=>[(i(!0),p(v,null,x(l.invites,o=>(i(),u(e(b),{key:o.id},{default:t(()=>[s(e(y),{class:"font-mono text-sm"},{default:t(()=>[n(m(o.code),1)]),_:2},1024),s(e(y),null,{default:t(()=>[s(e(O),{variant:W(o.status)},{default:t(()=>[n(m(Q(o.status)),1)]),_:2},1032,["variant"])]),_:2},1024),s(e(y),{class:"text-sm text-muted-foreground"},{default:t(()=>[n(m(o.uses),1),o.max_uses?(i(),p("span",Ge," / "+m(o.max_uses),1)):k("",!0)]),_:2},1024),s(e(y),{class:"text-sm text-muted-foreground"},{default:t(()=>[n(m(o.expires_at?G(o.expires_at):"—"),1)]),_:2},1024),s(e(y),{class:"text-right"},{default:t(()=>[a("div",qe,[s(e(A),{variant:"outline",size:"sm",class:"h-8 gap-1",onClick:d=>j(o.code,"Invite code copied")},{default:t(()=>[s(e(fe),{class:"h-3.5 w-3.5"}),r[20]||(r[20]=a("span",{class:"hidden sm:inline"},"Copy",-1))]),_:2},1032,["onClick"]),s(e(A),{variant:"outline",size:"sm",class:"h-8 gap-1",onClick:d=>j(o.link,"Invite link copied")},{default:t(()=>[s(e(pe),{class:"h-3.5 w-3.5"}),r[21]||(r[21]=a("span",{class:"hidden sm:inline"},"Link",-1))]),_:2},1032,["onClick"]),o.status==="active"?(i(),u(e(A),{key:0,variant:"destructive",size:"sm",class:"h-8 gap-1",onClick:d=>J(o.id)},{default:t(()=>[s(e(xe),{class:"h-3.5 w-3.5"}),r[22]||(r[22]=a("span",{class:"hidden sm:inline"},"Revoke",-1))]),_:2},1032,["onClick"])):k("",!0)])]),_:2},1024)]),_:2},1024))),128)),l.invites.length?k("",!0):(i(),u(e(b),{key:0},{default:t(()=>[s(e(y),{colspan:"5",class:"h-24 text-center text-muted-foreground"},{default:t(()=>[...r[23]||(r[23]=[n(" No invites yet. ",-1)])]),_:1})]),_:1}))]),_:1})]),_:1})])]),_:1})]),_:1})]),a("div",Je,[s(e(h),{class:"border-border/50 shadow-sm"},{default:t(()=>[s(e($),null,{default:t(()=>[a("div",Qe,[a("div",null,[s(e(V),null,{default:t(()=>[...r[24]||(r[24]=[n("Recent Activity",-1)])]),_:1}),s(e(I),null,{default:t(()=>[...r[25]||(r[25]=[n("Latest actions performed across the platform.",-1)])]),_:1})]),s(e(A),{variant:"outline",size:"sm",class:"h-8 gap-1"},{default:t(()=>[s(e(ge),{class:"h-3.5 w-3.5"}),r[26]||(r[26]=a("span",{class:"sr-only sm:not-sr-only sm:whitespace-nowrap"},"Filter",-1))]),_:1})])]),_:1}),s(e(C),null,{default:t(()=>[a("div",We,[s(e(E),null,{default:t(()=>[s(e(L),null,{default:t(()=>[(i(!0),p(v,null,x(e(U).getHeaderGroups(),o=>(i(),u(e(b),{key:o.id},{default:t(()=>[(i(!0),p(v,null,x(o.headers,d=>(i(),u(e(w),{key:d.id},{default:t(()=>[d.isPlaceholder?k("",!0):(i(),u(e(B),{key:0,render:d.column.columnDef.header,props:d.getContext()},null,8,["render","props"]))]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}),s(e(P),null,{default:t(()=>[e(U).getRowModel().rows?.length?(i(!0),p(v,{key:0},x(e(U).getRowModel().rows,o=>(i(),u(e(b),{key:o.id,"data-state":o.getIsSelected()?"selected":void 0},{default:t(()=>[(i(!0),p(v,null,x(o.getVisibleCells(),d=>(i(),u(e(y),{key:d.id},{default:t(()=>[s(e(B),{render:d.column.columnDef.cell,props:d.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1032,["data-state"]))),128)):(i(),u(e(b),{key:1},{default:t(()=>[s(e(y),{colspan:F.length,class:"h-24 text-center"},{default:t(()=>[...r[27]||(r[27]=[n(" No results. ",-1)])]),_:1},8,["colspan"])]),_:1}))]),_:1})]),_:1})])]),_:1})]),_:1})])]),_:1}))}});export{Vt as default};
