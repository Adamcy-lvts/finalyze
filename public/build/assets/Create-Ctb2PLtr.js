import{P as re,c as G,_ as U}from"./index-CwD5qkLf.js";import{_ as ut,a as dt}from"./CardContent.vue_vue_type_script_setup_true_lang-DTkdfvuV.js";import{u as jt,o as Ne,n as Ie,f as Oe,s as Q,F as Ct,t as Vt,g as F,h as M,i as E,j as N,l as O,_ as ze,a as Ue,c as Le,b as Ge,d as Ke,e as _e,k as It}from"./vee-validate-zod-3QcGPtIC.js";import{_ as Z}from"./Input.vue_vue_type_script_setup_true_lang-DRx-Lc7N.js";import{b as We,c as Je,d as Ye}from"./WordBalanceDisplay.vue_vue_type_script_setup_true_lang-BbR_80zF.js";import{d as ct,c as De,P as At,a as lt,g as Dt,b as pt,u as Se}from"./Presence-Cn1h4MwK.js";import{u as ft}from"./useFormControl-BAvnyqrf.js";import{u as Qe,b as ee,c as rt}from"./useForwardExpose-CEOuSuYA.js";import{R as $t}from"./VisuallyHidden-BvUOvbOk.js";import{V as mt}from"./VisuallyHiddenInput-Bdtjo0T1.js";import{d as B,U as $e,l as T,g as h,o as m,w as s,V as L,a as z,u as e,m as D,a7 as Ze,e as t,r as C,a_ as vt,G as le,J as Ae,b as n,t as V,v as gt,x as qt,cV as Bt,a$ as qe,b0 as Be,c as P,b9 as Pt,ba as Rt,h as y,a6 as Tt,bo as Ft,a5 as Mt,W,F as se,f as me,b2 as Et,aI as K,aY as ot,aV as Nt,ay as it,aP as fe,aA as Ot,aM as zt,bP as He,q as Ut}from"./vendor-H8yUxHVJ.js";import{r as ne}from"./index-CZRrGrlM.js";import{R as Lt}from"./RovingFocusItem-B851wM0P.js";import{j as Gt}from"./DialogTitle-FvR-dACM.js";import{i as Kt}from"./ohash.D__AXeF1-C-E83dC9.js";import{u as Wt}from"./Sonner.vue_vue_type_script_setup_true_lang-a4iHnNww.js";import{_ as be}from"./index-CiWGHnJL.js";import{_ as Jt,a as Yt}from"./CardTitle.vue_vue_type_script_setup_true_lang-B5y-_hAe.js";import{_ as Ht}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Xt}from"./AppLayout.vue_vue_type_script_setup_true_lang-B_2lTwBH.js";import{s as nt}from"./useAppearance-DRazjLJ1.js";import"./Label.vue_vue_type_script_setup_true_lang-PAGjh1rG.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-ev0g6x5g.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-B2g6QnB0.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-D_e9DFFg.js";import"./useWordBalance-C1hXK7OD.js";import"./PWAInstallPrompt.vue_vue_type_script_setup_true_lang-DBvrqREh.js";const Qt="radio.select";function Zt(S,p,o){Gt(Qt,o,{originalEvent:S,value:p})}var ea=B({__name:"Radio",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},checked:{type:Boolean,required:!1,default:void 0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:checked","select"],setup(S,{emit:p}){const o=S,v=p,b=Qe(o,"checked",v,{passive:o.checked===void 0}),{value:u}=$e(o),{forwardRef:_,currentElement:k}=ee(),w=ft(k),g=T(()=>o.id&&k.value?document.querySelector(`[for="${o.id}"]`)?.innerText??o.value:void 0);function f(l){o.disabled||Zt(l,o.value,j=>{v("select",j),!j?.defaultPrevented&&(b.value=!0,w.value&&j.stopPropagation())})}return(l,j)=>(m(),h(e(re),D(l.$attrs,{id:l.id,ref:e(_),role:"radio",type:l.as==="button"?"button":void 0,as:l.as,"aria-checked":e(b),"aria-label":g.value,"as-child":l.asChild,disabled:l.disabled?"":void 0,"data-state":e(b)?"checked":"unchecked","data-disabled":l.disabled?"":void 0,value:e(u),required:l.required,name:l.name,onClick:Ze(f,["stop"])}),{default:s(()=>[L(l.$slots,"default",{checked:e(b)}),e(w)&&l.name?(m(),h(e(mt),{key:0,type:"radio",tabindex:"-1",value:e(u),checked:!!e(b),name:l.name,disabled:l.disabled,required:l.required},null,8,["value","checked","name","disabled","required"])):z("v-if",!0)]),_:3},16,["id","type","as","aria-checked","aria-label","as-child","disabled","data-state","data-disabled","value","required","name"]))}}),ta=ea;const[aa,sa]=De("RadioGroupRoot");var la=B({__name:"RadioGroupRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(S,{emit:p}){const o=S,v=p,{forwardRef:b,currentElement:u}=ee(),_=Qe(o,"modelValue",v,{defaultValue:o.defaultValue,passive:o.modelValue===void 0}),{disabled:k,loop:w,orientation:g,name:f,required:l,dir:j}=$e(o),I=ct(j),$=ft(u);return sa({modelValue:_,changeModelValue:A=>{_.value=A},disabled:k,loop:w,orientation:g,name:f?.value,required:l}),(A,ue)=>(m(),h(e($t),{"as-child":"",orientation:e(g),dir:e(I),loop:e(w)},{default:s(()=>[t(e(re),{ref:e(b),role:"radiogroup","data-disabled":e(k)?"":void 0,"as-child":A.asChild,as:A.as,"aria-orientation":e(g),"aria-required":e(l),dir:e(I)},{default:s(()=>[L(A.$slots,"default",{modelValue:e(_)}),e($)&&e(f)?(m(),h(e(mt),{key:0,required:e(l),disabled:e(k),value:e(_),name:e(f)},null,8,["required","disabled","value","name"])):z("v-if",!0)]),_:3},8,["data-disabled","as-child","as","aria-orientation","aria-required","dir"])]),_:3},8,["orientation","dir","loop"]))}}),ra=la;const[oa,ia]=De("RadioGroupItem");var na=B({inheritAttrs:!1,__name:"RadioGroupItem",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["select"],setup(S,{emit:p}){const o=S,v=p,{forwardRef:b,currentElement:u}=ee(),_=aa(),k=T(()=>_.disabled.value||o.disabled),w=T(()=>_.required.value||o.required),g=T(()=>Kt(_.modelValue?.value,o.value));ia({disabled:k,checked:g});const f=C(!1),l=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];rt("keydown",I=>{l.includes(I.key)&&(f.value=!0)}),rt("keyup",()=>{f.value=!1});function j(){setTimeout(()=>{f.value&&u.value?.click()},0)}return(I,$)=>(m(),h(e(Lt),{checked:g.value,disabled:k.value,"as-child":"",focusable:!k.value,active:g.value},{default:s(()=>[t(ta,D({...I.$attrs,...o},{ref:e(b),checked:g.value,required:w.value,disabled:k.value,"onUpdate:checked":$[0]||($[0]=A=>e(_).changeModelValue(I.value)),onSelect:$[1]||($[1]=A=>v("select",A)),onKeydown:$[2]||($[2]=vt(Ze(()=>{},["prevent"]),["enter"])),onFocus:j}),{default:s(()=>[L(I.$slots,"default",{checked:g.value,required:w.value,disabled:k.value})]),_:3},16,["checked","required","disabled"])]),_:3},8,["checked","disabled","focusable","active"]))}}),ua=na,da=B({__name:"RadioGroupIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(S){const{forwardRef:p}=ee(),o=oa();return(v,b)=>(m(),h(e(At),{present:v.forceMount||e(o).checked.value},{default:s(()=>[t(e(re),D({ref:e(p),"data-state":e(o).checked.value?"checked":"unchecked","data-disabled":e(o).disabled.value?"":void 0,"as-child":v.asChild,as:v.as},v.$attrs),{default:s(()=>[L(v.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),ca=da;const pa={"aria-live":"polite","aria-atomic":"true",role:"status",style:{transform:"translateX(-100%)",position:"absolute",pointerEvents:"none",opacity:0,margin:0}},[yt,fa]=De("StepperRoot");var ma=B({__name:"StepperRoot",props:{defaultValue:{type:Number,required:!1,default:1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},modelValue:{type:Number,required:!1},linear:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(S,{expose:p,emit:o}){const v=S,b=o,{dir:u,orientation:_,linear:k}=$e(v),w=ct(u),g=C(new Set),f=Qe(v,"modelValue",b,{defaultValue:v.defaultValue,passive:v.modelValue===void 0}),l=T(()=>Array.from(g.value)),j=T(()=>f.value===1),I=T(()=>f.value===l.value.length),$=T(()=>g.value.size);function A(q){q>$.value||q<1||g.value.size&&l.value[q]&&l.value[q].getAttribute("disabled")||k.value&&q>(f.value??1)+1||(f.value=q)}function ue(){A((f.value??1)+1)}function oe(){A((f.value??1)-1)}function H(){return(f.value??1)<$.value}function xe(){return(f.value??1)>1}const te=C(null),X=C(null),ie=T(()=>te.value?te.value.getAttribute("disabled")==="":!0),ae=T(()=>X.value?X.value.getAttribute("disabled")==="":!0);return le(f,async()=>{await Ae(()=>{te.value=l.value.length&&f.value<l.value.length?l.value[f.value]:null,X.value=l.value.length&&f.value>1?l.value[f.value-2]:null})}),le(l,async()=>{await Ae(()=>{te.value=l.value.length&&f.value<l.value.length?l.value[f.value]:null,X.value=l.value.length&&f.value>1?l.value[f.value-2]:null})}),fa({modelValue:f,changeModelValue:q=>{f.value=q},orientation:_,dir:w,linear:k,totalStepperItems:g}),p({goToStep:A,nextStep:ue,prevStep:oe,modelValue:f,totalSteps:$,isNextDisabled:ie,isPrevDisabled:ae,isFirstStep:j,isLastStep:I,hasNext:H,hasPrev:xe}),ee(),(q,ke)=>(m(),h(e(re),{role:"group","aria-label":"progress",as:q.as,"as-child":q.asChild,"data-linear":e(k)?"":void 0,"data-orientation":q.orientation},{default:s(()=>[L(q.$slots,"default",{modelValue:e(f),totalSteps:g.value.size,isNextDisabled:ie.value,isPrevDisabled:ae.value,isFirstStep:j.value,isLastStep:I.value,goToStep:A,nextStep:ue,prevStep:oe,hasNext:H,hasPrev:xe}),n("div",pa," Step "+V(e(f))+" of "+V(g.value.size),1)]),_:3},8,["as","as-child","data-linear","data-orientation"]))}}),va=ma;const[et,ga]=De("StepperItem");var ya=B({__name:"StepperItem",props:{step:{type:Number,required:!0},disabled:{type:Boolean,required:!1,default:!1},completed:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(S){const p=S,{disabled:o,step:v,completed:b}=$e(p),{forwardRef:u}=ee(),_=yt(),k=lt(void 0,"reka-stepper-item-title"),w=lt(void 0,"reka-stepper-item-description"),g=T(()=>b.value?"completed":_.modelValue.value===v.value?"active":_.modelValue.value>v.value?"completed":"inactive"),f=T(()=>o.value?!1:_.linear.value?v.value<=_.modelValue.value||v.value===_.modelValue.value+1:!0);return ga({titleId:k,descriptionId:w,state:g,disabled:o,step:v,isFocusable:f}),(l,j)=>(m(),h(e(re),{ref:e(u),as:l.as,"as-child":l.asChild,"aria-current":g.value==="active"?"true":void 0,"data-state":g.value,disabled:e(o)||!f.value?"":void 0,"data-disabled":e(o)||!f.value?"":void 0,"data-orientation":e(_).orientation.value},{default:s(()=>[L(l.$slots,"default",{state:g.value})]),_:3},8,["as","as-child","aria-current","data-state","disabled","data-disabled","data-orientation"]))}}),_a=ya,ba=B({__name:"StepperDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(S){const p=S;ee();const o=et();return(v,b)=>(m(),h(e(re),D(p,{id:e(o).descriptionId}),{default:s(()=>[L(v.$slots,"default")]),_:3},16,["id"]))}}),ha=ba,Sa=B({__name:"StepperTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h4"}},setup(S){const p=S,o=et();return ee(),(v,b)=>(m(),h(e(re),D(p,{id:e(o).titleId}),{default:s(()=>[L(v.$slots,"default")]),_:3},16,["id"]))}}),xa=Sa,ka=B({__name:"StepperTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(S){const p=yt(),o=et(),v=jt(),b=T(()=>Array.from(p.totalStepperItems.value));function u(g){if(!o.disabled.value){if(p.linear.value){if((o.step.value<=p.modelValue.value||o.step.value===p.modelValue.value+1)&&g.ctrlKey===!1){p.changeModelValue(o.step.value);return}}else if(g.ctrlKey===!1){p.changeModelValue(o.step.value);return}g.preventDefault()}}function _(g){g.preventDefault(),!o.disabled.value&&((g.key===v.ENTER||g.key===v.SPACE)&&!g.ctrlKey&&!g.shiftKey&&p.changeModelValue(o.step.value),[v.ARROW_LEFT,v.ARROW_RIGHT,v.ARROW_UP,v.ARROW_DOWN].includes(g.key)&&Wt(g,Dt(),void 0,{itemsArray:b.value,focus:!0,loop:!1,arrowKeyOptions:p.orientation.value,dir:p.dir.value}))}const{forwardRef:k,currentElement:w}=ee();return gt(()=>{p.totalStepperItems.value.add(w.value)}),qt(()=>{p.totalStepperItems.value.delete(w.value)}),(g,f)=>(m(),h(e(re),{ref:e(k),type:g.as==="button"?"button":void 0,as:g.as,"as-child":g.asChild,"data-state":e(o).state.value,disabled:e(o).disabled.value||!e(o).isFocusable.value?"":void 0,"data-disabled":e(o).disabled.value||!e(o).isFocusable.value?"":void 0,"data-orientation":e(p).orientation.value,tabindex:e(o).isFocusable.value?0:-1,"aria-describedby":e(o).descriptionId,"aria-labelledby":e(o).titleId,onMousedown:Ze(u,["left"]),onKeydown:vt(_,["enter","space","left","right","up","down"])},{default:s(()=>[L(g.$slots,"default")]),_:3},8,["type","as","as-child","data-state","disabled","data-disabled","data-orientation","tabindex","aria-describedby","aria-labelledby"]))}}),wa=ka;const Xe=B({__name:"RadioGroup",props:{modelValue:{},defaultValue:{},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(S,{emit:p}){const o=S,v=p,b=ne(o,"class"),u=pt(b,v);return(_,k)=>(m(),h(e(ra),D({"data-slot":"radio-group",class:e(G)("grid gap-3",o.class)},e(u)),{default:s(()=>[L(_.$slots,"default")]),_:3},16,["class"]))}}),he=B({__name:"RadioGroupItem",props:{id:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},setup(S){const p=S,o=ne(p,"class"),v=Se(o);return(b,u)=>(m(),h(e(ua),D({"data-slot":"radio-group-item"},e(v),{class:e(G)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",p.class)}),{default:s(()=>[t(e(ca),{"data-slot":"radio-group-indicator",class:"relative flex items-center justify-center"},{default:s(()=>[t(e(Bt),{class:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})]),_:1})]),_:1},16,["class"]))}}),ja=B({__name:"Stepper",props:{defaultValue:{},orientation:{},dir:{},modelValue:{},linear:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue"],setup(S,{emit:p}){const o=S,v=p,b=ne(o,"class"),u=pt(b,v);return(_,k)=>(m(),h(e(va),D({class:e(G)("flex gap-2",o.class)},e(u)),{default:s(w=>[L(_.$slots,"default",qe(Be(w)))]),_:3},16,["class"]))}}),Ca=B({__name:"StepperDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(S){const p=S,o=ne(p,"class"),v=Se(o);return(b,u)=>(m(),h(e(ha),D(e(v),{class:e(G)("text-xs text-muted-foreground",p.class)}),{default:s(_=>[L(b.$slots,"default",qe(Be(_)))]),_:3},16,["class"]))}}),Va=B({__name:"StepperItem",props:{step:{},disabled:{type:Boolean},completed:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(S){const p=S,o=ne(p,"class"),v=Se(o);return(b,u)=>(m(),h(e(_a),D(e(v),{class:e(G)("flex items-center gap-2 group data-[disabled]:pointer-events-none",p.class)}),{default:s(_=>[L(b.$slots,"default",qe(Be(_)))]),_:3},16,["class"]))}}),Ia=B({__name:"StepperTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(S){const p=S,o=ne(p,"class"),v=Se(o);return(b,u)=>(m(),h(e(xa),D(e(v),{class:e(G)("text-md font-semibold whitespace-nowrap",p.class)}),{default:s(()=>[L(b.$slots,"default")]),_:3},16,["class"]))}}),Aa=B({__name:"StepperTrigger",props:{asChild:{type:Boolean},as:{},class:{}},setup(S){const p=S,o=ne(p,"class"),v=Se(o);return(b,u)=>(m(),h(e(wa),D(e(v),{class:e(G)("p-1 flex flex-col items-center text-center gap-1 rounded-md",p.class)}),{default:s(()=>[L(b.$slots,"default")]),_:3},16,["class"]))}}),Da={class:"fixed right-4 bottom-4 z-50"},$a={class:"flex items-center justify-between"},qa={class:"flex gap-1"},Ba={class:"space-y-2"},Pa={class:"space-y-1"},Ra={class:"flex justify-between"},Ta={class:"flex justify-between"},Fa={class:"flex justify-between"},Ma={class:"flex justify-between"},Ea={key:0,class:"space-y-2"},Na={class:"space-y-1"},Oa={class:"space-y-2"},za={class:"max-h-40 overflow-auto rounded bg-muted p-2 font-mono text-[10px]"},Ua={class:"space-y-2"},La={class:"max-h-40 overflow-auto rounded bg-muted p-2 font-mono text-[10px]"},Ga={class:"space-y-2"},Ka={class:"flex gap-2"},Wa=B({__name:"WizardDebugPanel",props:{currentStep:{},projectId:{},formValues:{},savedValues:{},isInitializing:{type:Boolean}},emits:["force-save","reset-form"],setup(S,{emit:p}){const o=S,v=p,b=C(!1),u=C(!0),_=T(()=>JSON.stringify(o.formValues)===JSON.stringify(o.savedValues)),k=T(()=>{const f=[];for(const l in o.formValues)o.formValues[l]!==o.savedValues[l]&&f.push(l);return f}),w=()=>{const f={timestamp:new Date().toISOString(),currentStep:o.currentStep,projectId:o.projectId,formValues:o.formValues,savedValues:o.savedValues,unsavedFields:k.value,localStorage:{}};for(let $=0;$<localStorage.length;$++){const A=localStorage.key($);A&&A.includes("project")&&(f.localStorage[A]=localStorage.getItem(A))}const l=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),j=URL.createObjectURL(l),I=document.createElement("a");I.href=j,I.download=`wizard-debug-${Date.now()}.json`,I.click()},g=()=>{if(confirm("This will clear all saved wizard data. Are you sure?")){const f=[];for(let l=0;l<localStorage.length;l++){const j=localStorage.key(l);j&&j.includes("project")&&f.push(j)}f.forEach(l=>localStorage.removeItem(l)),typeof window<"u"&&window.location.reload()}};return le(()=>o.formValues,()=>{u.value&&console.log("Form values changed:",o.formValues)},{deep:!0}),(f,l)=>(m(),P(se,null,[n("div",Da,[t(e(U),{onClick:l[0]||(l[0]=j=>b.value=!b.value),size:"icon",variant:"outline",class:"bg-background shadow-lg"},{default:s(()=>[b.value?(m(),h(e(Rt),{key:1,class:"h-4 w-4"})):(m(),h(e(Pt),{key:0,class:"h-4 w-4"}))]),_:1})]),t(Et,{name:"slide"},{default:s(()=>[b.value?(m(),h(e(ut),{key:0,class:"fixed right-4 bottom-20 z-40 max-h-[600px] w-96 overflow-auto shadow-xl"},{default:s(()=>[t(e(Jt),{class:"pb-3"},{default:s(()=>[n("div",$a,[t(e(Yt),{class:"text-sm font-medium"},{default:s(()=>[...l[4]||(l[4]=[y("Wizard Debug Panel",-1)])]),_:1}),n("div",qa,[t(e(U),{size:"icon",variant:"ghost",class:"h-6 w-6",onClick:w},{default:s(()=>[t(e(Tt),{class:"h-3 w-3"})]),_:1}),t(e(U),{size:"icon",variant:"ghost",class:"h-6 w-6",onClick:g},{default:s(()=>[t(e(Ft),{class:"h-3 w-3"})]),_:1}),t(e(U),{size:"icon",variant:"ghost",class:"h-6 w-6",onClick:l[1]||(l[1]=j=>u.value=!u.value)},{default:s(()=>[t(e(Mt),{class:W(["h-3 w-3",u.value&&"animate-spin"])},null,8,["class"])]),_:1})])])]),_:1}),t(e(dt),{class:"space-y-4 text-xs"},{default:s(()=>[n("div",Ba,[l[9]||(l[9]=n("div",{class:"font-semibold"},"Status",-1)),n("div",Pa,[n("div",Ra,[l[5]||(l[5]=n("span",{class:"text-muted-foreground"},"Current Step:",-1)),t(e(be),{variant:"outline"},{default:s(()=>[y(V(f.currentStep),1)]),_:1})]),n("div",Ta,[l[6]||(l[6]=n("span",{class:"text-muted-foreground"},"Project ID:",-1)),t(e(be),{variant:"outline"},{default:s(()=>[y(V(f.projectId||"Not created"),1)]),_:1})]),n("div",Fa,[l[7]||(l[7]=n("span",{class:"text-muted-foreground"},"Initializing:",-1)),t(e(be),{variant:f.isInitializing?"destructive":"default"},{default:s(()=>[y(V(f.isInitializing?"Yes":"No"),1)]),_:1},8,["variant"])]),n("div",Ma,[l[8]||(l[8]=n("span",{class:"text-muted-foreground"},"Values Synced:",-1)),t(e(be),{variant:_.value?"default":"destructive"},{default:s(()=>[y(V(_.value?"Yes":"No"),1)]),_:1},8,["variant"])])])]),k.value.length>0?(m(),P("div",Ea,[l[10]||(l[10]=n("div",{class:"font-semibold text-amber-600"},"Unsaved Fields",-1)),n("div",Na,[(m(!0),P(se,null,me(k.value,j=>(m(),h(e(be),{key:j,variant:"destructive",class:"mr-1 mb-1"},{default:s(()=>[y(V(j),1)]),_:2},1024))),128))])])):z("",!0),n("div",Oa,[l[11]||(l[11]=n("div",{class:"font-semibold"},"Current Form Values",-1)),n("div",za,[n("pre",null,V(JSON.stringify(f.formValues,null,2)),1)])]),n("div",Ua,[l[12]||(l[12]=n("div",{class:"font-semibold"},"Saved Values",-1)),n("div",La,[n("pre",null,V(JSON.stringify(f.savedValues,null,2)),1)])]),n("div",Ga,[l[15]||(l[15]=n("div",{class:"font-semibold"},"Debug Actions",-1)),n("div",Ka,[t(e(U),{size:"sm",variant:"outline",onClick:l[2]||(l[2]=j=>v("force-save"))},{default:s(()=>[...l[13]||(l[13]=[y(" Force Save ",-1)])]),_:1}),t(e(U),{size:"sm",variant:"outline",onClick:l[3]||(l[3]=j=>v("reset-form"))},{default:s(()=>[...l[14]||(l[14]=[y(" Reset Form ",-1)])]),_:1})])])]),_:1})]),_:1})):z("",!0)]),_:1})],64))}}),Ja=Ht(Wa,[["__scopeId","data-v-1bbff090"]]),Ya={class:"min-h-screen bg-gradient-to-b from-background via-background/95 to-muted/20"},Ha={class:"mx-auto max-w-4xl space-y-6 p-6 pb-20 lg:p-10 animate-in fade-in slide-in-from-bottom-4 duration-700"},Xa={key:0,class:"mt-4 rounded-lg border border-blue-200 bg-blue-50/50 p-4 text-sm text-blue-600 backdrop-blur-sm flex items-start gap-3 shadow-sm"},Qa=["onSubmit"],Za={class:"flex w-full flex-col items-start justify-start gap-4 md:flex-row md:gap-0"},es={class:"flex flex-col items-start text-left md:mt-5 md:items-center md:text-center"},ts={key:0,class:"mt-1 block text-xs text-blue-600"},as={class:"mt-8 space-y-6"},ss={key:0,class:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500"},ls={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},rs={class:"flex cursor-pointer items-center space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},os={class:"flex cursor-pointer items-center space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},is={class:"space-y-3"},ns={class:"flex-1 space-y-2"},us={class:"font-medium"},ds={class:"text-sm text-muted-foreground"},cs={class:"grid grid-cols-1 gap-2 text-xs text-muted-foreground sm:grid-cols-3"},ps={class:"flex items-center gap-1"},fs={class:"flex items-center gap-1"},ms={class:"flex items-center gap-1"},vs={key:0,class:"py-8 text-center text-muted-foreground"},gs={key:1,class:"py-8 text-center text-muted-foreground"},ys={key:1,class:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-500"},_s={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},bs={class:"space-y-2"},hs={class:"space-y-2"},Ss={key:2,class:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500"},xs={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ks={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ws={class:"space-y-3"},js={class:"flex cursor-pointer items-start space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},Cs={class:"flex cursor-pointer items-start space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},Vs={class:"mt-8 flex justify-between"},Is={class:"flex gap-3"},al=B({__name:"Create",props:{projectCategories:{},resumeProject:{}},setup(S){const p=S,o=[Ne({projectType:Oe(["undergraduate","postgraduate"]),projectCategoryId:Ie({required_error:"Please select a project category"})}),Ne({universityId:Ie({required_error:"Please select your university"}),facultyId:Ie().nullable().optional(),customFaculty:Q().optional(),departmentId:Ie().nullable().optional(),customDepartment:Q().optional(),course:Q().min(2,"Course of study is required")}).refine(i=>i.facultyId||i.customFaculty,{message:"Please select a faculty or enter a custom faculty name",path:["facultyId"]}).refine(i=>i.departmentId||i.customDepartment,{message:"Please select a department or enter a custom department name",path:["departmentId"]}),Ne({fieldOfStudy:Q().optional(),supervisorName:Q().optional(),matricNumber:Q().optional(),academicSession:Q().min(1,"Academic session is required"),degree:Q().min(2,"Degree is required"),degreeAbbreviation:Q().min(2,"Degree abbreviation is required"),workingMode:Oe(["auto","manual"]),aiAssistanceLevel:Oe(["minimal","moderate","maximum"]).optional()})],v=T(()=>o[u.value-1]),b=!1,u=C(1),_=C(null),k=C(!0),w=C({format_version:"2.0",steps:{},current_step:1,furthest_completed_step:0}),g=C("");let f=null;const l=C([]),j=C([]),I=C([]),$=C(!1),A=C(!1),ue=C(!1),oe=C(null),H=C(null),xe=(i,a,d)=>{const x=Y=>String(Y??"").toLowerCase(),R=j.value.find(Y=>Y.id===a)?.name??"",r=I.value.find(Y=>Y.id===d)?.name??"",c=`${x(R)} ${x(r)}`,J=x(i),pe={degree:"Bachelor of Science",degreeAbbreviation:"B.Sc."},Ve={degree:"Master of Science",degreeAbbreviation:"M.Sc."},ge=[{keywords:["engineering","engineer"],undergraduate:{degree:"Bachelor of Engineering",degreeAbbreviation:"B.Eng."},postgraduate:{degree:"Master of Engineering",degreeAbbreviation:"M.Eng."}},{keywords:["technology","polytechnic","technological"],undergraduate:{degree:"Bachelor of Technology",degreeAbbreviation:"B.Tech."},postgraduate:{degree:"Master of Technology",degreeAbbreviation:"M.Tech."}},{keywords:["management","business","administration","accounting","finance","marketing","economics"],undergraduate:pe,postgraduate:{degree:"Master of Business Administration",degreeAbbreviation:"MBA"}},{keywords:["education"],undergraduate:{degree:"Bachelor of Education",degreeAbbreviation:"B.Ed."},postgraduate:{degree:"Master of Education",degreeAbbreviation:"M.Ed."}},{keywords:["law","legal","jurisprud"],undergraduate:{degree:"Bachelor of Laws",degreeAbbreviation:"LL.B."},postgraduate:{degree:"Master of Laws",degreeAbbreviation:"LL.M."}},{keywords:["arts","humanities","history","linguistics","language","philosophy","literature"],undergraduate:{degree:"Bachelor of Arts",degreeAbbreviation:"B.A."},postgraduate:{degree:"Master of Arts",degreeAbbreviation:"M.A."}},{keywords:["agric","agriculture","forestry"],undergraduate:{degree:"Bachelor of Agriculture",degreeAbbreviation:"B.Agric."},postgraduate:{degree:"Master of Agriculture",degreeAbbreviation:"M.Agric."}},{keywords:["medicine","medical","health","nursing","pharmacy","dentistry"],undergraduate:{degree:"Bachelor of Medicine, Bachelor of Surgery",degreeAbbreviation:"MBBS"},postgraduate:Ve}],Ee=J==="postgraduate";for(const Y of ge)if(Y.keywords.some(ye=>c.includes(ye)))return Ee?Y.postgraduate:Y.undergraduate;return Ee?Ve:pe},te=C(!1),X=C(!1),ie=C(!1),ae=C(!1),q=C(!1),ke=i=>{const a=i.toString();return w.value.steps[a]?.data??{}},we=(i,a)=>{const d=i.toString();w.value.steps[d]={data:a,completed:_t(i,a),timestamp:new Date().toISOString()},w.value.current_step=Math.max(w.value.current_step,i),w.value.steps[d].completed&&(w.value.furthest_completed_step=Math.max(w.value.furthest_completed_step,i))},_t=(i,a)=>{if(i===1)return!!(a.projectType&&a.projectCategoryId);if(i===2){const d=!!(a.facultyId||a.customFaculty),x=!!(a.departmentId||a.customDepartment);return!!(a.universityId&&a.course&&d&&x)}return i===3?!!(a.academicSession&&a.degreeAbbreviation&&a.workingMode):!1},tt=()=>{const i={};return Object.values(w.value.steps).forEach(a=>{Object.assign(i,a.data)}),i};le(u,i=>{console.log("ðŸ‘€ Step changed to:",i),w.value.current_step=i,Ae(()=>{const a=ke(i),d=tt();if(i===3){const x=xe(d.projectType,d.facultyId,d.departmentId),R=wt=>String(wt??"").trim(),r=R(a.degree),c=R(a.degreeAbbreviation);!H.value&&r===x.degree&&c===x.degreeAbbreviation&&(H.value=x);const J=H.value&&r===H.value.degree&&c===H.value.degreeAbbreviation,pe=r==="Bachelor of Science"&&c==="B.Sc."||r===""||c==="",Ve=r==="Master of Science"&&c==="M.Sc."||r===""||c==="",ge=String(d.projectType??"")==="postgraduate",ye=ge&&c==="B.Sc."||!ge&&(c==="M.Sc."||c==="M.Eng."||c==="MBA")||J||(ge?Ve:pe)?{...a,...x}:a;JSON.stringify(ye)!==JSON.stringify(a)&&(we(i,ye),H.value=x),ce.value=ye}else ce.value=a;Ce.value++,a.projectType&&(g.value=a.projectType),i===2&&a.facultyId&&(oe.value=a.facultyId,Pe(a.facultyId))})}),gt(()=>{if(bt(),ht(),p.resumeProject){console.log("ðŸ“„ Resuming project setup...",p.resumeProject),u.value=p.resumeProject.current_step,_.value=p.resumeProject.id,w.value=p.resumeProject.wizard_data;const i=ke(u.value);ce.value=i,i.projectType&&(g.value=i.projectType),i.facultyId&&(oe.value=i.facultyId,Pe(i.facultyId)),Ce.value=Date.now(),console.log("âœ… Step-aware state restored:",{step:u.value,wizardData:w.value,currentStepData:i,selectedProjectType:g.value})}else console.log("ðŸ†• Starting fresh project setup"),ce.value={},Ce.value=Date.now();Ae(()=>{k.value=!1})});const bt=async()=>{$.value=!0;try{const a=await(await fetch("/api/universities")).json();l.value=a.universities}catch(i){console.error("Failed to fetch universities:",i),K("Error loading universities")}finally{$.value=!1}},ht=async()=>{A.value=!0;try{const a=await(await fetch("/api/faculties")).json();j.value=a.faculties}catch(i){console.error("Failed to fetch faculties:",i),K("Error loading faculties")}finally{A.value=!1}},Pe=async i=>{ue.value=!0;try{const a=await fetch(`/api/faculties/${i}/departments`);if(!a.ok)throw new Error(`HTTP ${a.status}`);const d=await a.json();I.value=Array.isArray(d.departments)?d.departments:[],I.value.length===0&&console.warn("No departments returned for faculty:",i)}catch(a){console.error("Failed to fetch departments:",a),K("Error loading departments")}finally{ue.value=!1}};le(oe,i=>{i?Pe(i):I.value=[]});const Re=async(i,a)=>{try{if(console.log("ðŸ’¾ Saving progress - Step:",i,"Data:",a),k.value){console.log("â¸ï¸ Skipping save during initialization");return}const d=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(!d){console.error("âŒ CSRF token not found"),K("Error",{description:"Security token missing. Please refresh the page."});return}const x=await fetch(nt("projects.save-wizard-progress"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":d,"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin",body:JSON.stringify({project_id:_.value,step:i,data:a})});if(x.ok){const R=await x.json();R.success?(_.value=R.project_id,Fe.value={...a},console.log("âœ… Progress saved successfully")):(console.error("âŒ Save failed:",R),K("Save Failed",{description:R.message||"Failed to save progress."}))}else{if(console.error("âŒ Save request failed:",x.status,x.statusText),x.status===419){K("Session Expired",{description:"Please refresh the page to continue."});return}else if(x.status===422){const R=await x.json().catch(()=>({}));console.error("âŒ Validation errors:",R),K("Validation Error",{description:"Some form data is invalid."});return}throw new Error(`HTTP ${x.status}: ${x.statusText}`)}}catch(d){console.error("âŒ Failed to save progress:",d),d instanceof SyntaxError&&d.message.includes("Unexpected token")?K("Session Error",{description:"Your session may have expired. Please refresh the page."}):K("Auto-save Error",{description:"Failed to save your progress automatically."})}},at=(i,a)=>{f&&clearTimeout(f),f=setTimeout(()=>{Re(i,a)},1e3)},je=async(i,a)=>{if(i===u.value)return;console.log("ðŸ“„ Navigating from step",u.value,"to step",i);const d=Me(a,u.value);Object.keys(d).length>0&&(console.log("ðŸ’¾ Saving step",u.value,"data before navigation:",d),we(u.value,d),await Re(u.value,d)),u.value=i,console.log("âœ… Navigation complete - now on step:",u.value)},de=T(()=>(i,a,d)=>{const x=Math.max(a,p.resumeProject?.setup_step??1);return!!(i<=x||i===a+1&&d)}),ve=[{step:1,title:"Academic Setup",description:"Level & project type",icon:ot},{step:2,title:"Institution",description:"University details",icon:Nt},{step:3,title:"Research Details",description:"Field & supervisor info",icon:it}],st=i=>p.projectCategories[i]||[];le(g,i=>{if(i&&!k.value){const a={...Fe.value,projectType:i};at(u.value,a)}});const Te=C({}),Fe=C({}),ce=C({}),Ce=C(0);le(ce,i=>{i?.projectType&&i.projectType!==g.value&&(g.value=i.projectType,console.log("ðŸ”„ Synced selectedProjectType from form values:",i.projectType))},{deep:!0,immediate:!0});const Me=(i,a)=>{const x={1:["projectType","projectCategoryId"],2:["universityId","facultyId","customFaculty","departmentId","customDepartment","course"],3:["fieldOfStudy","supervisorName","matricNumber","academicSession","degree","degreeAbbreviation","workingMode","aiAssistanceLevel"]}[a]||[];return Object.fromEntries(Object.entries(i||{}).filter(([R,r])=>x.includes(R)&&r!==null&&r!==void 0&&r!==""))},St=i=>{if(k.value)return;const a=Me(i,u.value);if(Object.keys(a).length>0){const d=ke(u.value);JSON.stringify(a)!==JSON.stringify(d)&&(console.log("ðŸ”„ Step",u.value,"data changed:",a),we(u.value,a),a.projectType&&(g.value=a.projectType),at(u.value,a))}},xt=B({name:"FormWatcher",props:{values:{type:Object,required:!0}},setup(i){return le(()=>i.values,a=>{Te.value=a,St(a)},{deep:!0,immediate:!0}),()=>null}});function kt(i){console.log("ðŸš€ Submitting final step with current values:",i);const a=Me(i,u.value);we(u.value,a);const d=tt();console.log("ðŸ“‹ All steps data for submission:",d);const x=d.facultyId||d.customFaculty,R=d.departmentId||d.customDepartment;if(!d.projectType||!d.universityId||!x||!R){K("Incomplete Data",{description:"Please complete all previous steps before submitting."});return}const r={project_category_id:d.projectCategoryId,type:d.projectType,university_id:d.universityId,faculty_id:d.facultyId||null,custom_faculty:d.customFaculty||null,department_id:d.departmentId||null,custom_department:d.customDepartment||null,course:d.course,field_of_study:d.fieldOfStudy,supervisor_name:d.supervisorName,matric_number:d.matricNumber,academic_session:d.academicSession,degree:d.degree,degree_abbreviation:d.degreeAbbreviation,mode:d.workingMode,ai_assistance_level:d.aiAssistanceLevel};_.value&&(r.project_id=_.value),console.log("ðŸŽ¯ Final project data for submission:",r),Ut.post(nt("projects.store"),r,{onSuccess:()=>{K("Project Created!",{description:"Your project has been set up successfully."})},onError:c=>{console.error("âŒ Project creation failed:",c),K("Error",{description:"Failed to create project. Please try again."})}})}return(i,a)=>(m(),h(Xt,{title:"Create New Project"},{default:s(()=>[n("div",Ya,[n("div",Ha,[n("div",null,[a[8]||(a[8]=n("h1",{class:"text-3xl font-bold tracking-tight bg-gradient-to-br from-foreground to-foreground/70 bg-clip-text text-transparent"}," Create Your Project",-1)),a[9]||(a[9]=n("p",{class:"text-muted-foreground mt-2 text-lg"},"Set up your final year project in just a few steps",-1)),u.value>1?(m(),P("div",Xa,[...a[7]||(a[7]=[n("span",{class:"text-lg"},"ðŸ’¡",-1),n("div",null,[n("strong",null,"Tip:"),y(" You can click on any previous step to go back and make changes. Your progress is automatically saved! ")],-1)])])):z("",!0)]),t(e(ut),null,{default:s(()=>[t(e(dt),{class:"pt-6"},{default:s(()=>[(m(),h(e(Ct),{key:Ce.value,as:"","keep-values":"","validation-schema":e(Vt)(v.value),"initial-values":ce.value},{default:s(({meta:d,values:x,validate:R})=>[k.value?z("",!0):(m(),h(e(xt),{key:0,values:x},null,8,["values"])),t(e(ja),{modelValue:u.value,"onUpdate:modelValue":a[5]||(a[5]=r=>u.value=r),class:"w-full"},{default:s(()=>[n("form",{onSubmit:r=>{r.preventDefault(),R(),u.value===ve.length&&d.valid&&kt(x)},class:"w-full"},[n("div",Za,[(m(),P(se,null,me(ve,(r,c)=>(m(),P(se,{key:r.step},[t(e(Va),{class:"relative flex flex-shrink-0 flex-row items-center gap-4 md:flex-col md:gap-0",step:r.step},{default:s(({state:J})=>[t(e(Aa),{"as-child":""},{default:s(()=>[t(e(U),{variant:J==="completed"||J==="active"?"default":"outline",size:"icon",class:W(["relative z-10 shrink-0 rounded-full",[J==="active"&&"ring-2 ring-ring ring-offset-2 ring-offset-background",!de.value(r.step,u.value,d.valid)&&"cursor-not-allowed opacity-50"]]),disabled:!de.value(r.step,u.value,d.valid),onClick:pe=>je(r.step,x),type:"button"},{default:s(()=>[J==="completed"?(m(),h(e(fe),{key:0,class:"size-5"})):(m(),h(Ot(r.icon),{key:1,class:"size-5"}))]),_:2},1032,["variant","class","disabled","onClick"])]),_:2},1024),n("div",es,[t(e(Ia),{class:W([[J==="active"&&"text-primary",de.value(r.step,u.value,d.valid)&&r.step!==u.value&&"cursor-pointer text-blue-600 hover:text-blue-800"],"text-sm font-semibold transition lg:text-base"]),onClick:pe=>de.value(r.step,u.value,d.valid)?je(r.step,x):null},{default:s(()=>[y(V(r.title),1)]),_:2},1032,["class","onClick"]),t(e(Ca),{class:W([[J==="active"&&"text-primary",de.value(r.step,u.value,d.valid)&&r.step!==u.value&&"text-blue-500"],"text-xs text-muted-foreground transition md:text-sm"])},{default:s(()=>[y(V(r.description)+" ",1),de.value(r.step,u.value,d.valid)&&r.step<u.value?(m(),P("span",ts," (click to edit) ")):z("",!0)]),_:2},1032,["class"])])]),_:2},1032,["step"]),c<ve.length-1?(m(),P("div",{key:0,class:W(["mt-5 hidden h-0.5 w-full max-w-[200px] transition-all duration-300 md:block",u.value>r.step?"bg-primary":"bg-muted"])},null,2)):z("",!0)],64))),64))]),n("div",as,[u.value===1?(m(),P("div",ss,[t(e(F),{name:"projectType"},{default:s(({componentField:r})=>[t(e(M),null,{default:s(()=>[t(e(E),null,{default:s(()=>[...a[10]||(a[10]=[y("What is your academic level?",-1)])]),_:1}),t(e(N),null,{default:s(()=>[t(e(Xe),{"model-value":r.modelValue,"onUpdate:modelValue":c=>{r["onUpdate:modelValue"]?.(c),g.value=c}},{default:s(()=>[n("div",ls,[n("label",rs,[t(e(he),{value:"undergraduate"}),a[11]||(a[11]=n("div",{class:"space-y-1"},[n("p",{class:"text-sm font-medium"},"Undergraduate"),n("p",{class:"text-xs text-muted-foreground"}," BSc/BTech final year project")],-1))]),n("label",os,[t(e(he),{value:"postgraduate"}),a[12]||(a[12]=n("div",{class:"space-y-1"},[n("p",{class:"text-sm font-medium"},"Postgraduate"),n("p",{class:"text-xs text-muted-foreground"},"MSc/PhD thesis")],-1))])])]),_:2},1032,["model-value","onUpdate:modelValue"])]),_:2},1024),t(e(O))]),_:2},1024)]),_:1}),t(e(F),{name:"projectCategoryId"},{default:s(({componentField:r})=>[t(e(M),null,{default:s(()=>[t(e(E),null,{default:s(()=>[...a[13]||(a[13]=[y("What type of project are you creating?",-1)])]),_:1}),t(e(N),null,{default:s(()=>[t(e(Xe),{"model-value":r.modelValue?.toString(),"onUpdate:modelValue":c=>r["onUpdate:modelValue"]?.(parseInt(c))},{default:s(()=>[n("div",is,[(m(!0),P(se,null,me(st(g.value),c=>(m(),P("label",{key:c.id,class:"flex cursor-pointer items-start space-y-0 space-x-3 rounded-md border p-4 transition-all duration-200 hover:border-primary hover:bg-accent/50 has-[[data-state=checked]]:border-primary has-[[data-state=checked]]:bg-primary/5"},[t(e(he),{value:c.id.toString(),class:"mt-1"},null,8,["value"]),n("div",ns,[n("div",null,[n("p",us,V(c.name),1),n("p",ds,V(c.description),1)]),n("div",cs,[n("div",ps,[t(e(zt),{class:"h-3 w-3"}),y(" "+V(c.default_chapter_count)+" chapters ",1)]),n("div",fs,[t(e(it),{class:"h-3 w-3"}),y(" ~"+V((c.target_word_count/1e3).toFixed(0))+"k words ",1)]),n("div",ms,[t(e(ot),{class:"h-3 w-3"}),y(" "+V(c.target_duration),1)])])])]))),128)),g.value?st(g.value).length===0?(m(),P("div",gs," No project categories available for this academic level ")):z("",!0):(m(),P("div",vs," Please select an academic level first "))])]),_:2},1032,["model-value","onUpdate:modelValue"])]),_:2},1024),t(e(O))]),_:2},1024)]),_:1})])):z("",!0),u.value===2?(m(),P("div",ys,[t(e(F),{name:"universityId"},{default:s(({componentField:r})=>[t(e(M),{class:"flex flex-col"},{default:s(()=>[t(e(E),null,{default:s(()=>[...a[14]||(a[14]=[y("University",-1)])]),_:1}),t(e(We),{open:te.value,"onUpdate:open":a[0]||(a[0]=c=>te.value=c)},{default:s(()=>[t(e(Je),{"as-child":""},{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),{variant:"outline",role:"combobox",class:W(e(G)("w-full justify-between",!r.modelValue&&"text-muted-foreground"))},{default:s(()=>[y(V(r.modelValue?l.value.find(c=>c.id===r.modelValue)?.name:"Select your university...")+" ",1),t(e(He),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024),t(e(Ye),{class:"w-full p-0",align:"start"},{default:s(()=>[t(e(ze),null,{default:s(()=>[t(e(Ue),{placeholder:"Search university..."}),t(e(Le),null,{default:s(()=>[...a[15]||(a[15]=[y("No university found.",-1)])]),_:1}),t(e(Ge),null,{default:s(()=>[t(e(Ke),null,{default:s(()=>[(m(!0),P(se,null,me(l.value,c=>(m(),h(e(_e),{key:c.id,value:c.name,onSelect:()=>{r["onUpdate:modelValue"]?.(c.id),te.value=!1}},{default:s(()=>[y(V(c.name)+" ",1),t(e(fe),{class:W(e(G)("ml-auto h-4 w-4",c.id===r.modelValue?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["open"]),t(e(O))]),_:2},1024)]),_:1}),n("div",_s,[ae.value?(m(),h(e(F),{key:1,name:"customFaculty"},{default:s(({componentField:r})=>[t(e(M),{class:"flex flex-col"},{default:s(()=>[t(e(E),null,{default:s(()=>[...a[19]||(a[19]=[y("Faculty",-1)])]),_:1}),n("div",bs,[t(e(N),null,{default:s(()=>[t(e(Z),D(r,{placeholder:"Enter your faculty name..."}),null,16)]),_:2},1024),t(e(U),{type:"button",variant:"ghost",size:"sm",onClick:a[2]||(a[2]=c=>{ae.value=!1,q.value=!1}),class:"text-xs text-muted-foreground"},{default:s(()=>[...a[20]||(a[20]=[y(" â† Back to faculty list ",-1)])]),_:1})]),t(e(O))]),_:2},1024)]),_:1})):(m(),h(e(F),{key:0,name:"facultyId"},{default:s(({componentField:r})=>[t(e(M),{class:"flex flex-col"},{default:s(()=>[t(e(E),null,{default:s(()=>[...a[16]||(a[16]=[y("Faculty",-1)])]),_:1}),t(e(We),{open:X.value,"onUpdate:open":a[1]||(a[1]=c=>X.value=c)},{default:s(()=>[t(e(Je),{"as-child":""},{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),{variant:"outline",role:"combobox",class:W(e(G)("w-full justify-between",!r.modelValue&&"text-muted-foreground"))},{default:s(()=>[y(V(r.modelValue?"Faculty of "+j.value.find(c=>c.id===r.modelValue)?.name:"Select faculty...")+" ",1),t(e(He),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024),t(e(Ye),{class:"w-[300px] p-0"},{default:s(()=>[t(e(ze),null,{default:s(()=>[t(e(Ue),{placeholder:"Search faculty..."}),t(e(Le),null,{default:s(()=>[...a[17]||(a[17]=[y("No faculty found.",-1)])]),_:1}),t(e(Ge),null,{default:s(()=>[t(e(Ke),null,{default:s(()=>[(m(!0),P(se,null,me(j.value,c=>(m(),h(e(_e),{key:c.id,value:c.name,onSelect:()=>{r["onUpdate:modelValue"]?.(c.id),oe.value=c.id,X.value=!1}},{default:s(()=>[t(e(fe),{class:W(e(G)("mr-2 h-4 w-4",r.modelValue===c.id?"opacity-100":"opacity-0"))},null,8,["class"]),y(" Faculty of "+V(c.name),1)]),_:2},1032,["value","onSelect"]))),128)),t(e(_e),{value:"other",onSelect:()=>{r["onUpdate:modelValue"]?.(null),ae.value=!0,q.value=!0,X.value=!1}},{default:s(()=>[t(e(fe),{class:"mr-2 h-4 w-4 opacity-0"}),a[18]||(a[18]=y(" Other (enter custom faculty) ",-1))]),_:2},1032,["onSelect"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["open"]),t(e(O))]),_:2},1024)]),_:1})),q.value?(m(),h(e(F),{key:3,name:"customDepartment"},{default:s(({componentField:r})=>[t(e(M),{class:"flex flex-col"},{default:s(()=>[t(e(E),null,{default:s(()=>[...a[24]||(a[24]=[y("Department",-1)])]),_:1}),n("div",hs,[t(e(N),null,{default:s(()=>[t(e(Z),D(r,{placeholder:"Enter your department name..."}),null,16)]),_:2},1024),t(e(U),{type:"button",variant:"ghost",size:"sm",onClick:a[4]||(a[4]=c=>q.value=!1),class:"text-xs text-muted-foreground",disabled:ae.value},{default:s(()=>[y(V(ae.value?"Select faculty first to browse departments":"â† Back to department list"),1)]),_:1},8,["disabled"])]),t(e(O))]),_:2},1024)]),_:1})):(m(),h(e(F),{key:2,name:"departmentId"},{default:s(({componentField:r})=>[t(e(M),{class:"flex flex-col"},{default:s(()=>[t(e(E),null,{default:s(()=>[...a[21]||(a[21]=[y("Department",-1)])]),_:1}),t(e(We),{open:ie.value,"onUpdate:open":a[3]||(a[3]=c=>ie.value=c)},{default:s(()=>[t(e(Je),{"as-child":""},{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(U),{variant:"outline",role:"combobox",class:W(e(G)("w-full justify-between",!r.modelValue&&"text-muted-foreground"))},{default:s(()=>[y(V(r.modelValue?I.value.find(c=>c.id===r.modelValue)?.name:"Select department...")+" ",1),t(e(He),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024),t(e(Ye),{class:"w-[350px] p-0"},{default:s(()=>[t(e(ze),null,{default:s(()=>[t(e(Ue),{placeholder:"Search department..."}),t(e(Le),null,{default:s(()=>[...a[22]||(a[22]=[y("No department found.",-1)])]),_:1}),t(e(Ge),null,{default:s(()=>[t(e(Ke),null,{default:s(()=>[(m(!0),P(se,null,me(I.value,c=>(m(),h(e(_e),{key:c.id,value:c.name,onSelect:()=>{r["onUpdate:modelValue"]?.(c.id),ie.value=!1}},{default:s(()=>[t(e(fe),{class:W(e(G)("mr-2 h-4 w-4",r.modelValue===c.id?"opacity-100":"opacity-0"))},null,8,["class"]),y(" "+V(c.name),1)]),_:2},1032,["value","onSelect"]))),128)),t(e(_e),{value:"other",onSelect:()=>{r["onUpdate:modelValue"]?.(null),q.value=!0,ie.value=!1}},{default:s(()=>[t(e(fe),{class:"mr-2 h-4 w-4 opacity-0"}),a[23]||(a[23]=y(" Other (enter custom department) ",-1))]),_:2},1032,["onSelect"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["open"]),t(e(O))]),_:2},1024)]),_:1}))]),t(e(F),{name:"course"},{default:s(({componentField:r})=>[t(e(M),null,{default:s(()=>[t(e(E),null,{default:s(()=>[...a[25]||(a[25]=[y("Course of Study",-1)])]),_:1}),t(e(N),null,{default:s(()=>[t(e(Z),D({type:"text",placeholder:"e.g., Computer Science"},r),null,16)]),_:2},1024),t(e(O))]),_:2},1024)]),_:1})])):z("",!0),u.value===3?(m(),P("div",Ss,[t(e(F),{name:"fieldOfStudy"},{default:s(({componentField:r})=>[t(e(M),null,{default:s(()=>[t(e(E),null,{default:s(()=>[...a[26]||(a[26]=[y("Field/Area of Research (Optional)",-1)])]),_:1}),t(e(N),null,{default:s(()=>[t(e(Z),D({type:"text",placeholder:"e.g., Artificial Intelligence, Web Development (leave blank if unsure)"},r),null,16)]),_:2},1024),t(e(It),null,{default:s(()=>[...a[27]||(a[27]=[y(" Your specific area of focus for this project. Leave blank if you need AI guidance in choosing a research area. ",-1)])]),_:1}),t(e(O))]),_:2},1024)]),_:1}),t(e(F),{name:"supervisorName"},{default:s(({componentField:r})=>[t(e(M),null,{default:s(()=>[t(e(E),null,{default:s(()=>[...a[28]||(a[28]=[y("Supervisor Name (Optional)",-1)])]),_:1}),t(e(N),null,{default:s(()=>[t(e(Z),D({type:"text",placeholder:"e.g., Dr. John Doe"},r),null,16)]),_:2},1024),t(e(O))]),_:2},1024)]),_:1}),n("div",xs,[t(e(F),{name:"matricNumber"},{default:s(({componentField:r})=>[t(e(M),null,{default:s(()=>[t(e(E),null,{default:s(()=>[...a[29]||(a[29]=[y("Matric Number (Optional)",-1)])]),_:1}),t(e(N),null,{default:s(()=>[t(e(Z),D({type:"text",placeholder:"e.g., 2019/1234"},r),null,16)]),_:2},1024),t(e(O))]),_:2},1024)]),_:1}),t(e(F),{name:"academicSession"},{default:s(({componentField:r})=>[t(e(M),null,{default:s(()=>[t(e(E),null,{default:s(()=>[...a[30]||(a[30]=[y("Academic Session",-1)])]),_:1}),t(e(N),null,{default:s(()=>[t(e(Z),D({type:"text",placeholder:"e.g., 2024/2025"},r),null,16)]),_:2},1024),t(e(O))]),_:2},1024)]),_:1})]),n("div",ks,[t(e(F),{name:"degree"},{default:s(({componentField:r})=>[t(e(M),null,{default:s(()=>[t(e(E),null,{default:s(()=>[...a[31]||(a[31]=[y("Degree",-1)])]),_:1}),t(e(N),null,{default:s(()=>[t(e(Z),D({type:"text",placeholder:"e.g., Bachelor of Science"},r),null,16)]),_:2},1024),t(e(O))]),_:2},1024)]),_:1}),t(e(F),{name:"degreeAbbreviation"},{default:s(({componentField:r})=>[t(e(M),null,{default:s(()=>[t(e(E),null,{default:s(()=>[...a[32]||(a[32]=[y("Degree Abbreviation",-1)])]),_:1}),t(e(N),null,{default:s(()=>[t(e(Z),D({type:"text",placeholder:"e.g., B.Sc., M.Sc."},r),null,16)]),_:2},1024),t(e(O))]),_:2},1024)]),_:1})]),t(e(F),{name:"workingMode"},{default:s(({componentField:r})=>[t(e(M),null,{default:s(()=>[t(e(E),null,{default:s(()=>[...a[33]||(a[33]=[y("How would you like to work on your project?",-1)])]),_:1}),t(e(N),null,{default:s(()=>[t(e(Xe),qe(Be(r)),{default:s(()=>[n("div",ws,[n("label",js,[t(e(he),{value:"auto",class:"mt-1"}),a[34]||(a[34]=n("div",{class:"space-y-1"},[n("p",{class:"font-medium"},"Auto Mode"),n("p",{class:"text-sm text-muted-foreground"}," AI generates complete chapters. You review and approve each section. Perfect for quick completion. ")],-1))]),n("label",Cs,[t(e(he),{value:"manual",class:"mt-1"}),a[35]||(a[35]=n("div",{class:"space-y-1"},[n("p",{class:"font-medium"},"Manual Mode"),n("p",{class:"text-sm text-muted-foreground"}," Co-write with AI assistance. Get suggestions as you type, maintain full control. ")],-1))])])]),_:2},1040)]),_:2},1024),t(e(O))]),_:2},1024)]),_:1})])):z("",!0)]),n("div",Vs,[t(e(U),{disabled:u.value<=1,variant:"outline",onClick:r=>je(u.value-1,x),type:"button"},{default:s(()=>[...a[36]||(a[36]=[y(" Back ",-1)])]),_:2},1032,["disabled","onClick"]),n("div",Is,[u.value!==ve.length?(m(),h(e(U),{key:0,disabled:!d.valid,onClick:r=>je(u.value+1,x),type:"button"},{default:s(()=>[...a[37]||(a[37]=[y(" Next ",-1)])]),_:2},1032,["disabled","onClick"])):z("",!0),u.value===ve.length?(m(),h(e(U),{key:1,type:"submit",disabled:!d.valid},{default:s(()=>[...a[38]||(a[38]=[y(" Complete Setup ",-1)])]),_:2},1032,["disabled"])):z("",!0)])])],40,Qa)]),_:2},1032,["modelValue"])]),_:1},8,["validation-schema","initial-values"]))]),_:1})]),_:1})]),e(b)?(m(),h(Ja,{key:0,"current-step":u.value,"project-id":_.value,"form-values":Te.value,"saved-values":Fe.value,"is-initializing":k.value,onForceSave:a[6]||(a[6]=()=>Re(u.value,Te.value)),onResetForm:()=>{}},null,8,["current-step","project-id","form-values","saved-values","is-initializing"])):z("",!0)])]),_:1}))}});export{al as default};
