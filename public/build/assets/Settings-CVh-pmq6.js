import{_ as A}from"./AdminLayout.vue_vue_type_script_setup_true_lang-nXq3DGFH.js";import{_ as N,a as B}from"./CardContent.vue_vue_type_script_setup_true_lang-CzDqfk0_.js";import{_ as E}from"./CardDescription.vue_vue_type_script_setup_true_lang-refoYnBx.js";import{_ as F,a as M}from"./CardTitle.vue_vue_type_script_setup_true_lang-BXn45Ckp.js";import{_ as T}from"./Input.vue_vue_type_script_setup_true_lang-D350FEG5.js";import{_ as W}from"./Textarea.vue_vue_type_script_setup_true_lang-OVMI9mdh.js";import{_ as G}from"./index-BevM4Rk7.js";import{_ as I,a as L,b as P,c as O}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-4Oo9XXd-.js";import{_ as k}from"./index-CnOHeVck.js";import{_ as q}from"./Label.vue_vue_type_script_setup_true_lang-Dev0TU-a.js";import{bt as D,dE as J,go as K,bs as R,ci as Z,ck as z,cn as n,co as r,cp as i,cr as d,cq as o,bE as a,cs as c,du as H,cy as Q,ct as u,cB as p,cS as g,df as v,dZ as X,cK as Y,cG as ee,cl as se,cj as h}from"./vendor-DgjuSLrY.js";import"./Sonner.vue_vue_type_script_setup_true_lang-oHQkWKcv.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-Bih4cv7s.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-D_wg_4gP.js";const ae={class:"space-y-6 max-w-5xl mx-auto"},te={class:"flex items-center justify-between pb-4 border-b"},le={class:"flex items-center justify-between"},re={class:"flex items-center gap-2"},ie={class:"text-xs px-2 py-0.5 rounded bg-muted text-muted-foreground font-mono"},oe={class:"grid gap-2"},ne={key:2,class:"text-sm text-muted-foreground"},Ve=D({__name:"Settings",props:{settings:{}},setup(x){const S=x.settings.map(e=>({key:e.key,value:typeof e.value=="object"?JSON.stringify(e.value,null,2):e.value,type:e.type,group:e.group,description:e.description})),m=J({settings:S}),b=K("history"),f=R(b.tab||"general");Z(f,e=>{b.tab=e});const w=["refund_policy","support_email"],V=e=>w.includes(e),y=z(()=>{const e={general:{id:"general",label:"General",description:"General system configurations",settings:[]},ai:{id:"ai",label:"AI & Prompts",description:"Configure AI models and system prompts",settings:[]},affiliate:{id:"affiliate",label:"Affiliate System",description:"Manage affiliate program settings",settings:[]},feedback:{id:"feedback",label:"User Feedback",description:"Feedback collection triggers and limits",settings:[]}};return m.settings.forEach(s=>{s.key.startsWith("ai.")||s.key.includes("prompt")?e.ai.settings.push(s):s.key.startsWith("affiliate.")?e.affiliate.settings.push(s):s.key.startsWith("feedback.")?e.feedback.settings.push(s):e.general.settings.push(s)}),Object.values(e).filter(s=>s.settings.length>0)}),$=(e,s)=>{const l=String(e??""),t=String(s??"");return!!(l.startsWith("ai.")||l.includes("prompt")||t.includes(`
`)||t.length>80)},C=e=>{const l=String(e??"").split(`
`).length;return Math.min(15,Math.max(3,l))},U=e=>e.split(".").pop()?.split("_").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")||e,j=()=>{console.log("Saving settings:",m.settings),m.put(se("admin.system.update-settings"),{preserveScroll:!0,onSuccess:()=>{console.log("Save success"),h("Settings Saved",{description:"System settings have been updated successfully."})},onError:e=>{console.error("Save error:",e),h("Save Failed",{description:"There was an error saving the settings. Please check your inputs."})}})};return(e,s)=>(r(),n(A,{title:"System Settings"},{default:i(()=>[d("div",ae,[d("div",te,[s[1]||(s[1]=d("div",null,[d("h1",{class:"text-2xl font-bold tracking-tight text-foreground"},"System Settings"),d("p",{class:"text-muted-foreground mt-1"},"Manage global application configurations and parameters.")],-1)),o(a(G),{onClick:j,disabled:a(m).processing,class:"gap-2"},{default:i(()=>[a(m).processing?(r(),n(a(H),{key:0,class:"w-4 h-4 animate-spin"})):(r(),n(a(Q),{key:1,class:"w-4 h-4"})),c(" "+u(a(m).processing?"Saving...":"Save Changes"),1)]),_:1},8,["disabled"])]),o(a(I),{modelValue:f.value,"onUpdate:modelValue":s[0]||(s[0]=l=>f.value=l),class:"space-y-6"},{default:i(()=>[o(a(L),{class:"grid w-full grid-cols-4 lg:w-[600px]"},{default:i(()=>[(r(!0),p(g,null,v(y.value,l=>(r(),n(a(P),{key:l.id,value:l.id},{default:i(()=>[c(u(l.label),1)]),_:2},1032,["value"]))),128))]),_:1}),(r(!0),p(g,null,v(y.value,l=>(r(),n(a(O),{key:l.id,value:l.id,class:"space-y-4"},{default:i(()=>[o(a(N),null,{default:i(()=>[o(a(F),null,{default:i(()=>[o(a(M),null,{default:i(()=>[c(u(l.label),1)]),_:2},1024),o(a(E),null,{default:i(()=>[c(u(l.description),1)]),_:2},1024)]),_:2},1024),o(a(B),{class:"grid gap-6"},{default:i(()=>[(r(!0),p(g,null,v(l.settings,(t,ce)=>(r(),p("div",{key:t.key,class:"grid gap-3 p-4 rounded-lg border bg-card hover:bg-accent/5 transition-colors"},[d("div",le,[d("div",re,[o(a(q),{for:t.key,class:"text-base font-semibold text-foreground"},{default:i(()=>[c(u(U(t.key)),1)]),_:2},1032,["for"]),d("code",ie,u(t.key),1)]),V(t.key)?(r(),n(a(k),{key:0,variant:"destructive",class:"gap-1"},{default:i(()=>[o(a(X),{class:"w-3 h-3"}),s[2]||(s[2]=c(" Not Implemented ",-1))]),_:1})):(r(),n(a(k),{key:1,variant:"outline",class:"gap-1 text-emerald-600 border-emerald-200 bg-emerald-50 dark:bg-emerald-950/30 dark:border-emerald-800 dark:text-emerald-400"},{default:i(()=>[o(a(Y),{class:"w-3 h-3"}),s[3]||(s[3]=c(" Active ",-1))]),_:1}))]),d("div",oe,[$(t.key,t.value)?(r(),n(a(W),{key:0,id:t.key,modelValue:t.value,"onUpdate:modelValue":_=>t.value=_,rows:C(t.value),class:"font-mono text-sm leading-relaxed"},null,8,["id","modelValue","onUpdate:modelValue","rows"])):(r(),n(a(T),{key:1,id:t.key,modelValue:t.value,"onUpdate:modelValue":_=>t.value=_,class:"max-w-md"},null,8,["id","modelValue","onUpdate:modelValue"])),t.description?(r(),p("p",ne,u(t.description),1)):ee("",!0)])]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])]),_:1}))}});export{Ve as default};
