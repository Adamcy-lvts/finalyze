import{d as B,a6 as W,c as C,o as m,w as o,k as t,u as e,e as l,s as d,x as E,y as k,D as _,U as Z,g as z,A as D,G as H,ag as J,q as f,t as c,l as Q,a as g}from"./app-CGVN6_L1.js";import{P as R,_ as X}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CXUitdZw.js";import{_ as V,a as $}from"./CardContent.vue_vue_type_script_setup_true_lang-Bmay5RTP.js";import{_ as Y}from"./CardDescription.vue_vue_type_script_setup_true_lang-Bjo3rvER.js";import{_ as h,a as j}from"./CardTitle.vue_vue_type_script_setup_true_lang-BLT4Y6ri.js";import{c as N,_ as v,L as ee}from"./index-DxO3weBC.js";import{_ as y}from"./Input.vue_vue_type_script_setup_true_lang-7tKEzq0s.js";import{_ as x}from"./Label.vue_vue_type_script_setup_true_lang-fkw3KWqz.js";import{_ as I}from"./Textarea.vue_vue_type_script_setup_true_lang-CQDl1-V1.js";import{_ as S}from"./Switch.vue_vue_type_script_setup_true_lang-BFCF6Evn.js";import{_ as se,a as te,b as re,c as oe,d as F}from"./SelectValue.vue_vue_type_script_setup_true_lang-CLwH1fku.js";import{_ as ae,a as le}from"./index-byM0uKWt.js";import{_ as de}from"./AlertTitle.vue_vue_type_script_setup_true_lang-Pw0nuLCM.js";import{_ as ie,d as ne,a as ue,b as ce,c as pe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-AvE6wRnx.js";import{_ as me}from"./DataTable.vue_vue_type_script_setup_true_lang-BnQSKFnF.js";import{_ as fe}from"./index-NNDWCshN.js";import{a as _e,b as ge,k as xe,c as K,l as ye,_ as ve}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D3dfPFfw.js";import{T as be}from"./trash-2-zGz7hCvx.js";import{A as L}from"./arrow-up-down-CoIu7Nwl.js";import{Z as ke}from"./zap-C8tPtOL_.js";import{C as we}from"./coins-DlLUyRbY.js";import{S as Ve}from"./sparkles-Bs0E59_1.js";import{P as $e}from"./plus-B9NNMpLI.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-DYmn0SLF.js";import"./VisuallyHidden-C0CMEehB.js";import"./useForwardExpose-ZWbgJ8U6.js";import"./users-DzxBr_-i.js";import"./chart-column-3Rz6nf2K.js";import"./list-HmAdza7J.js";import"./VisuallyHiddenInput-sGQ8Ae0L.js";import"./useNonce-BF4BPpb2.js";import"./chevron-down-CFH8Q6mL.js";import"./check-D-zxjyqa.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./nullish-CHIgUVhi.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-BmPdYTgb.js";import"./search-BXB4Mf1J.js";import"./chevron-left-3Jbc7UXG.js";import"./chevron-right-Bqqhb6_D.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=N("EllipsisIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=N("LayersIcon",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=N("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Ue=B({__name:"PackageActions",props:{package:{}},setup(a){const u=a,w=W("onEditPackage"),P=()=>{confirm(`Delete ${u.package.name}? This will remove it from the pricing page.`)&&E.delete(k("admin.packages.destroy",{package:u.package.id}),{preserveScroll:!0})};return(b,p)=>(m(),C(e(ve),null,{default:o(()=>[t(e(_e),{"as-child":""},{default:o(()=>[t(e(v),{variant:"ghost",class:"h-8 w-8 p-0"},{default:o(()=>[p[1]||(p[1]=l("span",{class:"sr-only"},"Open menu",-1)),t(e(he),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(ge),{align:"end"},{default:o(()=>[t(e(xe),null,{default:o(()=>[...p[2]||(p[2]=[d("Actions",-1)])]),_:1}),t(e(K),{onClick:p[0]||(p[0]=A=>e(w)?.(u.package))},{default:o(()=>[t(e(Pe),{class:"mr-2 h-4 w-4"}),p[3]||(p[3]=d(" Edit ",-1))]),_:1}),t(e(ye)),t(e(K),{onClick:P,class:"text-rose-600 focus:text-rose-600 focus:bg-rose-50"},{default:o(()=>[t(e(be),{class:"mr-2 h-4 w-4"}),p[4]||(p[4]=d(" Delete ",-1))]),_:1})]),_:1})]),_:1}))}}),Ce=(a,u)=>{E.put(k("admin.packages.toggle-active",{package:a.id}),{is_active:u},{preserveScroll:!0})},Se=(a,u)=>{E.put(k("admin.packages.toggle-popular",{package:a.id}),{is_popular:u},{preserveScroll:!0})},Ae=[{accessorKey:"name",header:({column:a})=>_(v,{variant:"ghost",class:"-ml-2 text-xs hover:bg-muted/50",onClick:()=>a.toggleSorting(a.getIsSorted()==="asc")},()=>["Name",_(L,{class:"ml-2 h-3 w-3"})]),cell:({row:a})=>{const u=a.getValue("name"),w=a.original.slug;return _("div",{class:"flex flex-col"},[_("span",{class:"font-medium"},u),_("span",{class:"text-xs text-muted-foreground"},w)])}},{accessorKey:"type",header:"Type",cell:({row:a})=>{const u=a.getValue("type");return _(fe,{variant:u==="project"?"default":"outline",class:"capitalize"},()=>u)}},{accessorKey:"price",header:({column:a})=>_(v,{variant:"ghost",class:"-ml-2 text-xs hover:bg-muted/50",onClick:()=>a.toggleSorting(a.getIsSorted()==="asc")},()=>["Price",_(L,{class:"ml-2 h-3 w-3"})]),cell:({row:a})=>a.original.formatted_price},{accessorKey:"words",header:"Words",cell:({row:a})=>a.original.formatted_words},{accessorKey:"sort_order",header:"Order",cell:({row:a})=>a.getValue("sort_order")},{accessorKey:"is_active",header:"Active",cell:({row:a})=>_(S,{checked:a.original.is_active,"onUpdate:checked":u=>Ce(a.original,u)})},{accessorKey:"is_popular",header:"Popular",cell:({row:a})=>_(S,{checked:a.original.is_popular,"onUpdate:checked":u=>Se(a.original,u)})},{id:"actions",cell:({row:a})=>_(Ue,{package:a.original})}],Ee={class:"grid gap-4 md:grid-cols-4 mb-6"},Ne={class:"text-2xl font-bold"},Te={class:"text-2xl font-bold"},ze={class:"text-2xl font-bold"},De={class:"text-2xl font-bold"},Ie={class:"flex items-center gap-2"},Fe={class:"grid gap-4 py-4"},Ke={class:"space-y-1"},Le={key:0,class:"text-xs text-rose-500"},Be={class:"space-y-1"},Me={key:0,class:"text-xs text-rose-500"},qe={class:"grid grid-cols-2 gap-3"},Ge={class:"space-y-1"},Oe={key:0,class:"text-xs text-rose-500"},We={class:"space-y-1"},Ze={key:0,class:"text-xs text-rose-500"},He={class:"grid grid-cols-2 gap-3"},Je={class:"space-y-1"},Qe={key:0,class:"text-xs text-rose-500"},Re={class:"space-y-1"},Xe={key:0,class:"text-xs text-rose-500"},Ye={class:"grid grid-cols-2 gap-3"},es={class:"space-y-1"},ss={key:0,class:"text-xs text-rose-500"},ts={class:"space-y-1"},rs={key:0,class:"text-xs text-rose-500"},os={class:"space-y-1"},as={key:0,class:"text-xs text-rose-500"},ls={class:"space-y-1"},ds={key:0,class:"text-xs text-rose-500"},is={class:"grid grid-cols-2 gap-3"},ns={class:"flex items-center justify-between rounded-md border border-border/70 bg-muted/30 px-3 py-2 text-sm"},us={class:"flex items-center justify-between rounded-md border border-border/70 bg-muted/30 px-3 py-2 text-sm"},cs={class:"flex justify-end gap-2"},Rs=B({__name:"Index",props:{packages:{},stats:{},defaults:{}},setup(a){const u=a,w=Z(),P=z(()=>w.props.flash),b=D(null),p=D(!1),A=()=>({name:"",slug:"",type:"project",tier:"",words:0,price:0,currency:u.defaults?.currency??"NGN",description:"",features_text:"",sort_order:0,is_active:!0,is_popular:!1}),r=H({...A()}),U=z(()=>b.value!==null),M=n=>n.split(/\r?\n/).map(s=>s.trim()).filter(Boolean),q=()=>{r.clearErrors(),r.transform(s=>({...s,type:s.type,tier:s.type==="project"&&s.tier||null,words:Number(s.words),price:Number(s.price),sort_order:s.sort_order?Number(s.sort_order):0,features:M(s.features_text)}));const n={preserveScroll:!0,onSuccess:()=>{p.value=!1,T()}};U.value&&b.value?r.put(k("admin.packages.update",{package:b.value}),n):r.post(k("admin.packages.store"),n)},G=n=>{b.value=n.id,r.clearErrors(),r.name=n.name,r.slug=n.slug,r.type=n.type,r.tier=n.tier??"",r.words=n.words,r.price=n.price,r.currency=n.currency,r.description=n.description??"",r.features_text=n.features?.join(`
`)??"",r.sort_order=n.sort_order,r.is_active=n.is_active,r.is_popular=n.is_popular,p.value=!0},O=()=>{T(),p.value=!0},T=()=>{b.value=null,r.defaults({...A()}),r.reset(),r.clearErrors()};return J("onEditPackage",G),(n,s)=>(m(),C(X,null,{title:o(()=>[...s[14]||(s[14]=[l("div",{class:"flex flex-col"},[l("h2",{class:"text-2xl font-bold tracking-tight text-foreground"},"Packages"),l("p",{class:"text-muted-foreground text-sm"},"Control what shows on the pricing page.")],-1)])]),default:o(()=>[l("div",Ee,[t(e(V),{class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:o(()=>[t(e(h),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:o(()=>[t(e(j),{class:"text-sm font-medium text-muted-foreground"},{default:o(()=>[...s[15]||(s[15]=[d("Total Packages",-1)])]),_:1}),t(e(R),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),t(e($),null,{default:o(()=>[l("div",Ne,c(n.stats.total),1)]),_:1})]),_:1}),t(e(V),{class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:o(()=>[t(e(h),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:o(()=>[t(e(j),{class:"text-sm font-medium text-muted-foreground"},{default:o(()=>[...s[16]||(s[16]=[d("Active",-1)])]),_:1}),t(e(ke),{class:"h-4 w-4 text-emerald-500"})]),_:1}),t(e($),null,{default:o(()=>[l("div",Te,c(n.stats.active),1)]),_:1})]),_:1}),t(e(V),{class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:o(()=>[t(e(h),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:o(()=>[t(e(j),{class:"text-sm font-medium text-muted-foreground"},{default:o(()=>[...s[17]||(s[17]=[d("Projects",-1)])]),_:1}),t(e(je),{class:"h-4 w-4 text-primary"})]),_:1}),t(e($),null,{default:o(()=>[l("div",ze,c(n.stats.projects),1)]),_:1})]),_:1}),t(e(V),{class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:o(()=>[t(e(h),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:o(()=>[t(e(j),{class:"text-sm font-medium text-muted-foreground"},{default:o(()=>[...s[18]||(s[18]=[d("Top-ups",-1)])]),_:1}),t(e(we),{class:"h-4 w-4 text-amber-500"})]),_:1}),t(e($),null,{default:o(()=>[l("div",De,c(n.stats.topups),1)]),_:1})]),_:1})]),P.value?.success?(m(),C(e(ae),{key:0,class:"mb-6 border border-emerald-500/40 bg-emerald-500/10"},{default:o(()=>[t(e(Ve),{class:"h-4 w-4 text-emerald-500"}),t(e(de),null,{default:o(()=>[...s[19]||(s[19]=[d("Updated",-1)])]),_:1}),t(e(le),null,{default:o(()=>[d(c(P.value.success),1)]),_:1})]),_:1})):f("",!0),t(e(V),{class:"border border-border/50 bg-card shadow-sm"},{default:o(()=>[t(e(h),{class:"flex flex-row items-center justify-between pb-3"},{default:o(()=>[l("div",null,[t(e(j),{class:"text-base font-semibold text-foreground"},{default:o(()=>[...s[20]||(s[20]=[d("Existing packages",-1)])]),_:1}),t(e(Y),null,{default:o(()=>[...s[21]||(s[21]=[d("Manage your pricing packages.",-1)])]),_:1})]),l("div",Ie,[t(e(v),{variant:"outline",size:"sm","as-child":""},{default:o(()=>[t(e(Q),{href:e(k)("pricing"),target:"_blank"},{default:o(()=>[...s[22]||(s[22]=[d("View pricing page",-1)])]),_:1},8,["href"])]),_:1}),t(e(v),{size:"sm",onClick:O},{default:o(()=>[t(e($e),{class:"mr-2 h-4 w-4"}),s[23]||(s[23]=d(" Add Package ",-1))]),_:1})])]),_:1}),t(e($),null,{default:o(()=>[t(me,{columns:e(Ae),data:n.packages,"search-key":"name","search-placeholder":"Filter packages..."},null,8,["columns","data"])]),_:1})]),_:1}),t(e(ie),{open:p.value,"onUpdate:open":s[13]||(s[13]=i=>p.value=i)},{default:o(()=>[t(e(ne),{class:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto"},{default:o(()=>[t(e(ue),null,{default:o(()=>[t(e(ce),null,{default:o(()=>[d(c(U.value?"Edit package":"Create package"),1)]),_:1}),t(e(pe),null,{default:o(()=>[d(c(U.value?"Update pricing details and save changes.":"Add a new package to the pricing page."),1)]),_:1})]),_:1}),l("div",Fe,[l("div",Ke,[t(e(x),{for:"name"},{default:o(()=>[...s[24]||(s[24]=[d("Name",-1)])]),_:1}),t(e(y),{id:"name",modelValue:e(r).name,"onUpdate:modelValue":s[0]||(s[0]=i=>e(r).name=i),placeholder:"Undergraduate Project"},null,8,["modelValue"]),e(r).errors.name?(m(),g("p",Le,c(e(r).errors.name),1)):f("",!0)]),l("div",Be,[t(e(x),{for:"slug"},{default:o(()=>[...s[25]||(s[25]=[d("Slug",-1)])]),_:1}),t(e(y),{id:"slug",modelValue:e(r).slug,"onUpdate:modelValue":s[1]||(s[1]=i=>e(r).slug=i),placeholder:"undergraduate"},null,8,["modelValue"]),e(r).errors.slug?(m(),g("p",Me,c(e(r).errors.slug),1)):f("",!0)]),l("div",qe,[l("div",Ge,[t(e(x),null,{default:o(()=>[...s[26]||(s[26]=[d("Type",-1)])]),_:1}),t(e(se),{modelValue:e(r).type,"onUpdate:modelValue":s[2]||(s[2]=i=>e(r).type=i)},{default:o(()=>[t(e(te),null,{default:o(()=>[t(e(re),{placeholder:"Type"})]),_:1}),t(e(oe),null,{default:o(()=>[t(e(F),{value:"project"},{default:o(()=>[...s[27]||(s[27]=[d("Project",-1)])]),_:1}),t(e(F),{value:"topup"},{default:o(()=>[...s[28]||(s[28]=[d("Top-up",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(r).errors.type?(m(),g("p",Oe,c(e(r).errors.type),1)):f("",!0)]),l("div",We,[t(e(x),{for:"tier"},{default:o(()=>[...s[29]||(s[29]=[d("Tier",-1)])]),_:1}),t(e(y),{id:"tier",modelValue:e(r).tier,"onUpdate:modelValue":s[3]||(s[3]=i=>e(r).tier=i),disabled:e(r).type!=="project",placeholder:"undergraduate"},null,8,["modelValue","disabled"]),e(r).errors.tier?(m(),g("p",Ze,c(e(r).errors.tier),1)):f("",!0)])]),l("div",He,[l("div",Je,[t(e(x),{for:"words"},{default:o(()=>[...s[30]||(s[30]=[d("Words",-1)])]),_:1}),t(e(y),{id:"words",modelValue:e(r).words,"onUpdate:modelValue":s[4]||(s[4]=i=>e(r).words=i),type:"number",min:"0",placeholder:"25000"},null,8,["modelValue"]),e(r).errors.words?(m(),g("p",Qe,c(e(r).errors.words),1)):f("",!0)]),l("div",Re,[t(e(x),{for:"price"},{default:o(()=>[...s[31]||(s[31]=[d("Price (â‚¦)",-1)])]),_:1}),t(e(y),{id:"price",modelValue:e(r).price,"onUpdate:modelValue":s[5]||(s[5]=i=>e(r).price=i),type:"number",min:"0",step:"0.01",placeholder:"15000"},null,8,["modelValue"]),e(r).errors.price?(m(),g("p",Xe,c(e(r).errors.price),1)):f("",!0)])]),l("div",Ye,[l("div",es,[t(e(x),{for:"currency"},{default:o(()=>[...s[32]||(s[32]=[d("Currency",-1)])]),_:1}),t(e(y),{id:"currency",modelValue:e(r).currency,"onUpdate:modelValue":s[6]||(s[6]=i=>e(r).currency=i),placeholder:"NGN"},null,8,["modelValue"]),e(r).errors.currency?(m(),g("p",ss,c(e(r).errors.currency),1)):f("",!0)]),l("div",ts,[t(e(x),{for:"sort_order"},{default:o(()=>[...s[33]||(s[33]=[d("Sort order",-1)])]),_:1}),t(e(y),{id:"sort_order",modelValue:e(r).sort_order,"onUpdate:modelValue":s[7]||(s[7]=i=>e(r).sort_order=i),type:"number",min:"0",placeholder:"1"},null,8,["modelValue"]),e(r).errors.sort_order?(m(),g("p",rs,c(e(r).errors.sort_order),1)):f("",!0)])]),l("div",os,[t(e(x),{for:"description"},{default:o(()=>[...s[34]||(s[34]=[d("Description",-1)])]),_:1}),t(e(I),{id:"description",modelValue:e(r).description,"onUpdate:modelValue":s[8]||(s[8]=i=>e(r).description=i),rows:"3",placeholder:"Perfect for HND and BSc final year projects..."},null,8,["modelValue"]),e(r).errors.description?(m(),g("p",as,c(e(r).errors.description),1)):f("",!0)]),l("div",ls,[t(e(x),{for:"features"},{default:o(()=>[...s[35]||(s[35]=[d("Features (one per line)",-1)])]),_:1}),t(e(I),{id:"features",modelValue:e(r).features_text,"onUpdate:modelValue":s[9]||(s[9]=i=>e(r).features_text=i),rows:"4",placeholder:`25,000 words allocation
Full 5-chapter project generation`},null,8,["modelValue"]),e(r).errors.features?(m(),g("p",ds,c(e(r).errors.features),1)):f("",!0)]),l("div",is,[l("label",ns,[s[36]||(s[36]=l("span",{class:"text-foreground"},"Active",-1)),t(e(S),{checked:e(r).is_active,"onUpdate:checked":s[10]||(s[10]=i=>e(r).is_active=i)},null,8,["checked"])]),l("label",us,[s[37]||(s[37]=l("span",{class:"text-foreground"},"Popular badge",-1)),t(e(S),{checked:e(r).is_popular,"onUpdate:checked":s[11]||(s[11]=i=>e(r).is_popular=i)},null,8,["checked"])])])]),l("div",cs,[t(e(v),{variant:"ghost",onClick:s[12]||(s[12]=i=>p.value=!1)},{default:o(()=>[...s[38]||(s[38]=[d("Cancel",-1)])]),_:1}),t(e(v),{disabled:e(r).processing,onClick:q},{default:o(()=>[e(r).processing?(m(),C(e(ee),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):f("",!0),l("span",null,c(U.value?"Update package":"Add package"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["open"])]),_:1}))}});export{Rs as default};
