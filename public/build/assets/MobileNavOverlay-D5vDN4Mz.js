import{c as l,o as d,b as e,r as C,l as q,d as X,G as F,v as Q,a as _,e as c,u as r,t as m,F as E,f as H,W as z,aI as G,w as v,b2 as L,aa as B,a3 as U,h as N}from"./vendor-H8yUxHVJ.js";import{_ as V,a as O}from"./index-DHzEmSrj.js";import{_ as W}from"./index-CwD5qkLf.js";import{A as Z}from"./ChapterEditor-DgWxnh3k.js";import{_ as J}from"./ChapterNavigation.vue_vue_type_script_setup_true_lang-C7c8E1ku.js";import{_ as Y}from"./DefensePreparationPanel.vue_vue_type_script_setup_true_lang-CkGWB1gK.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAppearance-DRazjLJ1.js";import"./index-CiWGHnJL.js";import"./index-CZRrGrlM.js";import"./CardContent.vue_vue_type_script_setup_true_lang-DTkdfvuV.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-B5y-_hAe.js";import"./ScrollArea.vue_vue_type_script_setup_true_lang-LIFwRXiL.js";import"./Presence-Cn1h4MwK.js";import"./useForwardExpose-CEOuSuYA.js";import"./useNonce-DREsFUzM.js";import"./Separator.vue_vue_type_script_setup_true_lang-CQwVu7eO.js";import"./Separator-BJVyT-Jr.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-ev0g6x5g.js";import"./Sonner.vue_vue_type_script_setup_true_lang-a4iHnNww.js";import"./DialogTitle-FvR-dACM.js";import"./VisuallyHidden-BvUOvbOk.js";import"./WordBalanceDisplay.vue_vue_type_script_setup_true_lang-BbR_80zF.js";import"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-Cl9cN4K9.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-B_2lTwBH.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-B2g6QnB0.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-D_e9DFFg.js";import"./useWordBalance-C1hXK7OD.js";import"./PWAInstallPrompt.vue_vue_type_script_setup_true_lang-DBvrqREh.js";import"./driver-B4w0q6_T.js";import"./PurchaseModal.vue_vue_type_script_setup_true_lang-C2jaO2Qs.js";import"./DialogContent.vue_vue_type_script_setup_true_lang-Dw7gJkgN.js";import"./DialogDescription.vue_vue_type_script_setup_true_lang-nvWA5ydV.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-DjMQinTr.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-Biexvk_x.js";import"./useChapterWordCount-duTH59n8.js";import"./Input.vue_vue_type_script_setup_true_lang-DRx-Lc7N.js";import"./Label.vue_vue_type_script_setup_true_lang-PAGjh1rG.js";import"./RichTextEditor-nW-jbWTT.js";import"./index-C7juShHH.js";import"./purify.es-DxJI3Wx7.js";import"./step-CXjX0ghh.js";import"./Progress.vue_vue_type_script_setup_true_lang-BEO86XnR.js";import"./nullish-CHIgUVhi.js";import"./RichTextViewer-CQFJwJ3K.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-BXeGqnTB.js";import"./CollapsibleTrigger-BfLHHp56.js";import"./useTextHistory-DqzAe-xJ.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-DRWhnreH.js";import"./isValueEqualOrExist-DSClXoPv.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./useFormControl-BAvnyqrf.js";import"./RovingFocusItem-B851wM0P.js";import"./VisuallyHiddenInput-Bdtjo0T1.js";import"./DialogTrigger-Di-hhkc3.js";import"./Switch.vue_vue_type_script_setup_true_lang-DCko7Dmp.js";function ee(u,n){return d(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"})])}function te(u,n){return d(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function re(u,n){return d(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function I(u,n){return d(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function se(){const u=C(!1),n=C(null),f=C(null),h=C(null),p=C([]),y=C({}),S=q(()=>f.value?.hasDataCollectionNeeds??!1),D=q(()=>f.value?.types??[]),b=q(()=>h.value?.hasPlaceholder?h.value.detectedType:null),$=q(()=>h.value?.hasPlaceholder?h.value.confidence??0:0);async function w(s){u.value=!0,n.value=null;try{const a=await fetch(`/api/chapters/${s}/detect`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!a.ok)throw new Error("Failed to detect data collection needs");const k=await a.json();f.value=k.detection}catch(a){n.value=a instanceof Error?a.message:"An error occurred",console.error("Error detecting data collection needs:",a)}finally{u.value=!1}}async function x(s){u.value=!0,n.value=null;try{const a=await fetch(`/api/chapters/${s}/placeholder`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!a.ok)throw new Error("Failed to generate placeholder");const k=await a.json();h.value=k.placeholder}catch(a){n.value=a instanceof Error?a.message:"An error occurred",console.error("Error generating placeholder:",a)}finally{u.value=!1}}async function j(s){u.value=!0,n.value=null;try{const a=await fetch(`/api/chapters/${s}/suggestions`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!a.ok)throw new Error("Failed to get suggestions");const k=await a.json();p.value=k.suggestions}catch(a){n.value=a instanceof Error?a.message:"An error occurred",console.error("Error getting suggestions:",a)}finally{u.value=!1}}async function R(){u.value=!0,n.value=null;try{const s=await fetch("/api/data-collection/templates",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!s.ok)throw new Error("Failed to get templates");const a=await s.json();y.value=a.templates}catch(s){n.value=s instanceof Error?s.message:"An error occurred",console.error("Error getting templates:",s)}finally{u.value=!1}}async function T(s){u.value=!0,n.value=null;try{const a=await fetch(`/api/data-collection/template?type=${encodeURIComponent(s)}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!a.ok)throw new Error("Failed to get template");return(await a.json()).template}catch(a){return n.value=a instanceof Error?a.message:"An error occurred",console.error("Error getting template:",a),null}finally{u.value=!1}}async function P(s,a,k="append"){u.value=!0,n.value=null;try{if(!(await fetch(`/api/chapters/${s}/insert-template`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({type:a,position:k})})).ok)throw new Error("Failed to insert template");return!0}catch(M){return n.value=M instanceof Error?M.message:"An error occurred",console.error("Error inserting template:",M),!1}finally{u.value=!1}}async function A(s){await Promise.all([w(s),x(s),j(s)])}function t(s){return{survey:"Survey/Questionnaire",experiment:"Laboratory Experiment",engineering:"Engineering Design",statistical:"Statistical Analysis",construction:"Construction Project"}[s]||s.charAt(0).toUpperCase()+s.slice(1)}function i(s){return s>=50?"High":s>=25?"Medium":"Low"}function o(s){return s>=50?"text-green-600 dark:text-green-400":s>=25?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}function g(){f.value=null,h.value=null,p.value=[],n.value=null}return{isLoading:u,error:n,detection:f,placeholder:h,suggestions:p,templates:y,hasDataCollectionNeeds:S,detectedTypes:D,primaryType:b,primaryConfidence:$,detectDataCollectionNeeds:w,generatePlaceholder:x,getSuggestions:j,getAllTemplates:R,getTemplate:T,insertTemplate:P,analyzeChapter:A,getTypeName:t,getConfidenceLevel:i,getConfidenceColor:o,clearData:g}}const ae={class:"space-y-4"},oe={class:"flex items-center justify-between"},ne={class:"flex items-center gap-2"},ie=["disabled"],le={key:0,class:"text-center py-4"},de={key:1,class:"text-center py-4"},ce={key:2},ue={class:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3"},pe={class:"flex items-start gap-2"},he={class:"min-w-0 flex-1"},ge={class:"mt-2 space-y-1"},me={class:"text-xs text-blue-700 dark:text-blue-300"},fe={key:0,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-3"},ye={class:"flex items-center justify-between mb-2"},ve={class:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded dark:bg-green-900/20 dark:text-green-400"},xe={class:"text-xs text-gray-600 dark:text-gray-400 mb-3"},be={class:"flex gap-2"},we=["disabled"],ke={key:0,class:"mt-3 p-2 bg-gray-50 dark:bg-gray-800 rounded text-xs"},Ce={class:"whitespace-pre-wrap text-gray-700 dark:text-gray-300 overflow-auto max-h-32"},_e={key:1,class:"space-y-2"},Se={class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2"},Te={class:"space-y-1"},Ae={class:"border border-gray-200 dark:border-gray-700 rounded-lg"},je={class:"p-3 pt-0 space-y-2"},Le={class:"text-xs font-medium text-gray-900 dark:text-gray-100"},De={class:"text-xs text-gray-600 dark:text-gray-400"},$e=["onClick","disabled"],Re={key:3,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3"},Pe={class:"flex items-start gap-2"},Me={class:"text-xs text-red-600 dark:text-red-400 mt-1"},qe=X({__name:"DataCollectionPanel",props:{chapterId:{},content:{}},setup(u){const n=u,f=C(!1),{isLoading:h,error:p,placeholder:y,suggestions:S,templates:D,hasDataCollectionNeeds:b,detectedTypes:$,primaryType:w,analyzeChapter:x,insertTemplate:j,getAllTemplates:R,getTypeName:T,getConfidenceColor:P}=se();let A=null;F(()=>n.content,(i,o)=>{!i||i===o||(A&&clearTimeout(A),A=setTimeout(()=>{i&&i.length>500&&x(n.chapterId)},3e3))},{immediate:!1});async function t(i,o,g="append"){await j(i,o,g)?(G.success("Template added successfully"),f.value=!1,setTimeout(()=>{x(i)},1e3)):G.error(p.value||"Failed to insert template")}return Q(async()=>{await R(),n.content&&n.content.length>500&&await x(n.chapterId)}),(i,o)=>(d(),l("div",ae,[e("div",oe,[e("div",ne,[c(r(ee),{class:"h-5 w-5 text-blue-600 dark:text-blue-400"}),o[3]||(o[3]=e("h3",{class:"text-sm font-semibold text-gray-900 dark:text-gray-100"}," Data Collection Assistant ",-1))]),r(b)?_("",!0):(d(),l("button",{key:0,onClick:o[0]||(o[0]=g=>r(x)(i.chapterId)),disabled:r(h),class:"text-xs px-2 py-1 bg-blue-50 text-blue-600 rounded hover:bg-blue-100 disabled:opacity-50 dark:bg-blue-900/20 dark:text-blue-400 dark:hover:bg-blue-900/30"},m(r(h)?"Analyzing...":"Scan for Data Needs"),9,ie))]),r(h)&&!r(b)?(d(),l("div",le,[...o[4]||(o[4]=[e("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"text-xs text-gray-500 mt-2"},"Analyzing chapter content...",-1)])])):!r(b)&&!r(h)?(d(),l("div",de,[c(r(re),{class:"h-8 w-8 text-gray-400 mx-auto mb-2"}),o[5]||(o[5]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," No data collection requirements detected in this chapter. ",-1)),o[6]||(o[6]=e("p",{class:"text-xs text-gray-400 mt-1"},' Add keywords like "survey", "experiment", or "statistical analysis" to get assistance. ',-1))])):r(b)?(d(),l("div",ce,[e("div",ue,[e("div",pe,[c(r(I),{class:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),e("div",he,[o[7]||(o[7]=e("p",{class:"text-sm font-medium text-blue-900 dark:text-blue-100"}," Data Collection Requirements Detected ",-1)),e("div",ge,[(d(!0),l(E,null,H(r($),g=>(d(),l("div",{key:g,class:"flex items-center justify-between"},[e("span",me,m(r(T)(g)),1),e("span",{class:z(["text-xs font-medium",r(P)(r(y)?.allConfidence?.[g]||0)])},m(r(y)?.allConfidence?.[g]?.toFixed(1))+"% confidence ",3)]))),128))])])])]),r(w)&&r(y)?.template?(d(),l("div",fe,[e("div",ye,[o[8]||(o[8]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"}," Recommended Template ",-1)),e("span",ve,m(r(T)(r(w))),1)]),e("p",xe,m(r(y).template.title),1),e("div",be,[e("button",{onClick:o[1]||(o[1]=g=>t(i.chapterId,r(w),"append")),disabled:r(h),class:"flex-1 text-xs px-3 py-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50"},m(r(h)?"Inserting...":"Add Template"),9,we),e("button",{onClick:o[2]||(o[2]=g=>f.value=!f.value),class:"text-xs px-2 py-1.5 border border-gray-200 text-gray-600 rounded hover:bg-gray-50 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-800"},m(f.value?"Hide":"Preview"),1)]),f.value?(d(),l("div",ke,[e("pre",Ce,m(r(y).template.content.trim()),1)])):_("",!0)])):_("",!0),r(S).length>0?(d(),l("div",_e,[o[9]||(o[9]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"}," Research Guidelines ",-1)),(d(!0),l(E,null,H(r(S),g=>(d(),l("div",{key:g.type,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-3"},[e("h5",Se,m(g.title),1),e("ul",Te,[(d(!0),l(E,null,H(g.suggestions,(s,a)=>(d(),l("li",{key:a,class:"flex items-start gap-1.5 text-xs text-gray-600 dark:text-gray-400"},[c(r(te),{class:"h-3 w-3 text-green-500 mt-0.5 flex-shrink-0"}),e("span",null,m(s),1)]))),128))])]))),128))])):_("",!0),e("details",Ae,[o[10]||(o[10]=e("summary",{class:"p-3 cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}," Browse All Templates ",-1)),e("div",je,[(d(!0),l(E,null,H(r(D),(g,s)=>(d(),l("div",{key:s,class:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded"},[e("div",null,[e("span",Le,m(r(T)(s)),1),e("p",De,m(g.title),1)]),e("button",{onClick:a=>t(i.chapterId,s,"append"),disabled:r(h),class:"text-xs px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50"}," Add ",8,$e)]))),128))])])])):_("",!0),r(p)?(d(),l("div",Re,[e("div",Pe,[c(r(I),{class:"h-4 w-4 text-red-500 mt-0.5 flex-shrink-0"}),e("div",null,[o[11]||(o[11]=e("p",{class:"text-sm font-medium text-red-800 dark:text-red-200"}," Analysis Error ",-1)),e("p",Me,m(r(p)),1)])])])):_("",!0)]))}}),Ee={key:0,class:"fixed inset-0 z-50 lg:hidden"},He={class:"fixed top-0 left-0 h-full w-80 overflow-y-auto border-r bg-background shadow-xl transform transition-transform"},Ne={class:"border-b p-3"},Ge={class:"flex items-center justify-between"},Be={class:"space-y-4 p-4 mobile-enhanced"},We={key:0,class:"fixed inset-0 z-50 lg:hidden"},Ie={class:"fixed top-0 right-0 h-full w-96 overflow-y-auto border-l bg-background shadow-xl transform transition-transform"},Xe={class:"border-b p-3"},Fe={class:"flex items-center justify-between"},Qe={class:"space-y-4 p-4 mobile-enhanced"},ze=X({__name:"MobileNavOverlay",props:{showLeftSidebar:{type:Boolean},showRightSidebar:{type:Boolean},isMobile:{type:Boolean},allChapters:{},currentChapter:{},project:{},currentWordCount:{},targetWordCount:{},writingQualityScore:{},chapterContentLength:{},isGenerating:{type:Boolean},selectedText:{},isLoadingSuggestions:{type:Boolean},showCitationHelper:{type:Boolean},chapterContent:{},showDefensePrep:{type:Boolean},defenseQuestions:{},isLoadingDefenseQuestions:{type:Boolean},isGeneratingDefenseQuestions:{type:Boolean},meetsDefenseThreshold:{type:Boolean},shouldShowDefenseProgress:{type:Boolean},defenseProgressPercentage:{},defenseWordsRemaining:{},hasTriggeredGeneration:{type:Boolean}},emits:["update:showLeftSidebar","update:showRightSidebar","goToChapter","generateNextChapter","startStreamingGeneration","getAISuggestions","update:showCitationHelper","checkCitations","update:showDefensePrep","generate-more","refresh","mark-helpful","hide-question"],setup(u,{emit:n}){const h=C(u.showDefensePrep??!0),p=n,y=()=>p("update:showLeftSidebar",!1),S=()=>p("update:showRightSidebar",!1),D=t=>p("goToChapter",t),b=()=>p("generateNextChapter"),$=(t,i)=>p("startStreamingGeneration",t,i),w=()=>p("getAISuggestions"),x=t=>p("update:showCitationHelper",t),j=t=>{h.value=t,p("update:showDefensePrep",t)},R=()=>p("generate-more"),T=()=>p("refresh"),P=(t,i)=>p("mark-helpful",t,i),A=t=>p("hide-question",t);return(t,i)=>(d(),l("div",null,[c(L,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[t.showLeftSidebar&&t.isMobile?(d(),l("div",Ee,[c(L,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[e("div",{class:"fixed inset-0 bg-black/50",onClick:y})]),_:1}),c(L,{"enter-active-class":"duration-300 ease-out","enter-from-class":"-translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"duration-200 ease-in","leave-from-class":"translate-x-0","leave-to-class":"-translate-x-full"},{default:v(()=>[e("div",He,[e("div",Ne,[e("div",Ge,[i[0]||(i[0]=e("h2",{class:"text-base font-semibold"},"Navigation",-1)),c(r(W),{onClick:y,variant:"ghost",size:"sm",class:"h-8 w-8"},{default:v(()=>[c(r(B),{class:"h-4 w-4"})]),_:1})])]),e("div",Be,[c(J,{"all-chapters":t.allChapters,"current-chapter":t.currentChapter,project:t.project,"current-word-count":t.currentWordCount,"target-word-count":t.targetWordCount,"writing-quality-score":t.writingQualityScore,"chapter-content-length":t.chapterContentLength,onGoToChapter:D,onGenerateNextChapter:b},null,8,["all-chapters","current-chapter","project","current-word-count","target-word-count","writing-quality-score","chapter-content-length"]),c(r(V),{class:"border-border/50"},{default:v(()=>[c(r(U),{class:"h-4 w-4 text-muted-foreground"}),c(r(O),{class:"text-xs text-muted-foreground"},{default:v(()=>[...i[1]||(i[1]=[e("strong",{class:"text-foreground"},"Pro Tips:",-1),e("br",null,null,-1),N(" • Press Ctrl+S to save",-1),e("br",null,null,-1),N(" • Ctrl+Z/Y for undo/redo",-1),e("br",null,null,-1),N(" • Select text for AI suggestions",-1),e("br",null,null,-1),N(" • F11 for distraction-free mode ",-1)])]),_:1})]),_:1})])])]),_:1})])):_("",!0)]),_:1}),c(L,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[t.showRightSidebar&&t.isMobile?(d(),l("div",We,[c(L,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[e("div",{class:"fixed inset-0 bg-black/50",onClick:S})]),_:1}),c(L,{"enter-active-class":"duration-300 ease-out","enter-from-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"duration-200 ease-in","leave-from-class":"translate-x-0","leave-to-class":"translate-x-full"},{default:v(()=>[e("div",Ie,[e("div",Xe,[e("div",Fe,[i[2]||(i[2]=e("h2",{class:"text-base font-semibold"},"AI Tools",-1)),c(r(W),{onClick:S,variant:"ghost",size:"sm",class:"h-8 w-8"},{default:v(()=>[c(r(B),{class:"h-4 w-4"})]),_:1})])]),e("div",Qe,[c(Z,{project:t.project,chapter:t.currentChapter,"is-generating":t.isGenerating,"selected-text":t.selectedText,"is-loading-suggestions":t.isLoadingSuggestions,"show-citation-helper":t.showCitationHelper,"chapter-content":t.chapterContent,"current-word-count":t.currentWordCount,"target-word-count":t.targetWordCount,onStartStreamingGeneration:$,onGetAiSuggestions:w,"onUpdate:showCitationHelper":x},null,8,["project","chapter","is-generating","selected-text","is-loading-suggestions","show-citation-helper","chapter-content","current-word-count","target-word-count"]),c(Y,{"show-defense-prep":h.value,questions:t.defenseQuestions??[],"is-loading":t.isLoadingDefenseQuestions??!1,"is-generating":t.isGeneratingDefenseQuestions??!1,"chapter-context":{chapter_number:t.currentChapter.chapter_number,chapter_title:t.currentChapter.title,word_count:t.currentWordCount},"defense-watcher":{meetsThreshold:t.meetsDefenseThreshold??!1,shouldShowProgress:t.shouldShowDefenseProgress??!1,progressPercentage:t.defenseProgressPercentage??0,wordsRemaining:t.defenseWordsRemaining??0,hasTriggeredGeneration:t.hasTriggeredGeneration??!1,threshold:500,statusMessage:t.shouldShowDefenseProgress??!1?`Write ${t.defenseWordsRemaining??0} more words to generate defense questions`:"Ready to generate defense questions"},"onUpdate:showDefensePrep":j,onGenerateMore:R,onRefresh:T,onMarkHelpful:P,onHideQuestion:A},null,8,["show-defense-prep","questions","is-loading","is-generating","chapter-context","defense-watcher"]),c(qe,{"chapter-id":t.currentChapter.id,content:t.chapterContent},null,8,["chapter-id","content"])])])]),_:1})])):_("",!0)]),_:1})]))}}),Ot=K(ze,[["__scopeId","data-v-76cd8967"]]);export{Ot as default};
