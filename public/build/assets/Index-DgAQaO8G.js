import{bt as v,cj as b,cC as _,cn as u,cB as M,ct as T,c$ as A,bE as e,cS as B,dh as L,cq as t,cs as d,cm as h,dx as P,dy as I,dz as R,dA as G,co as l,cp as s,cr as g,dB as F,dC as Q,dD as k,dE as O}from"./vendor-B0P7kkmx.js";import{c as E}from"./index-CeE5dpwC.js";import{_ as C,a as $}from"./CardContent.vue_vue_type_script_setup_true_lang-Inj97kMy.js";import{_ as j}from"./CardDescription.vue_vue_type_script_setup_true_lang-DRGhurAy.js";import{_ as N,a as S}from"./CardTitle.vue_vue_type_script_setup_true_lang-mTag2pdV.js";import{_ as W}from"./AdminLayout.vue_vue_type_script_setup_true_lang-B-851hYY.js";import"./Sonner.vue_vue_type_script_setup_true_lang-DEHww6d5.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-mfygCHkH.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-j6BVOz2e.js";const q=v({__name:"ChartContainer",props:{config:{},class:{}},setup(f){const o=f,p=b(()=>{const c=Object.values(o.config??{}),i={};return c.forEach((m,x)=>{const y=m.theme?.light??m.color,D=m.theme?.dark??y;i[`--chart-${x+1}`]=y??"hsl(var(--primary))",i[`--chart-${x+1}-dark`]=D??i[`--chart-${x+1}`]}),i});return(c,i)=>(u(),_("div",{style:A(p.value),class:T(e(E)("rounded-xl border bg-card text-card-foreground shadow-sm p-4",o.class))},[M(c.$slots,"default")],6))}}),J={class:"font-medium text-foreground"},X=v({__name:"ChartLegendContent",props:{config:{},class:{},nameKey:{}},setup(f){const o=f;return(p,c)=>(u(),_("div",{class:T(e(E)("flex flex-wrap gap-4 text-sm text-muted-foreground",o.class))},[(u(!0),_(B,null,L(o.config,(i,m,x)=>(u(),_("div",{key:m,class:"flex items-center gap-2"},[t("span",{class:"h-3 w-3 rounded-full",style:A({backgroundColor:i.color??`var(--chart-${x+1})`})},null,4),t("span",J,d(i.label??o.nameKey??m),1)]))),128))],2))}}),H=v({__name:"ChartTooltip",setup(f){const o=f;return(p,c)=>(u(),h(e(P),I(R(o)),null,16))}}),z=v({__name:"ChartCrosshair",setup(f){const o=f;return(p,c)=>(u(),h(e(G),I(R(o)),null,16))}}),Y={class:"space-y-6"},Z={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},ee={class:"text-2xl font-bold text-foreground"},te={class:"text-xs mt-1 flex items-center gap-2"},se={class:"grid gap-6 lg:grid-cols-2"},re={class:"flex items-start justify-between"},oe={class:"text-right"},ae={class:"text-lg font-bold text-foreground"},le={key:1,class:"h-[280px] flex items-center justify-center text-muted-foreground"},ne={class:"flex items-start justify-between"},de={class:"text-right"},ue={class:"text-lg font-bold text-foreground"},ie={key:1,class:"h-[280px] flex items-center justify-center text-muted-foreground"},ce={class:"grid gap-4 md:grid-cols-3"},me={class:"rounded-lg border border-border/50 bg-muted/30 p-4 hover:bg-muted/50 transition-colors"},fe={class:"flex items-center justify-between mb-2"},pe={class:"text-2xl font-bold text-foreground capitalize"},ge={class:"text-xs text-muted-foreground mt-1"},xe={class:"rounded-lg border border-border/50 bg-muted/30 p-4 hover:bg-muted/50 transition-colors"},_e={class:"text-2xl font-bold text-foreground"},be={class:"rounded-lg border border-border/50 bg-muted/30 p-4 hover:bg-muted/50 transition-colors"},he={class:"text-2xl font-bold text-foreground"},Te=v({__name:"Index",props:{stats:{},revenueChart:{},signupsChart:{},systemHealth:{}},setup(f){const o=f,p=b(()=>o.revenueChart.map(n=>({date:new Date(n.date),amount:n.amount}))),c=b(()=>o.signupsChart.map(n=>({label:n.label,newUsers:n.newUsers}))),i={revenue:{label:"Revenue",color:"hsl(var(--primary))"}},m={new:{label:"New Users",color:"hsl(var(--primary))"}},x=b(()=>c.value.reduce((n,r)=>n+r.newUsers,0)),y=b(()=>[{label:"Users",caption:"Total registered",value:w(o.stats.users.total),trend:o.stats.users.trend},{label:"Revenue",caption:"Last 30 days",value:U(o.stats.revenue.last30),trend:o.stats.revenue.trend},{label:"Projects",caption:"Total projects",value:w(o.stats.projects.total),trend:o.stats.projects.trend},{label:"Total Revenue",caption:"All time",value:U(o.stats.revenue.total),trend:0}]),D=b(()=>o.systemHealth.queue.status==="healthy"?"bg-emerald-500":o.systemHealth.queue.status==="warning"?"bg-amber-500":"bg-rose-500"),V=n=>new Date(n).toLocaleDateString("en",{month:"short",day:"numeric"}),U=n=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",maximumFractionDigits:0}).format(n),K=n=>n>=1e6?`${(n/1e6).toFixed(1)}M`:n>=1e3?`${(n/1e3).toFixed(1)}k`:n.toString(),w=n=>n>=1e6?`${(n/1e6).toFixed(1)}M`:n>=1e3?`${(n/1e3).toFixed(1)}K`:new Intl.NumberFormat("en").format(n);return(n,r)=>(u(),h(W,{title:"Analytics",subtitle:"Insights across users, revenue, and usage."},{default:l(()=>[t("div",Y,[t("div",Z,[(u(!0),_(B,null,L(y.value,a=>(u(),h(e(C),{key:a.label,class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:l(()=>[s(e(N),{class:"pb-2"},{default:l(()=>[s(e(S),{class:"text-sm font-medium text-muted-foreground"},{default:l(()=>[g(d(a.label),1)]),_:2},1024),s(e(j),{class:"text-xs text-muted-foreground/80"},{default:l(()=>[g(d(a.caption),1)]),_:2},1024)]),_:2},1024),s(e($),{class:"pt-0"},{default:l(()=>[t("div",ee,d(a.value),1),t("div",te,[t("span",{class:T([a.trend>=0?"text-emerald-500":"text-rose-500","font-medium"])},d(a.trend>=0?"+":"")+d(a.trend)+"% ",3),r[0]||(r[0]=t("span",{class:"text-muted-foreground/60"},"vs last period",-1))])]),_:2},1024)]),_:2},1024))),128))]),t("div",se,[s(e(C),{class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:l(()=>[s(e(N),null,{default:l(()=>[t("div",re,[t("div",null,[s(e(S),{class:"text-base font-semibold text-foreground"},{default:l(()=>[...r[1]||(r[1]=[g("Revenue Trend",-1)])]),_:1}),s(e(j),null,{default:l(()=>[...r[2]||(r[2]=[g("Last 30 days",-1)])]),_:1})]),t("div",oe,[r[3]||(r[3]=t("p",{class:"text-xs text-muted-foreground"},"Total",-1)),t("p",ae,d(U(o.stats.revenue.last30)),1)])])]),_:1}),s(e($),{class:"pl-0"},{default:l(()=>[p.value.length>0?(u(),h(e(q),{key:0,config:i,class:"h-[280px] w-full"},{default:l(()=>[s(e(F),{data:p.value,height:280,margin:{top:5,right:10,bottom:0,left:10}},{default:l(()=>[s(e(Q),{x:a=>a.date,y:a=>a.amount,color:i.revenue.color,"curve-type":"monotone","stroke-width":2},null,8,["x","y","color"]),s(e(k),{type:"x",x:a=>a.date,"grid-line":!1,"domain-line":!1,"tick-line":!1,"tick-format":V,"tick-values":p.value.map(a=>a.date),color:"#888888"},null,8,["x","tick-values"]),s(e(k),{type:"y","tick-line":!1,"domain-line":!1,"grid-line":!0,"tick-format":a=>K(a),color:"#888888"},null,8,["tick-format"]),s(e(H)),s(e(z))]),_:1},8,["data"])]),_:1})):(u(),_("div",le," No revenue data available "))]),_:1})]),_:1}),s(e(C),{class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:l(()=>[s(e(N),null,{default:l(()=>[t("div",ne,[t("div",null,[s(e(S),{class:"text-base font-semibold text-foreground"},{default:l(()=>[...r[4]||(r[4]=[g("User Signups",-1)])]),_:1}),s(e(j),null,{default:l(()=>[...r[5]||(r[5]=[g("Last 7 days",-1)])]),_:1})]),t("div",de,[r[6]||(r[6]=t("p",{class:"text-xs text-muted-foreground"},"New",-1)),t("p",ue,d(x.value),1)])])]),_:1}),s(e($),{class:"pl-0"},{default:l(()=>[c.value.length>0?(u(),h(e(q),{key:0,config:m,class:"h-[280px] w-full"},{default:l(()=>[s(e(F),{data:c.value,height:280,margin:{top:5,right:10,bottom:0,left:10}},{default:l(()=>[s(e(O),{x:a=>a.label,y:[a=>a.newUsers],color:[m.new.color],"rounded-corners":4,"bar-padding":.2},null,8,["x","y","color"]),s(e(k),{type:"x",x:a=>a.label,"grid-line":!1,"domain-line":!1,"tick-line":!1,color:"#888888"},null,8,["x"]),s(e(k),{type:"y","tick-line":!1,"domain-line":!1,"grid-line":!0,"tick-format":a=>Math.round(a),color:"#888888"},null,8,["tick-format"]),s(e(H)),s(e(z))]),_:1},8,["data"]),s(e(X),{config:m,class:"mt-4 justify-center"})]),_:1})):(u(),_("div",ie," No signup data available "))]),_:1})]),_:1})]),s(e(C),{class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:l(()=>[s(e(N),{class:"pb-3"},{default:l(()=>[s(e(S),{class:"text-base font-semibold"},{default:l(()=>[...r[7]||(r[7]=[g("System Snapshot",-1)])]),_:1}),s(e(j),{class:"text-sm text-muted-foreground"},{default:l(()=>[...r[8]||(r[8]=[g("Quick view of platform health",-1)])]),_:1})]),_:1}),s(e($),null,{default:l(()=>[t("div",ce,[t("div",me,[t("div",fe,[r[9]||(r[9]=t("p",{class:"text-sm font-medium text-muted-foreground"},"Queue",-1)),t("div",{class:T(["h-2 w-2 rounded-full animate-pulse",D.value])},null,2)]),t("p",pe,d(o.systemHealth.queue.status),1),t("p",ge,d(o.systemHealth.queue.pending)+" pending â€¢ "+d(o.systemHealth.queue.failed)+" failed ",1)]),t("div",xe,[r[10]||(r[10]=t("div",{class:"flex items-center justify-between mb-2"},[t("p",{class:"text-sm font-medium text-muted-foreground"},"AI Tokens Today"),t("div",{class:"h-2 w-2 rounded-full bg-emerald-500"})],-1)),t("p",_e,d(w(o.systemHealth.aiTokensToday)),1),r[11]||(r[11]=t("p",{class:"text-xs text-muted-foreground mt-1"},"Total tokens used today",-1))]),t("div",be,[r[12]||(r[12]=t("div",{class:"flex items-center justify-between mb-2"},[t("p",{class:"text-sm font-medium text-muted-foreground"},"Words Used"),t("div",{class:"h-2 w-2 rounded-full bg-emerald-500"})],-1)),t("p",he,d(w(o.stats.wordsUsed.total)),1),r[13]||(r[13]=t("p",{class:"text-xs text-muted-foreground mt-1"},"All time word usage",-1))])])]),_:1})]),_:1})])]),_:1}))}});export{Te as default};
