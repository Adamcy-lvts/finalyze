import{X as Se,c as A,i as Ce,d as Oe,e as ne,f as W,g as De,h as j,j as B,k as He,l as Ue,s as I,m as de,F as Xe,n as fe,p as he,o as Ee,P as se,q as Ye,r as Ge,t as Ae,u as Pe,v as ze,_ as pe,S as ge,C as E,a as ve,D as Ze,b as Qe}from"./ChartTooltip.vue_vue_type_script_setup_true_lang-DUngdDnj.js";import{d as K,a5 as Me,g as U,z as je,a as ue,h as Fe,p as Re,j as Be,Q as q,o as L,c as re,u as p,O as qe,P as Je,w as x,e as h,k as g,F as Ke,A as et,s as M,t as R,n as tt}from"./app-CvqzSedG.js";import{_ as Y,a as G}from"./CardContent.vue_vue_type_script_setup_true_lang-BU1G6cs-.js";import{_ as z}from"./CardDescription.vue_vue_type_script_setup_true_lang-BjvHfFop.js";import{_ as Z,a as Q}from"./CardTitle.vue_vue_type_script_setup_true_lang-B6ojriqM.js";import{_ as nt}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CnmmwA-A.js";import{o as st,q as rt,r as ot,u as at,v as it,x as lt,y as ct,z as ut,A as dt,B as ft,C as ht,D as pt,E as gt,F as vt,G as mt,H as yt,I as xt,k as bt,l as _t}from"./step-DrZ9DcYd.js";import{s as kt}from"./index-BWEDi_FC.js";import"./axis-DouJwEGg.js";import"./linear-C5NI_5MW.js";import"./init-Dmth1JHB.js";import"./defaultLocale-C4B-KCzX.js";import"./band-BjYQJviF.js";import"./ordinal-B-SEvE7q.js";import"./index-B2Jp-AbD.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-B47enV7B.js";import"./VisuallyHidden-DB_fmpkP.js";import"./useForwardExpose-wU1_jECe.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BISjo1U_.js";import"./users-Dkm8ECkY.js";import"./chart-column-CPWMWZ7L.js";import"./list-Ce3ZmywA.js";const me=n=>+n;function ye(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,s)}return t}function wt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ye(Object(t),!0).forEach(function(s){St(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ye(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function X(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?X=function(e){return typeof e}:X=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(n)}function St(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function J(){return J=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},J.apply(this,arguments)}function Ct(n,e){if(n){if(typeof n=="string")return xe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xe(n,e)}}function xe(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function $e(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Ct(n))||e){t&&(n=t);var s=0,o=function(){};return{s:o,n:function(){return s>=n.length?{done:!0}:{done:!1,value:n[s++]}},e:function(l){throw l},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r=!0,c=!1,a;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return r=l.done,l},e:function(l){c=!0,a=l},f:function(){try{!r&&t.return!=null&&t.return()}finally{if(c)throw a}}}}function Ot(n,e){var t=[],s=[];function o(r,c){if(r.length===1)t.push(r[0]),s.push(r[0]);else{for(var a=Array(r.length-1),l=0;l<a.length;l++)l===0&&t.push(r[0]),l===a.length-1&&s.push(r[l+1]),a[l]=[(1-c)*r[l][0]+c*r[l+1][0],(1-c)*r[l][1]+c*r[l+1][1]];o(a,c)}}return n.length&&o(n,e),{left:t,right:s.reverse()}}function Dt(n){var e={};return n.length===4&&(e.x2=n[2][0],e.y2=n[2][1]),n.length>=3&&(e.x1=n[1][0],e.y1=n[1][1]),e.x=n[n.length-1][0],e.y=n[n.length-1][1],n.length===4?e.type="C":n.length===3?e.type="Q":e.type="L",e}function At(n,e){e=e||2;for(var t=[],s=n,o=1/e,r=0;r<e-1;r++){var c=o/(1-o*r),a=Ot(s,c);t.push(a.left),s=a.right}return t.push(s),t}function Pt(n,e,t){var s=[[n.x,n.y]];return e.x1!=null&&s.push([e.x1,e.y1]),e.x2!=null&&s.push([e.x2,e.y2]),s.push([e.x,e.y]),At(s,t).map(Dt)}var Mt=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,T={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};Object.keys(T).forEach(function(n){T[n.toLowerCase()]=T[n]});function oe(n,e){for(var t=Array(n),s=0;s<n;s++)t[s]=e;return t}function jt(n){return"".concat(n.type).concat(T[n.type].map(function(e){return n[e]}).join(","))}function Ft(n,e){var t={x1:"x",y1:"y",x2:"x",y2:"y"},s=["xAxisRotation","largeArcFlag","sweepFlag"];if(n.type!==e.type&&e.type.toUpperCase()!=="M"){var o={};Object.keys(e).forEach(function(r){var c=e[r],a=n[r];a===void 0&&(s.includes(r)?a=c:(a===void 0&&t[r]&&(a=n[t[r]]),a===void 0&&(a=0))),o[r]=a}),o.type=e.type,n=o}return n}function Rt(n,e,t){var s=[];if(e.type==="L"||e.type==="Q"||e.type==="C")s=s.concat(Pt(n,e,t));else{var o=J({},n);o.type==="M"&&(o.type="L"),s=s.concat(oe(t-1).map(function(){return o})),s.push(e)}return s}function be(n,e,t){var s=n.length-1,o=e.length-1,r=s/o,c=oe(o).reduce(function(l,v,m){var u=Math.floor(r*m);if(t&&u<n.length-1&&t(n[u],n[u+1])){var i=r*m%1<.5;l[u]&&(i?u>0?u-=1:u<n.length-1&&(u+=1):u<n.length-1?u+=1:u>0&&(u-=1))}return l[u]=(l[u]||0)+1,l},[]),a=c.reduce(function(l,v,m){if(m===n.length-1){var u=oe(v,J({},n[n.length-1]));return u[0].type==="M"&&u.forEach(function(i){i.type="L"}),l.concat(u)}return l.concat(Rt(n[m],n[m+1],v))},[]);return a.unshift(n[0]),a}function _e(n){for(var e=(n||"").match(Mt)||[],t=[],s,o,r=0;r<e.length;++r)if(s=T[e[r]],s){o={type:e[r]};for(var c=0;c<s.length;++c)o[s[c]]=+e[r+c+1];r+=s.length,t.push(o)}return t}function Bt(n,e,t){var s=n==null?[]:n.slice(),o=e==null?[]:e.slice(),r=X(t)==="object"?t:{excludeSegment:t,snapEndsToInput:!0},c=r.excludeSegment,a=r.snapEndsToInput;if(!s.length&&!o.length)return function(){return[]};var l=(s.length===0||s[s.length-1].type==="Z")&&(o.length===0||o[o.length-1].type==="Z");s.length>0&&s[s.length-1].type==="Z"&&s.pop(),o.length>0&&o[o.length-1].type==="Z"&&o.pop(),s.length?o.length||o.push(s[0]):s.push(o[0]);var v=Math.abs(o.length-s.length);v!==0&&(o.length>s.length?s=be(s,o,c):o.length<s.length&&(o=be(o,s,c))),s=s.map(function(u,i){return Ft(u,o[i])});var m=s.map(function(u){return wt({},u)});return l&&(m.push({type:"Z"}),s.push({type:"Z"})),function(i){if(i===1&&a)return e??[];if(i===0)return s;for(var d=0;d<m.length;++d){var f=s[d],O=o[d],S=m[d],_=$e(T[S.type]),b;try{for(_.s();!(b=_.n()).done;){var y=b.value;S[y]=(1-i)*f[y]+i*O[y],(y==="largeArcFlag"||y==="sweepFlag")&&(S[y]=Math.round(S[y]))}}catch(C){_.e(C)}finally{_.f()}}return m}}function $t(n,e,t){var s=_e(n),o=_e(e),r=X(t)==="object"?t:{excludeSegment:t,snapEndsToInput:!0},c=r.excludeSegment,a=r.snapEndsToInput;if(!s.length&&!o.length)return function(){return""};var l=Bt(s,o,{excludeSegment:c,snapEndsToInput:a});return function(m){if(m===1&&a)return e??"";var u=l(m),i="",d=$e(u),f;try{for(d.s();!(f=d.n()).done;){var O=f.value;i+=jt(O)}}catch(S){d.e(S)}finally{d.f()}return i}}var w;(function(n){n.Basis="basis",n.BasisClosed="basisClosed",n.BasisOpen="basisOpen",n.Bundle="bundle",n.Cardinal="cardinal",n.CardinalClosed="cardinalClosed",n.CardinalOpen="cardinalOpen",n.CatmullRom="catmullRom",n.CatmullRomClosed="catmullRomClosed",n.CatmullRomOpen="catmullRomOpen",n.Linear="linear",n.LinearClosed="linearClosed",n.MonotoneX="monotoneX",n.MonotoneY="monotoneY",n.Natural="natural",n.Step="step",n.StepAfter="stepAfter",n.StepBefore="stepBefore"})(w||(w={}));const ke={[w.Basis]:bt,[w.BasisClosed]:xt,[w.BasisOpen]:yt,[w.Bundle]:mt,[w.Cardinal]:vt,[w.CardinalClosed]:gt,[w.CardinalOpen]:pt,[w.CatmullRom]:ht,[w.CatmullRomClosed]:ft,[w.CatmullRomOpen]:dt,[w.Linear]:ut,[w.LinearClosed]:ct,[w.MonotoneX]:lt,[w.MonotoneY]:it,[w.Natural]:at,[w.Step]:ot,[w.StepAfter]:rt,[w.StepBefore]:st},Wt=Object.assign(Object.assign({},Se),{curveType:w.MonotoneX,lineWidth:2,lineDashArray:void 0,fallbackValue:void 0,highlightOnHover:!1,cursor:null,interpolateMissingData:!1}),It=Ce`
  :root {
    --vis-line-cursor: default;
    --vis-line-stroke-dasharray: none;
    --vis-line-stroke-dashoffset: 0;

    --vis-line-gapfill-stroke-dasharray: 2 3;
    --vis-line-gapfill-stroke-opacity: 0.8;
    --vis-line-gapfill-stroke-dashoffset: 0;
  }
`,Lt=A`
  label: line-component;
`,H=A`
  label: line;
  transition: opacity 200ms;
  cursor: var(--vis-line-cursor);
`,ae=A`
  label: linePath;
  fill: none;
  stroke-dasharray: var(--vis-line-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-stroke-dashoffset);
`,ie=A`
  label: lineSelectionHelper;
  fill: none;
  stroke: rgba(0, 0, 0, 0);
  stroke-width: 8px;
`,le=A`
  opacity: 0.2;
`,ce=A`
  label: interpolated-path;
  fill: none;
  stroke-dasharray: var(--vis-line-gapfill-stroke-dasharray);
  stroke-dashoffset: var(--vis-line-gapfill-stroke-dashoffset);
  stroke-opacity: var(--vis-line-gapfill-stroke-opacity);
`,Tt=Object.freeze(Object.defineProperty({__proto__:null,dim:le,globalStyles:It,interpolatedPath:ce,line:H,linePath:ae,lineSelectionHelper:ie,root:Lt},Symbol.toStringTag,{value:"Module"}));class ee extends Oe{constructor(e){super(),this._defaultConfig=Wt,this.config=this._defaultConfig,this.curve=ke[w.MonotoneX],this.events={[ee.selectors.line]:{mouseover:this._highlight.bind(this),mouseleave:this._resetHighlight.bind(this)}},e&&this.setConfig(e)}get bleed(){const{config:{lineWidth:e}}=this,t=this.yScale.domain(),o=(this.yScale.range()[0]>this.yScale.range()[1]?ne.North:ne.South)===ne.South,r=e>3,c=e>=10;return{top:!c&&(!o&&t[1]===0||o&&t[0]===0)?0:e/2,bottom:!c&&(!o&&t[0]===0||o&&t[1]===0)?0:e/2,left:r?e/2:0,right:r?e/2:0}}_render(e){super._render(e);const{config:t,datamodel:{data:s}}=this,o=W(e)?e:t.duration;this.curve=ke[t.curveType],this.lineGen=_t().x(u=>u.x).y(u=>u.y).defined(u=>u.defined).curve(this.curve);const r=De(t.y)?t.y:[t.y],c=s.map((u,i)=>this.xScale(j(u,t.x,i))),a=r.map(u=>{const i=s.map((_,b)=>{const y=j(_,u,b),C=(W(y)||y===null)&&isFinite(y)?y:t.fallbackValue,D=t.interpolateMissingData?(W(y)||y===null)&&isFinite(y):isFinite(C);return{x:c[b],y:this.yScale(C??0),defined:D,value:C}}),d=i.reduce((_,b)=>b.defined||_,!1);let f=!1;const O=i.reduce((_,b,y)=>{!b.defined&&isFinite(t.fallbackValue)&&_.push(Object.assign(Object.assign({},b),{defined:!0})),!b.defined&&!f&&(f=!0);const C=y>0&&!i[y-1].defined||y<i.length-1&&!i[y+1].defined;return b.defined&&C&&(f||_.push(Object.assign(Object.assign({},b),{defined:!1})),_.push(b),f=!1),_},[]),S=d&&i.some(_=>_.value!==null);return{values:i,defined:d,gaps:O,visible:S}}),l=this.g.selectAll(`.${H}`).data(a),v=l.enter().append("g").attr("class",H);v.append("path").attr("class",ae).attr("stroke",(u,i)=>B(s,t.color,i)).attr("stroke-opacity",0).attr("stroke-width",t.lineWidth),v.append("path").attr("class",ie).attr("d",this._emptyPath()),v.append("path").attr("class",ce).attr("d",this._emptyPath()).style("opacity",0);const m=v.merge(l);m.style("cursor",(u,i)=>He(s,t.cursor,i)),m.each((u,i,d)=>{var f;const O=kt(d[i]),S=O.select(`.${ae}`),_=O.select(`.${ie}`),b=O.select(`.${ce}`),y=u.visible,C=Ue(s,t.lineDashArray,i),D=I(S,o).attr("stroke",B(s,t.color,i)).attr("stroke-width",t.lineWidth).attr("stroke-opacity",y?1:0).style("stroke-dasharray",(f=C?.join(" "))!==null&&f!==void 0?f:null),$=u.values.some(F=>!F.defined),V=this.lineGen(u.values);if(o&&!$){const F=S.attr("d")||this._emptyPath(),te=V||this._emptyPath();D.attrTween("d",()=>$t(F,te))}else u.visible&&D.attr("d",V);_.attr("d",V).attr("visibility",y?null:"hidden"),$&&t.interpolateMissingData?I(b,o).attr("d",this.lineGen(u.gaps)).attr("stroke",B(s,t.color,i)).attr("stroke-width",t.lineWidth-1).style("opacity",1):b.transition().duration(o).style("opacity",0)}),I(l.exit(),o).style("opacity",0).remove()}_emptyPath(){const e=this.xScale.range(),t=this.yScale.range();return`M${e[0]},${t[0]} L${e[1]},${t[0]}`}_highlight(e){const{config:t}=this;t.highlightOnHover&&this.g.selectAll(`.${H}`).classed(le,s=>s!==e)}_resetHighlight(){const{config:e}=this;e.highlightOnHover&&this.g.selectAll(`.${H}`).classed(le,!1)}}ee.selectors=Tt;const Vt=Object.assign(Object.assign({},Se),{yStacked:void 0,baseline:null,duration:100,tooltip:void 0,template:(n,e,t,s)=>"",hideWhenFarFromPointer:!0,hideWhenFarFromPointerDistance:100,snapToData:!0,getCircles:void 0,color:void 0,strokeColor:void 0,strokeWidth:void 0,onCrosshairMove:void 0,forceShowAt:void 0,skipRangeCheck:!1}),Nt=Ce`
  :root {
    --vis-crosshair-line-stroke-color: #888;
    --vis-crosshair-line-stroke-width: 1px;
    --vis-crosshair-line-stroke-opacity: 1;
    --vis-crosshair-circle-stroke-color: #fff;
    --vis-crosshair-circle-stroke-width: 1px;
    --vis-crosshair-circle-stroke-opacity: 0.75;
  }
`,Ht=A`
  label: crosshair-component;
`,We=A`
  stroke: var(--vis-crosshair-line-stroke-color);
  stroke-width: var(--vis-crosshair-line-stroke-width);
  stroke-opacity: var(--vis-crosshair-line-stroke-opacity);
  pointer-events: none;
`,Ie=A`
  stroke: var(--vis-crosshair-circle-stroke-color);
  stroke-width: var(--vis-crosshair-circle-stroke-width);
  stroke-opacity: var(--vis-crosshair-circle-stroke-opacity);
  pointer-events: none;
`,Ut=Object.freeze(Object.defineProperty({__proto__:null,circle:Ie,globalStyles:Nt,line:We,root:Ht},Symbol.toStringTag,{value:"Module"}));class Le extends Oe{constructor(e){super(),this.clippable=!0,this._defaultConfig=Vt,this.config=this._defaultConfig,this._xPx=void 0,this._yPx=void 0,this._mouseEvent=void 0,this._animFrameId=null,this._accessors={x:void 0,y:void 0,yStacked:void 0,baseline:void 0},e&&this.setConfig(e),this.g.style("opacity",0),this.line=this.g.append("line").attr("class",We)}set accessors(e){this._accessors=e}get accessors(){var e;const{config:t}=this,s=!!(t.x||t.y||t.yStacked),o=s?t.x:this._accessors.x,r=s?t.y:this._accessors.y,c=r?De(r)?r:[r]:void 0,a=s?t.yStacked:this._accessors.yStacked,l=(e=t.baseline)!==null&&e!==void 0?e:this._accessors.baseline;return{x:o,y:c,yStacked:a,baseline:l}}_isContainerInViewport(){var e;if(!(!((e=this.container)===null||e===void 0)&&e.node()))return!1;const t=this.container.node().getBoundingClientRect(),s=window.innerWidth||document.documentElement.clientWidth,o=window.innerHeight||document.documentElement.clientHeight,r=Math.max(0,Math.min(t.right,s)-Math.max(t.left,0)),c=Math.max(0,Math.min(t.bottom,o)-Math.max(t.top,0)),a=t.width*t.height,l=r*c;return a>0&&l/a>=.35}setContainer(e){this.container!==e&&(this.container=e,this.container.on("mousemove.crosshair",this._onMouseMove.bind(this)),this.container.on("mouseout.crosshair",this._onMouseOut.bind(this)),this.container.on("wheel.crosshair",this._onWheel.bind(this)))}_render(e){var t,s,o,r,c;const{config:a,datamodel:l}=this,v=W(e)?e:a.duration,m=a.forceShowAt!==void 0,u=m?this.xScale(a.forceShowAt):this._xPx,i=this.xScale.invert(u),d=!((t=l.data)===null||t===void 0)&&t.length&&this.accessors.x?l.data.indexOf(de(l.data,i,this.accessors.x,Xe.Left)):void 0;let f,O;a.snapToData&&(!this.accessors.y&&!this.accessors.yStacked&&(!((s=l.data)===null||s===void 0)&&s.length)&&console.warn("Unovis | Crosshair: Y accessors have not been configured. Please check if they're present in the configuration object"),!(!((o=l.data)===null||o===void 0)&&o.length)&&this._mouseEvent&&console.warn("Unovis | Crosshair: No data to snap to. Make sure the data has been passed to the container or to the crosshair itself"),f=de(l.data,i,this.accessors.x),O=l.data.indexOf(f));const S=this.xScale.range(),_=this.yScale.range(),b=a.snapToData&&f?fe(Math.round(this.xScale(j(f,this.accessors.x,O))),0,this._width):fe(u,S[0],S[1]),y=u>=S[0]&&u<=S[1],C=this._yPx>=Math.min(_[0],_[1])&&this._yPx<=Math.max(_[0],_[1]);let D=a.skipRangeCheck?!!this._xPx:this._xPx?y&&C:y;a.hideWhenFarFromPointer&&Math.abs(b-+u)>=a.hideWhenFarFromPointerDistance&&(D=!1);const $=(r=a.tooltip)!==null&&r!==void 0?r:this.tooltip;if(D&&$&&this._isContainerInViewport()){const k=$.getContainer()||this.container.node(),N=$.isContainerBody();if(m){const P=this.container.node().getBoundingClientRect(),Te=(N?u+P.left:u)+this._containerMargin.left,Ve=this._height/2+(N?P.top:0),Ne=[Te,Ve];this._showTooltip(f,i,Ne,d)}else if(this._mouseEvent){const P=N?[this._mouseEvent.clientX,this._mouseEvent.clientY]:he(this._mouseEvent,k);this._showTooltip(f,i,P,d)}}else this._hideTooltip();if(this._mouseEvent&&((c=a.onCrosshairMove)===null||c===void 0||c.call(a,D?this.xScale.invert(this._xPx):void 0,f,O,this._mouseEvent),this._mouseEvent=void 0),I(this.g,v).style("opacity",D?1:0),!isFinite(u))return;this.line.attr("y1",0).attr("y2",this._height),I(this.line,v,me).attr("x1",b).attr("x2",b);const V=Ee(a.getCircles)?a.getCircles(i,l.data,this.yScale,d):this.getCircleData(f,O),F=this.g.selectAll("circle").data(V,(k,N)=>{var P;return(P=k.id)!==null&&P!==void 0?P:N}),te=F.enter().append("circle").attr("class",Ie).attr("r",0).attr("cx",b).attr("cy",k=>k.y).style("fill",k=>k.color).style("stroke",k=>k.strokeColor).style("stroke-width",k=>k.strokeWidth);I(te.merge(F),v,me).attr("cx",b).attr("cy",k=>k.y).attr("r",4).style("opacity",k=>k.opacity).style("fill",k=>k.color).style("stroke",k=>k.strokeColor).style("stroke-width",k=>k.strokeWidth),F.exit().remove()}hide(e){window.cancelAnimationFrame(this._animFrameId),this._animFrameId=window.requestAnimationFrame(()=>{var t,s;this._xPx=void 0,this._yPx=void 0,this._mouseEvent=void 0,(s=(t=this.config).onCrosshairMove)===null||s===void 0||s.call(t,void 0,void 0,void 0,e),this._render()})}_onMouseMove(e){var t;const{datamodel:s,element:o}=this;!this.accessors.x&&(!((t=s.data)===null||t===void 0)&&t.length)&&console.warn("Unovis | Crosshair: X accessor function has not been configured. Please check if it's present in the configuration object");const[r,c]=he(e,o);this._xPx=r,this._yPx=c,this._mouseEvent=e,window.cancelAnimationFrame(this._animFrameId),this._animFrameId=window.requestAnimationFrame(()=>{this._render()})}_onMouseOut(e){var t;(!e||!(!((t=this.container)===null||t===void 0)&&t.node().contains(e.relatedTarget)))&&this.hide(e)}_onWheel(e){this.hide(e)}_showTooltip(e,t,s,o){var r;const{config:c,datamodel:a}=this,l=(r=c.tooltip)!==null&&r!==void 0?r:this.tooltip;if(!l||!s)return;const[v,m]=s,u=c.template(e,t,a.data,o);if(l.config.followCursor=!0,!l.config.horizontalPlacement||l.config.horizontalPlacement===se.Auto){const i=l.isContainerBody()?v-this.container.node().getBoundingClientRect().left:v;l.overrideHorizontalPlacement(i>this._containerWidth/2?se.Left:se.Right)}u&&l.show(u,{x:v,y:m})}_hideTooltip(){var e;const{config:t}=this,s=(e=t.tooltip)!==null&&e!==void 0?e:this.tooltip;s?.hide()}getYDataExtent(){return[void 0,void 0]}getCircleData(e,t){var s,o;const{config:r}=this;if(r.snapToData&&e){const c=(s=this.accessors.y)!==null&&s!==void 0?s:[],a=(o=this.accessors.yStacked)!==null&&o!==void 0?o:[],l=j(e,this.accessors.baseline,t)||0,v=Ye(e,t,...a).map((u,i)=>({y:this.yScale(u+l),opacity:W(j(e,a[i],i))?1:0,color:B(e,r.color,i),strokeColor:r.strokeColor?B(e,r.strokeColor,i):void 0,strokeWidth:r.strokeWidth?j(e,r.strokeWidth,i):void 0})),m=c.map((u,i)=>{const d=j(e,u,t);return{y:this.yScale(d),opacity:W(d)?1:0,color:B(e,r.color,v.length+i),strokeColor:r.strokeColor?B(e,r.strokeColor,i):void 0,strokeWidth:r.strokeWidth?j(e,r.strokeWidth,i):void 0}});return v.concat(m)}return[]}}Le.selectors=Ut;const Xt={"data-vis-crosshair":""},Et=K({__name:"index",props:{data:{}},setup(n,{expose:e}){const t=Me(Ge),s=n,o=U(()=>t.data.value??s.data),r=Ae(s),c=je();return Fe(()=>{Re(()=>{var a;c.value=new Le(r.value),(a=c.value)==null||a.setData(o.value),t.update(c.value)})}),Be(()=>{var a;(a=c.value)==null||a.destroy(),t.destroy()}),q(r,(a,l)=>{var v;Pe(a,l)||(v=c.value)==null||v.setConfig(r.value)}),q(o,()=>{var a;(a=c.value)==null||a.setData(o.value)}),e({component:c}),(a,l)=>(L(),ue("div",Xt))}}),Yt={"data-vis-component":""},Gt=K({__name:"index",props:{color:{},curveType:{},lineWidth:{},lineDashArray:{},fallbackValue:{},highlightOnHover:{type:Boolean},cursor:{},interpolateMissingData:{type:Boolean},x:{},y:{},id:{type:Function},xScale:{type:[Object,Function]},yScale:{type:[Object,Function]},excludeFromDomainCalculation:{type:Boolean},duration:{},events:{},attributes:{},data:{}},setup(n,{expose:e}){const t=Me(ze),s=n,o=U(()=>t.data.value??s.data),r=Ae(s),c=je();return Fe(()=>{Re(()=>{var a;c.value=new ee(r.value),(a=c.value)==null||a.setData(o.value),t.update(c.value)})}),Be(()=>{var a;(a=c.value)==null||a.destroy(),t.destroy()}),q(r,(a,l)=>{var v;Pe(a,l)||(v=c.value)==null||v.setConfig(r.value)}),q(o,()=>{var a;(a=c.value)==null||a.setData(o.value)}),e({component:c}),(a,l)=>(L(),ue("div",Yt))}}),we=K({__name:"ChartCrosshair",setup(n){const e=n;return(t,s)=>(L(),re(p(Et),qe(Je(e)),null,16))}}),zt={class:"space-y-6"},Zt={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},Qt={class:"text-2xl font-bold text-foreground"},qt={class:"text-xs mt-1 flex items-center gap-2"},Jt={class:"grid gap-6 lg:grid-cols-2"},Kt={class:"flex items-start justify-between"},en={class:"text-right"},tn={class:"text-lg font-bold text-foreground"},nn={class:"flex items-start justify-between"},sn={class:"text-right"},rn={class:"text-lg font-bold text-foreground"},An=K({__name:"Index",setup(n){const e=new Date,t=[{date:new Date(e.getTime()-720*60*60*1e3),amount:18e4},{date:new Date(e.getTime()-576*60*60*1e3),amount:21e4},{date:new Date(e.getTime()-432*60*60*1e3),amount:265e3},{date:new Date(e.getTime()-288*60*60*1e3),amount:24e4},{date:new Date(e.getTime()-8640*60*1e3),amount:3e5},{date:new Date(e.getTime()-4320*60*1e3),amount:32e4},{date:e,amount:34e4}],s=[{label:"Mon",newUsers:18,returning:7},{label:"Tue",newUsers:24,returning:10},{label:"Wed",newUsers:20,returning:8},{label:"Thu",newUsers:28,returning:12},{label:"Fri",newUsers:26,returning:11},{label:"Sat",newUsers:16,returning:6},{label:"Sun",newUsers:14,returning:5}],o={revenue:{label:"Revenue",color:"hsl(var(--primary))"}},r={new:{label:"New",color:"hsl(var(--primary))"},returning:{label:"Returning",color:"hsl(var(--muted-foreground))"}},c=U(()=>t.reduce((i,d)=>i+d.amount,0)),a=U(()=>s.reduce((i,d)=>i+d.newUsers,0)),l=U(()=>[{label:"Users",caption:"Active users",value:"2,148",trend:12},{label:"Revenue",caption:"Last 30 days",value:m(c.value),trend:8},{label:"Projects",caption:"Total projects",value:"512",trend:3},{label:"Words Generated",caption:"All time",value:"2.8M",trend:15}]),v=i=>new Date(i).toLocaleDateString("en",{month:"short",day:"numeric"}),m=i=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",maximumFractionDigits:0}).format(i),u=i=>i>=1e6?`${(i/1e6).toFixed(1)}M`:i>=1e3?`${(i/1e3).toFixed(1)}k`:i.toString();return(i,d)=>(L(),re(nt,null,{title:x(()=>[...d[0]||(d[0]=[h("div",{class:"flex flex-col"},[h("h2",{class:"text-2xl font-bold tracking-tight text-foreground"},"Analytics"),h("p",{class:"text-muted-foreground text-sm"},"Insights across users, revenue, and usage.")],-1)])]),default:x(()=>[h("div",zt,[h("div",Zt,[(L(!0),ue(Ke,null,et(l.value,f=>(L(),re(p(Y),{key:f.label,class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:x(()=>[g(p(Z),{class:"pb-2"},{default:x(()=>[g(p(Q),{class:"text-sm font-medium text-muted-foreground"},{default:x(()=>[M(R(f.label),1)]),_:2},1024),g(p(z),{class:"text-xs text-muted-foreground/80"},{default:x(()=>[M(R(f.caption),1)]),_:2},1024)]),_:2},1024),g(p(G),{class:"pt-0"},{default:x(()=>[h("div",Qt,R(f.value),1),h("div",qt,[h("span",{class:tt([f.trend>=0?"text-emerald-500":"text-rose-500","font-medium"])},R(f.trend>=0?"+":"")+R(f.trend)+"% ",3),d[1]||(d[1]=h("span",{class:"text-muted-foreground/60"},"vs last period",-1))])]),_:2},1024)]),_:2},1024))),128))]),h("div",Jt,[g(p(Y),{class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:x(()=>[g(p(Z),null,{default:x(()=>[h("div",Kt,[h("div",null,[g(p(Q),{class:"text-base font-semibold text-foreground"},{default:x(()=>[...d[2]||(d[2]=[M("Revenue Trend",-1)])]),_:1}),g(p(z),null,{default:x(()=>[...d[3]||(d[3]=[M("Last 30 days",-1)])]),_:1})]),h("div",en,[d[4]||(d[4]=h("p",{class:"text-xs text-muted-foreground"},"Total",-1)),h("p",tn,R(m(c.value)),1)])])]),_:1}),g(p(G),{class:"pl-0"},{default:x(()=>[g(p(pe),{config:o,class:"h-[280px] w-full"},{default:x(()=>[g(p(ge),{data:t,height:280,margin:{top:5,right:10,bottom:0,left:10}},{default:x(()=>[g(p(Gt),{x:f=>f.date,y:f=>f.amount,color:o.revenue.color,"curve-type":"monotone","stroke-width":2},null,8,["x","y","color"]),g(p(E),{type:"x",x:f=>f.date,"grid-line":!1,"domain-line":!1,"tick-line":!1,"tick-format":v,"tick-values":t.map(f=>f.date),color:"#888888"},null,8,["x","tick-values"]),g(p(E),{type:"y","tick-line":!1,"domain-line":!1,"grid-line":!0,"tick-format":f=>u(f),color:"#888888"},null,8,["tick-format"]),g(p(ve)),g(p(we))]),_:1})]),_:1})]),_:1})]),_:1}),g(p(Y),{class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:x(()=>[g(p(Z),null,{default:x(()=>[h("div",nn,[h("div",null,[g(p(Q),{class:"text-base font-semibold text-foreground"},{default:x(()=>[...d[5]||(d[5]=[M("User Signups",-1)])]),_:1}),g(p(z),null,{default:x(()=>[...d[6]||(d[6]=[M("Last 7 days",-1)])]),_:1})]),h("div",sn,[d[7]||(d[7]=h("p",{class:"text-xs text-muted-foreground"},"New",-1)),h("p",rn,R(a.value),1)])])]),_:1}),g(p(G),{class:"pl-0"},{default:x(()=>[g(p(pe),{config:r,class:"h-[280px] w-full"},{default:x(()=>[g(p(ge),{data:s,height:280,margin:{top:5,right:10,bottom:0,left:10}},{default:x(()=>[g(p(Ze),{x:f=>f.label,y:[f=>f.newUsers,f=>f.returning],color:[r.new.color,r.returning.color],"rounded-corners":4,"bar-padding":.2},null,8,["x","y","color"]),g(p(E),{type:"x",x:f=>f.label,"grid-line":!1,"domain-line":!1,"tick-line":!1,color:"#888888"},null,8,["x"]),g(p(E),{type:"y","tick-line":!1,"domain-line":!1,"grid-line":!0,"tick-format":f=>Math.round(f),color:"#888888"},null,8,["tick-format"]),g(p(ve)),g(p(we))]),_:1}),g(p(Qe),{config:r,class:"mt-4 justify-center"})]),_:1})]),_:1})]),_:1})]),g(p(Y),{class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:x(()=>[g(p(Z),{class:"pb-3"},{default:x(()=>[g(p(Q),{class:"text-base font-semibold"},{default:x(()=>[...d[8]||(d[8]=[M("System Snapshot",-1)])]),_:1}),g(p(z),{class:"text-sm text-muted-foreground"},{default:x(()=>[...d[9]||(d[9]=[M("Quick view of platform health",-1)])]),_:1})]),_:1}),g(p(G),null,{default:x(()=>[...d[10]||(d[10]=[h("div",{class:"grid gap-4 md:grid-cols-3"},[h("div",{class:"rounded-lg border border-border/50 bg-muted/30 p-4 hover:bg-muted/50 transition-colors"},[h("div",{class:"flex items-center justify-between mb-2"},[h("p",{class:"text-sm font-medium text-muted-foreground"},"Queue"),h("div",{class:"h-2 w-2 rounded-full bg-emerald-500 animate-pulse"})]),h("p",{class:"text-2xl font-bold text-foreground"},"Healthy"),h("p",{class:"text-xs text-muted-foreground mt-1"},"12 pending â€¢ 0 failed")]),h("div",{class:"rounded-lg border border-border/50 bg-muted/30 p-4 hover:bg-muted/50 transition-colors"},[h("div",{class:"flex items-center justify-between mb-2"},[h("p",{class:"text-sm font-medium text-muted-foreground"},"OpenAI"),h("div",{class:"h-2 w-2 rounded-full bg-emerald-500"})]),h("p",{class:"text-2xl font-bold text-foreground"},"Stable"),h("p",{class:"text-xs text-muted-foreground mt-1"},"Avg latency: 890ms")]),h("div",{class:"rounded-lg border border-border/50 bg-muted/30 p-4 hover:bg-muted/50 transition-colors"},[h("div",{class:"flex items-center justify-between mb-2"},[h("p",{class:"text-sm font-medium text-muted-foreground"},"Cache"),h("div",{class:"h-2 w-2 rounded-full bg-emerald-500"})]),h("p",{class:"text-2xl font-bold text-foreground"},"OK"),h("p",{class:"text-xs text-muted-foreground mt-1"},"Hit rate: 92%")])],-1)])]),_:1})]),_:1})])]),_:1}))}});export{An as default};
