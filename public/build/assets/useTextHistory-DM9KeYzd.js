import{c as z,_ as y}from"./index-D0SGUG9_.js";import{d as ae,B as $,b as H,I as le,c as j,o as h,N as A,K as t,u as e,w as r,F as s,M as m,H as p,n as M,U as V,ab as ie,a as E,af as I,L as q,ac as J,P as N}from"./app-BX783c_h.js";import{_ as T}from"./index-CLHATmBI.js";import{_ as se,a as oe}from"./CardContent.vue_vue_type_script_setup_true_lang-DWiUbu6H.js";import{_ as ce,a as de}from"./CardTitle.vue_vue_type_script_setup_true_lang-Dp-VzE-n.js";import{_ as ue,a as pe,b as me}from"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-DVIXT2lW.js";import{_ as fe}from"./Input.vue_vue_type_script_setup_true_lang-D5IKNWvr.js";import{a as re}from"./ScrollArea.vue_vue_type_script_setup_true_lang-BJ1scPzG.js";import{_ as G}from"./Separator.vue_vue_type_script_setup_true_lang-Dugh028q.js";import{H as he,_ as xe,b as ve,c as _e,d as ge,e as ye,f as be,g as we,h as Ce}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-B6TSV_0d.js";import{B as W,t as c}from"./index-M5PXvBC6.js";import{ap as K,aq as Q}from"./RichTextEditor-D1BeT4Qh.js";import{C as ne}from"./chevron-down-DgteLhCE.js";import{L as Z}from"./loader-circle-N0HEdYkR.js";import{S as ke}from"./search-Cg6381DU.js";import{T as $e}from"./trash-2-DQo2fhae.js";import{P as X}from"./plus-B89DH5nI.js";import{_ as je}from"./Checkbox.vue_vue_type_script_setup_true_lang-BdBS0NBb.js";import{_ as Fe,d as Pe,a as De,b as Ee,c as Se}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DERYyvSa.js";import{_ as Ue}from"./DialogFooter.vue_vue_type_script_setup_true_lang-Da-aiXR7.js";import{e as Ae,_ as Le,a as Re,b as Y,c as ee,d as He}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DLNK8Q5v.js";import{D as B}from"./download-DH365zXy.js";import{F as te}from"./file-text-CncV20pt.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=z("FileDownIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=z("PanelRightCloseIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=z("PanelRightOpenIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=z("WandSparklesIcon",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),ze={class:"flex items-center gap-2"},Oe={class:"rounded-lg bg-gradient-to-r from-amber-50 to-indigo-50 dark:from-amber-950/20 dark:to-indigo-950/20 border border-amber-200/50 dark:border-amber-800/50 p-3"},Ie={class:"flex items-start gap-2"},Ne={class:"space-y-3"},Be={class:"space-y-2"},Ve={class:"text-xs font-medium text-muted-foreground flex items-center gap-1"},qe={class:"flex gap-1"},Ge={class:"rounded-lg bg-muted/30 p-2"},Je={class:"text-xs font-medium text-foreground mb-1"},We={class:"text-xs text-muted-foreground mb-2"},Ke={class:"text-xs text-muted-foreground font-mono bg-background p-2 rounded border"},Qe={class:"space-y-3"},Ze={class:"text-xs font-medium text-muted-foreground flex items-center gap-1"},Xe={class:"flex gap-2"},Ye={key:0,class:"space-y-3"},et={class:"flex items-center justify-between"},tt={class:"text-xs font-medium text-muted-foreground flex items-center gap-1"},at={class:"space-y-2 pr-2"},st=["onClick"],ot={class:"flex items-start justify-between gap-2"},rt={class:"flex-1 min-w-0"},nt={class:"text-xs font-medium text-foreground truncate"},lt={class:"text-xs text-muted-foreground mt-1"},it={class:"flex items-center gap-2 mt-1"},ct={class:"text-xs text-muted-foreground"},dt={class:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"},ut={key:0,class:"mt-3 pt-3 border-t"},pt={class:"bg-muted/30 rounded p-2"},mt={class:"text-xs font-medium text-foreground mb-1"},ft={class:"text-xs text-muted-foreground font-mono leading-relaxed"},ht={class:"flex gap-2 mt-3"},xt={key:1,class:"py-8 text-center"},ea=ae({__name:"CitationHelper",props:{showCitationHelper:{type:Boolean},chapterContent:{}},emits:["update:showCitationHelper","insert-citation"],setup(L,{emit:x}){const f=x,n=$("apa"),b=$(""),w=$(!1),F=$(!1),P=$(!1),C=$([]),k=$(null),R={apa:{name:"APA Style",description:"American Psychological Association",example:"Smith, J. (2023). Research methods. Journal of Science, 15(3), 123-145."},harvard:{name:"Harvard Style",description:"Author-date referencing system",example:'Smith, J. (2023) "Research methods", Journal of Science, 15(3), pp. 123-145.'},ieee:{name:"IEEE Style",description:"Institute of Electrical and Electronics Engineers",example:'J. Smith, "Research methods," Journal of Science, vol. 15, no. 3, pp. 123-145, 2023.'}},S=H(()=>R[n.value]),O=i=>{f("update:showCitationHelper",i)},u=i=>{k.value=k.value===i?null:i},o=async()=>{if(!b.value.trim()){c.error("Please enter a URL, DOI, or search term");return}w.value=!0;try{const i=await I.post("/api/citations/generate",{input:b.value.trim()});if(i.data.success){const a=i.data.citation,d={id:a.id.toString(),title:a.title,authors:a.authors,year:a.year,journal:a.journal,url:a.url,doi:a.doi,type:a.type,style:{apa:a.style.apa,harvard:a.style.harvard,ieee:a.style.ieee},createdAt:new Date(a.created_at)};C.value.unshift(d),b.value="",c.success("Citation generated successfully!")}else c.error("Failed to generate citation")}catch(i){console.error("Failed to search citation:",i),i.response?.status===422?c.error("Invalid input format"):c.error("Failed to generate citation")}finally{w.value=!1}},l=i=>{const a=i.style[n.value];f("insert-citation",a),c.success("Citation inserted into document")},_=i=>{const a=i.style[n.value];navigator.clipboard.writeText(a),c.success("Citation copied to clipboard")},g=()=>{if(!C.value.length){c.error("No citations to clear");return}P.value=!0},v=async()=>{F.value=!0,P.value=!1;try{(await I.delete("/api/citations/clear")).data.success?(C.value=[],k.value=null,c.success("All citations cleared successfully")):c.error("Failed to clear citations")}catch(i){console.error("Failed to clear citations:",i),c.error("Failed to clear citations")}finally{F.value=!1}},D=async()=>{try{const i=await I.get("/api/citations/recent",{params:{limit:10}});i.data.success&&(C.value=i.data.citations.map(a=>({id:a.id.toString(),title:a.title,authors:a.authors,year:a.year,journal:a.journal,url:a.url,doi:a.doi,type:a.type,style:{apa:a.style.apa,harvard:a.style.harvard,ieee:a.style.ieee},createdAt:new Date(a.created_at)})))}catch(i){console.error("Failed to load recent citations:",i)}};return le(()=>{D()}),(i,a)=>(h(),j(A,null,[t(e(se),{class:"border border-border/60 shadow-sm dark:border-border/50 dark:shadow-none transition-all duration-300 hover:shadow-md"},{default:r(()=>[t(e(ue),{open:i.showCitationHelper,"onUpdate:open":O},{default:r(()=>[t(e(pe),{class:"w-full"},{default:r(()=>[t(e(ce),{class:"pb-3 transition-colors bg-muted/40 hover:bg-muted/60 dark:bg-transparent dark:hover:bg-muted/30"},{default:r(()=>[t(e(de),{class:"flex items-center justify-between text-sm"},{default:r(()=>[s("span",ze,[t(e(K),{class:"h-4 w-4 text-muted-foreground"}),a[3]||(a[3]=m(" Citation Helper ",-1)),t(e(T),{variant:"secondary",class:"ml-1 text-xs"},{default:r(()=>[m(p(n.value.toUpperCase()),1)]),_:1})]),t(e(ne),{class:M(["h-4 w-4 text-muted-foreground transition-transform",i.showCitationHelper?"rotate-180":""])},null,8,["class"])]),_:1})]),_:1})]),_:1}),t(e(me),null,{default:r(()=>[t(e(oe),{class:"space-y-4 pt-0"},{default:r(()=>[s("div",Oe,[s("div",Ie,[t(e(W),{class:"h-4 w-4 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),a[4]||(a[4]=s("div",{class:"text-xs leading-relaxed"},[s("p",{class:"font-medium text-amber-900 dark:text-amber-100 mb-1"},"Smart Citation Assistant"),s("p",{class:"text-amber-700 dark:text-amber-300"},"Automatically formats citations in your preferred academic style."),s("p",{class:"mt-1 text-amber-600 dark:text-amber-400"},"ðŸ’¡ Click citations to insert them directly into your document.")],-1))])]),s("div",Ne,[s("div",Be,[s("h4",Ve,[t(e(W),{class:"h-3 w-3"}),a[5]||(a[5]=m(" Citation Style ",-1))]),s("div",qe,[(h(!0),j(A,null,V(Object.keys(R),d=>(h(),E(e(y),{key:d,onClick:U=>n.value=d,variant:n.value===d?"default":"outline",size:"sm",class:"text-xs flex-1"},{default:r(()=>[m(p(d.toUpperCase()),1)]),_:2},1032,["onClick","variant"]))),128))])]),s("div",Ge,[s("p",Je,p(S.value.name),1),s("p",We,p(S.value.description),1),s("p",Ke,p(S.value.example),1)])]),t(e(G)),s("div",Qe,[s("h4",Ze,[t(e(Te),{class:"h-3 w-3"}),a[6]||(a[6]=m(" Generate Citation ",-1))]),s("div",Xe,[t(e(fe),{modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=d=>b.value=d),placeholder:"Enter URL, DOI, or search term...",class:"text-xs",onKeyup:ie(o,["enter"]),disabled:w.value},null,8,["modelValue","disabled"]),t(e(y),{onClick:o,size:"sm",disabled:w.value||!b.value.trim()},{default:r(()=>[w.value?(h(),E(e(Z),{key:0,class:"h-3 w-3 animate-spin"})):(h(),E(e(ke),{key:1,class:"h-3 w-3"}))]),_:1},8,["disabled"])]),a[7]||(a[7]=s("p",{class:"text-xs text-muted-foreground"}," ðŸ’¡ Paste a journal URL, DOI, or search for papers by keywords ",-1))]),C.value.length?(h(),j("div",Ye,[t(e(G)),s("div",et,[s("h4",tt,[t(e(he),{class:"h-3 w-3"}),m(" Recent Citations ("+p(C.value.length)+") ",1)]),t(e(y),{onClick:g,disabled:F.value,variant:"ghost",size:"icon",class:"h-6 w-6 hover:bg-destructive/10 hover:text-destructive"},{default:r(()=>[F.value?(h(),E(e(Z),{key:0,class:"h-3 w-3 animate-spin"})):(h(),E(e($e),{key:1,class:"h-3 w-3"}))]),_:1},8,["disabled"])]),t(e(re),{class:"h-[300px]"},{default:r(()=>[s("div",at,[(h(!0),j(A,null,V(C.value,d=>(h(),j("div",{key:d.id,class:"group"},[s("div",{onClick:U=>u(d.id),class:M(["cursor-pointer rounded-lg border bg-background p-3 hover:bg-muted/30 transition-colors",k.value===d.id?"ring-2 ring-primary":""])},[s("div",ot,[s("div",rt,[s("p",nt,p(d.title),1),s("p",lt,p(d.authors.join(", "))+" ("+p(d.year)+") ",1),s("div",it,[t(e(T),{variant:"outline",class:"text-xs"},{default:r(()=>[m(p(d.type),1)]),_:2},1024),s("span",ct,p(d.createdAt.toLocaleDateString()),1)])]),s("div",dt,[t(e(y),{onClick:J(U=>l(d),["stop"]),variant:"ghost",size:"icon",class:"h-6 w-6"},{default:r(()=>[t(e(X),{class:"h-3 w-3"})]),_:2},1032,["onClick"]),t(e(y),{onClick:J(U=>_(d),["stop"]),variant:"ghost",size:"icon",class:"h-6 w-6"},{default:r(()=>[t(e(Q),{class:"h-3 w-3"})]),_:2},1032,["onClick"])])]),k.value===d.id?(h(),j("div",ut,[s("div",pt,[s("p",mt,p(n.value.toUpperCase())+" Format: ",1),s("p",ft,p(d.style[n.value]),1)]),s("div",ht,[t(e(y),{onClick:U=>l(d),size:"sm",class:"flex-1 text-xs"},{default:r(()=>[t(e(X),{class:"mr-1 h-3 w-3"}),a[8]||(a[8]=m(" Insert ",-1))]),_:2},1032,["onClick"]),t(e(y),{onClick:U=>_(d),size:"sm",variant:"outline",class:"flex-1 text-xs"},{default:r(()=>[t(e(Q),{class:"mr-1 h-3 w-3"}),a[9]||(a[9]=m(" Copy ",-1))]),_:2},1032,["onClick"])])])):q("",!0)],10,st)]))),128))])]),_:1})])):(h(),j("div",xt,[t(e(K),{class:"mx-auto h-12 w-12 text-muted-foreground/30 mb-3"}),a[10]||(a[10]=s("p",{class:"text-xs text-muted-foreground mb-1"}," No citations yet ",-1)),a[11]||(a[11]=s("p",{class:"text-xs text-muted-foreground/80"}," Generate your first citation using the search above ",-1))]))]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}),t(e(xe),{open:P.value,"onUpdate:open":a[2]||(a[2]=d=>P.value=d)},{default:r(()=>[t(e(ve),null,{default:r(()=>[t(e(_e),null,{default:r(()=>[t(e(ge),null,{default:r(()=>[...a[12]||(a[12]=[m("Clear All Citations",-1)])]),_:1}),t(e(ye),null,{default:r(()=>[m(" Are you sure you want to clear all "+p(C.value.length)+" citations? This action cannot be undone and will permanently remove all citations from your library. ",1)]),_:1})]),_:1}),t(e(be),null,{default:r(()=>[t(e(we),{onClick:a[1]||(a[1]=d=>P.value=!1)},{default:r(()=>[...a[13]||(a[13]=[m("Cancel",-1)])]),_:1}),t(e(Ce),{onClick:v,class:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},{default:r(()=>[...a[14]||(a[14]=[m(" Clear All Citations ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),vt={class:"inline-flex"},_t={class:"space-y-4"},gt={class:"flex items-center justify-between"},yt={class:"flex items-center gap-2 text-sm text-muted-foreground"},bt={class:"flex items-center gap-2"},wt={class:"space-y-2"},Ct={class:"flex items-start gap-3"},kt={class:"flex-1 min-w-0"},$t={class:"flex items-center gap-2 mb-1"},jt={class:"font-medium truncate"},Ft={class:"flex items-center gap-4 text-sm text-muted-foreground"},Pt={key:0},ta=ae({__name:"ExportMenu",props:{project:{},currentChapter:{},allChapters:{},triggerElement:{default:"button"},size:{default:"default"},variant:{default:"outline"},buttonClass:{default:""}},setup(L){const x=L,f=$(!1),n=$([]),b=H(()=>x.allChapters.filter(u=>u.content&&u.content.trim().length>0)),w=H(()=>n.value.length),F=H(()=>x.allChapters.filter(u=>n.value.includes(u.chapter_number)).reduce((u,o)=>u+o.word_count,0)),P=async()=>{c.loading("Generating project PDF...",{id:"export-project-pdf"});const u=N("export.project.pdf",{project:x.project.slug});try{const o=await fetch(u,{method:"GET",headers:{Accept:"application/pdf"}});if(o.ok){const l=o.headers.get("content-type");if(l&&l.includes("application/json")){const D=await o.json();c.error("Export Failed",{id:"export-project-pdf",description:D.message||"An error occurred during PDF export."});return}const _=await o.blob(),g=window.URL.createObjectURL(_),v=document.createElement("a");v.href=g,v.download=`${x.project.slug}_full_project.pdf`,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(g),c.success("Project PDF exported successfully!",{id:"export-project-pdf",description:`${x.project.title} has been downloaded as PDF.`})}else try{const l=await o.json();c.error("Export Failed",{id:"export-project-pdf",description:l.message||"An error occurred during PDF export."})}catch{c.error("Export Failed",{id:"export-project-pdf",description:"Unable to export project as PDF. Please try again."})}}catch{c.error("Export Failed",{id:"export-project-pdf",description:"Network error occurred. Please check your connection and try again."})}},C=async()=>{if(n.value.length===0){c.error("No chapters selected",{description:"Please select at least one chapter to export."});return}try{c.loading(`Exporting ${n.value.length} chapters...`,{id:"export-chapters"});const u=N("export.chapters.word",{project:x.project.slug}),o=new FormData;n.value.forEach(g=>{o.append("chapters[]",g.toString())});const l=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");l&&o.append("_token",l);const _=await fetch(u,{method:"POST",body:o,headers:{Accept:"application/json"}});if(_.ok){const g=_.headers.get("content-type");if(g&&g.includes("application/json")){const a=await _.json();c.error("Export Failed",{id:"export-chapters",description:a.message||"An error occurred during export."});return}const v=await _.blob(),D=window.URL.createObjectURL(v),i=document.createElement("a");i.href=D,i.download=`${x.project.slug}-chapters-${n.value.join("-")}.docx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(D),c.success("Selected chapters exported successfully!",{id:"export-chapters",description:`${n.value.length} chapters exported to Word.`}),n.value=[],f.value=!1}else try{const g=await _.json();c.error("Export Failed",{id:"export-chapters",description:g.message||"An error occurred during export."})}catch{c.error("Export Failed",{id:"export-chapters",description:"Unable to export selected chapters. Please try again."})}}catch{c.error("Export Failed",{id:"export-chapters",description:"Network error occurred. Please check your connection and try again."})}},k=u=>{const o=n.value.indexOf(u);o>-1?n.value.splice(o,1):n.value.push(u)},R=()=>{n.value=b.value.map(u=>u.chapter_number)},S=()=>{n.value=[]},O=async()=>{c.loading("Generating PDF...",{id:"export-chapter-pdf"});const u=N("export.chapter.pdf",{project:x.project.slug,chapterNumber:x.currentChapter.chapter_number});try{const o=await fetch(u,{method:"GET",headers:{Accept:"application/pdf"}});if(o.ok){const l=o.headers.get("content-type");if(l&&l.includes("application/json")){const D=await o.json();c.error("Export Failed",{id:"export-chapter-pdf",description:D.message||"An error occurred during PDF export."});return}const _=await o.blob(),g=window.URL.createObjectURL(_),v=document.createElement("a");v.href=g,v.download=`chapter_${x.currentChapter.chapter_number}_${x.currentChapter.title.toLowerCase().replace(/\s+/g,"_")}.pdf`,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(g),c.success("PDF exported successfully!",{id:"export-chapter-pdf",description:`${x.currentChapter.title} has been downloaded as PDF.`})}else try{const l=await o.json();c.error("Export Failed",{id:"export-chapter-pdf",description:l.message||"An error occurred during PDF export."})}catch{c.error("Export Failed",{id:"export-chapter-pdf",description:"Unable to export chapter as PDF. Please try again."})}}catch{c.error("Export Failed",{id:"export-chapter-pdf",description:"Network error occurred. Please check your connection and try again."})}};return(u,o)=>(h(),j("div",vt,[t(e(Ae),null,{default:r(()=>[t(e(Le),{asChild:""},{default:r(()=>[t(e(y),{variant:u.variant,size:u.size,class:M(["gap-2",u.buttonClass])},{default:r(()=>[u.triggerElement==="button"?(h(),j(A,{key:0},[t(e(B),{class:"h-4 w-4"}),o[2]||(o[2]=m(" Export ",-1)),t(e(ne),{class:"h-3 w-3"})],64)):(h(),E(e(B),{key:1,class:"h-4 w-4"}))]),_:1},8,["variant","size","class"])]),_:1}),t(e(Re),{align:"end",class:"w-64"},{default:r(()=>[t(e(Y),null,{default:r(()=>[...o[3]||(o[3]=[m("Current Chapter",-1)])]),_:1}),t(e(ee),{onClick:O,class:"gap-2"},{default:r(()=>[t(e(te),{class:"h-4 w-4"}),o[4]||(o[4]=s("div",{class:"flex flex-col"},[s("span",{class:"font-medium"},"Export as PDF"),s("span",{class:"text-xs text-muted-foreground"}," Professional academic format ")],-1))]),_:1}),t(e(He)),t(e(Y),null,{default:r(()=>[...o[5]||(o[5]=[m("Full Project",-1)])]),_:1}),t(e(ee),{onClick:P,class:"gap-2"},{default:r(()=>[t(e(te),{class:"h-4 w-4"}),o[6]||(o[6]=s("div",{class:"flex flex-col"},[s("span",{class:"font-medium"},"Export as PDF"),s("span",{class:"text-xs text-muted-foreground"}," Professional academic format with cover page ")],-1))]),_:1})]),_:1})]),_:1}),t(e(Fe),{open:f.value,"onUpdate:open":o[1]||(o[1]=l=>f.value=l)},{default:r(()=>[t(e(Pe),{class:"max-w-2xl"},{default:r(()=>[t(e(De),null,{default:r(()=>[t(e(Ee),{class:"flex items-center gap-2"},{default:r(()=>[t(e(Me),{class:"h-5 w-5"}),o[7]||(o[7]=m(" Select Chapters to Export ",-1))]),_:1}),t(e(Se),null,{default:r(()=>[...o[8]||(o[8]=[m(" Choose which chapters you want to include in your Word export. Only chapters with content can be exported. ",-1)])]),_:1})]),_:1}),s("div",_t,[s("div",gt,[s("div",yt,[s("span",null,p(w.value)+" of "+p(b.value.length)+" chapters selected",1),F.value>0?(h(),E(e(T),{key:0,variant:"outline",class:"text-xs"},{default:r(()=>[m(p(F.value.toLocaleString())+" words ",1)]),_:1})):q("",!0)]),s("div",bt,[t(e(y),{onClick:R,variant:"ghost",size:"sm"},{default:r(()=>[...o[9]||(o[9]=[m(" Select All ",-1)])]),_:1}),t(e(y),{onClick:S,variant:"ghost",size:"sm"},{default:r(()=>[...o[10]||(o[10]=[m(" Clear ",-1)])]),_:1})])]),t(e(G)),t(e(re),{class:"h-[300px]"},{default:r(()=>[s("div",wt,[(h(!0),j(A,null,V(b.value,l=>(h(),E(e(se),{key:l.id,class:M(["cursor-pointer transition-colors hover:bg-muted/50",{"ring-2 ring-primary":n.value.includes(l.chapter_number),"bg-muted/30":n.value.includes(l.chapter_number)}]),onClick:_=>k(l.chapter_number)},{default:r(()=>[t(e(oe),{class:"p-4"},{default:r(()=>[s("div",Ct,[t(e(je),{checked:n.value.includes(l.chapter_number),"onUpdate:checked":_=>k(l.chapter_number),class:"mt-1"},null,8,["checked","onUpdate:checked"]),s("div",kt,[s("div",$t,[s("h4",jt," Chapter "+p(l.chapter_number)+": "+p(l.title),1),t(e(T),{variant:l.status==="approved"?"default":"secondary",class:"text-xs"},{default:r(()=>[m(p(l.status.replace("_"," ")),1)]),_:2},1032,["variant"])]),s("div",Ft,[s("span",null,p(l.word_count.toLocaleString())+" words",1),l.word_count>0?(h(),j("span",Pt,p(Math.ceil(l.word_count/250))+" pages approx. ",1)):q("",!0)])])])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))])]),_:1})]),t(e(Ue),null,{default:r(()=>[t(e(y),{onClick:o[0]||(o[0]=l=>f.value=!1),variant:"outline"},{default:r(()=>[...o[11]||(o[11]=[m(" Cancel ",-1)])]),_:1}),t(e(y),{onClick:C,disabled:w.value===0,class:"gap-2"},{default:r(()=>[t(e(B),{class:"h-4 w-4"}),m(" Export "+p(w.value)+" Chapter"+p(w.value===1?"":"s"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]))}});function aa(L="",x=50){const f=$([L]),n=$(0);return{contentHistory:f,historyIndex:n,addToHistory:k=>{f.value[n.value]!==k&&(f.value=f.value.slice(0,n.value+1),f.value.push(k),f.value.length>x?f.value.shift():n.value++)},undo:()=>n.value>0?(n.value--,f.value[n.value]):null,redo:()=>n.value<f.value.length-1?(n.value++,f.value[n.value]):null,canUndo:()=>n.value>0,canRedo:()=>n.value<f.value.length-1}}export{Yt as P,Te as W,ta as _,Xt as a,ea as b,aa as u};
