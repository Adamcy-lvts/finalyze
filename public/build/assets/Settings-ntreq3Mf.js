import{_ as A}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Cjul3uBB.js";import{_ as B,a as F}from"./CardContent.vue_vue_type_script_setup_true_lang-ByVWGonT.js";import{_ as N}from"./CardDescription.vue_vue_type_script_setup_true_lang-DCwZv7vk.js";import{_ as E,a as G}from"./CardTitle.vue_vue_type_script_setup_true_lang-CANz9L_6.js";import{_ as M}from"./Input.vue_vue_type_script_setup_true_lang-CQe6L5n4.js";import{_ as P}from"./Textarea.vue_vue_type_script_setup_true_lang-CLVewTca.js";import{_ as T}from"./index-BpTO5Kag.js";import{_ as W,a as L,b as I,c as O}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-DFZlebMN.js";import{_ as k}from"./index-BU6y8D-V.js";import{_ as q}from"./Label.vue_vue_type_script_setup_true_lang-BCx0cnBe.js";import{bt as D,dG as J,gv as K,bs as R,ci as z,ck as H,cn as n,co as o,cp as i,cr as d,cq as l,bE as t,cs as c,dw as Q,cy as X,ct as u,cB as p,cS as b,df as _,d$ as Y,cK as Z,cG as ee,cl as ae,cj as x}from"./vendor-DwcF3VNb.js";import"./Sonner.vue_vue_type_script_setup_true_lang-kLZ_SglN.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-CpzsT-yS.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-C_drGNy-.js";const te={class:"space-y-6 max-w-5xl mx-auto"},se={class:"flex items-center justify-between pb-4 border-b"},re={class:"flex items-center justify-between"},oe={class:"flex items-center gap-2"},ie={class:"text-[10px] px-1.5 py-0.5 rounded bg-muted/50 text-muted-foreground font-mono opacity-50 group-hover:opacity-100 transition-opacity"},le={class:"grid gap-2"},ne={key:2,class:"text-sm text-muted-foreground/80"},$e=D({__name:"Settings",props:{settings:{}},setup(h){const S=h.settings.map(e=>({key:e.key,value:typeof e.value=="object"?JSON.stringify(e.value,null,2):e.value,type:e.type,group:e.group,description:e.description})),m=J({settings:S}),v=K("history"),f=R(v.tab||"general");z(f,e=>{v.tab=e});const w=["refund_policy","support_email"],$=e=>w.includes(e),y=H(()=>{const e={general:{id:"general",label:"General",description:"General system configurations",settings:[]},ai:{id:"ai",label:"AI & Prompts",description:"Configure AI models and system prompts",settings:[]},affiliate:{id:"affiliate",label:"Affiliate System",description:"Manage affiliate program settings",settings:[]},feedback:{id:"feedback",label:"User Feedback",description:"Feedback collection triggers and limits",settings:[]}};return m.settings.forEach(a=>{a.key.startsWith("ai.")||a.key.includes("prompt")?e.ai.settings.push(a):a.key.startsWith("affiliate.")?e.affiliate.settings.push(a):a.key.startsWith("feedback.")?e.feedback.settings.push(a):e.general.settings.push(a)}),Object.values(e).filter(a=>a.settings.length>0)}),V=(e,a)=>{const r=String(e??""),s=String(a??"");return!!(r.startsWith("ai.")||r.includes("prompt")||s.includes(`
`)||s.length>80)},C=e=>{const r=String(e??"").split(`
`).length;return Math.min(15,Math.max(3,r))},U=e=>e.split(".").pop()?.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")||e,j=()=>{console.log("Saving settings:",m.settings),m.put(ae("admin.system.update-settings"),{preserveScroll:!0,onSuccess:()=>{console.log("Save success"),x("Settings Saved",{description:"System settings have been updated successfully."})},onError:e=>{console.error("Save error:",e),x("Save Failed",{description:"There was an error saving the settings. Please check your inputs."})}})};return(e,a)=>(o(),n(A,{title:"System Settings"},{default:i(()=>[d("div",te,[d("div",se,[a[1]||(a[1]=d("div",null,[d("h1",{class:"text-2xl font-bold tracking-tight text-foreground"},"System Settings"),d("p",{class:"text-muted-foreground mt-1"},"Manage global application configurations and parameters.")],-1)),l(t(T),{onClick:j,disabled:t(m).processing,class:"gap-2"},{default:i(()=>[t(m).processing?(o(),n(t(Q),{key:0,class:"w-4 h-4 animate-spin"})):(o(),n(t(X),{key:1,class:"w-4 h-4"})),c(" "+u(t(m).processing?"Saving...":"Save Changes"),1)]),_:1},8,["disabled"])]),l(t(W),{modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=r=>f.value=r),class:"space-y-6"},{default:i(()=>[l(t(L),{class:"flex w-full overflow-x-auto lg:w-auto lg:inline-flex bg-muted/40 p-1 rounded-xl h-auto gap-1"},{default:i(()=>[(o(!0),p(b,null,_(y.value,r=>(o(),n(t(I),{key:r.id,value:r.id,class:"flex-1 lg:flex-none px-4 py-2 rounded-lg data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm transition-all duration-200 font-medium text-muted-foreground"},{default:i(()=>[c(u(r.label),1)]),_:2},1032,["value"]))),128))]),_:1}),(o(!0),p(b,null,_(y.value,r=>(o(),n(t(O),{key:r.id,value:r.id,class:"space-y-4 animate-in fade-in-50 slide-in-from-bottom-2 duration-300"},{default:i(()=>[l(t(B),{class:"border-border/60 shadow-sm"},{default:i(()=>[l(t(E),null,{default:i(()=>[l(t(G),{class:"text-lg"},{default:i(()=>[c(u(r.label),1)]),_:2},1024),l(t(N),null,{default:i(()=>[c(u(r.description),1)]),_:2},1024)]),_:2},1024),l(t(F),{class:"grid gap-6"},{default:i(()=>[(o(!0),p(b,null,_(r.settings,(s,ce)=>(o(),p("div",{key:s.key,class:"group grid gap-3 p-5 rounded-xl border border-border/50 bg-card hover:border-primary/20 hover:shadow-sm transition-all duration-200"},[d("div",re,[d("div",oe,[l(t(q),{for:s.key,class:"text-base font-medium text-foreground group-hover:text-primary transition-colors"},{default:i(()=>[c(u(U(s.key)),1)]),_:2},1032,["for"]),d("code",ie,u(s.key),1)]),$(s.key)?(o(),n(t(k),{key:0,variant:"outline",class:"gap-1.5 text-amber-600 border-amber-200 bg-amber-50 dark:bg-amber-950/30 dark:border-amber-800 dark:text-amber-400"},{default:i(()=>[l(t(Y),{class:"w-3 h-3"}),a[2]||(a[2]=c(" Pending ",-1))]),_:1})):(o(),n(t(k),{key:1,variant:"outline",class:"gap-1.5 text-emerald-600 border-emerald-200 bg-emerald-50 dark:bg-emerald-950/30 dark:border-emerald-800 dark:text-emerald-400"},{default:i(()=>[l(t(Z),{class:"w-3 h-3"}),a[3]||(a[3]=c(" Active ",-1))]),_:1}))]),d("div",le,[V(s.key,s.value)?(o(),n(t(P),{key:0,id:s.key,modelValue:s.value,"onUpdate:modelValue":g=>s.value=g,rows:C(s.value),class:"font-mono text-sm leading-relaxed bg-muted/5 border-border/50 focus:bg-background transition-colors"},null,8,["id","modelValue","onUpdate:modelValue","rows"])):(o(),n(t(M),{key:1,id:s.key,modelValue:s.value,"onUpdate:modelValue":g=>s.value=g,class:"max-w-md bg-muted/5 border-border/50 focus:bg-background transition-colors"},null,8,["id","modelValue","onUpdate:modelValue"])),s.description?(o(),p("p",ne,u(s.description),1)):ee("",!0)])]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])]),_:1}))}});export{$e as default};
