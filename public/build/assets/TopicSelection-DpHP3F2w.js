import{d as we,A as m,h as _e,g as ke,c as C,o as d,w as n,e as t,k as i,u as a,s as l,t as c,a as v,q as M,n as b,b as Q,ac as Z,Y as Te,F as B,E as O,x as q}from"./app-CGVN6_L1.js";import{_ as L}from"./index-NNDWCshN.js";import{c as je,_ as F,L as I}from"./index-DxO3weBC.js";import{_ as U,a as ee}from"./CardContent.vue_vue_type_script_setup_true_lang-Bmay5RTP.js";import{_ as te}from"./CardDescription.vue_vue_type_script_setup_true_lang-Bjo3rvER.js";import{_ as se,a as re}from"./CardTitle.vue_vue_type_script_setup_true_lang-BLT4Y6ri.js";import{_ as Se}from"./Input.vue_vue_type_script_setup_true_lang-7tKEzq0s.js";import{_ as H}from"./Label.vue_vue_type_script_setup_true_lang-fkw3KWqz.js";import{_ as Ce,a as Pe,b as oe,c as ae}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-FgF_rp82.js";import{_ as ie}from"./Textarea.vue_vue_type_script_setup_true_lang-CQDl1-V1.js";import{_ as $e,r as Ee}from"./AppLayout.vue_vue_type_script_setup_true_lang-DIiPP_l9.js";import{B as Ae,t as h}from"./Sonner.vue_vue_type_script_setup_true_lang-CK4b3nLt.js";import{A as Fe}from"./arrow-left-9ZPWBOse.js";import{L as E}from"./lightbulb-CHAWiy08.js";import{G as ze}from"./graduation-cap-CGT9c1co.js";import{S as De}from"./school-pfrYKbln.js";import{T as Re}from"./type-CJ0sG0bN.js";import{F as Ve}from"./file-text-DOKLsTdu.js";import{A as ne}from"./arrow-right-CaQR7Ai0.js";import{R as Le}from"./refresh-cw-B1PzIJUv.js";import{C as N}from"./chevron-down-CFH8Q6mL.js";import{C as le}from"./circle-check-big-CfLYAlaE.js";import"./useForwardExpose-ZWbgJ8U6.js";import"./VisuallyHidden-C0CMEehB.js";import"./RovingFocusItem-UGn2kH6Q.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-DYmn0SLF.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D3dfPFfw.js";import"./coins-DlLUyRbY.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BgtcTZIq.js";import"./plus-B9NNMpLI.js";import"./chevron-right-Bqqhb6_D.js";import"./triangle-alert-DGhNNWrQ.js";import"./circle-check-D4bRqpxc.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=je("BookIcon",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),Me={class:"min-h-screen bg-gradient-to-b from-background via-background/95 to-muted/20"},Be={class:"mx-auto max-w-5xl space-y-10 p-6 pb-20 lg:p-10"},Oe={class:"flex items-center justify-between"},qe={class:"flex h-8 w-8 items-center justify-center rounded-full bg-muted/50 group-hover:bg-primary/10 transition-colors mr-2"},Ie={class:"space-y-4 text-center animate-in fade-in slide-in-from-bottom-4 duration-700"},Ue={class:"mx-auto flex h-20 w-20 items-center justify-center rounded-2xl bg-gradient-to-br from-primary/20 to-primary/5 shadow-lg shadow-primary/10 ring-1 ring-white/20"},He={class:"space-y-2"},Ne={class:"mx-auto max-w-2xl text-lg text-muted-foreground leading-relaxed"},Ye={class:"font-medium text-foreground"},We={class:"font-medium text-foreground"},Xe={class:"animate-in fade-in slide-in-from-bottom-6 duration-700 delay-100"},Je={class:"grid grid-cols-1 divide-y divide-border/40 md:grid-cols-4 md:divide-x md:divide-y-0"},Ke={class:"p-6 flex flex-col gap-3 group hover:bg-muted/20 transition-colors"},Qe={class:"flex items-center gap-2 text-muted-foreground group-hover:text-primary transition-colors"},Ze={class:"font-semibold text-lg leading-tight"},et={class:"p-6 flex flex-col gap-3 group hover:bg-muted/20 transition-colors"},tt={class:"flex items-center gap-2 text-muted-foreground group-hover:text-primary transition-colors"},st={class:"font-semibold text-lg leading-tight capitalize"},rt={class:"p-6 flex flex-col gap-3 group hover:bg-muted/20 transition-colors"},ot={class:"flex items-center gap-2 text-muted-foreground group-hover:text-primary transition-colors"},at=["title"],it={class:"p-6 flex flex-col gap-3 group hover:bg-muted/20 transition-colors"},nt={class:"flex items-center gap-2 text-muted-foreground group-hover:text-primary transition-colors"},lt={class:"font-semibold text-lg leading-tight"},dt={class:"animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200"},ct={class:"flex justify-center"},ut={class:"space-y-5"},pt={class:"space-y-2"},mt={class:"space-y-2"},gt={class:"space-y-2"},ft={class:"pt-4"},vt={key:1,class:"flex items-center"},ht={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},xt={class:"space-y-1"},yt={class:"p-1.5 rounded-md bg-primary/10 text-primary"},bt={class:"flex items-center gap-3"},wt={key:0,class:"mt-6 flex flex-wrap items-center gap-4 animate-in fade-in slide-in-from-top-2 bg-muted/30 p-3 rounded-xl border border-border/40"},_t={class:"relative group"},kt={class:"relative group"},Tt={class:"ml-auto flex items-center gap-2"},jt={key:0,class:"flex flex-col items-center justify-center h-[400px] p-8 text-center space-y-8 animate-in fade-in duration-500"},St={class:"relative"},Ct={class:"relative flex items-center justify-center h-20 w-20 rounded-full bg-background border-2 border-primary/20 shadow-xl"},Pt={class:"space-y-4 max-w-md w-full"},$t={class:"space-y-2"},Et={class:"flex justify-between text-xs font-medium text-muted-foreground px-1"},At={class:"h-2 w-full bg-muted/50 rounded-full overflow-hidden"},Ft={class:"grid grid-cols-4 gap-2 pt-4"},zt={key:1,class:"flex flex-col items-center justify-center h-[400px] p-8 text-center space-y-6 animate-in fade-in zoom-in-95 duration-500"},Dt={class:"h-24 w-24 rounded-3xl bg-muted/30 flex items-center justify-center mb-2"},Rt={key:2,class:"p-6 grid gap-6 md:grid-cols-2"},Vt={key:0,class:"absolute top-0 right-0 p-0 z-10"},Lt={class:"bg-primary text-primary-foreground rounded-bl-xl px-3 py-1.5 shadow-sm flex items-center gap-1.5"},Gt={class:"p-6 flex flex-col gap-4 flex-1"},Mt={class:"space-y-3"},Bt={class:"flex items-start justify-between gap-4"},Ot={class:"text-lg font-bold leading-tight text-foreground group-hover:text-primary transition-colors line-clamp-2"},qt={class:"flex flex-wrap gap-2"},It={class:"relative flex-1"},Ut=["innerHTML"],Ht=["onClick"],Nt={class:"flex flex-wrap gap-1.5 pt-2"},Yt={class:"p-4 bg-muted/10 border-t border-border/40 flex items-center justify-between gap-4 mt-auto"},Wt={class:"flex items-center gap-3"},Xt={class:"relative h-10 w-10 flex items-center justify-center"},Jt={class:"h-full w-full -rotate-90",viewBox:"0 0 36 36"},Kt=["stroke-dasharray"],Qt={class:"absolute text-[10px] font-bold"},Zt={class:"flex flex-col"},zs=we({__name:"TopicSelection",props:{project:{},savedTopics:{}},setup(de){const g=de,w=m("existing"),y=m(!1),z=m(!1),p=m([]),j=m(""),ce=m(""),k=m(""),T=m(""),P=m(""),D=m("all"),R=m("all"),$=m(new Set),S=m(!1),V=(r="")=>r?r.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim():"";_e(()=>{g.project.topic&&(k.value=g.project.topic,T.value=g.project.description||"",P.value=g.project.title||"",w.value="existing"),g.savedTopics&&g.savedTopics.length>0&&(p.value=g.savedTopics,g.project.topic||(w.value="generated"))});const u=m(""),x=m(""),A={connecting:{order:1,label:"Connecting to AI service"},analyzing:{order:2,label:"Analyzing your project context"},generating:{order:3,label:"Generating research topics"},enriching:{order:4,label:"Enriching with metadata"},complete:{order:5,label:"Complete"}},ue=r=>{const e=A[x.value]?.order||0,s=A[r]?.order||0;return s<e?"h-3 w-3 rounded-full bg-green-500":s===e?"h-3 w-3 rounded-full bg-primary animate-pulse":"h-3 w-3 rounded-full bg-muted"},Y=()=>{const r=A[x.value]?.order||0,e=Object.keys(A).length;return Math.min(r/e*100,100)},W=async()=>{y.value=!0,p.value=[],S.value=!1;try{x.value="connecting",u.value="Connecting to AI service...";const r=route("topics.stream",g.project.slug)+"?regenerate=true",e=new EventSource(r);e.onopen=()=>{x.value="connecting",u.value="Connected to AI service - analyzing your project..."},e.onmessage=s=>{try{const o=JSON.parse(s.data);switch(o.type){case"start":x.value="analyzing",u.value=o.message||"Starting topic generation...";break;case"progress":o.message&&o.message.includes("academic context")?x.value="analyzing":o.message&&o.message.includes("generating")?x.value="generating":o.message&&o.message.includes("enriching")&&(x.value="enriching"),u.value=o.message||"Processing...";break;case"content":if(x.value="generating",o.chunk){const f=o.word_count||0;u.value=`Generating topics... (${f} words generated)`}o.topics&&o.from_cache&&(S.value=!0,x.value="enriching",u.value="Loading topics from cache for faster response...");break;case"complete":o.from_cache&&(S.value=!0),x.value="complete",o.topics&&Array.isArray(o.topics)?(p.value=o.topics,u.value=`✓ Successfully generated ${o.topics.length} personalized research topics!`,w.value="generated",h("Success",{description:`${o.topics.length} research topics generated successfully!`}),K(o.topics,o.word_count,S.value)):u.value=o.message||"Topics generated successfully!";break;case"error":throw new Error(o.message||"Stream error occurred");case"end":e.close(),y.value=!1;break}}catch{}},e.onerror=s=>{e.close(),p.value.length>0?(u.value=`✓ Generated ${p.value.length} topics (connection ended early)`,w.value="generated",h("Partial Success",{description:`${p.value.length} topics generated before connection ended.`})):pe().catch(o=>{u.value="Failed to generate topics. Please try again.",h("Error",{description:"Failed to generate topics. Please try again."})}),y.value=!1},setTimeout(()=>{y.value&&(e.close(),p.value.length>0?(u.value=`✓ Generated ${p.value.length} topics (timeout reached)`,w.value="generated"):(u.value="Generation timed out. Please try again.",h("Timeout",{description:"Topic generation took longer than expected. Please try again."})),y.value=!1)},3e5)}catch(r){u.value="Failed to generate topics. Please try again.",h("Error",{description:r.message||"Failed to generate topics. Please try again."}),y.value=!1}},pe=async()=>{u.value="Retrying with fallback method...",S.value=!1;try{const r=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(!r)throw new Error("CSRF token not found. Please refresh the page and try again.");const e=new AbortController,s=setTimeout(()=>e.abort(),3e5),o=await fetch(route("topics.generate",g.project.slug),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":r,Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({regenerate:!0}),signal:e.signal});if(clearTimeout(s),!o.ok){let _=`HTTP error! status: ${o.status}`;try{_=(await o.clone().json()).message||_}catch{try{const G=await o.text();o.status===419?_="Session expired. Please refresh the page and try again.":o.status===504?_="Request timed out. Please try again in a few moments.":G.includes("<!DOCTYPE")&&(_="Server returned an error page instead of data. Please try again.")}catch{o.status===504&&(_="Request timed out. Please try again in a few moments.")}}throw new Error(_)}const f=await o.json();if(f.topics&&Array.isArray(f.topics))f.from_cache&&(S.value=!0),p.value=f.topics,u.value=`✓ Successfully generated ${f.topics.length} research topics!`,w.value="generated",h("Success",{description:`${f.topics.length} research topics generated successfully!`}),K(f.topics,f.word_count,S.value||f.from_cache);else throw new Error("Invalid response format: topics array not found")}catch(r){u.value="Failed to generate topics. Please try again.",h("Error",{description:r.message||"Failed to generate topics. Please try again."})}},me=r=>{j.value=r.title,ce.value=V(r.description),k.value=r.title,T.value=V(r.description),P.value=X(r.title),w.value="existing"},X=r=>r.length>100?r.substring(0,100)+"...":r,J=ke(()=>{let r=p.value;return D.value!=="all"&&(r=r.filter(e=>e.difficulty.toLowerCase().includes(D.value.toLowerCase()))),R.value!=="all"&&(r=r.filter(e=>e.timeline===R.value)),r.sort((e,s)=>s.feasibility_score-e.feasibility_score)}),ge=r=>{switch(r.toLowerCase()){case"beginner friendly":return"secondary";case"intermediate":return"default";case"advanced":return"destructive";default:return"secondary"}},fe=r=>{$.value.has(r)?$.value.delete(r):$.value.add(r)},ve=(r,e=150)=>V(r).length>e,he=r=>{const e=r.map(o=>`${o.title} ${V(o.description)}`).join(" "),s=e.trim()?e.trim().split(/\s+/).filter(Boolean).length:0;return Math.max(150,Math.min(s,1200))},K=(r,e,s=!1)=>{if(!r||r.length===0||s)return;const o=e&&e>0?e:he(r);Ee(o,"Topic generation","project",g.project.id).catch(()=>{})},xe=async()=>{if(!k.value.trim()&&!T.value.trim()){h("Error",{description:"Please enter a project topic and description."});return}z.value=!0;try{const r={topic:k.value.trim()||P.value.trim()||"Research Topic",title:P.value.trim()||X(k.value||T.value),description:T.value.trim()},e=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(!e)throw new Error("CSRF token not found. Please refresh the page and try again.");const s=await fetch(route("topics.select",g.project.slug),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":e,Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(r)});if(s.ok){const o=await s.json();h("Topic Selected!",{description:"Your project topic has been set. You can now submit it for supervisor approval."}),q.visit(route("projects.show",g.project.slug),{method:"get",replace:!0})}else{let o=`HTTP error! status: ${s.status}`;try{o=(await s.json()).message||o}catch{const _=await s.text();s.status===419?o="Session expired. Please refresh the page and try again.":_.includes("<!DOCTYPE")&&(o="Server returned an error page instead of data. Please try again.")}throw new Error(o)}}catch{h("Error",{description:"Failed to select topic. Please try again."})}finally{z.value=!1}},ye=async()=>{try{q.post(route("projects.go-back-to-wizard",g.project.slug),{},{onSuccess:()=>{h("Success",{description:"Returned to project setup"}),q.visit(route("projects.create"))},onError:()=>{h("Error",{description:"Failed to go back to setup. Please try again."})}})}catch{h("Error",{description:"Failed to go back to setup. Please try again."})}};return(r,e)=>(d(),C($e,{title:"Select Project Topic"},{default:n(()=>[t("div",Me,[t("div",Be,[t("div",Oe,[i(a(F),{onClick:ye,variant:"ghost",size:"sm",class:"group text-muted-foreground hover:text-foreground transition-colors"},{default:n(()=>[t("div",qe,[i(a(Fe),{class:"h-4 w-4 transition-transform group-hover:-translate-x-0.5"})]),e[6]||(e[6]=l(" Back to Project Setup ",-1))]),_:1})]),t("div",Ie,[t("div",Ue,[i(a(E),{class:"h-10 w-10 text-primary"})]),t("div",He,[e[9]||(e[9]=t("h1",{class:"text-4xl font-bold tracking-tight sm:text-5xl bg-gradient-to-br from-foreground to-foreground/70 bg-clip-text text-transparent"}," Choose Your Project Topic ",-1)),t("p",Ne,[e[7]||(e[7]=l(" Select or generate a research topic for your ",-1)),t("span",Ye,c(r.project.type),1),t("span",We,c(r.project.field_of_study),1),e[8]||(e[8]=l(" project. ",-1))])])]),t("div",Xe,[i(a(U),{class:"overflow-hidden border-border/40 bg-card/50 backdrop-blur-sm shadow-sm"},{default:n(()=>[t("div",Je,[t("div",Ke,[t("div",Qe,[i(a(Ae),{class:"h-4 w-4"}),e[10]||(e[10]=t("span",{class:"text-xs font-medium uppercase tracking-wider"},"Field of Study",-1))]),t("div",Ze,c(r.project.field_of_study),1)]),t("div",et,[t("div",tt,[i(a(ze),{class:"h-4 w-4"}),e[11]||(e[11]=t("span",{class:"text-xs font-medium uppercase tracking-wider"},"Academic Level",-1))]),t("div",st,c(r.project.type),1)]),t("div",rt,[t("div",ot,[i(a(De),{class:"h-4 w-4"}),e[12]||(e[12]=t("span",{class:"text-xs font-medium uppercase tracking-wider"},"University",-1))]),t("div",{class:"font-semibold text-lg leading-tight truncate",title:r.project.full_university_name||r.project.university},c(r.project.full_university_name||r.project.university),9,at)]),t("div",it,[t("div",nt,[i(a(Ge),{class:"h-4 w-4"}),e[13]||(e[13]=t("span",{class:"text-xs font-medium uppercase tracking-wider"},"Course",-1))]),t("div",lt,c(r.project.course),1)])])]),_:1})]),t("div",dt,[i(a(Ce),{modelValue:w.value,"onUpdate:modelValue":e[5]||(e[5]=s=>w.value=s),class:"space-y-8"},{default:n(()=>[t("div",ct,[i(a(Pe),{class:"grid w-full max-w-md grid-cols-2 p-1 bg-muted/50 backdrop-blur-sm"},{default:n(()=>[i(a(oe),{value:"existing",class:"data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all duration-300"},{default:n(()=>[...e[14]||(e[14]=[l(" Enter Topic ",-1)])]),_:1}),i(a(oe),{value:"generated",class:"data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all duration-300"},{default:n(()=>[...e[15]||(e[15]=[l(" AI Generated Topics ",-1)])]),_:1})]),_:1})]),i(a(ae),{value:"existing",class:"focus-visible:outline-none"},{default:n(()=>[i(a(U),{class:"border-border/40 shadow-lg shadow-primary/5 overflow-hidden"},{default:n(()=>[e[24]||(e[24]=t("div",{class:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/50 to-transparent opacity-20"},null,-1)),i(a(se),{class:"pb-2"},{default:n(()=>[i(a(re),{class:"text-xl"},{default:n(()=>[...e[16]||(e[16]=[l("Enter Your Project Topic",-1)])]),_:1}),i(a(te),null,{default:n(()=>[...e[17]||(e[17]=[l(" If you already have a project topic (approved by supervisor or from your own research), enter it below. ",-1)])]),_:1})]),_:1}),i(a(ee),{class:"space-y-6 pt-6"},{default:n(()=>[t("div",ut,[t("div",pt,[i(a(H),{for:"custom-title",class:"text-sm font-medium text-foreground/80 flex items-center gap-2"},{default:n(()=>[i(a(Re),{class:"h-4 w-4 text-primary"}),e[18]||(e[18]=l(" Project Title ",-1))]),_:1}),i(a(Se),{id:"custom-title",modelValue:P.value,"onUpdate:modelValue":e[0]||(e[0]=s=>P.value=s),placeholder:"A concise title for your project...",class:"h-12 bg-muted/30 border-border/50 focus:bg-background focus:ring-2 focus:ring-primary/20 transition-all"},null,8,["modelValue"])]),t("div",mt,[i(a(H),{for:"custom-topic",class:"text-sm font-medium text-foreground/80 flex items-center gap-2"},{default:n(()=>[i(a(E),{class:"h-4 w-4 text-primary"}),e[19]||(e[19]=l(" Research Topic ",-1))]),_:1}),i(a(ie),{id:"custom-topic",modelValue:k.value,"onUpdate:modelValue":e[1]||(e[1]=s=>k.value=s),placeholder:"Enter your research topic or question...",rows:"3",class:"resize-none bg-muted/30 border-border/50 focus:bg-background focus:ring-2 focus:ring-primary/20 transition-all min-h-[100px]"},null,8,["modelValue"]),e[20]||(e[20]=t("p",{class:"text-xs text-muted-foreground pl-1"},"The main research topic or question you want to investigate.",-1))]),t("div",gt,[i(a(H),{for:"custom-description",class:"text-sm font-medium text-foreground/80 flex items-center gap-2"},{default:n(()=>[i(a(Ve),{class:"h-4 w-4 text-primary"}),e[21]||(e[21]=l(" Project Description ",-1))]),_:1}),i(a(ie),{id:"custom-description",modelValue:T.value,"onUpdate:modelValue":e[2]||(e[2]=s=>T.value=s),placeholder:"Describe your research topic, problem statement, and what you plan to investigate...",rows:"6",class:"resize-none bg-muted/30 border-border/50 focus:bg-background focus:ring-2 focus:ring-primary/20 transition-all min-h-[160px]"},null,8,["modelValue"]),e[22]||(e[22]=t("p",{class:"text-xs text-muted-foreground pl-1"}," Provide a detailed description of your research focus, objectives, and scope. ",-1))]),t("div",ft,[i(a(F),{onClick:xe,disabled:!k.value.trim()&&!T.value.trim()||z.value,class:"w-full h-12 text-base font-medium shadow-lg shadow-primary/20 hover:shadow-primary/30 hover:scale-[1.01] transition-all"},{default:n(()=>[z.value?(d(),C(a(I),{key:0,class:"mr-2 h-5 w-5 animate-spin"})):(d(),v("span",vt,[e[23]||(e[23]=l(" Continue with This Topic ",-1)),i(a(ne),{class:"ml-2 h-5 w-5"})]))]),_:1},8,["disabled"])])])]),_:1})]),_:1})]),_:1}),i(a(ae),{value:"generated",class:"focus-visible:outline-none"},{default:n(()=>[i(a(U),{class:"border-border/40 shadow-lg shadow-primary/5 overflow-hidden min-h-[500px] flex flex-col"},{default:n(()=>[i(a(se),{class:"border-b border-border/40 bg-muted/10 pb-6"},{default:n(()=>[t("div",ht,[t("div",xt,[i(a(re),{class:"flex items-center gap-2 text-xl"},{default:n(()=>[t("div",yt,[i(a(E),{class:"h-5 w-5"})]),e[25]||(e[25]=l(" AI Generated Suggestions ",-1))]),_:1}),i(a(te),null,{default:n(()=>[...e[26]||(e[26]=[l(" Tailored research topics based on your academic profile. ",-1)])]),_:1})]),t("div",bt,[i(a(F),{onClick:W,disabled:y.value,variant:p.value.length>0?"outline":"default",class:b(["h-10 transition-all",p.value.length===0?"shadow-lg shadow-primary/20 hover:shadow-primary/30":""])},{default:n(()=>[y.value?(d(),C(a(I),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):p.value.length>0?(d(),C(a(Le),{key:1,class:"mr-2 h-4 w-4"})):(d(),C(a(E),{key:2,class:"mr-2 h-4 w-4"})),l(" "+c(y.value?"Generating...":p.value.length>0?"Regenerate":"Generate Topics"),1)]),_:1},8,["disabled","variant","class"])])]),p.value.length>0?(d(),v("div",wt,[e[30]||(e[30]=t("div",{class:"flex items-center gap-2"},[t("span",{class:"text-xs font-medium px-2 text-muted-foreground uppercase tracking-wider"},"Filter By:")],-1)),t("div",_t,[Q(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>D.value=s),class:"h-9 pl-3 pr-8 rounded-lg border border-border/50 bg-background text-sm font-medium focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all appearance-none cursor-pointer min-w-[140px]"},[...e[27]||(e[27]=[t("option",{value:"all"},"All Difficulties",-1),t("option",{value:"beginner"},"Beginner Friendly",-1),t("option",{value:"intermediate"},"Intermediate",-1),t("option",{value:"advanced"},"Advanced",-1)])],512),[[Z,D.value]]),i(a(N),{class:"absolute right-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none group-hover:text-primary transition-colors"})]),t("div",kt,[Q(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>R.value=s),class:"h-9 pl-3 pr-8 rounded-lg border border-border/50 bg-background text-sm font-medium focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all appearance-none cursor-pointer min-w-[140px]"},[...e[28]||(e[28]=[t("option",{value:"all"},"Any Duration",-1),t("option",{value:"6-9 months"},"6-9 months",-1),t("option",{value:"9-12 months"},"9-12 months",-1),t("option",{value:"12+ months"},"12+ months",-1)])],512),[[Z,R.value]]),i(a(N),{class:"absolute right-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none group-hover:text-primary transition-colors"})]),t("div",Tt,[e[29]||(e[29]=t("span",{class:"text-xs text-muted-foreground hidden sm:inline-block"},"Showing",-1)),i(a(L),{variant:"secondary",class:"h-7 px-3 text-xs font-medium bg-primary/10 text-primary border-primary/20"},{default:n(()=>[l(c(J.value.length)+" Topics ",1)]),_:1})])])):M("",!0)]),_:1}),i(a(ee),{class:"p-0 flex-1 bg-muted/5"},{default:n(()=>[y.value?(d(),v("div",jt,[t("div",St,[e[31]||(e[31]=t("div",{class:"absolute inset-0 rounded-full bg-primary/20 animate-ping opacity-75"},null,-1)),t("div",Ct,[i(a(I),{class:"h-10 w-10 text-primary animate-spin"})])]),t("div",Pt,[e[33]||(e[33]=t("h3",{class:"text-xl font-semibold bg-gradient-to-br from-foreground to-muted-foreground bg-clip-text text-transparent"}," Crafting Your Topics ",-1)),t("div",$t,[t("div",Et,[t("span",null,c(u.value||"Initializing..."),1),t("span",null,c(Math.round(Y()))+"%",1)]),t("div",At,[t("div",{class:"h-full bg-primary transition-all duration-500 ease-out relative overflow-hidden",style:Te(`width: ${Y()}%`)},[...e[32]||(e[32]=[t("div",{class:"absolute inset-0 bg-white/20 animate-[shimmer_2s_infinite]"},null,-1)])],4)])]),t("div",Ft,[(d(),v(B,null,O(A,(s,o)=>t("div",{key:o,class:b(["flex flex-col items-center gap-2",o==="complete"?"hidden":""])},[t("div",{class:b(["h-2 w-2 rounded-full transition-colors duration-300",ue(o)])},null,2),t("span",{class:b(["text-[10px] uppercase tracking-wider font-medium text-muted-foreground",x.value===o?"text-primary":""])},c(o),3)],2)),64))])])])):p.value.length===0?(d(),v("div",zt,[t("div",Dt,[i(a(E),{class:"h-12 w-12 text-muted-foreground/50"})]),e[35]||(e[35]=t("div",{class:"max-w-sm space-y-2"},[t("h3",{class:"text-lg font-semibold"},"No Topics Generated Yet"),t("p",{class:"text-muted-foreground text-sm"},' Click the "Generate Topics" button to let our AI analyze your profile and suggest personalized research topics. ')],-1)),i(a(F),{onClick:W,size:"lg",class:"shadow-lg shadow-primary/20 hover:shadow-primary/30 transition-all"},{default:n(()=>[i(a(E),{class:"mr-2 h-5 w-5"}),e[34]||(e[34]=l(" Generate Topics ",-1))]),_:1})])):(d(),v("div",Rt,[(d(!0),v(B,null,O(J.value,s=>(d(),v("div",{key:s.id,class:b(["group relative flex flex-col rounded-xl border border-border/50 bg-card transition-all duration-300 hover:shadow-xl hover:shadow-primary/5 hover:border-primary/30 hover:-translate-y-1 overflow-hidden",j.value===s.title?"ring-2 ring-primary border-primary bg-primary/5":""])},[j.value===s.title?(d(),v("div",Vt,[t("div",Lt,[i(a(le),{class:"h-3.5 w-3.5"}),e[36]||(e[36]=t("span",{class:"text-[10px] font-bold uppercase tracking-wider"},"Selected",-1))])])):M("",!0),t("div",Gt,[t("div",Mt,[t("div",Bt,[t("h3",Ot,c(s.title),1)]),t("div",qt,[i(a(L),{variant:ge(s.difficulty),class:"text-[10px] uppercase tracking-wider font-semibold py-0.5"},{default:n(()=>[l(c(s.difficulty),1)]),_:2},1032,["variant"]),i(a(L),{variant:"outline",class:"text-[10px] uppercase tracking-wider font-medium border-border text-muted-foreground"},{default:n(()=>[l(c(s.timeline),1)]),_:2},1024),i(a(L),{variant:"secondary",class:"text-[10px] uppercase tracking-wider font-medium bg-muted/50"},{default:n(()=>[l(c(s.research_type),1)]),_:2},1024)])]),t("div",It,[t("div",{class:b(["text-sm text-muted-foreground leading-relaxed prose prose-sm prose-invert max-w-none",$.value.has(s.id)?"":"line-clamp-3"]),innerHTML:s.description},null,10,Ut),ve(s.description)?(d(),v("button",{key:0,onClick:o=>fe(s.id),class:"mt-2 text-xs font-medium text-primary hover:text-primary/80 flex items-center gap-1 transition-colors"},[l(c($.value.has(s.id)?"Show less":"Read more")+" ",1),i(a(N),{class:b(["h-3 w-3 transition-transform duration-300",$.value.has(s.id)?"rotate-180":""])},null,8,["class"])],8,Ht)):M("",!0)]),t("div",Nt,[(d(!0),v(B,null,O(s.keywords.slice(0,3),o=>(d(),v("span",{key:o,class:"text-[10px] font-medium text-muted-foreground bg-muted/30 px-2 py-1 rounded-md border border-border/30"}," #"+c(o),1))),128))])]),t("div",Yt,[t("div",Wt,[t("div",Xt,[(d(),v("svg",Jt,[e[37]||(e[37]=t("path",{class:"text-muted/30",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor","stroke-width":"3"},null,-1)),t("path",{class:b(s.feasibility_score>=80?"text-green-500":s.feasibility_score>=60?"text-yellow-500":"text-red-500"),"stroke-dasharray":`${s.feasibility_score}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round"},null,10,Kt)])),t("span",Qt,c(s.feasibility_score)+"%",1)]),t("div",Zt,[e[38]||(e[38]=t("span",{class:"text-[10px] uppercase tracking-wider font-semibold text-muted-foreground"},"Feasibility",-1)),t("span",{class:b(["text-xs font-medium",s.feasibility_score>=80?"text-green-600":s.feasibility_score>=60?"text-yellow-600":"text-red-600"])},c(s.feasibility_score>=80?"High":s.feasibility_score>=60?"Medium":"Low"),3)])]),i(a(F),{size:"sm",onClick:o=>me(s),variant:j.value===s.title?"secondary":"default",class:b(["shadow-sm transition-all duration-300",j.value===s.title?"bg-green-100 text-green-700 hover:bg-green-200 border-green-200":"hover:shadow-md hover:scale-105"])},{default:n(()=>[l(c(j.value===s.title?"Selected":"Select Topic")+" ",1),j.value===s.title?(d(),C(a(le),{key:0,class:"ml-2 h-3.5 w-3.5"})):(d(),C(a(ne),{key:1,class:"ml-2 h-3.5 w-3.5"}))]),_:2},1032,["onClick","variant","class"])])],2))),128))]))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])])])]),_:1}))}});export{zs as default};
