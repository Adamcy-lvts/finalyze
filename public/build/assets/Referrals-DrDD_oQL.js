import{bt as y,bs as f,bA as b,cn as x,co as a,cp as r,cr as t,cq as i,bE as n,cs as c,cB as l,cG as h,cR as k,dg as $,ct as d,cl as N}from"./vendor-CugNIqr3.js";import{a as w}from"./AppLayout.vue_vue_type_script_setup_true_lang-CWOKT1Zf.js";import{_ as B,a as C}from"./CardContent.vue_vue_type_script_setup_true_lang-Ds49DaDx.js";import{_ as D,a as R}from"./CardTitle.vue_vue_type_script_setup_true_lang-IDxgLF4I.js";import{_ as V}from"./index-DBZ0Wbkn.js";import{_ as g}from"./index-Ia6CVdS0.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-DoXK2xYg.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-C8jiVShk.js";import"./Sonner.vue_vue_type_script_setup_true_lang-DLPHW2_2.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-QE2E2BkN.js";import"./WordBalanceDisplay.vue_vue_type_script_setup_true_lang-D_W9GzUS.js";import"./useAppearance-B04txQuA.js";import"./useWordBalance-BDnAc3AF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PWAInstallPrompt.vue_vue_type_script_setup_true_lang-CT_GbF6b.js";const L={class:"container mx-auto px-4 py-8 max-w-6xl"},j={key:0,class:"text-sm text-muted-foreground"},z={key:1,class:"text-sm text-muted-foreground"},A={key:2,class:"overflow-x-auto"},E={class:"w-full"},G={class:"py-3 px-2 text-sm"},P={class:"font-medium"},S={class:"text-xs text-muted-foreground"},q={class:"py-3 px-2 text-center"},F={key:1,class:"text-xs text-muted-foreground"},J={class:"py-3 px-2 text-right text-sm text-muted-foreground"},M={key:3,class:"flex items-center justify-end gap-2 pt-4"},re=y({__name:"Referrals",setup(T){const m=f([]),_=f(!1),o=f({current_page:1,last_page:1,total:0,per_page:20}),p=async(u=1)=>{_.value=!0;try{const s=await(await fetch(`${N("affiliate.referrals.data")}?page=${u}`)).json();m.value=s.referrals||[],o.value=s.pagination||o.value}finally{_.value=!1}},v=u=>new Date(u).toLocaleDateString("en-NG",{year:"numeric",month:"short",day:"numeric"});return b(()=>p()),(u,e)=>(a(),x(w,{title:"Affiliate Referrals"},{default:r(()=>[t("div",L,[i(n(B),{class:"border-border/50"},{default:r(()=>[i(n(D),null,{default:r(()=>[i(n(R),null,{default:r(()=>[...e[2]||(e[2]=[c("Your Referrals",-1)])]),_:1})]),_:1}),i(n(C),null,{default:r(()=>[_.value?(a(),l("div",j,"Loading referrals...")):m.value.length===0?(a(),l("div",z,"No referrals yet.")):(a(),l("div",A,[t("table",E,[e[3]||(e[3]=t("thead",null,[t("tr",{class:"border-b border-border/50"},[t("th",{class:"text-left py-3 px-2 text-sm font-medium text-muted-foreground"},"User"),t("th",{class:"text-center py-3 px-2 text-sm font-medium text-muted-foreground"},"Purchases"),t("th",{class:"text-right py-3 px-2 text-sm font-medium text-muted-foreground"},"Joined")])],-1)),t("tbody",null,[(a(!0),l(k,null,$(m.value,s=>(a(),l("tr",{key:s.id,class:"border-b border-border/30"},[t("td",G,[t("div",P,d(s.name),1),t("div",S,d(s.email),1)]),t("td",q,[s.successful_payments_count>0?(a(),x(n(V),{key:0,class:"bg-green-500/10 text-green-600 border-green-500/20"},{default:r(()=>[c(d(s.successful_payments_count)+" purchase"+d(s.successful_payments_count>1?"s":""),1)]),_:2},1024)):(a(),l("span",F,"No purchases"))]),t("td",J,d(v(s.created_at)),1)]))),128))])])])),o.value.last_page>1?(a(),l("div",M,[i(n(g),{variant:"outline",size:"sm",disabled:o.value.current_page<=1,onClick:e[0]||(e[0]=s=>p(o.value.current_page-1))},{default:r(()=>[...e[4]||(e[4]=[c(" Previous ",-1)])]),_:1},8,["disabled"]),i(n(g),{variant:"outline",size:"sm",disabled:o.value.current_page>=o.value.last_page,onClick:e[1]||(e[1]=s=>p(o.value.current_page+1))},{default:r(()=>[...e[5]||(e[5]=[c(" Next ",-1)])]),_:1},8,["disabled"])])):h("",!0)]),_:1})]),_:1})])]),_:1}))}});export{re as default};
