import{c as l,o as d,K as e,y as C,a as E,d as I,w as Q,F,O as _,H as c,u as r,M as h,Q as H,S as q,n as z,E as v,aa as j,P as N}from"./app-B0kF8k29.js";import{_ as U,a as O}from"./index-DIANSpr-.js";import{_ as B}from"./index-C0SLUj2i.js";import{A as V}from"./ChapterEditor-CjgubRZq.js";import{_ as Z}from"./ChapterNavigation.vue_vue_type_script_setup_true_lang-CDjQdrL5.js";import{_ as J}from"./DefensePreparationPanel.vue_vue_type_script_setup_true_lang-Dig_nQm-.js";import{t as G,X as W}from"./index-BoeZbtgA.js";import{L as K}from"./lightbulb-Cq1c-oVP.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BX_nQR4F.js";import"./index-DsHxzjCZ.js";import"./CardContent.vue_vue_type_script_setup_true_lang-C0hLN4X4.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-CAnl3p65.js";import"./ScrollArea.vue_vue_type_script_setup_true_lang-B0iY8FQX.js";import"./Presence-Bj9mfJQy.js";import"./useForwardExpose-DvsR2gOR.js";import"./useNonce-Ce1s_r-5.js";import"./Separator.vue_vue_type_script_setup_true_lang-Dm9tOUZx.js";import"./Separator-B-XPM9Qq.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-BnyjwDqu.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CBBrHpG-.js";import"./loader-circle-BBhT74IN.js";import"./triangle-alert-DuP5arm-.js";import"./DialogTitle-kUDE-DWA.js";import"./VisuallyHidden-KLLlvcL-.js";import"./WordBalanceDisplay.vue_vue_type_script_setup_true_lang-D7NVm75V.js";import"./coins-B6BEFjYp.js";import"./plus-DdJuN8aN.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-BWmiPav5.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-DnzsZePu.js";import"./log-out-CHUAohWC.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-2j9PBaRI.js";import"./library-Bk_rqwxG.js";import"./chevron-right-DXpi25t3.js";import"./sun-nzcdUt0o.js";import"./useWordBalance-D2Uha6ZQ.js";import"./driver-B4w0q6_T.js";import"./PurchaseModal.vue_vue_type_script_setup_true_lang-DPeZaGQy.js";import"./DialogContent.vue_vue_type_script_setup_true_lang-DzWVUis5.js";import"./DialogDescription.vue_vue_type_script_setup_true_lang-BhxzrhH5.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-TTx3NMsS.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-CDS6yRqv.js";import"./sparkles-BbsS5jnr.js";import"./arrow-right-C9mGfiUk.js";import"./useChapterWordCount-CQftCKf_.js";import"./toNumber-Cz-hzWmK.js";import"./Input.vue_vue_type_script_setup_true_lang-CBax_5wo.js";import"./Label.vue_vue_type_script_setup_true_lang-C_PKKfey.js";import"./RichTextEditor-DUlSTHoY.js";import"./index-vlwp6iYW.js";import"./purify.es-DxJI3Wx7.js";import"./index-BWEDi_FC.js";import"./step-DrZ9DcYd.js";import"./chart-column-jiIwqF9L.js";import"./calendar-CxZFsUC5.js";import"./brain-B4SqKrkT.js";import"./users-DwY9oT1f.js";import"./circle-alert-BwjkwzqK.js";import"./eye-CDSozEHG.js";import"./check-CEt2jqUz.js";import"./copy-sRcEYFf3.js";import"./download-B8yCtgBP.js";import"./trash-2-C_2x5g2e.js";import"./Progress.vue_vue_type_script_setup_true_lang-O0DgtSJf.js";import"./nullish-CHIgUVhi.js";import"./type-BlYTrrB6.js";import"./minus-D-MVpDlp.js";import"./list-WiHRhoPT.js";import"./RichTextViewer-gPMrGwCC.js";import"./save-upIqHtyS.js";import"./circle-check-big-zUgF5Q0Z.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-DIKarZxf.js";import"./CollapsibleTrigger-DBSMDONG.js";import"./useTextHistory-BaSAZvUW.js";import"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-BSJDvUny.js";import"./chevron-down-Cpe4VrIV.js";import"./search-DO7AXH_O.js";import"./history-ClbTeQZr.js";import"./maximize-2-DUbg-OU_.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-CFvAb-XN.js";import"./isValueEqualOrExist-DSClXoPv.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./useFormControl-DMTNplH2.js";import"./RovingFocusItem-ggaQs033.js";import"./VisuallyHiddenInput-BpJTHr4g.js";import"./file-text-Br9UtEh4.js";import"./zap-B_SH-bQR.js";import"./pen-tool-C58U7H78.js";import"./refresh-cw-pI8Rxd4x.js";import"./arrow-left-BtCM5dlY.js";import"./menu-DafbKKMY.js";import"./message-square-CcMkN-m5.js";import"./minimize-2-bgWisnaC.js";import"./circle-help-49c5suVN.js";import"./DialogTrigger-jEwreHQT.js";import"./book-marked-C0BpAKAs.js";import"./lock-EvbvAX1T.js";import"./target-DibfvKqo.js";import"./Switch.vue_vue_type_script_setup_true_lang-dtfI-6zO.js";import"./shield-DABUA-Pl.js";import"./thumbs-up-8bg24yWI.js";function ee(p,n){return d(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"})])}function te(p,n){return d(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function re(p,n){return d(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function X(p,n){return d(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function se(){const p=C(!1),n=C(null),f=C(null),m=C(null),u=C([]),y=C({}),S=E(()=>f.value?.hasDataCollectionNeeds??!1),D=E(()=>f.value?.types??[]),w=E(()=>m.value?.hasPlaceholder?m.value.detectedType:null),$=E(()=>m.value?.hasPlaceholder?m.value.confidence??0:0);async function b(s){p.value=!0,n.value=null;try{const o=await fetch(`/api/chapters/${s}/detect`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!o.ok)throw new Error("Failed to detect data collection needs");const k=await o.json();f.value=k.detection}catch(o){n.value=o instanceof Error?o.message:"An error occurred",console.error("Error detecting data collection needs:",o)}finally{p.value=!1}}async function x(s){p.value=!0,n.value=null;try{const o=await fetch(`/api/chapters/${s}/placeholder`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!o.ok)throw new Error("Failed to generate placeholder");const k=await o.json();m.value=k.placeholder}catch(o){n.value=o instanceof Error?o.message:"An error occurred",console.error("Error generating placeholder:",o)}finally{p.value=!1}}async function L(s){p.value=!0,n.value=null;try{const o=await fetch(`/api/chapters/${s}/suggestions`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!o.ok)throw new Error("Failed to get suggestions");const k=await o.json();u.value=k.suggestions}catch(o){n.value=o instanceof Error?o.message:"An error occurred",console.error("Error getting suggestions:",o)}finally{p.value=!1}}async function P(){p.value=!0,n.value=null;try{const s=await fetch("/api/data-collection/templates",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!s.ok)throw new Error("Failed to get templates");const o=await s.json();y.value=o.templates}catch(s){n.value=s instanceof Error?s.message:"An error occurred",console.error("Error getting templates:",s)}finally{p.value=!1}}async function T(s){p.value=!0,n.value=null;try{const o=await fetch(`/api/data-collection/template?type=${encodeURIComponent(s)}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!o.ok)throw new Error("Failed to get template");return(await o.json()).template}catch(o){return n.value=o instanceof Error?o.message:"An error occurred",console.error("Error getting template:",o),null}finally{p.value=!1}}async function R(s,o,k="append"){p.value=!0,n.value=null;try{if(!(await fetch(`/api/chapters/${s}/insert-template`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({type:o,position:k})})).ok)throw new Error("Failed to insert template");return!0}catch(M){return n.value=M instanceof Error?M.message:"An error occurred",console.error("Error inserting template:",M),!1}finally{p.value=!1}}async function A(s){await Promise.all([b(s),x(s),L(s)])}function t(s){return{survey:"Survey/Questionnaire",experiment:"Laboratory Experiment",engineering:"Engineering Design",statistical:"Statistical Analysis",construction:"Construction Project"}[s]||s.charAt(0).toUpperCase()+s.slice(1)}function i(s){return s>=50?"High":s>=25?"Medium":"Low"}function a(s){return s>=50?"text-green-600 dark:text-green-400":s>=25?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}function g(){f.value=null,m.value=null,u.value=[],n.value=null}return{isLoading:p,error:n,detection:f,placeholder:m,suggestions:u,templates:y,hasDataCollectionNeeds:S,detectedTypes:D,primaryType:w,primaryConfidence:$,detectDataCollectionNeeds:b,generatePlaceholder:x,getSuggestions:L,getAllTemplates:P,getTemplate:T,insertTemplate:R,analyzeChapter:A,getTypeName:t,getConfidenceLevel:i,getConfidenceColor:a,clearData:g}}const oe={class:"space-y-4"},ae={class:"flex items-center justify-between"},ne={class:"flex items-center gap-2"},ie=["disabled"],le={key:0,class:"text-center py-4"},de={key:1,class:"text-center py-4"},ce={key:2},pe={class:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3"},ue={class:"flex items-start gap-2"},me={class:"min-w-0 flex-1"},ge={class:"mt-2 space-y-1"},he={class:"text-xs text-blue-700 dark:text-blue-300"},fe={key:0,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-3"},ye={class:"flex items-center justify-between mb-2"},ve={class:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded dark:bg-green-900/20 dark:text-green-400"},xe={class:"text-xs text-gray-600 dark:text-gray-400 mb-3"},we={class:"flex gap-2"},be=["disabled"],ke={key:0,class:"mt-3 p-2 bg-gray-50 dark:bg-gray-800 rounded text-xs"},Ce={class:"whitespace-pre-wrap text-gray-700 dark:text-gray-300 overflow-auto max-h-32"},_e={key:1,class:"space-y-2"},Se={class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2"},Te={class:"space-y-1"},Ae={class:"border border-gray-200 dark:border-gray-700 rounded-lg"},Le={class:"p-3 pt-0 space-y-2"},je={class:"text-xs font-medium text-gray-900 dark:text-gray-100"},De={class:"text-xs text-gray-600 dark:text-gray-400"},$e=["onClick","disabled"],Pe={key:3,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3"},Re={class:"flex items-start gap-2"},Me={class:"text-xs text-red-600 dark:text-red-400 mt-1"},Ee=I({__name:"DataCollectionPanel",props:{chapterId:{},content:{}},setup(p){const n=p,f=C(!1),{isLoading:m,error:u,placeholder:y,suggestions:S,templates:D,hasDataCollectionNeeds:w,detectedTypes:$,primaryType:b,analyzeChapter:x,insertTemplate:L,getAllTemplates:P,getTypeName:T,getConfidenceColor:R}=se();let A=null;Q(()=>n.content,(i,a)=>{!i||i===a||(A&&clearTimeout(A),A=setTimeout(()=>{i&&i.length>500&&x(n.chapterId)},3e3))},{immediate:!1});async function t(i,a,g="append"){await L(i,a,g)?(G.success("Template added successfully"),f.value=!1,setTimeout(()=>{x(i)},1e3)):G.error(u.value||"Failed to insert template")}return F(async()=>{await P(),n.content&&n.content.length>500&&await x(n.chapterId)}),(i,a)=>(d(),l("div",oe,[e("div",ae,[e("div",ne,[c(r(ee),{class:"h-5 w-5 text-blue-600 dark:text-blue-400"}),a[3]||(a[3]=e("h3",{class:"text-sm font-semibold text-gray-900 dark:text-gray-100"}," Data Collection Assistant ",-1))]),r(w)?_("",!0):(d(),l("button",{key:0,onClick:a[0]||(a[0]=g=>r(x)(i.chapterId)),disabled:r(m),class:"text-xs px-2 py-1 bg-blue-50 text-blue-600 rounded hover:bg-blue-100 disabled:opacity-50 dark:bg-blue-900/20 dark:text-blue-400 dark:hover:bg-blue-900/30"},h(r(m)?"Analyzing...":"Scan for Data Needs"),9,ie))]),r(m)&&!r(w)?(d(),l("div",le,[...a[4]||(a[4]=[e("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"text-xs text-gray-500 mt-2"},"Analyzing chapter content...",-1)])])):!r(w)&&!r(m)?(d(),l("div",de,[c(r(re),{class:"h-8 w-8 text-gray-400 mx-auto mb-2"}),a[5]||(a[5]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," No data collection requirements detected in this chapter. ",-1)),a[6]||(a[6]=e("p",{class:"text-xs text-gray-400 mt-1"},' Add keywords like "survey", "experiment", or "statistical analysis" to get assistance. ',-1))])):r(w)?(d(),l("div",ce,[e("div",pe,[e("div",ue,[c(r(X),{class:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),e("div",me,[a[7]||(a[7]=e("p",{class:"text-sm font-medium text-blue-900 dark:text-blue-100"}," Data Collection Requirements Detected ",-1)),e("div",ge,[(d(!0),l(H,null,q(r($),g=>(d(),l("div",{key:g,class:"flex items-center justify-between"},[e("span",he,h(r(T)(g)),1),e("span",{class:z(["text-xs font-medium",r(R)(r(y)?.allConfidence?.[g]||0)])},h(r(y)?.allConfidence?.[g]?.toFixed(1))+"% confidence ",3)]))),128))])])])]),r(b)&&r(y)?.template?(d(),l("div",fe,[e("div",ye,[a[8]||(a[8]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"}," Recommended Template ",-1)),e("span",ve,h(r(T)(r(b))),1)]),e("p",xe,h(r(y).template.title),1),e("div",we,[e("button",{onClick:a[1]||(a[1]=g=>t(i.chapterId,r(b),"append")),disabled:r(m),class:"flex-1 text-xs px-3 py-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50"},h(r(m)?"Inserting...":"Add Template"),9,be),e("button",{onClick:a[2]||(a[2]=g=>f.value=!f.value),class:"text-xs px-2 py-1.5 border border-gray-200 text-gray-600 rounded hover:bg-gray-50 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-800"},h(f.value?"Hide":"Preview"),1)]),f.value?(d(),l("div",ke,[e("pre",Ce,h(r(y).template.content.trim()),1)])):_("",!0)])):_("",!0),r(S).length>0?(d(),l("div",_e,[a[9]||(a[9]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"}," Research Guidelines ",-1)),(d(!0),l(H,null,q(r(S),g=>(d(),l("div",{key:g.type,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-3"},[e("h5",Se,h(g.title),1),e("ul",Te,[(d(!0),l(H,null,q(g.suggestions,(s,o)=>(d(),l("li",{key:o,class:"flex items-start gap-1.5 text-xs text-gray-600 dark:text-gray-400"},[c(r(te),{class:"h-3 w-3 text-green-500 mt-0.5 flex-shrink-0"}),e("span",null,h(s),1)]))),128))])]))),128))])):_("",!0),e("details",Ae,[a[10]||(a[10]=e("summary",{class:"p-3 cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}," Browse All Templates ",-1)),e("div",Le,[(d(!0),l(H,null,q(r(D),(g,s)=>(d(),l("div",{key:s,class:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded"},[e("div",null,[e("span",je,h(r(T)(s)),1),e("p",De,h(g.title),1)]),e("button",{onClick:o=>t(i.chapterId,s,"append"),disabled:r(m),class:"text-xs px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50"}," Add ",8,$e)]))),128))])])])):_("",!0),r(u)?(d(),l("div",Pe,[e("div",Re,[c(r(X),{class:"h-4 w-4 text-red-500 mt-0.5 flex-shrink-0"}),e("div",null,[a[11]||(a[11]=e("p",{class:"text-sm font-medium text-red-800 dark:text-red-200"}," Analysis Error ",-1)),e("p",Me,h(r(u)),1)])])])):_("",!0)]))}}),He={key:0,class:"fixed inset-0 z-50 lg:hidden"},qe={class:"fixed top-0 left-0 h-full w-80 overflow-y-auto border-r bg-background shadow-xl transform transition-transform"},Ne={class:"border-b p-3"},Be={class:"flex items-center justify-between"},Ge={class:"space-y-4 p-4 mobile-enhanced"},We={key:0,class:"fixed inset-0 z-50 lg:hidden"},Xe={class:"fixed top-0 right-0 h-full w-96 overflow-y-auto border-l bg-background shadow-xl transform transition-transform"},Ie={class:"border-b p-3"},Qe={class:"flex items-center justify-between"},Fe={class:"space-y-4 p-4 mobile-enhanced"},ze=I({__name:"MobileNavOverlay",props:{showLeftSidebar:{type:Boolean},showRightSidebar:{type:Boolean},isMobile:{type:Boolean},allChapters:{},currentChapter:{},project:{},currentWordCount:{},targetWordCount:{},writingQualityScore:{},chapterContentLength:{},isGenerating:{type:Boolean},selectedText:{},isLoadingSuggestions:{type:Boolean},showCitationHelper:{type:Boolean},chapterContent:{},showDefensePrep:{type:Boolean},defenseQuestions:{},isLoadingDefenseQuestions:{type:Boolean},isGeneratingDefenseQuestions:{type:Boolean},meetsDefenseThreshold:{type:Boolean},shouldShowDefenseProgress:{type:Boolean},defenseProgressPercentage:{},defenseWordsRemaining:{},hasTriggeredGeneration:{type:Boolean}},emits:["update:showLeftSidebar","update:showRightSidebar","goToChapter","generateNextChapter","startStreamingGeneration","getAISuggestions","update:showCitationHelper","checkCitations","update:showDefensePrep","generate-more","refresh","mark-helpful","hide-question"],setup(p,{emit:n}){const m=C(p.showDefensePrep??!0),u=n,y=()=>u("update:showLeftSidebar",!1),S=()=>u("update:showRightSidebar",!1),D=t=>u("goToChapter",t),w=()=>u("generateNextChapter"),$=(t,i)=>u("startStreamingGeneration",t,i),b=()=>u("getAISuggestions"),x=t=>u("update:showCitationHelper",t),L=t=>{m.value=t,u("update:showDefensePrep",t)},P=()=>u("generate-more"),T=()=>u("refresh"),R=(t,i)=>u("mark-helpful",t,i),A=t=>u("hide-question",t);return(t,i)=>(d(),l("div",null,[c(j,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[t.showLeftSidebar&&t.isMobile?(d(),l("div",He,[c(j,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[e("div",{class:"fixed inset-0 bg-black/50",onClick:y})]),_:1}),c(j,{"enter-active-class":"duration-300 ease-out","enter-from-class":"-translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"duration-200 ease-in","leave-from-class":"translate-x-0","leave-to-class":"-translate-x-full"},{default:v(()=>[e("div",qe,[e("div",Ne,[e("div",Be,[i[0]||(i[0]=e("h2",{class:"text-base font-semibold"},"Navigation",-1)),c(r(B),{onClick:y,variant:"ghost",size:"sm",class:"h-8 w-8"},{default:v(()=>[c(r(W),{class:"h-4 w-4"})]),_:1})])]),e("div",Ge,[c(Z,{"all-chapters":t.allChapters,"current-chapter":t.currentChapter,project:t.project,"current-word-count":t.currentWordCount,"target-word-count":t.targetWordCount,"writing-quality-score":t.writingQualityScore,"chapter-content-length":t.chapterContentLength,onGoToChapter:D,onGenerateNextChapter:w},null,8,["all-chapters","current-chapter","project","current-word-count","target-word-count","writing-quality-score","chapter-content-length"]),c(r(U),{class:"border-border/50"},{default:v(()=>[c(r(K),{class:"h-4 w-4 text-muted-foreground"}),c(r(O),{class:"text-xs text-muted-foreground"},{default:v(()=>[...i[1]||(i[1]=[e("strong",{class:"text-foreground"},"Pro Tips:",-1),e("br",null,null,-1),N(" • Press Ctrl+S to save",-1),e("br",null,null,-1),N(" • Ctrl+Z/Y for undo/redo",-1),e("br",null,null,-1),N(" • Select text for AI suggestions",-1),e("br",null,null,-1),N(" • F11 for distraction-free mode ",-1)])]),_:1})]),_:1})])])]),_:1})])):_("",!0)]),_:1}),c(j,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[t.showRightSidebar&&t.isMobile?(d(),l("div",We,[c(j,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[e("div",{class:"fixed inset-0 bg-black/50",onClick:S})]),_:1}),c(j,{"enter-active-class":"duration-300 ease-out","enter-from-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"duration-200 ease-in","leave-from-class":"translate-x-0","leave-to-class":"translate-x-full"},{default:v(()=>[e("div",Xe,[e("div",Ie,[e("div",Qe,[i[2]||(i[2]=e("h2",{class:"text-base font-semibold"},"AI Tools",-1)),c(r(B),{onClick:S,variant:"ghost",size:"sm",class:"h-8 w-8"},{default:v(()=>[c(r(W),{class:"h-4 w-4"})]),_:1})])]),e("div",Fe,[c(V,{project:t.project,chapter:t.currentChapter,"is-generating":t.isGenerating,"selected-text":t.selectedText,"is-loading-suggestions":t.isLoadingSuggestions,"show-citation-helper":t.showCitationHelper,"chapter-content":t.chapterContent,"current-word-count":t.currentWordCount,"target-word-count":t.targetWordCount,onStartStreamingGeneration:$,onGetAiSuggestions:b,"onUpdate:showCitationHelper":x},null,8,["project","chapter","is-generating","selected-text","is-loading-suggestions","show-citation-helper","chapter-content","current-word-count","target-word-count"]),c(J,{"show-defense-prep":m.value,questions:t.defenseQuestions??[],"is-loading":t.isLoadingDefenseQuestions??!1,"is-generating":t.isGeneratingDefenseQuestions??!1,"chapter-context":{chapter_number:t.currentChapter.chapter_number,chapter_title:t.currentChapter.title,word_count:t.currentWordCount},"defense-watcher":{meetsThreshold:t.meetsDefenseThreshold??!1,shouldShowProgress:t.shouldShowDefenseProgress??!1,progressPercentage:t.defenseProgressPercentage??0,wordsRemaining:t.defenseWordsRemaining??0,hasTriggeredGeneration:t.hasTriggeredGeneration??!1,threshold:500,statusMessage:t.shouldShowDefenseProgress??!1?`Write ${t.defenseWordsRemaining??0} more words to generate defense questions`:"Ready to generate defense questions"},"onUpdate:showDefensePrep":L,onGenerateMore:P,onRefresh:T,onMarkHelpful:R,onHideQuestion:A},null,8,["show-defense-prep","questions","is-loading","is-generating","chapter-context","defense-watcher"]),c(Ee,{"chapter-id":t.currentChapter.id,content:t.chapterContent},null,8,["chapter-id","content"])])])]),_:1})])):_("",!0)]),_:1})]))}}),Gr=Y(ze,[["__scopeId","data-v-76cd8967"]]);export{Gr as default};
