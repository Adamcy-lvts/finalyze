import{bt as v,bs as _,bA as h,cm as k,cn as n,co as o,cq as t,cp as i,bE as l,cr as u,cC as d,cH as w,cS as $,dh as C,cs as m,ct as N,ck as D}from"./vendor-B0P7kkmx.js";import{a as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-DgGnVzcb.js";import{_ as S,a as B}from"./CardContent.vue_vue_type_script_setup_true_lang-Inj97kMy.js";import{_ as L,a as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-mTag2pdV.js";import{_ as z}from"./index-DoaZXG4c.js";import{_ as g}from"./index-CeE5dpwC.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-mfygCHkH.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-j6BVOz2e.js";import"./Sonner.vue_vue_type_script_setup_true_lang-DEHww6d5.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-PZJ5tAoX.js";import"./WordBalanceDisplay.vue_vue_type_script_setup_true_lang-CPYESHVZ.js";import"./useAppearance-aNFzu-SB.js";import"./useWordBalance-BdsKHd_Q.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PWAInstallPrompt.vue_vue_type_script_setup_true_lang-QsmOkiEy.js";const j={class:"container mx-auto px-4 py-8 max-w-6xl"},A={key:0,class:"text-sm text-muted-foreground"},F={key:1,class:"text-sm text-muted-foreground"},G={key:2,class:"overflow-x-auto"},H={class:"w-full"},P={class:"py-3 px-2 text-sm"},q={class:"font-medium"},M={class:"text-xs text-muted-foreground"},R={class:"py-3 px-2 text-sm text-right"},T={class:"py-3 px-2 text-sm text-right font-medium text-green-600"},U={class:"py-3 px-2 text-center"},I={class:"py-3 px-2 text-sm text-right text-muted-foreground"},J={key:3,class:"flex items-center justify-end gap-2 pt-4"},dt=v({__name:"Earnings",setup(K){const c=_([]),p=_(!1),a=_({current_page:1,last_page:1,total:0,per_page:20}),f=async(r=1)=>{p.value=!0;try{const s=await(await fetch(`${D("affiliate.earnings.data")}?page=${r}`)).json();c.value=s.earnings||[],a.value=s.pagination||a.value}finally{p.value=!1}},x=r=>"â‚¦"+(r/100).toLocaleString("en-NG",{minimumFractionDigits:0}),y=r=>new Date(r).toLocaleDateString("en-NG",{year:"numeric",month:"short",day:"numeric"}),b=r=>{switch(r){case"paid":return"bg-green-500/10 text-green-600 border-green-500/20";case"pending":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";case"failed":return"bg-red-500/10 text-red-600 border-red-500/20";default:return"bg-gray-500/10 text-gray-600 border-gray-500/20"}};return h(()=>f()),(r,e)=>(n(),k(E,{title:"Affiliate Earnings"},{default:o(()=>[t("div",j,[i(l(S),{class:"border-border/50"},{default:o(()=>[i(l(L),null,{default:o(()=>[i(l(V),null,{default:o(()=>[...e[2]||(e[2]=[u("Earnings History",-1)])]),_:1})]),_:1}),i(l(B),null,{default:o(()=>[p.value?(n(),d("div",A,"Loading earnings...")):c.value.length===0?(n(),d("div",F,"No earnings yet.")):(n(),d("div",G,[t("table",H,[e[3]||(e[3]=t("thead",null,[t("tr",{class:"border-b border-border/50"},[t("th",{class:"text-left py-3 px-2 text-sm font-medium text-muted-foreground"},"Referee"),t("th",{class:"text-right py-3 px-2 text-sm font-medium text-muted-foreground"},"Payment"),t("th",{class:"text-right py-3 px-2 text-sm font-medium text-muted-foreground"},"Commission"),t("th",{class:"text-center py-3 px-2 text-sm font-medium text-muted-foreground"},"Status"),t("th",{class:"text-right py-3 px-2 text-sm font-medium text-muted-foreground"},"Date")])],-1)),t("tbody",null,[(n(!0),d($,null,C(c.value,s=>(n(),d("tr",{key:s.id,class:"border-b border-border/30"},[t("td",P,[t("div",q,m(s.referee?.name??"Unknown"),1),t("div",M,m(s.referee?.email??""),1)]),t("td",R,m(x(s.payment_amount)),1),t("td",T,m(x(s.commission_amount)),1),t("td",U,[i(l(z),{class:N(b(s.status)),variant:"outline"},{default:o(()=>[u(m(s.status),1)]),_:2},1032,["class"])]),t("td",I,m(y(s.created_at)),1)]))),128))])])])),a.value.last_page>1?(n(),d("div",J,[i(l(g),{variant:"outline",size:"sm",disabled:a.value.current_page<=1,onClick:e[0]||(e[0]=s=>f(a.value.current_page-1))},{default:o(()=>[...e[4]||(e[4]=[u(" Previous ",-1)])]),_:1},8,["disabled"]),i(l(g),{variant:"outline",size:"sm",disabled:a.value.current_page>=a.value.last_page,onClick:e[1]||(e[1]=s=>f(a.value.current_page+1))},{default:o(()=>[...e[5]||(e[5]=[u(" Next ",-1)])]),_:1},8,["disabled"])])):w("",!0)]),_:1})]),_:1})])]),_:1}))}});export{dt as default};
