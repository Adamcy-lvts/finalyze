import{X as fe,c as H,i as me,a as ge,b as O,v as G,F as pe,w as q,g as k,x as K,s as V,y as ve,P as z,z as xe,h as W,e as _e,A as be,n as ye,p as we,_ as Q,S as J,q as ke,r as A,t as Z,D as Ce,u as Se}from"./ChartTooltip.vue_vue_type_script_setup_true_lang-lEiEaRYr.js";import{d as X,a5 as De,g as $,E as Fe,a as oe,h as Pe,p as Me,j as Te,D as ee,o as D,c as L,u as r,K as We,L as Ae,w as h,e as s,k as c,F as Re,z as je,s as y,t as w,n as Ee}from"./app-BI3B-WKV.js";import{_ as R,a as j}from"./CardContent.vue_vue_type_script_setup_true_lang-Crb8HVKN.js";import{_ as E}from"./CardDescription.vue_vue_type_script_setup_true_lang-C31iubih.js";import{_ as N,a as U}from"./CardTitle.vue_vue_type_script_setup_true_lang-DyR4agyE.js";import{_ as Ne}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DayyV9ea.js";import"./step-BCSb7vJg.js";import"./axis-Dec-o12R.js";import"./linear-Ct2TS0tc.js";import"./init-Dmth1JHB.js";import"./defaultLocale-C4B-KCzX.js";import"./band-BjYQJviF.js";import"./ordinal-B-SEvE7q.js";import"./index-G9NCJgAI.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-DN1JgSYv.js";import"./VisuallyHidden-WCocV3L8.js";import"./useForwardExpose-DM1p2FeE.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BNjDpoNs.js";import"./users-Jhuvno2U.js";import"./chart-column-C-E7FS4O.js";import"./list-Cx4tOFEw.js";const te=_=>+_,Ue=Object.assign(Object.assign({},fe),{yStacked:void 0,baseline:null,duration:100,tooltip:void 0,template:(_,e,t,a)=>"",hideWhenFarFromPointer:!0,hideWhenFarFromPointerDistance:100,snapToData:!0,getCircles:void 0,color:void 0,strokeColor:void 0,strokeWidth:void 0,onCrosshairMove:void 0,forceShowAt:void 0,skipRangeCheck:!1}),$e=me`
  :root {
    --vis-crosshair-line-stroke-color: #888;
    --vis-crosshair-line-stroke-width: 1px;
    --vis-crosshair-line-stroke-opacity: 1;
    --vis-crosshair-circle-stroke-color: #fff;
    --vis-crosshair-circle-stroke-width: 1px;
    --vis-crosshair-circle-stroke-opacity: 0.75;
  }
`,Ie=H`
  label: crosshair-component;
`,ne=H`
  stroke: var(--vis-crosshair-line-stroke-color);
  stroke-width: var(--vis-crosshair-line-stroke-width);
  stroke-opacity: var(--vis-crosshair-line-stroke-opacity);
  pointer-events: none;
`,ie=H`
  stroke: var(--vis-crosshair-circle-stroke-color);
  stroke-width: var(--vis-crosshair-circle-stroke-width);
  stroke-opacity: var(--vis-crosshair-circle-stroke-opacity);
  pointer-events: none;
`,Be=Object.freeze(Object.defineProperty({__proto__:null,circle:ie,globalStyles:$e,line:ne,root:Ie},Symbol.toStringTag,{value:"Module"}));class re extends ge{constructor(e){super(),this.clippable=!0,this._defaultConfig=Ue,this.config=this._defaultConfig,this._xPx=void 0,this._yPx=void 0,this._mouseEvent=void 0,this._animFrameId=null,this._accessors={x:void 0,y:void 0,yStacked:void 0,baseline:void 0},e&&this.setConfig(e),this.g.style("opacity",0),this.line=this.g.append("line").attr("class",ne)}set accessors(e){this._accessors=e}get accessors(){var e;const{config:t}=this,a=!!(t.x||t.y||t.yStacked),m=a?t.x:this._accessors.x,o=a?t.y:this._accessors.y,f=o?_e(o)?o:[o]:void 0,n=a?t.yStacked:this._accessors.yStacked,u=(e=t.baseline)!==null&&e!==void 0?e:this._accessors.baseline;return{x:m,y:f,yStacked:n,baseline:u}}_isContainerInViewport(){var e;if(!(!((e=this.container)===null||e===void 0)&&e.node()))return!1;const t=this.container.node().getBoundingClientRect(),a=window.innerWidth||document.documentElement.clientWidth,m=window.innerHeight||document.documentElement.clientHeight,o=Math.max(0,Math.min(t.right,a)-Math.max(t.left,0)),f=Math.max(0,Math.min(t.bottom,m)-Math.max(t.top,0)),n=t.width*t.height,u=o*f;return n>0&&u/n>=.35}setContainer(e){this.container!==e&&(this.container=e,this.container.on("mousemove.crosshair",this._onMouseMove.bind(this)),this.container.on("mouseout.crosshair",this._onMouseOut.bind(this)),this.container.on("wheel.crosshair",this._onWheel.bind(this)))}_render(e){var t,a,m,o,f;const{config:n,datamodel:u}=this,v=O(e)?e:n.duration,x=n.forceShowAt!==void 0,p=x?this.xScale(n.forceShowAt):this._xPx,d=this.xScale.invert(p),l=!((t=u.data)===null||t===void 0)&&t.length&&this.accessors.x?u.data.indexOf(G(u.data,d,this.accessors.x,pe.Left)):void 0;let i,F;n.snapToData&&(!this.accessors.y&&!this.accessors.yStacked&&(!((a=u.data)===null||a===void 0)&&a.length)&&console.warn("Unovis | Crosshair: Y accessors have not been configured. Please check if they're present in the configuration object"),!(!((m=u.data)===null||m===void 0)&&m.length)&&this._mouseEvent&&console.warn("Unovis | Crosshair: No data to snap to. Make sure the data has been passed to the container or to the crosshair itself"),i=G(u.data,d,this.accessors.x),F=u.data.indexOf(i));const P=this.xScale.range(),M=this.yScale.range(),C=n.snapToData&&i?q(Math.round(this.xScale(k(i,this.accessors.x,F))),0,this._width):q(p,P[0],P[1]),Y=p>=P[0]&&p<=P[1],ae=this._yPx>=Math.min(M[0],M[1])&&this._yPx<=Math.max(M[0],M[1]);let T=n.skipRangeCheck?!!this._xPx:this._xPx?Y&&ae:Y;n.hideWhenFarFromPointer&&Math.abs(C-+p)>=n.hideWhenFarFromPointerDistance&&(T=!1);const I=(o=n.tooltip)!==null&&o!==void 0?o:this.tooltip;if(T&&I&&this._isContainerInViewport()){const g=I.getContainer()||this.container.node(),S=I.isContainerBody();if(x){const b=this.container.node().getBoundingClientRect(),de=(S?p+b.left:p)+this._containerMargin.left,ue=this._height/2+(S?b.top:0),he=[de,ue];this._showTooltip(i,d,he,l)}else if(this._mouseEvent){const b=S?[this._mouseEvent.clientX,this._mouseEvent.clientY]:K(this._mouseEvent,g);this._showTooltip(i,d,b,l)}}else this._hideTooltip();if(this._mouseEvent&&((f=n.onCrosshairMove)===null||f===void 0||f.call(n,T?this.xScale.invert(this._xPx):void 0,i,F,this._mouseEvent),this._mouseEvent=void 0),V(this.g,v).style("opacity",T?1:0),!isFinite(p))return;this.line.attr("y1",0).attr("y2",this._height),V(this.line,v,te).attr("x1",C).attr("x2",C);const le=ve(n.getCircles)?n.getCircles(d,u.data,this.yScale,l):this.getCircleData(i,F),B=this.g.selectAll("circle").data(le,(g,S)=>{var b;return(b=g.id)!==null&&b!==void 0?b:S}),ce=B.enter().append("circle").attr("class",ie).attr("r",0).attr("cx",C).attr("cy",g=>g.y).style("fill",g=>g.color).style("stroke",g=>g.strokeColor).style("stroke-width",g=>g.strokeWidth);V(ce.merge(B),v,te).attr("cx",C).attr("cy",g=>g.y).attr("r",4).style("opacity",g=>g.opacity).style("fill",g=>g.color).style("stroke",g=>g.strokeColor).style("stroke-width",g=>g.strokeWidth),B.exit().remove()}hide(e){window.cancelAnimationFrame(this._animFrameId),this._animFrameId=window.requestAnimationFrame(()=>{var t,a;this._xPx=void 0,this._yPx=void 0,this._mouseEvent=void 0,(a=(t=this.config).onCrosshairMove)===null||a===void 0||a.call(t,void 0,void 0,void 0,e),this._render()})}_onMouseMove(e){var t;const{datamodel:a,element:m}=this;!this.accessors.x&&(!((t=a.data)===null||t===void 0)&&t.length)&&console.warn("Unovis | Crosshair: X accessor function has not been configured. Please check if it's present in the configuration object");const[o,f]=K(e,m);this._xPx=o,this._yPx=f,this._mouseEvent=e,window.cancelAnimationFrame(this._animFrameId),this._animFrameId=window.requestAnimationFrame(()=>{this._render()})}_onMouseOut(e){var t;(!e||!(!((t=this.container)===null||t===void 0)&&t.node().contains(e.relatedTarget)))&&this.hide(e)}_onWheel(e){this.hide(e)}_showTooltip(e,t,a,m){var o;const{config:f,datamodel:n}=this,u=(o=f.tooltip)!==null&&o!==void 0?o:this.tooltip;if(!u||!a)return;const[v,x]=a,p=f.template(e,t,n.data,m);if(u.config.followCursor=!0,!u.config.horizontalPlacement||u.config.horizontalPlacement===z.Auto){const d=u.isContainerBody()?v-this.container.node().getBoundingClientRect().left:v;u.overrideHorizontalPlacement(d>this._containerWidth/2?z.Left:z.Right)}p&&u.show(p,{x:v,y:x})}_hideTooltip(){var e;const{config:t}=this,a=(e=t.tooltip)!==null&&e!==void 0?e:this.tooltip;a?.hide()}getYDataExtent(){return[void 0,void 0]}getCircleData(e,t){var a,m;const{config:o}=this;if(o.snapToData&&e){const f=(a=this.accessors.y)!==null&&a!==void 0?a:[],n=(m=this.accessors.yStacked)!==null&&m!==void 0?m:[],u=k(e,this.accessors.baseline,t)||0,v=xe(e,t,...n).map((p,d)=>({y:this.yScale(p+u),opacity:O(k(e,n[d],d))?1:0,color:W(e,o.color,d),strokeColor:o.strokeColor?W(e,o.strokeColor,d):void 0,strokeWidth:o.strokeWidth?k(e,o.strokeWidth,d):void 0})),x=f.map((p,d)=>{const l=k(e,p,t);return{y:this.yScale(l),opacity:O(l)?1:0,color:W(e,o.color,v.length+d),strokeColor:o.strokeColor?W(e,o.strokeColor,d):void 0,strokeWidth:o.strokeWidth?k(e,o.strokeWidth,d):void 0}});return v.concat(x)}return[]}}re.selectors=Be;const Oe={"data-vis-crosshair":""},Ve=X({__name:"index",props:{data:{}},setup(_,{expose:e}){const t=De(be),a=_,m=$(()=>t.data.value??a.data),o=ye(a),f=Fe();return Pe(()=>{Me(()=>{var n;f.value=new re(o.value),(n=f.value)==null||n.setData(m.value),t.update(f.value)})}),Te(()=>{var n;(n=f.value)==null||n.destroy(),t.destroy()}),ee(o,(n,u)=>{var v;we(n,u)||(v=f.value)==null||v.setConfig(o.value)}),ee(m,()=>{var n;(n=f.value)==null||n.setData(m.value)}),e({component:f}),(n,u)=>(D(),oe("div",Oe))}}),se=X({__name:"ChartCrosshair",setup(_){const e=_;return(t,a)=>(D(),L(r(Ve),We(Ae(e)),null,16))}}),ze={class:"space-y-6"},Le={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},He={class:"text-2xl font-bold text-foreground"},Xe={class:"text-xs mt-1 flex items-center gap-2"},Ye={class:"grid gap-6 lg:grid-cols-2"},Ge={class:"flex items-start justify-between"},qe={class:"text-right"},Ke={class:"text-lg font-bold text-foreground"},Qe={class:"flex items-start justify-between"},Je={class:"text-right"},Ze={class:"text-lg font-bold text-foreground"},yt=X({__name:"Index",setup(_){const e=new Date,t=[{date:new Date(e.getTime()-720*60*60*1e3),amount:18e4},{date:new Date(e.getTime()-576*60*60*1e3),amount:21e4},{date:new Date(e.getTime()-432*60*60*1e3),amount:265e3},{date:new Date(e.getTime()-288*60*60*1e3),amount:24e4},{date:new Date(e.getTime()-8640*60*1e3),amount:3e5},{date:new Date(e.getTime()-4320*60*1e3),amount:32e4},{date:e,amount:34e4}],a=[{label:"Mon",newUsers:18,returning:7},{label:"Tue",newUsers:24,returning:10},{label:"Wed",newUsers:20,returning:8},{label:"Thu",newUsers:28,returning:12},{label:"Fri",newUsers:26,returning:11},{label:"Sat",newUsers:16,returning:6},{label:"Sun",newUsers:14,returning:5}],m={revenue:{label:"Revenue",color:"hsl(var(--primary))"}},o={new:{label:"New",color:"hsl(var(--primary))"},returning:{label:"Returning",color:"hsl(var(--muted-foreground))"}},f=$(()=>t.reduce((d,l)=>d+l.amount,0)),n=$(()=>a.reduce((d,l)=>d+l.newUsers,0)),u=$(()=>[{label:"Users",caption:"Active users",value:"2,148",trend:12},{label:"Revenue",caption:"Last 30 days",value:x(f.value),trend:8},{label:"Projects",caption:"Total projects",value:"512",trend:3},{label:"Words Generated",caption:"All time",value:"2.8M",trend:15}]),v=d=>new Date(d).toLocaleDateString("en",{month:"short",day:"numeric"}),x=d=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",maximumFractionDigits:0}).format(d),p=d=>d>=1e6?`${(d/1e6).toFixed(1)}M`:d>=1e3?`${(d/1e3).toFixed(1)}k`:d.toString();return(d,l)=>(D(),L(Ne,null,{title:h(()=>[...l[0]||(l[0]=[s("div",{class:"flex flex-col"},[s("h2",{class:"text-2xl font-bold tracking-tight text-foreground"},"Analytics"),s("p",{class:"text-muted-foreground text-sm"},"Insights across users, revenue, and usage.")],-1)])]),default:h(()=>[s("div",ze,[s("div",Le,[(D(!0),oe(Re,null,je(u.value,i=>(D(),L(r(R),{key:i.label,class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:h(()=>[c(r(N),{class:"pb-2"},{default:h(()=>[c(r(U),{class:"text-sm font-medium text-muted-foreground"},{default:h(()=>[y(w(i.label),1)]),_:2},1024),c(r(E),{class:"text-xs text-muted-foreground/80"},{default:h(()=>[y(w(i.caption),1)]),_:2},1024)]),_:2},1024),c(r(j),{class:"pt-0"},{default:h(()=>[s("div",He,w(i.value),1),s("div",Xe,[s("span",{class:Ee([i.trend>=0?"text-emerald-500":"text-rose-500","font-medium"])},w(i.trend>=0?"+":"")+w(i.trend)+"% ",3),l[1]||(l[1]=s("span",{class:"text-muted-foreground/60"},"vs last period",-1))])]),_:2},1024)]),_:2},1024))),128))]),s("div",Ye,[c(r(R),{class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:h(()=>[c(r(N),null,{default:h(()=>[s("div",Ge,[s("div",null,[c(r(U),{class:"text-base font-semibold text-foreground"},{default:h(()=>[...l[2]||(l[2]=[y("Revenue Trend",-1)])]),_:1}),c(r(E),null,{default:h(()=>[...l[3]||(l[3]=[y("Last 30 days",-1)])]),_:1})]),s("div",qe,[l[4]||(l[4]=s("p",{class:"text-xs text-muted-foreground"},"Total",-1)),s("p",Ke,w(x(f.value)),1)])])]),_:1}),c(r(j),{class:"pl-0"},{default:h(()=>[c(r(Q),{config:m,class:"h-[280px] w-full"},{default:h(()=>[c(r(J),{data:t,height:280,margin:{top:5,right:10,bottom:0,left:10}},{default:h(()=>[c(r(ke),{x:i=>i.date,y:i=>i.amount,color:m.revenue.color,"curve-type":"monotone","stroke-width":2},null,8,["x","y","color"]),c(r(A),{type:"x",x:i=>i.date,"grid-line":!1,"domain-line":!1,"tick-line":!1,"tick-format":v,"tick-values":t.map(i=>i.date),color:"#888888"},null,8,["x","tick-values"]),c(r(A),{type:"y","tick-line":!1,"domain-line":!1,"grid-line":!0,"tick-format":i=>p(i),color:"#888888"},null,8,["tick-format"]),c(r(Z)),c(r(se))]),_:1})]),_:1})]),_:1})]),_:1}),c(r(R),{class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:h(()=>[c(r(N),null,{default:h(()=>[s("div",Qe,[s("div",null,[c(r(U),{class:"text-base font-semibold text-foreground"},{default:h(()=>[...l[5]||(l[5]=[y("User Signups",-1)])]),_:1}),c(r(E),null,{default:h(()=>[...l[6]||(l[6]=[y("Last 7 days",-1)])]),_:1})]),s("div",Je,[l[7]||(l[7]=s("p",{class:"text-xs text-muted-foreground"},"New",-1)),s("p",Ze,w(n.value),1)])])]),_:1}),c(r(j),{class:"pl-0"},{default:h(()=>[c(r(Q),{config:o,class:"h-[280px] w-full"},{default:h(()=>[c(r(J),{data:a,height:280,margin:{top:5,right:10,bottom:0,left:10}},{default:h(()=>[c(r(Ce),{x:i=>i.label,y:[i=>i.newUsers,i=>i.returning],color:[o.new.color,o.returning.color],"rounded-corners":4,"bar-padding":.2},null,8,["x","y","color"]),c(r(A),{type:"x",x:i=>i.label,"grid-line":!1,"domain-line":!1,"tick-line":!1,color:"#888888"},null,8,["x"]),c(r(A),{type:"y","tick-line":!1,"domain-line":!1,"grid-line":!0,"tick-format":i=>Math.round(i),color:"#888888"},null,8,["tick-format"]),c(r(Z)),c(r(se))]),_:1}),c(r(Se),{config:o,class:"mt-4 justify-center"})]),_:1})]),_:1})]),_:1})]),c(r(R),{class:"bg-card text-card-foreground border-border/50 shadow-sm"},{default:h(()=>[c(r(N),{class:"pb-3"},{default:h(()=>[c(r(U),{class:"text-base font-semibold"},{default:h(()=>[...l[8]||(l[8]=[y("System Snapshot",-1)])]),_:1}),c(r(E),{class:"text-sm text-muted-foreground"},{default:h(()=>[...l[9]||(l[9]=[y("Quick view of platform health",-1)])]),_:1})]),_:1}),c(r(j),null,{default:h(()=>[...l[10]||(l[10]=[s("div",{class:"grid gap-4 md:grid-cols-3"},[s("div",{class:"rounded-lg border border-border/50 bg-muted/30 p-4 hover:bg-muted/50 transition-colors"},[s("div",{class:"flex items-center justify-between mb-2"},[s("p",{class:"text-sm font-medium text-muted-foreground"},"Queue"),s("div",{class:"h-2 w-2 rounded-full bg-emerald-500 animate-pulse"})]),s("p",{class:"text-2xl font-bold text-foreground"},"Healthy"),s("p",{class:"text-xs text-muted-foreground mt-1"},"12 pending â€¢ 0 failed")]),s("div",{class:"rounded-lg border border-border/50 bg-muted/30 p-4 hover:bg-muted/50 transition-colors"},[s("div",{class:"flex items-center justify-between mb-2"},[s("p",{class:"text-sm font-medium text-muted-foreground"},"OpenAI"),s("div",{class:"h-2 w-2 rounded-full bg-emerald-500"})]),s("p",{class:"text-2xl font-bold text-foreground"},"Stable"),s("p",{class:"text-xs text-muted-foreground mt-1"},"Avg latency: 890ms")]),s("div",{class:"rounded-lg border border-border/50 bg-muted/30 p-4 hover:bg-muted/50 transition-colors"},[s("div",{class:"flex items-center justify-between mb-2"},[s("p",{class:"text-sm font-medium text-muted-foreground"},"Cache"),s("div",{class:"h-2 w-2 rounded-full bg-emerald-500"})]),s("p",{class:"text-2xl font-bold text-foreground"},"OK"),s("p",{class:"text-xs text-muted-foreground mt-1"},"Hit rate: 92%")])],-1)])]),_:1})]),_:1})])]),_:1}))}});export{yt as default};
