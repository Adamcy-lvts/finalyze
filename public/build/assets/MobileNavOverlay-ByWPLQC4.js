import{c as l,o as d,F as e,B as C,b as H,d as X,f as F,I as Q,L as _,K as c,u as r,H as h,N,U as q,n as z,w as v,a8 as j,M as E}from"./app-BX783c_h.js";import{_ as U,a as V}from"./index-CKBlMl4Z.js";import{_ as B}from"./index-D0SGUG9_.js";import{A as O}from"./ChapterEditor-B8gGEEI-.js";import{_ as Z}from"./ChapterNavigation.vue_vue_type_script_setup_true_lang-DE6WnMOx.js";import{_ as J}from"./DefensePreparationPanel.vue_vue_type_script_setup_true_lang-ccnbYfOK.js";import{t as G}from"./index-M5PXvBC6.js";import{X as W}from"./x-Bv98rYeZ.js";import{L as K}from"./lightbulb-fjNvvi1Q.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CLHATmBI.js";import"./index-czTBSd67.js";import"./CardContent.vue_vue_type_script_setup_true_lang-DWiUbu6H.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-Dp-VzE-n.js";import"./ScrollArea.vue_vue_type_script_setup_true_lang-BJ1scPzG.js";import"./Presence-By9MP41D.js";import"./useForwardExpose-CtCqpTHO.js";import"./useNonce-BaWp-VR0.js";import"./Separator.vue_vue_type_script_setup_true_lang-Dugh028q.js";import"./Separator-rThMq2s-.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-DG7LazFW.js";import"./VisuallyHidden-6nc8bz0E.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DLNK8Q5v.js";import"./AppLayout.vue_vue_type_script_setup_true_lang-CAPQI-jo.js";import"./coins-DiXg3Z0I.js";import"./log-out-DFFJmhGN.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-CI5KxJLs.js";import"./library-BmrtC7zr.js";import"./plus-B89DH5nI.js";import"./chevron-right-Dszt60Zp.js";import"./Sonner.vue_vue_type_script_setup_true_lang-5zfKevfF.js";import"./loader-circle-N0HEdYkR.js";import"./triangle-alert-CQQxn1ag.js";import"./circle-check-DafJMb7y.js";import"./sun-BceD4wSW.js";import"./PurchaseModal.vue_vue_type_script_setup_true_lang-DIgGmnts.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-DERYyvSa.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-Da-aiXR7.js";import"./sparkles-SNddTDnm.js";import"./arrow-right-CadhYPZp.js";import"./useChapterWordCount-Bzqf81vF.js";import"./toNumber-XKQQ5REs.js";import"./Input.vue_vue_type_script_setup_true_lang-D5IKNWvr.js";import"./Label.vue_vue_type_script_setup_true_lang-B4ZMycXN.js";import"./RichTextEditor-D1BeT4Qh.js";import"./Progress.vue_vue_type_script_setup_true_lang-C8j82HdR.js";import"./nullish-CHIgUVhi.js";import"./purify.es-DxJI3Wx7.js";import"./index-BWEDi_FC.js";import"./step-DrZ9DcYd.js";import"./chart-column-Bx8wSqWr.js";import"./calendar-CswH01ou.js";import"./brain-bidU7UZq.js";import"./users-B9R2zTIr.js";import"./circle-alert-CghpdQQO.js";import"./eye-C_IW5tjS.js";import"./check-5IPdmr_1.js";import"./download-DH365zXy.js";import"./trash-2-DQo2fhae.js";import"./type-B1rZWOB_.js";import"./minus-MIdcQd1Z.js";import"./list-Dt2ibNZn.js";import"./save-BoJmMwKd.js";import"./circle-check-big-DArazZ5a.js";import"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-DVIXT2lW.js";import"./useTextHistory-DM9KeYzd.js";import"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-B6TSV_0d.js";import"./chevron-down-DgteLhCE.js";import"./search-Cg6381DU.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-BdBS0NBb.js";import"./ohash.D__AXeF1-C-E83dC9.js";import"./VisuallyHiddenInput-C41wI_pB.js";import"./RovingFocusItem-XpOADvaB.js";import"./file-text-CncV20pt.js";import"./zap-BEAMcius.js";import"./pen-tool-DFIEFNSB.js";import"./refresh-cw-CCarrYHe.js";import"./arrow-left-BLUnPuXb.js";import"./menu-D7J46-ZO.js";import"./minimize-2-B2o3Qsbr.js";import"./message-square-D33ayShn.js";import"./DialogTrigger-DglHHBPn.js";import"./lock-C-zFsPhd.js";import"./target-BsXKiSt0.js";import"./Switch.vue_vue_type_script_setup_true_lang-Bd9uqVbl.js";function ee(u,n){return d(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"})])}function te(u,n){return d(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function re(u,n){return d(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function I(u,n){return d(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function se(){const u=C(!1),n=C(null),f=C(null),m=C(null),p=C([]),y=C({}),S=H(()=>f.value?.hasDataCollectionNeeds??!1),D=H(()=>f.value?.types??[]),b=H(()=>m.value?.hasPlaceholder?m.value.detectedType:null),$=H(()=>m.value?.hasPlaceholder?m.value.confidence??0:0);async function w(s){u.value=!0,n.value=null;try{const o=await fetch(`/api/chapters/${s}/detect`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!o.ok)throw new Error("Failed to detect data collection needs");const k=await o.json();f.value=k.detection}catch(o){n.value=o instanceof Error?o.message:"An error occurred",console.error("Error detecting data collection needs:",o)}finally{u.value=!1}}async function x(s){u.value=!0,n.value=null;try{const o=await fetch(`/api/chapters/${s}/placeholder`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!o.ok)throw new Error("Failed to generate placeholder");const k=await o.json();m.value=k.placeholder}catch(o){n.value=o instanceof Error?o.message:"An error occurred",console.error("Error generating placeholder:",o)}finally{u.value=!1}}async function L(s){u.value=!0,n.value=null;try{const o=await fetch(`/api/chapters/${s}/suggestions`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!o.ok)throw new Error("Failed to get suggestions");const k=await o.json();p.value=k.suggestions}catch(o){n.value=o instanceof Error?o.message:"An error occurred",console.error("Error getting suggestions:",o)}finally{u.value=!1}}async function R(){u.value=!0,n.value=null;try{const s=await fetch("/api/data-collection/templates",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!s.ok)throw new Error("Failed to get templates");const o=await s.json();y.value=o.templates}catch(s){n.value=s instanceof Error?s.message:"An error occurred",console.error("Error getting templates:",s)}finally{u.value=!1}}async function T(s){u.value=!0,n.value=null;try{const o=await fetch(`/api/data-collection/template?type=${encodeURIComponent(s)}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!o.ok)throw new Error("Failed to get template");return(await o.json()).template}catch(o){return n.value=o instanceof Error?o.message:"An error occurred",console.error("Error getting template:",o),null}finally{u.value=!1}}async function M(s,o,k="append"){u.value=!0,n.value=null;try{if(!(await fetch(`/api/chapters/${s}/insert-template`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({type:o,position:k})})).ok)throw new Error("Failed to insert template");return!0}catch(P){return n.value=P instanceof Error?P.message:"An error occurred",console.error("Error inserting template:",P),!1}finally{u.value=!1}}async function A(s){await Promise.all([w(s),x(s),L(s)])}function t(s){return{survey:"Survey/Questionnaire",experiment:"Laboratory Experiment",engineering:"Engineering Design",statistical:"Statistical Analysis",construction:"Construction Project"}[s]||s.charAt(0).toUpperCase()+s.slice(1)}function i(s){return s>=50?"High":s>=25?"Medium":"Low"}function a(s){return s>=50?"text-green-600 dark:text-green-400":s>=25?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}function g(){f.value=null,m.value=null,p.value=[],n.value=null}return{isLoading:u,error:n,detection:f,placeholder:m,suggestions:p,templates:y,hasDataCollectionNeeds:S,detectedTypes:D,primaryType:b,primaryConfidence:$,detectDataCollectionNeeds:w,generatePlaceholder:x,getSuggestions:L,getAllTemplates:R,getTemplate:T,insertTemplate:M,analyzeChapter:A,getTypeName:t,getConfidenceLevel:i,getConfidenceColor:a,clearData:g}}const oe={class:"space-y-4"},ae={class:"flex items-center justify-between"},ne={class:"flex items-center gap-2"},ie=["disabled"],le={key:0,class:"text-center py-4"},de={key:1,class:"text-center py-4"},ce={key:2},ue={class:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3"},pe={class:"flex items-start gap-2"},me={class:"min-w-0 flex-1"},ge={class:"mt-2 space-y-1"},he={class:"text-xs text-blue-700 dark:text-blue-300"},fe={key:0,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-3"},ye={class:"flex items-center justify-between mb-2"},ve={class:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded dark:bg-green-900/20 dark:text-green-400"},xe={class:"text-xs text-gray-600 dark:text-gray-400 mb-3"},be={class:"flex gap-2"},we=["disabled"],ke={key:0,class:"mt-3 p-2 bg-gray-50 dark:bg-gray-800 rounded text-xs"},Ce={class:"whitespace-pre-wrap text-gray-700 dark:text-gray-300 overflow-auto max-h-32"},_e={key:1,class:"space-y-2"},Se={class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2"},Te={class:"space-y-1"},Ae={class:"border border-gray-200 dark:border-gray-700 rounded-lg"},Le={class:"p-3 pt-0 space-y-2"},je={class:"text-xs font-medium text-gray-900 dark:text-gray-100"},De={class:"text-xs text-gray-600 dark:text-gray-400"},$e=["onClick","disabled"],Re={key:3,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3"},Me={class:"flex items-start gap-2"},Pe={class:"text-xs text-red-600 dark:text-red-400 mt-1"},He=X({__name:"DataCollectionPanel",props:{chapterId:{},content:{}},setup(u){const n=u,f=C(!1),{isLoading:m,error:p,placeholder:y,suggestions:S,templates:D,hasDataCollectionNeeds:b,detectedTypes:$,primaryType:w,analyzeChapter:x,insertTemplate:L,getAllTemplates:R,getTypeName:T,getConfidenceColor:M}=se();let A=null;F(()=>n.content,(i,a)=>{!i||i===a||(A&&clearTimeout(A),A=setTimeout(()=>{i&&i.length>500&&x(n.chapterId)},3e3))},{immediate:!1});async function t(i,a,g="append"){await L(i,a,g)?(G.success("Template added successfully"),f.value=!1,setTimeout(()=>{x(i)},1e3)):G.error(p.value||"Failed to insert template")}return Q(async()=>{await R(),n.content&&n.content.length>500&&await x(n.chapterId)}),(i,a)=>(d(),l("div",oe,[e("div",ae,[e("div",ne,[c(r(ee),{class:"h-5 w-5 text-blue-600 dark:text-blue-400"}),a[3]||(a[3]=e("h3",{class:"text-sm font-semibold text-gray-900 dark:text-gray-100"}," Data Collection Assistant ",-1))]),r(b)?_("",!0):(d(),l("button",{key:0,onClick:a[0]||(a[0]=g=>r(x)(i.chapterId)),disabled:r(m),class:"text-xs px-2 py-1 bg-blue-50 text-blue-600 rounded hover:bg-blue-100 disabled:opacity-50 dark:bg-blue-900/20 dark:text-blue-400 dark:hover:bg-blue-900/30"},h(r(m)?"Analyzing...":"Scan for Data Needs"),9,ie))]),r(m)&&!r(b)?(d(),l("div",le,[...a[4]||(a[4]=[e("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"text-xs text-gray-500 mt-2"},"Analyzing chapter content...",-1)])])):!r(b)&&!r(m)?(d(),l("div",de,[c(r(re),{class:"h-8 w-8 text-gray-400 mx-auto mb-2"}),a[5]||(a[5]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," No data collection requirements detected in this chapter. ",-1)),a[6]||(a[6]=e("p",{class:"text-xs text-gray-400 mt-1"},' Add keywords like "survey", "experiment", or "statistical analysis" to get assistance. ',-1))])):r(b)?(d(),l("div",ce,[e("div",ue,[e("div",pe,[c(r(I),{class:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),e("div",me,[a[7]||(a[7]=e("p",{class:"text-sm font-medium text-blue-900 dark:text-blue-100"}," Data Collection Requirements Detected ",-1)),e("div",ge,[(d(!0),l(N,null,q(r($),g=>(d(),l("div",{key:g,class:"flex items-center justify-between"},[e("span",he,h(r(T)(g)),1),e("span",{class:z(["text-xs font-medium",r(M)(r(y)?.allConfidence?.[g]||0)])},h(r(y)?.allConfidence?.[g]?.toFixed(1))+"% confidence ",3)]))),128))])])])]),r(w)&&r(y)?.template?(d(),l("div",fe,[e("div",ye,[a[8]||(a[8]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"}," Recommended Template ",-1)),e("span",ve,h(r(T)(r(w))),1)]),e("p",xe,h(r(y).template.title),1),e("div",be,[e("button",{onClick:a[1]||(a[1]=g=>t(i.chapterId,r(w),"append")),disabled:r(m),class:"flex-1 text-xs px-3 py-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50"},h(r(m)?"Inserting...":"Add Template"),9,we),e("button",{onClick:a[2]||(a[2]=g=>f.value=!f.value),class:"text-xs px-2 py-1.5 border border-gray-200 text-gray-600 rounded hover:bg-gray-50 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-800"},h(f.value?"Hide":"Preview"),1)]),f.value?(d(),l("div",ke,[e("pre",Ce,h(r(y).template.content.trim()),1)])):_("",!0)])):_("",!0),r(S).length>0?(d(),l("div",_e,[a[9]||(a[9]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"}," Research Guidelines ",-1)),(d(!0),l(N,null,q(r(S),g=>(d(),l("div",{key:g.type,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-3"},[e("h5",Se,h(g.title),1),e("ul",Te,[(d(!0),l(N,null,q(g.suggestions,(s,o)=>(d(),l("li",{key:o,class:"flex items-start gap-1.5 text-xs text-gray-600 dark:text-gray-400"},[c(r(te),{class:"h-3 w-3 text-green-500 mt-0.5 flex-shrink-0"}),e("span",null,h(s),1)]))),128))])]))),128))])):_("",!0),e("details",Ae,[a[10]||(a[10]=e("summary",{class:"p-3 cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}," Browse All Templates ",-1)),e("div",Le,[(d(!0),l(N,null,q(r(D),(g,s)=>(d(),l("div",{key:s,class:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded"},[e("div",null,[e("span",je,h(r(T)(s)),1),e("p",De,h(g.title),1)]),e("button",{onClick:o=>t(i.chapterId,s,"append"),disabled:r(m),class:"text-xs px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50"}," Add ",8,$e)]))),128))])])])):_("",!0),r(p)?(d(),l("div",Re,[e("div",Me,[c(r(I),{class:"h-4 w-4 text-red-500 mt-0.5 flex-shrink-0"}),e("div",null,[a[11]||(a[11]=e("p",{class:"text-sm font-medium text-red-800 dark:text-red-200"}," Analysis Error ",-1)),e("p",Pe,h(r(p)),1)])])])):_("",!0)]))}}),Ne={key:0,class:"fixed inset-0 z-50 lg:hidden"},qe={class:"fixed top-0 left-0 h-full w-80 overflow-y-auto border-r bg-background shadow-xl transform transition-transform"},Ee={class:"border-b p-3"},Be={class:"flex items-center justify-between"},Ge={class:"space-y-4 p-4 mobile-enhanced"},We={key:0,class:"fixed inset-0 z-50 lg:hidden"},Ie={class:"fixed top-0 right-0 h-full w-96 overflow-y-auto border-l bg-background shadow-xl transform transition-transform"},Xe={class:"border-b p-3"},Fe={class:"flex items-center justify-between"},Qe={class:"space-y-4 p-4 mobile-enhanced"},ze=X({__name:"MobileNavOverlay",props:{showLeftSidebar:{type:Boolean},showRightSidebar:{type:Boolean},isMobile:{type:Boolean},allChapters:{},currentChapter:{},project:{},currentWordCount:{},targetWordCount:{},writingQualityScore:{},chapterContentLength:{},isGenerating:{type:Boolean},selectedText:{},isLoadingSuggestions:{type:Boolean},showCitationHelper:{type:Boolean},chapterContent:{},showDefensePrep:{type:Boolean},defenseQuestions:{},isLoadingDefenseQuestions:{type:Boolean},isGeneratingDefenseQuestions:{type:Boolean},meetsDefenseThreshold:{type:Boolean},shouldShowDefenseProgress:{type:Boolean},defenseProgressPercentage:{},defenseWordsRemaining:{},hasTriggeredGeneration:{type:Boolean}},emits:["update:showLeftSidebar","update:showRightSidebar","goToChapter","generateNextChapter","startStreamingGeneration","getAISuggestions","update:showCitationHelper","checkCitations","update:showDefensePrep","generate-more","refresh","mark-helpful","hide-question"],setup(u,{emit:n}){const m=C(u.showDefensePrep??!0),p=n,y=()=>p("update:showLeftSidebar",!1),S=()=>p("update:showRightSidebar",!1),D=t=>p("goToChapter",t),b=()=>p("generateNextChapter"),$=(t,i)=>p("startStreamingGeneration",t,i),w=()=>p("getAISuggestions"),x=t=>p("update:showCitationHelper",t),L=t=>{m.value=t,p("update:showDefensePrep",t)},R=()=>p("generate-more"),T=()=>p("refresh"),M=(t,i)=>p("mark-helpful",t,i),A=t=>p("hide-question",t);return(t,i)=>(d(),l("div",null,[c(j,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[t.showLeftSidebar&&t.isMobile?(d(),l("div",Ne,[c(j,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[e("div",{class:"fixed inset-0 bg-black/50",onClick:y})]),_:1}),c(j,{"enter-active-class":"duration-300 ease-out","enter-from-class":"-translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"duration-200 ease-in","leave-from-class":"translate-x-0","leave-to-class":"-translate-x-full"},{default:v(()=>[e("div",qe,[e("div",Ee,[e("div",Be,[i[0]||(i[0]=e("h2",{class:"text-base font-semibold"},"Navigation",-1)),c(r(B),{onClick:y,variant:"ghost",size:"sm",class:"h-8 w-8"},{default:v(()=>[c(r(W),{class:"h-4 w-4"})]),_:1})])]),e("div",Ge,[c(Z,{"all-chapters":t.allChapters,"current-chapter":t.currentChapter,project:t.project,"current-word-count":t.currentWordCount,"target-word-count":t.targetWordCount,"writing-quality-score":t.writingQualityScore,"chapter-content-length":t.chapterContentLength,onGoToChapter:D,onGenerateNextChapter:b},null,8,["all-chapters","current-chapter","project","current-word-count","target-word-count","writing-quality-score","chapter-content-length"]),c(r(U),{class:"border-border/50"},{default:v(()=>[c(r(K),{class:"h-4 w-4 text-muted-foreground"}),c(r(V),{class:"text-xs text-muted-foreground"},{default:v(()=>[...i[1]||(i[1]=[e("strong",{class:"text-foreground"},"Pro Tips:",-1),e("br",null,null,-1),E(" • Press Ctrl+S to save",-1),e("br",null,null,-1),E(" • Ctrl+Z/Y for undo/redo",-1),e("br",null,null,-1),E(" • Select text for AI suggestions",-1),e("br",null,null,-1),E(" • F11 for distraction-free mode ",-1)])]),_:1})]),_:1})])])]),_:1})])):_("",!0)]),_:1}),c(j,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[t.showRightSidebar&&t.isMobile?(d(),l("div",We,[c(j,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[e("div",{class:"fixed inset-0 bg-black/50",onClick:S})]),_:1}),c(j,{"enter-active-class":"duration-300 ease-out","enter-from-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"duration-200 ease-in","leave-from-class":"translate-x-0","leave-to-class":"translate-x-full"},{default:v(()=>[e("div",Ie,[e("div",Xe,[e("div",Fe,[i[2]||(i[2]=e("h2",{class:"text-base font-semibold"},"AI Tools",-1)),c(r(B),{onClick:S,variant:"ghost",size:"sm",class:"h-8 w-8"},{default:v(()=>[c(r(W),{class:"h-4 w-4"})]),_:1})])]),e("div",Qe,[c(O,{project:t.project,chapter:t.currentChapter,"is-generating":t.isGenerating,"selected-text":t.selectedText,"is-loading-suggestions":t.isLoadingSuggestions,"show-citation-helper":t.showCitationHelper,"chapter-content":t.chapterContent,"current-word-count":t.currentWordCount,"target-word-count":t.targetWordCount,onStartStreamingGeneration:$,onGetAiSuggestions:w,"onUpdate:showCitationHelper":x},null,8,["project","chapter","is-generating","selected-text","is-loading-suggestions","show-citation-helper","chapter-content","current-word-count","target-word-count"]),c(J,{"show-defense-prep":m.value,questions:t.defenseQuestions??[],"is-loading":t.isLoadingDefenseQuestions??!1,"is-generating":t.isGeneratingDefenseQuestions??!1,"chapter-context":{chapter_number:t.currentChapter.chapter_number,chapter_title:t.currentChapter.title,word_count:t.currentWordCount},"defense-watcher":{meetsThreshold:t.meetsDefenseThreshold??!1,shouldShowProgress:t.shouldShowDefenseProgress??!1,progressPercentage:t.defenseProgressPercentage??0,wordsRemaining:t.defenseWordsRemaining??0,hasTriggeredGeneration:t.hasTriggeredGeneration??!1,threshold:500,statusMessage:t.shouldShowDefenseProgress??!1?`Write ${t.defenseWordsRemaining??0} more words to generate defense questions`:"Ready to generate defense questions"},"onUpdate:showDefensePrep":L,onGenerateMore:R,onRefresh:T,onMarkHelpful:M,onHideQuestion:A},null,8,["show-defense-prep","questions","is-loading","is-generating","chapter-context","defense-watcher"]),c(He,{"chapter-id":t.currentChapter.id,content:t.chapterContent},null,8,["chapter-id","content"])])])]),_:1})])):_("",!0)]),_:1})]))}}),_r=Y(ze,[["__scopeId","data-v-76cd8967"]]);export{_r as default};
