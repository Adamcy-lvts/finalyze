import{P as Q,a as O,_ as E}from"./index-DdjhVIk5.js";import{_ as et,a as tt}from"./CardContent.vue_vue_type_script_setup_true_lang-GJ3J8yz-.js";import{u as ft,o as $e,n as be,f as Re,s as pe,F as vt,t as mt,g as M,h as U,i as G,j as L,l as K,_ as De,a as Pe,c as Te,b as Be,d as Fe,e as Ne,k as _t}from"./vee-validate-zod-DVBqWUHt.js";import{_ as fe}from"./Input.vue_vue_type_script_setup_true_lang-BrSuEOJv.js";import{c as Ae,d as Ee,e as Oe,_ as yt}from"./AppLayout.vue_vue_type_script_setup_true_lang-VsEI6pm_.js";import{j as at,c as xe,R as gt,P as bt,u as He,m as ht,d as st,h as me}from"./VisuallyHidden-NIevzlSJ.js";import{u as lt,V as ot}from"./VisuallyHiddenInput-DP0EQDxM.js";import{u as Ue,a as H,c as Xe}from"./useForwardExpose-B9GGfyTK.js";import{d as $,C as we,b as R,a as x,o as f,w as a,r as A,L as N,u as e,Q as D,U as Ge,K as t,B as j,S as rt,f as te,i as Se,F as o,H as C,I as it,J as St,a4 as ke,a6 as je,c as q,M as g,n as W,N as Y,R as ne,a8 as xt,a3 as wt,O as kt}from"./app-qOMdRN8u.js";import{r as ae}from"./index-D1ZM71Rt.js";import{R as jt}from"./RovingFocusItem-DwWLE0ex.js";import{m as Ct,u as Vt}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BrIX0XIw.js";import{i as It}from"./ohash.D__AXeF1-C-E83dC9.js";import{C as qt}from"./circle-1eAGzq5l.js";import{_ as ve}from"./index-BINz85eJ.js";import{_ as $t,a as Rt}from"./CardTitle.vue_vue_type_script_setup_true_lang-DFeWFrL3.js";import{E as Dt}from"./eye-BAtXB8Mn.js";import{E as Pt}from"./eye-off-CuyB1Jct.js";import{D as Tt}from"./download-D0pf8t0T.js";import{T as Bt}from"./trash-2-CdgLoVSk.js";import{R as Ft}from"./refresh-cw-CV5Nfrli.js";import{_ as Nt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{t as z,B as At}from"./index-hMoChnMN.js";import{G as Qe}from"./graduation-cap-BjsP0_B3.js";import{S as Et}from"./school-CApKCfUc.js";import{F as Ze}from"./file-text-CxZ1T_wy.js";import{C as he}from"./check-CiTWsk8U.js";import{C as ze}from"./UserInfo.vue_vue_type_script_setup_true_lang-BZGYvGeR.js";import"./search-8f4w3-_g.js";import"./Label.vue_vue_type_script_setup_true_lang-xdSaaVUP.js";import"./coins-ChXKqGBP.js";import"./log-out-CuZiXC3R.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-CPevuhWg.js";import"./plus-BK056iww.js";import"./chevron-right-o0YmRdmv.js";import"./Sonner.vue_vue_type_script_setup_true_lang-ByOjaXSV.js";import"./x-DYtB_dSi.js";import"./triangle-alert-CuEGQevP.js";import"./circle-check-uQUCCLJs.js";const Ot="radio.select";function zt(S,u,r){Ct(Ot,r,{originalEvent:S,value:u})}var Mt=$({__name:"Radio",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},checked:{type:Boolean,required:!1,default:void 0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:checked","select"],setup(S,{emit:u}){const r=S,c=u,h=Ue(r,"checked",c,{passive:r.checked===void 0}),{value:i}=we(r),{forwardRef:b,currentElement:w}=H(),_=lt(w),l=R(()=>r.id&&w.value?document.querySelector(`[for="${r.id}"]`)?.innerText??r.value:void 0);function p(m){r.disabled||zt(m,r.value,I=>{c("select",I),!I?.defaultPrevented&&(h.value=!0,_.value&&I.stopPropagation())})}return(m,I)=>(f(),x(e(Q),D(m.$attrs,{id:m.id,ref:e(b),role:"radio",type:m.as==="button"?"button":void 0,as:m.as,"aria-checked":e(h),"aria-label":l.value,"as-child":m.asChild,disabled:m.disabled?"":void 0,"data-state":e(h)?"checked":"unchecked","data-disabled":m.disabled?"":void 0,value:e(i),required:m.required,name:m.name,onClick:Ge(p,["stop"])}),{default:a(()=>[A(m.$slots,"default",{checked:e(h)}),e(_)&&m.name?(f(),x(e(ot),{key:0,type:"radio",tabindex:"-1",value:e(i),checked:!!e(h),name:m.name,disabled:m.disabled,required:m.required},null,8,["value","checked","name","disabled","required"])):N("v-if",!0)]),_:3},16,["id","type","as","aria-checked","aria-label","as-child","disabled","data-state","data-disabled","value","required","name"]))}}),Ut=Mt;const[Gt,Lt]=xe("RadioGroupRoot");var Kt=$({__name:"RadioGroupRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(S,{emit:u}){const r=S,c=u,{forwardRef:h,currentElement:i}=H(),b=Ue(r,"modelValue",c,{defaultValue:r.defaultValue,passive:r.modelValue===void 0}),{disabled:w,loop:_,orientation:l,name:p,required:m,dir:I}=we(r),V=at(I),T=lt(i);return Lt({modelValue:b,changeModelValue:P=>{b.value=P},disabled:w,loop:_,orientation:l,name:p?.value,required:m}),(P,se)=>(f(),x(e(gt),{"as-child":"",orientation:e(l),dir:e(V),loop:e(_)},{default:a(()=>[t(e(Q),{ref:e(h),role:"radiogroup","data-disabled":e(w)?"":void 0,"as-child":P.asChild,as:P.as,"aria-orientation":e(l),"aria-required":e(m),dir:e(V)},{default:a(()=>[A(P.$slots,"default",{modelValue:e(b)}),e(T)&&e(p)?(f(),x(e(ot),{key:0,required:e(m),disabled:e(w),value:e(b),name:e(p)},null,8,["required","disabled","value","name"])):N("v-if",!0)]),_:3},8,["data-disabled","as-child","as","aria-orientation","aria-required","dir"])]),_:3},8,["orientation","dir","loop"]))}}),Wt=Kt;const[Jt,Yt]=xe("RadioGroupItem");var Ht=$({inheritAttrs:!1,__name:"RadioGroupItem",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["select"],setup(S,{emit:u}){const r=S,c=u,{forwardRef:h,currentElement:i}=H(),b=Gt(),w=R(()=>b.disabled.value||r.disabled),_=R(()=>b.required.value||r.required),l=R(()=>It(b.modelValue?.value,r.value));Yt({disabled:w,checked:l});const p=j(!1),m=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];Xe("keydown",V=>{m.includes(V.key)&&(p.value=!0)}),Xe("keyup",()=>{p.value=!1});function I(){setTimeout(()=>{p.value&&i.value?.click()},0)}return(V,T)=>(f(),x(e(jt),{checked:l.value,disabled:w.value,"as-child":"",focusable:!w.value,active:l.value},{default:a(()=>[t(Ut,D({...V.$attrs,...r},{ref:e(h),checked:l.value,required:_.value,disabled:w.value,"onUpdate:checked":T[0]||(T[0]=P=>e(b).changeModelValue(V.value)),onSelect:T[1]||(T[1]=P=>c("select",P)),onKeydown:T[2]||(T[2]=rt(Ge(()=>{},["prevent"]),["enter"])),onFocus:I}),{default:a(()=>[A(V.$slots,"default",{checked:l.value,required:_.value,disabled:w.value})]),_:3},16,["checked","required","disabled"])]),_:3},8,["checked","disabled","focusable","active"]))}}),Xt=Ht,Qt=$({__name:"RadioGroupIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(S){const{forwardRef:u}=H(),r=Jt();return(c,h)=>(f(),x(e(bt),{present:c.forceMount||e(r).checked.value},{default:a(()=>[t(e(Q),D({ref:e(u),"data-state":e(r).checked.value?"checked":"unchecked","data-disabled":e(r).disabled.value?"":void 0,"as-child":c.asChild,as:c.as},c.$attrs),{default:a(()=>[A(c.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),Zt=Qt;const ea={"aria-live":"polite","aria-atomic":"true",role:"status",style:{transform:"translateX(-100%)",position:"absolute",pointerEvents:"none",opacity:0,margin:0}},[ut,ta]=xe("StepperRoot");var aa=$({__name:"StepperRoot",props:{defaultValue:{type:Number,required:!1,default:1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},modelValue:{type:Number,required:!1},linear:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(S,{expose:u,emit:r}){const c=S,h=r,{dir:i,orientation:b,linear:w}=we(c),_=at(i),l=j(new Set),p=Ue(c,"modelValue",h,{defaultValue:c.defaultValue,passive:c.modelValue===void 0}),m=R(()=>Array.from(l.value)),I=R(()=>p.value===1),V=R(()=>p.value===m.value.length),T=R(()=>l.value.size);function P(B){B>T.value||B<1||l.value.size&&m.value[B]&&m.value[B].getAttribute("disabled")||w.value&&B>(p.value??1)+1||(p.value=B)}function se(){P((p.value??1)+1)}function Z(){P((p.value??1)-1)}function le(){return(p.value??1)<T.value}function oe(){return(p.value??1)>1}const X=j(null),J=j(null),re=R(()=>X.value?X.value.getAttribute("disabled")==="":!0),_e=R(()=>J.value?J.value.getAttribute("disabled")==="":!0);return te(p,async()=>{await Se(()=>{X.value=m.value.length&&p.value<m.value.length?m.value[p.value]:null,J.value=m.value.length&&p.value>1?m.value[p.value-2]:null})}),te(m,async()=>{await Se(()=>{X.value=m.value.length&&p.value<m.value.length?m.value[p.value]:null,J.value=m.value.length&&p.value>1?m.value[p.value-2]:null})}),ta({modelValue:p,changeModelValue:B=>{p.value=B},orientation:b,dir:_,linear:w,totalStepperItems:l}),u({goToStep:P,nextStep:se,prevStep:Z,modelValue:p,totalSteps:T,isNextDisabled:re,isPrevDisabled:_e,isFirstStep:I,isLastStep:V,hasNext:le,hasPrev:oe}),H(),(B,Ke)=>(f(),x(e(Q),{role:"group","aria-label":"progress",as:B.as,"as-child":B.asChild,"data-linear":e(w)?"":void 0,"data-orientation":B.orientation},{default:a(()=>[A(B.$slots,"default",{modelValue:e(p),totalSteps:l.value.size,isNextDisabled:re.value,isPrevDisabled:_e.value,isFirstStep:I.value,isLastStep:V.value,goToStep:P,nextStep:se,prevStep:Z,hasNext:le,hasPrev:oe}),o("div",ea," Step "+C(e(p))+" of "+C(l.value.size),1)]),_:3},8,["as","as-child","data-linear","data-orientation"]))}}),sa=aa;const[Le,la]=xe("StepperItem");var oa=$({__name:"StepperItem",props:{step:{type:Number,required:!0},disabled:{type:Boolean,required:!1,default:!1},completed:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(S){const u=S,{disabled:r,step:c,completed:h}=we(u),{forwardRef:i}=H(),b=ut(),w=He(void 0,"reka-stepper-item-title"),_=He(void 0,"reka-stepper-item-description"),l=R(()=>h.value?"completed":b.modelValue.value===c.value?"active":b.modelValue.value>c.value?"completed":"inactive"),p=R(()=>r.value?!1:b.linear.value?c.value<=b.modelValue.value||c.value===b.modelValue.value+1:!0);return la({titleId:w,descriptionId:_,state:l,disabled:r,step:c,isFocusable:p}),(m,I)=>(f(),x(e(Q),{ref:e(i),as:m.as,"as-child":m.asChild,"aria-current":l.value==="active"?"true":void 0,"data-state":l.value,disabled:e(r)||!p.value?"":void 0,"data-disabled":e(r)||!p.value?"":void 0,"data-orientation":e(b).orientation.value},{default:a(()=>[A(m.$slots,"default",{state:l.value})]),_:3},8,["as","as-child","aria-current","data-state","disabled","data-disabled","data-orientation"]))}}),ra=oa,ia=$({__name:"StepperDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(S){const u=S;H();const r=Le();return(c,h)=>(f(),x(e(Q),D(u,{id:e(r).descriptionId}),{default:a(()=>[A(c.$slots,"default")]),_:3},16,["id"]))}}),ua=ia,na=$({__name:"StepperTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h4"}},setup(S){const u=S,r=Le();return H(),(c,h)=>(f(),x(e(Q),D(u,{id:e(r).titleId}),{default:a(()=>[A(c.$slots,"default")]),_:3},16,["id"]))}}),da=na,ca=$({__name:"StepperTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(S){const u=ut(),r=Le(),c=ft(),h=R(()=>Array.from(u.totalStepperItems.value));function i(l){if(!r.disabled.value){if(u.linear.value){if((r.step.value<=u.modelValue.value||r.step.value===u.modelValue.value+1)&&l.ctrlKey===!1){u.changeModelValue(r.step.value);return}}else if(l.ctrlKey===!1){u.changeModelValue(r.step.value);return}l.preventDefault()}}function b(l){l.preventDefault(),!r.disabled.value&&((l.key===c.ENTER||l.key===c.SPACE)&&!l.ctrlKey&&!l.shiftKey&&u.changeModelValue(r.step.value),[c.ARROW_LEFT,c.ARROW_RIGHT,c.ARROW_UP,c.ARROW_DOWN].includes(l.key)&&Vt(l,ht(),void 0,{itemsArray:h.value,focus:!0,loop:!1,arrowKeyOptions:u.orientation.value,dir:u.dir.value}))}const{forwardRef:w,currentElement:_}=H();return it(()=>{u.totalStepperItems.value.add(_.value)}),St(()=>{u.totalStepperItems.value.delete(_.value)}),(l,p)=>(f(),x(e(Q),{ref:e(w),type:l.as==="button"?"button":void 0,as:l.as,"as-child":l.asChild,"data-state":e(r).state.value,disabled:e(r).disabled.value||!e(r).isFocusable.value?"":void 0,"data-disabled":e(r).disabled.value||!e(r).isFocusable.value?"":void 0,"data-orientation":e(u).orientation.value,tabindex:e(r).isFocusable.value?0:-1,"aria-describedby":e(r).descriptionId,"aria-labelledby":e(r).titleId,onMousedown:Ge(i,["left"]),onKeydown:rt(b,["enter","space","left","right","up","down"])},{default:a(()=>[A(l.$slots,"default")]),_:3},8,["type","as","as-child","data-state","disabled","data-disabled","data-orientation","tabindex","aria-describedby","aria-labelledby"]))}}),pa=ca;const Me=$({__name:"RadioGroup",props:{modelValue:{},defaultValue:{},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(S,{emit:u}){const r=S,c=u,h=ae(r,"class"),i=st(h,c);return(b,w)=>(f(),x(e(Wt),D({"data-slot":"radio-group",class:e(O)("grid gap-3",r.class)},e(i)),{default:a(()=>[A(b.$slots,"default")]),_:3},16,["class"]))}}),ee=$({__name:"RadioGroupItem",props:{id:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},setup(S){const u=S,r=ae(u,"class"),c=me(r);return(h,i)=>(f(),x(e(Xt),D({"data-slot":"radio-group-item"},e(c),{class:e(O)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",u.class)}),{default:a(()=>[t(e(Zt),{"data-slot":"radio-group-indicator",class:"relative flex items-center justify-center"},{default:a(()=>[t(e(qt),{class:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})]),_:1})]),_:1},16,["class"]))}}),fa=$({__name:"Stepper",props:{defaultValue:{},orientation:{},dir:{},modelValue:{},linear:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue"],setup(S,{emit:u}){const r=S,c=u,h=ae(r,"class"),i=st(h,c);return(b,w)=>(f(),x(e(sa),D({class:e(O)("flex gap-2",r.class)},e(i)),{default:a(_=>[A(b.$slots,"default",ke(je(_)))]),_:3},16,["class"]))}}),va=$({__name:"StepperDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(S){const u=S,r=ae(u,"class"),c=me(r);return(h,i)=>(f(),x(e(ua),D(e(c),{class:e(O)("text-xs text-muted-foreground",u.class)}),{default:a(b=>[A(h.$slots,"default",ke(je(b)))]),_:3},16,["class"]))}}),ma=$({__name:"StepperItem",props:{step:{},disabled:{type:Boolean},completed:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(S){const u=S,r=ae(u,"class"),c=me(r);return(h,i)=>(f(),x(e(ra),D(e(c),{class:e(O)("flex items-center gap-2 group data-[disabled]:pointer-events-none",u.class)}),{default:a(b=>[A(h.$slots,"default",ke(je(b)))]),_:3},16,["class"]))}}),_a=$({__name:"StepperTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(S){const u=S,r=ae(u,"class"),c=me(r);return(h,i)=>(f(),x(e(da),D(e(c),{class:e(O)("text-md font-semibold whitespace-nowrap",u.class)}),{default:a(()=>[A(h.$slots,"default")]),_:3},16,["class"]))}}),ya=$({__name:"StepperTrigger",props:{asChild:{type:Boolean},as:{},class:{}},setup(S){const u=S,r=ae(u,"class"),c=me(r);return(h,i)=>(f(),x(e(pa),D(e(c),{class:e(O)("p-1 flex flex-col items-center text-center gap-1 rounded-md",u.class)}),{default:a(()=>[A(h.$slots,"default")]),_:3},16,["class"]))}}),ga={class:"fixed right-4 bottom-4 z-50"},ba={class:"flex items-center justify-between"},ha={class:"flex gap-1"},Sa={class:"space-y-2"},xa={class:"space-y-1"},wa={class:"flex justify-between"},ka={class:"flex justify-between"},ja={class:"flex justify-between"},Ca={class:"flex justify-between"},Va={key:0,class:"space-y-2"},Ia={class:"space-y-1"},qa={class:"space-y-2"},$a={class:"max-h-40 overflow-auto rounded bg-muted p-2 font-mono text-[10px]"},Ra={class:"space-y-2"},Da={class:"max-h-40 overflow-auto rounded bg-muted p-2 font-mono text-[10px]"},Pa={class:"space-y-2"},Ta={class:"flex gap-2"},Ba=$({__name:"WizardDebugPanel",props:{currentStep:{},projectId:{},formValues:{},savedValues:{},isInitializing:{type:Boolean}},setup(S){const u=S,r=j(!1),c=j(!0),h=R(()=>JSON.stringify(u.formValues)===JSON.stringify(u.savedValues)),i=R(()=>{const _=[];for(const l in u.formValues)u.formValues[l]!==u.savedValues[l]&&_.push(l);return _}),b=()=>{const _={timestamp:new Date().toISOString(),currentStep:u.currentStep,projectId:u.projectId,formValues:u.formValues,savedValues:u.savedValues,unsavedFields:i.value,localStorage:{}};for(let I=0;I<localStorage.length;I++){const V=localStorage.key(I);V&&V.includes("project")&&(_.localStorage[V]=localStorage.getItem(V))}const l=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),p=URL.createObjectURL(l),m=document.createElement("a");m.href=p,m.download=`wizard-debug-${Date.now()}.json`,m.click()},w=()=>{if(confirm("This will clear all saved wizard data. Are you sure?")){const _=[];for(let l=0;l<localStorage.length;l++){const p=localStorage.key(l);p&&p.includes("project")&&_.push(p)}_.forEach(l=>localStorage.removeItem(l)),typeof window<"u"&&window.location.reload()}};return te(()=>u.formValues,()=>{c.value&&console.log("Form values changed:",u.formValues)},{deep:!0}),(_,l)=>(f(),q(Y,null,[o("div",ga,[t(e(E),{onClick:l[0]||(l[0]=p=>r.value=!r.value),size:"icon",variant:"outline",class:"bg-background shadow-lg"},{default:a(()=>[r.value?(f(),x(e(Pt),{key:1,class:"h-4 w-4"})):(f(),x(e(Dt),{key:0,class:"h-4 w-4"}))]),_:1})]),t(xt,{name:"slide"},{default:a(()=>[r.value?(f(),x(e(et),{key:0,class:"fixed right-4 bottom-20 z-40 max-h-[600px] w-96 overflow-auto shadow-xl"},{default:a(()=>[t(e($t),{class:"pb-3"},{default:a(()=>[o("div",ba,[t(e(Rt),{class:"text-sm font-medium"},{default:a(()=>[...l[4]||(l[4]=[g("Wizard Debug Panel",-1)])]),_:1}),o("div",ha,[t(e(E),{size:"icon",variant:"ghost",class:"h-6 w-6",onClick:b},{default:a(()=>[t(e(Tt),{class:"h-3 w-3"})]),_:1}),t(e(E),{size:"icon",variant:"ghost",class:"h-6 w-6",onClick:w},{default:a(()=>[t(e(Bt),{class:"h-3 w-3"})]),_:1}),t(e(E),{size:"icon",variant:"ghost",class:"h-6 w-6",onClick:l[1]||(l[1]=p=>c.value=!c.value)},{default:a(()=>[t(e(Ft),{class:W(["h-3 w-3",c.value&&"animate-spin"])},null,8,["class"])]),_:1})])])]),_:1}),t(e(tt),{class:"space-y-4 text-xs"},{default:a(()=>[o("div",Sa,[l[9]||(l[9]=o("div",{class:"font-semibold"},"Status",-1)),o("div",xa,[o("div",wa,[l[5]||(l[5]=o("span",{class:"text-muted-foreground"},"Current Step:",-1)),t(e(ve),{variant:"outline"},{default:a(()=>[g(C(_.currentStep),1)]),_:1})]),o("div",ka,[l[6]||(l[6]=o("span",{class:"text-muted-foreground"},"Project ID:",-1)),t(e(ve),{variant:"outline"},{default:a(()=>[g(C(_.projectId||"Not created"),1)]),_:1})]),o("div",ja,[l[7]||(l[7]=o("span",{class:"text-muted-foreground"},"Initializing:",-1)),t(e(ve),{variant:_.isInitializing?"destructive":"default"},{default:a(()=>[g(C(_.isInitializing?"Yes":"No"),1)]),_:1},8,["variant"])]),o("div",Ca,[l[8]||(l[8]=o("span",{class:"text-muted-foreground"},"Values Synced:",-1)),t(e(ve),{variant:h.value?"default":"destructive"},{default:a(()=>[g(C(h.value?"Yes":"No"),1)]),_:1},8,["variant"])])])]),i.value.length>0?(f(),q("div",Va,[l[10]||(l[10]=o("div",{class:"font-semibold text-amber-600"},"Unsaved Fields",-1)),o("div",Ia,[(f(!0),q(Y,null,ne(i.value,p=>(f(),x(e(ve),{key:p,variant:"destructive",class:"mr-1 mb-1"},{default:a(()=>[g(C(p),1)]),_:2},1024))),128))])])):N("",!0),o("div",qa,[l[11]||(l[11]=o("div",{class:"font-semibold"},"Current Form Values",-1)),o("div",$a,[o("pre",null,C(JSON.stringify(_.formValues,null,2)),1)])]),o("div",Ra,[l[12]||(l[12]=o("div",{class:"font-semibold"},"Saved Values",-1)),o("div",Da,[o("pre",null,C(JSON.stringify(_.savedValues,null,2)),1)])]),o("div",Pa,[l[15]||(l[15]=o("div",{class:"font-semibold"},"Debug Actions",-1)),o("div",Ta,[t(e(E),{size:"sm",variant:"outline",onClick:l[2]||(l[2]=p=>_.$emit("force-save"))},{default:a(()=>[...l[13]||(l[13]=[g(" Force Save ",-1)])]),_:1}),t(e(E),{size:"sm",variant:"outline",onClick:l[3]||(l[3]=p=>_.$emit("reset-form"))},{default:a(()=>[...l[14]||(l[14]=[g(" Reset Form ",-1)])]),_:1})])])]),_:1})]),_:1})):N("",!0)]),_:1})],64))}}),Fa=Nt(Ba,[["__scopeId","data-v-93b26200"]]),Na={class:"mx-auto max-w-4xl space-y-6"},Aa={key:0,class:"mt-2 rounded-lg border border-blue-200 bg-blue-50 p-3 text-xs text-blue-600"},Ea=["onSubmit"],Oa={class:"flex w-full flex-col items-start justify-start gap-4 md:flex-row md:gap-0"},za={class:"flex flex-col items-start text-left md:mt-5 md:items-center md:text-center"},Ma={key:0,class:"mt-1 block text-xs text-blue-600"},Ua={class:"mt-8 space-y-6"},Ga={key:0,class:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500"},La={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Ka={class:"flex cursor-pointer items-center space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},Wa={class:"flex cursor-pointer items-center space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},Ja={class:"flex cursor-pointer items-center space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},Ya={class:"flex cursor-pointer items-center space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},Ha={class:"space-y-3"},Xa={class:"flex-1 space-y-2"},Qa={class:"font-medium"},Za={class:"text-sm text-muted-foreground"},es={class:"grid grid-cols-1 gap-2 text-xs text-muted-foreground sm:grid-cols-3"},ts={class:"flex items-center gap-1"},as={class:"flex items-center gap-1"},ss={class:"flex items-center gap-1"},ls={key:0,class:"py-8 text-center text-muted-foreground"},os={key:1,class:"py-8 text-center text-muted-foreground"},rs={key:1,class:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-500"},is={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},us={key:2,class:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500"},ns={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ds={class:"space-y-3"},cs={class:"flex cursor-pointer items-start space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},ps={class:"flex cursor-pointer items-start space-y-0 space-x-3 rounded-md border p-4 hover:bg-accent"},fs={class:"mt-8 flex justify-between"},vs={class:"flex gap-3"},el=$({__name:"Create",props:{projectCategories:{},resumeProject:{}},setup(S){const u=S,r=[$e({projectType:Re(["undergraduate","postgraduate","hnd","nd"]),projectCategoryId:be({required_error:"Please select a project category"})}),$e({universityId:be({required_error:"Please select your university"}),facultyId:be({required_error:"Please select your faculty"}),departmentId:be({required_error:"Please select your department"}),course:pe().min(2,"Course of study is required")}),$e({fieldOfStudy:pe().optional(),supervisorName:pe().optional(),matricNumber:pe().optional(),academicSession:pe().min(1,"Academic session is required"),workingMode:Re(["auto","manual"]),aiAssistanceLevel:Re(["minimal","moderate","maximum"]).optional()})],c=R(()=>r[i.value-1]),h=!1,i=j(1),b=j(null),w=j(!0),_=j({format_version:"2.0",steps:{},current_step:1,furthest_completed_step:0}),l=j("");let p=null;const m=j([]),I=j([]),V=j([]),T=j(!1),P=j(!1),se=j(!1),Z=j(null),le=j(!1),oe=j(!1),X=j(!1),J=n=>{const s=n.toString();return _.value.steps[s]?.data??{}},re=(n,s)=>{const v=n.toString();_.value.steps[v]={data:s,completed:_e(n,s),timestamp:new Date().toISOString()},_.value.current_step=Math.max(_.value.current_step,n),_.value.steps[v].completed&&(_.value.furthest_completed_step=Math.max(_.value.furthest_completed_step,n))},_e=(n,s)=>({1:["projectType","projectCategoryId"],2:["universityId","facultyId","departmentId","course"],3:["academicSession","workingMode"]}[n]||[]).every(F=>s[F]&&s[F]!==""),B=()=>{const n={};return Object.values(_.value.steps).forEach(s=>{Object.assign(n,s.data)}),n};te(i,n=>{console.log("ðŸ‘€ Step changed to:",n),_.value.current_step=n,Se(()=>{ce.value=J(n),ge.value++;const s=J(n);s.projectType&&(l.value=s.projectType),n===2&&s.facultyId&&(Z.value=s.facultyId,Ce(s.facultyId))})}),it(()=>{if(Ke(),nt(),u.resumeProject){console.log("ðŸ“„ Resuming project setup...",u.resumeProject),i.value=u.resumeProject.current_step,b.value=u.resumeProject.id,_.value=u.resumeProject.wizard_data;const n=J(i.value);ce.value=n,n.projectType&&(l.value=n.projectType),n.facultyId&&(Z.value=n.facultyId,Ce(n.facultyId)),ge.value=Date.now(),console.log("âœ… Step-aware state restored:",{step:i.value,wizardData:_.value,currentStepData:n,selectedProjectType:l.value})}else console.log("ðŸ†• Starting fresh project setup"),ce.value={},ge.value=Date.now();Se(()=>{w.value=!1})});const Ke=async()=>{T.value=!0;try{const s=await(await fetch("/api/universities")).json();m.value=s.universities}catch(n){console.error("Failed to fetch universities:",n),z("Error loading universities")}finally{T.value=!1}},nt=async()=>{P.value=!0;try{const s=await(await fetch("/api/faculties")).json();I.value=s.faculties}catch(n){console.error("Failed to fetch faculties:",n),z("Error loading faculties")}finally{P.value=!1}},Ce=async n=>{se.value=!0;try{const v=await(await fetch(`/api/faculties/${n}/departments`)).json();V.value=v.departments}catch(s){console.error("Failed to fetch departments:",s),z("Error loading departments")}finally{se.value=!1}};te(Z,n=>{n?Ce(n):V.value=[]});const Ve=async(n,s)=>{try{if(console.log("ðŸ’¾ Saving progress - Step:",n,"Data:",s),w.value){console.log("â¸ï¸ Skipping save during initialization");return}const v=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(!v){console.error("âŒ CSRF token not found"),z("Error",{description:"Security token missing. Please refresh the page."});return}const k=await fetch(route("projects.save-wizard-progress"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":v,"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin",body:JSON.stringify({project_id:b.value,step:n,data:s})});if(k.ok){const F=await k.json();F.success?(b.value=F.project_id,Ie.value={...s},console.log("âœ… Progress saved successfully")):(console.error("âŒ Save failed:",F),z("Save Failed",{description:F.message||"Failed to save progress."}))}else{if(console.error("âŒ Save request failed:",k.status,k.statusText),k.status===419){z("Session Expired",{description:"Please refresh the page to continue."});return}else if(k.status===422){const F=await k.json().catch(()=>({}));console.error("âŒ Validation errors:",F),z("Validation Error",{description:"Some form data is invalid."});return}throw new Error(`HTTP ${k.status}: ${k.statusText}`)}}catch(v){console.error("âŒ Failed to save progress:",v),v instanceof SyntaxError&&v.message.includes("Unexpected token")?z("Session Error",{description:"Your session may have expired. Please refresh the page."}):z("Auto-save Error",{description:"Failed to save your progress automatically."})}},We=(n,s)=>{p&&clearTimeout(p),p=setTimeout(()=>{Ve(n,s)},1e3)},ye=async(n,s)=>{if(n===i.value)return;console.log("ðŸ“„ Navigating from step",i.value,"to step",n);const v=qe(s,i.value);Object.keys(v).length>0&&(console.log("ðŸ’¾ Saving step",i.value,"data before navigation:",v),re(i.value,v),await Ve(i.value,v)),i.value=n,console.log("âœ… Navigation complete - now on step:",i.value)},ie=R(()=>(n,s,v)=>{const k=Math.max(s,u.resumeProject?.setup_step??1);return!!(n<=k||n===s+1&&v)}),de=[{step:1,title:"Academic Setup",description:"Level & project type",icon:Qe},{step:2,title:"Institution",description:"University details",icon:Et},{step:3,title:"Research Details",description:"Field & supervisor info",icon:Ze}],Je=n=>u.projectCategories[n]||[];te(l,n=>{if(n&&!w.value){const s={...Ie.value,projectType:n};We(i.value,s)}});const Ye=j({}),Ie=j({}),ce=j({}),ge=j(0);te(ce,n=>{n?.projectType&&n.projectType!==l.value&&(l.value=n.projectType,console.log("ðŸ”„ Synced selectedProjectType from form values:",n.projectType))},{deep:!0,immediate:!0});const qe=(n,s)=>{const k={1:["projectType","projectCategoryId"],2:["universityId","facultyId","departmentId","course"],3:["fieldOfStudy","supervisorName","matricNumber","academicSession","workingMode","aiAssistanceLevel"]}[s]||[];return Object.fromEntries(Object.entries(n||{}).filter(([F,d])=>k.includes(F)&&d!==null&&d!==void 0&&d!==""))},dt=n=>{if(w.value)return"";const s=qe(n,i.value);if(Object.keys(s).length>0){const v=J(i.value);JSON.stringify(s)!==JSON.stringify(v)&&(console.log("ðŸ”„ Step",i.value,"data changed:",s),re(i.value,s),s.projectType&&(l.value=s.projectType),We(i.value,s))}return""};function ct(n){console.log("ðŸš€ Submitting final step with current values:",n);const s=qe(n,i.value);re(i.value,s);const v=B();if(console.log("ðŸ“‹ All steps data for submission:",v),!v.projectType||!v.universityId||!v.facultyId||!v.departmentId){z("Incomplete Data",{description:"Please complete all previous steps before submitting."});return}const k={project_category_id:v.projectCategoryId,type:v.projectType,university_id:v.universityId,faculty_id:v.facultyId,department_id:v.departmentId,course:v.course,field_of_study:v.fieldOfStudy,supervisor_name:v.supervisorName,matric_number:v.matricNumber,academic_session:v.academicSession,mode:v.workingMode,ai_assistance_level:v.aiAssistanceLevel};console.log("ðŸŽ¯ Final project data for submission:",k),kt.post(route("projects.store"),k,{onSuccess:()=>{z("Project Created!",{description:"Your project has been set up successfully."})},onError:F=>{console.error("âŒ Project creation failed:",F),z("Error",{description:"Failed to create project. Please try again."})}})}return(n,s)=>(f(),x(yt,{title:"Create New Project"},{default:a(()=>[o("div",Na,[o("div",null,[s[6]||(s[6]=o("h1",{class:"text-3xl font-bold"},"Create Your Project",-1)),s[7]||(s[7]=o("p",{class:"text-muted-foreground"},"Set up your final year project in just a few steps",-1)),i.value>1?(f(),q("div",Aa,[...s[5]||(s[5]=[g(" ðŸ’¡ ",-1),o("strong",null,"Tip:",-1),g(" You can click on any previous step to go back and make changes. Your progress is automatically saved! ",-1)])])):N("",!0)]),t(e(et),null,{default:a(()=>[t(e(tt),{class:"pt-6"},{default:a(()=>[(f(),x(e(vt),{key:ge.value,as:"","keep-values":"","validation-schema":e(mt)(c.value),"initial-values":ce.value},{default:a(({meta:v,values:k,validate:F})=>[w.value?N("",!0):(f(),q(Y,{key:0},[g(C(dt(k)),1)],64)),t(e(fa),{modelValue:i.value,"onUpdate:modelValue":s[3]||(s[3]=d=>i.value=d),class:"w-full"},{default:a(()=>[o("form",{onSubmit:d=>{d.preventDefault(),F(),i.value===de.length&&v.valid&&ct(k)},class:"w-full"},[o("div",Oa,[(f(),q(Y,null,ne(de,(d,y)=>(f(),q(Y,{key:d.step},[t(e(ma),{class:"relative flex flex-shrink-0 flex-row items-center gap-4 md:flex-col md:gap-0",step:d.step},{default:a(({state:ue})=>[t(e(ya),{"as-child":""},{default:a(()=>[t(e(E),{variant:ue==="completed"||ue==="active"?"default":"outline",size:"icon",class:W(["relative z-10 shrink-0 rounded-full",[ue==="active"&&"ring-2 ring-ring ring-offset-2 ring-offset-background",!ie.value(d.step,i.value,v.valid)&&"cursor-not-allowed opacity-50"]]),disabled:!ie.value(d.step,i.value,v.valid),onClick:pt=>ye(d.step,k),type:"button"},{default:a(()=>[ue==="completed"?(f(),x(e(he),{key:0,class:"size-5"})):(f(),x(wt(d.icon),{key:1,class:"size-5"}))]),_:2},1032,["variant","class","disabled","onClick"])]),_:2},1024),o("div",za,[t(e(_a),{class:W([[ue==="active"&&"text-primary",ie.value(d.step,i.value,v.valid)&&d.step!==i.value&&"cursor-pointer text-blue-600 hover:text-blue-800"],"text-sm font-semibold transition lg:text-base"]),onClick:pt=>ie.value(d.step,i.value,v.valid)?ye(d.step,k):null},{default:a(()=>[g(C(d.title),1)]),_:2},1032,["class","onClick"]),t(e(va),{class:W([[ue==="active"&&"text-primary",ie.value(d.step,i.value,v.valid)&&d.step!==i.value&&"text-blue-500"],"text-xs text-muted-foreground transition md:text-sm"])},{default:a(()=>[g(C(d.description)+" ",1),ie.value(d.step,i.value,v.valid)&&d.step<i.value?(f(),q("span",Ma," (click to edit) ")):N("",!0)]),_:2},1032,["class"])])]),_:2},1032,["step"]),y<de.length-1?(f(),q("div",{key:0,class:W(["mt-5 hidden h-0.5 w-full max-w-[200px] transition-all duration-300 md:block",i.value>d.step?"bg-primary":"bg-muted"])},null,2)):N("",!0)],64))),64))]),o("div",Ua,[i.value===1?(f(),q("div",Ga,[t(e(M),{name:"projectType"},{default:a(({componentField:d})=>[t(e(U),null,{default:a(()=>[t(e(G),null,{default:a(()=>[...s[8]||(s[8]=[g("What is your academic level?",-1)])]),_:1}),t(e(L),null,{default:a(()=>[t(e(Me),{"model-value":d.modelValue,"onUpdate:modelValue":y=>{d["onUpdate:modelValue"]?.(y),l.value=y}},{default:a(()=>[o("div",La,[o("label",Ka,[t(e(ee),{value:"undergraduate"}),s[9]||(s[9]=o("div",{class:"space-y-1"},[o("p",{class:"text-sm font-medium"},"Undergraduate"),o("p",{class:"text-xs text-muted-foreground"},"BSc/BTech final year project")],-1))]),o("label",Wa,[t(e(ee),{value:"postgraduate"}),s[10]||(s[10]=o("div",{class:"space-y-1"},[o("p",{class:"text-sm font-medium"},"Postgraduate"),o("p",{class:"text-xs text-muted-foreground"},"MSc/PhD thesis")],-1))]),o("label",Ja,[t(e(ee),{value:"hnd"}),s[11]||(s[11]=o("div",{class:"space-y-1"},[o("p",{class:"text-sm font-medium"},"HND"),o("p",{class:"text-xs text-muted-foreground"},"Higher National Diploma")],-1))]),o("label",Ya,[t(e(ee),{value:"nd"}),s[12]||(s[12]=o("div",{class:"space-y-1"},[o("p",{class:"text-sm font-medium"},"ND"),o("p",{class:"text-xs text-muted-foreground"},"National Diploma")],-1))])])]),_:2},1032,["model-value","onUpdate:modelValue"])]),_:2},1024),t(e(K))]),_:2},1024)]),_:1}),t(e(M),{name:"projectCategoryId"},{default:a(({componentField:d})=>[t(e(U),null,{default:a(()=>[t(e(G),null,{default:a(()=>[...s[13]||(s[13]=[g("What type of project are you creating?",-1)])]),_:1}),t(e(L),null,{default:a(()=>[t(e(Me),{"model-value":d.modelValue?.toString(),"onUpdate:modelValue":y=>d["onUpdate:modelValue"]?.(parseInt(y))},{default:a(()=>[o("div",Ha,[(f(!0),q(Y,null,ne(Je(l.value),y=>(f(),q("label",{key:y.id,class:"flex cursor-pointer items-start space-y-0 space-x-3 rounded-md border p-4 transition-all duration-200 hover:border-primary hover:bg-accent/50 has-[[data-state=checked]]:border-primary has-[[data-state=checked]]:bg-primary/5"},[t(e(ee),{value:y.id.toString(),class:"mt-1"},null,8,["value"]),o("div",Xa,[o("div",null,[o("p",Qa,C(y.name),1),o("p",Za,C(y.description),1)]),o("div",es,[o("div",ts,[t(e(At),{class:"h-3 w-3"}),g(" "+C(y.default_chapter_count)+" chapters ",1)]),o("div",as,[t(e(Ze),{class:"h-3 w-3"}),g(" ~"+C((y.target_word_count/1e3).toFixed(0))+"k words ",1)]),o("div",ss,[t(e(Qe),{class:"h-3 w-3"}),g(" "+C(y.target_duration),1)])])])]))),128)),l.value?Je(l.value).length===0?(f(),q("div",os," No project categories available for this academic level ")):N("",!0):(f(),q("div",ls," Please select an academic level first "))])]),_:2},1032,["model-value","onUpdate:modelValue"])]),_:2},1024),t(e(K))]),_:2},1024)]),_:1})])):N("",!0),i.value===2?(f(),q("div",rs,[t(e(M),{name:"universityId"},{default:a(({componentField:d})=>[t(e(U),{class:"flex flex-col"},{default:a(()=>[t(e(G),null,{default:a(()=>[...s[14]||(s[14]=[g("University",-1)])]),_:1}),t(e(Ae),{open:le.value,"onUpdate:open":s[0]||(s[0]=y=>le.value=y)},{default:a(()=>[t(e(Ee),{"as-child":""},{default:a(()=>[t(e(L),null,{default:a(()=>[t(e(E),{variant:"outline",role:"combobox",class:W(e(O)("w-full justify-between",!d.modelValue&&"text-muted-foreground"))},{default:a(()=>[g(C(d.modelValue?m.value.find(y=>y.id===d.modelValue)?.name:"Select your university...")+" ",1),t(e(ze),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024),t(e(Oe),{class:"w-full p-0",align:"start"},{default:a(()=>[t(e(De),null,{default:a(()=>[t(e(Pe),{placeholder:"Search university..."}),t(e(Te),null,{default:a(()=>[...s[15]||(s[15]=[g("No university found.",-1)])]),_:1}),t(e(Be),null,{default:a(()=>[t(e(Fe),null,{default:a(()=>[(f(!0),q(Y,null,ne(m.value,y=>(f(),x(e(Ne),{key:y.id,value:y.name,onSelect:()=>{d["onUpdate:modelValue"]?.(y.id),le.value=!1}},{default:a(()=>[g(C(y.name)+" ",1),t(e(he),{class:W(e(O)("ml-auto h-4 w-4",y.id===d.modelValue?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["open"]),t(e(K))]),_:2},1024)]),_:1}),o("div",is,[t(e(M),{name:"facultyId"},{default:a(({componentField:d})=>[t(e(U),{class:"flex flex-col"},{default:a(()=>[t(e(G),null,{default:a(()=>[...s[16]||(s[16]=[g("Faculty",-1)])]),_:1}),t(e(Ae),{open:oe.value,"onUpdate:open":s[1]||(s[1]=y=>oe.value=y)},{default:a(()=>[t(e(Ee),{"as-child":""},{default:a(()=>[t(e(L),null,{default:a(()=>[t(e(E),{variant:"outline",role:"combobox",class:W(e(O)("w-full justify-between",!d.modelValue&&"text-muted-foreground"))},{default:a(()=>[g(C(d.modelValue?"Faculty of "+I.value.find(y=>y.id===d.modelValue)?.name:"Select faculty...")+" ",1),t(e(ze),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024),t(e(Oe),{class:"w-[300px] p-0"},{default:a(()=>[t(e(De),null,{default:a(()=>[t(e(Pe),{placeholder:"Search faculty..."}),t(e(Te),null,{default:a(()=>[...s[17]||(s[17]=[g("No faculty found.",-1)])]),_:1}),t(e(Be),null,{default:a(()=>[t(e(Fe),null,{default:a(()=>[(f(!0),q(Y,null,ne(I.value,y=>(f(),x(e(Ne),{key:y.id,value:y.id,onSelect:()=>{d["onUpdate:modelValue"]?.(y.id),Z.value=y.id,oe.value=!1}},{default:a(()=>[t(e(he),{class:W(e(O)("mr-2 h-4 w-4",d.modelValue===y.id?"opacity-100":"opacity-0"))},null,8,["class"]),g(" Faculty of "+C(y.name),1)]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["open"]),t(e(K))]),_:2},1024)]),_:1}),t(e(M),{name:"departmentId"},{default:a(({componentField:d})=>[t(e(U),{class:"flex flex-col"},{default:a(()=>[t(e(G),null,{default:a(()=>[...s[18]||(s[18]=[g("Department",-1)])]),_:1}),t(e(Ae),{open:X.value,"onUpdate:open":s[2]||(s[2]=y=>X.value=y)},{default:a(()=>[t(e(Ee),{"as-child":""},{default:a(()=>[t(e(L),null,{default:a(()=>[t(e(E),{variant:"outline",role:"combobox",class:W(e(O)("w-full justify-between",!d.modelValue&&"text-muted-foreground"))},{default:a(()=>[g(C(d.modelValue?V.value.find(y=>y.id===d.modelValue)?.name:"Select department...")+" ",1),t(e(ze),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024),t(e(Oe),{class:"w-[350px] p-0"},{default:a(()=>[t(e(De),null,{default:a(()=>[t(e(Pe),{placeholder:"Search department..."}),t(e(Te),null,{default:a(()=>[...s[19]||(s[19]=[g("No department found.",-1)])]),_:1}),t(e(Be),null,{default:a(()=>[t(e(Fe),null,{default:a(()=>[(f(!0),q(Y,null,ne(V.value,y=>(f(),x(e(Ne),{key:y.id,value:y.id,onSelect:()=>{d["onUpdate:modelValue"]?.(y.id),X.value=!1}},{default:a(()=>[t(e(he),{class:W(e(O)("mr-2 h-4 w-4",d.modelValue===y.id?"opacity-100":"opacity-0"))},null,8,["class"]),g(" "+C(y.name),1)]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["open"]),t(e(K))]),_:2},1024)]),_:1})]),t(e(M),{name:"course"},{default:a(({componentField:d})=>[t(e(U),null,{default:a(()=>[t(e(G),null,{default:a(()=>[...s[20]||(s[20]=[g("Course of Study",-1)])]),_:1}),t(e(L),null,{default:a(()=>[t(e(fe),D({type:"text",placeholder:"e.g., Computer Science"},d),null,16)]),_:2},1024),t(e(K))]),_:2},1024)]),_:1})])):N("",!0),i.value===3?(f(),q("div",us,[t(e(M),{name:"fieldOfStudy"},{default:a(({componentField:d})=>[t(e(U),null,{default:a(()=>[t(e(G),null,{default:a(()=>[...s[21]||(s[21]=[g("Field/Area of Research (Optional)",-1)])]),_:1}),t(e(L),null,{default:a(()=>[t(e(fe),D({type:"text",placeholder:"e.g., Artificial Intelligence, Web Development (leave blank if unsure)"},d),null,16)]),_:2},1024),t(e(_t),null,{default:a(()=>[...s[22]||(s[22]=[g(" Your specific area of focus for this project. Leave blank if you need AI guidance in choosing a research area. ",-1)])]),_:1}),t(e(K))]),_:2},1024)]),_:1}),t(e(M),{name:"supervisorName"},{default:a(({componentField:d})=>[t(e(U),null,{default:a(()=>[t(e(G),null,{default:a(()=>[...s[23]||(s[23]=[g("Supervisor Name (Optional)",-1)])]),_:1}),t(e(L),null,{default:a(()=>[t(e(fe),D({type:"text",placeholder:"e.g., Dr. John Doe"},d),null,16)]),_:2},1024),t(e(K))]),_:2},1024)]),_:1}),o("div",ns,[t(e(M),{name:"matricNumber"},{default:a(({componentField:d})=>[t(e(U),null,{default:a(()=>[t(e(G),null,{default:a(()=>[...s[24]||(s[24]=[g("Matric Number (Optional)",-1)])]),_:1}),t(e(L),null,{default:a(()=>[t(e(fe),D({type:"text",placeholder:"e.g., 2019/1234"},d),null,16)]),_:2},1024),t(e(K))]),_:2},1024)]),_:1}),t(e(M),{name:"academicSession"},{default:a(({componentField:d})=>[t(e(U),null,{default:a(()=>[t(e(G),null,{default:a(()=>[...s[25]||(s[25]=[g("Academic Session",-1)])]),_:1}),t(e(L),null,{default:a(()=>[t(e(fe),D({type:"text",placeholder:"e.g., 2024/2025"},d),null,16)]),_:2},1024),t(e(K))]),_:2},1024)]),_:1})]),t(e(M),{name:"workingMode"},{default:a(({componentField:d})=>[t(e(U),null,{default:a(()=>[t(e(G),null,{default:a(()=>[...s[26]||(s[26]=[g("How would you like to work on your project?",-1)])]),_:1}),t(e(L),null,{default:a(()=>[t(e(Me),ke(je(d)),{default:a(()=>[o("div",ds,[o("label",cs,[t(e(ee),{value:"auto",class:"mt-1"}),s[27]||(s[27]=o("div",{class:"space-y-1"},[o("p",{class:"font-medium"},"Auto Mode"),o("p",{class:"text-sm text-muted-foreground"}," AI generates complete chapters. You review and approve each section. Perfect for quick completion. ")],-1))]),o("label",ps,[t(e(ee),{value:"manual",class:"mt-1"}),s[28]||(s[28]=o("div",{class:"space-y-1"},[o("p",{class:"font-medium"},"Manual Mode"),o("p",{class:"text-sm text-muted-foreground"}," Co-write with AI assistance. Get suggestions as you type, maintain full control. ")],-1))])])]),_:2},1040)]),_:2},1024),t(e(K))]),_:2},1024)]),_:1})])):N("",!0)]),o("div",fs,[t(e(E),{disabled:i.value<=1,variant:"outline",onClick:d=>ye(i.value-1,k),type:"button"},{default:a(()=>[...s[29]||(s[29]=[g(" Back ",-1)])]),_:2},1032,["disabled","onClick"]),o("div",vs,[i.value!==de.length?(f(),x(e(E),{key:0,disabled:!v.valid,onClick:d=>ye(i.value+1,k),type:"button"},{default:a(()=>[...s[30]||(s[30]=[g(" Next ",-1)])]),_:2},1032,["disabled","onClick"])):N("",!0),i.value===de.length?(f(),x(e(E),{key:1,type:"submit",disabled:!v.valid},{default:a(()=>[...s[31]||(s[31]=[g(" Complete Setup ",-1)])]),_:2},1032,["disabled"])):N("",!0)])])],40,Ea)]),_:2},1032,["modelValue"])]),_:1},8,["validation-schema","initial-values"]))]),_:1})]),_:1})]),e(h)?(f(),x(Fa,{key:0,"current-step":i.value,"project-id":b.value,"form-values":Ye.value,"saved-values":Ie.value,"is-initializing":w.value,onForceSave:s[4]||(s[4]=()=>Ve(i.value,Ye.value)),onResetForm:()=>{}},null,8,["current-step","project-id","form-values","saved-values","is-initializing"])):N("",!0)]),_:1}))}});export{el as default};
