import{P as q,c as B,a as me,_ as N}from"./index-DxO3weBC.js";import{aA as Ce,aB as se,aC as xe,aD as ke,aE as $e,aF as Ee,aG as Pe,aH as Ae,aI as Le,aJ as Te,aK as Re,aL as De,aM as je,aN as Fe}from"./RichTextEditor-4jbKrtTI.js";import{d as L,A as k,X as oe,c as $,o as C,w as b,r as A,Y as G,u as r,g as R,N as Y,q as V,m as T,h as I,k as y,j as J,a8 as ce,a as O,e as P,s as D,F as re,p as ie,B as He,t as H,E as Me,n as ze,y as ee}from"./app-CGVN6_L1.js";import{_ as Be}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as ue}from"./index-NNDWCshN.js";import{_ as Ie,a as Ue}from"./CardContent.vue_vue_type_script_setup_true_lang-Bmay5RTP.js";import{_ as Oe}from"./Checkbox.vue_vue_type_script_setup_true_lang-C2T9W9Md.js";import{_ as qe,d as We,a as Ne,b as Ve,c as Xe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-AvE6wRnx.js";import{_ as Ye}from"./DialogFooter.vue_vue_type_script_setup_true_lang-BK7JXPpz.js";import{_ as Ge,a as Je,b as Ke,k as de,c as pe,l as Ze}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D3dfPFfw.js";import{c as le,j as Qe,P as ae,m as et}from"./VisuallyHidden-C0CMEehB.js";import{a as j,j as W,f as _e,w as tt,r as be}from"./useForwardExpose-ZWbgJ8U6.js";import{c as rt,u as ot}from"./useNonce-BF4BPpb2.js";import{_ as lt}from"./Separator.vue_vue_type_script_setup_true_lang-mJQwXPaV.js";import{t as E}from"./Sonner.vue_vue_type_script_setup_true_lang-CK4b3nLt.js";import{D as te}from"./download-C8aFcHv3.js";import{C as at}from"./chevron-down-CFH8Q6mL.js";import{F as fe}from"./file-text-DOKLsTdu.js";const[F,nt]=le("ScrollAreaRoot");var st=L({__name:"ScrollAreaRoot",props:{type:{type:String,required:!1,default:"hover"},dir:{type:String,required:!1},scrollHideDelay:{type:Number,required:!1,default:600},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(f,{expose:e}){const o=f,t=k(0),c=k(0),i=k(),p=k(),u=k(),_=k(),v=k(!1),s=k(!1),{type:w,dir:n,scrollHideDelay:h}=oe(o),a=Qe(n);function d(){i.value?.scrollTo({top:0})}function S(){i.value?.scrollTo({top:0,left:0})}e({viewport:i,scrollTop:d,scrollTopLeft:S});const{forwardRef:l,currentElement:m}=j();return nt({type:w,dir:a,scrollHideDelay:h,scrollArea:m,viewport:i,onViewportChange:g=>{i.value=g||void 0},content:p,onContentChange:g=>{p.value=g},scrollbarX:u,scrollbarXEnabled:v,scrollbarY:_,scrollbarYEnabled:s,onScrollbarXChange:g=>{u.value=g||void 0},onScrollbarYChange:g=>{_.value=g||void 0},onScrollbarXEnabledChange:g=>{v.value=g},onScrollbarYEnabledChange:g=>{s.value=g},onCornerWidthChange:g=>{t.value=g},onCornerHeightChange:g=>{c.value=g}}),(g,x)=>(C(),$(r(q),{ref:r(l),"as-child":o.asChild,as:g.as,dir:r(a),style:G({position:"relative","--reka-scroll-area-corner-width":`${t.value}px`,"--reka-scroll-area-corner-height":`${c.value}px`})},{default:b(()=>[A(g.$slots,"default")]),_:3},8,["as-child","as","dir","style"]))}}),ct=st,it=L({__name:"ScrollAreaCornerImpl",setup(f){const e=F(),o=k(0),t=k(0),c=R(()=>!!o.value&&!!t.value);function i(){const u=e.scrollbarX.value?.offsetHeight||0;e.onCornerHeightChange(u),t.value=u}function p(){const u=e.scrollbarY.value?.offsetWidth||0;e.onCornerWidthChange(u),o.value=u}return W(e.scrollbarX.value,i),W(e.scrollbarY.value,p),Y(()=>e.scrollbarX.value,i),Y(()=>e.scrollbarY.value,p),(u,_)=>c.value?(C(),$(r(q),T({key:0,style:{width:`${o.value}px`,height:`${t.value}px`,position:"absolute",right:r(e).dir.value==="ltr"?0:void 0,left:r(e).dir.value==="rtl"?0:void 0,bottom:0}},u.$parent?.$props),{default:b(()=>[A(u.$slots,"default")]),_:3},16,["style"])):V("v-if",!0)}}),ut=it,dt=L({__name:"ScrollAreaCorner",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(f){const e=f,{forwardRef:o}=j(),t=F(),c=R(()=>!!t.scrollbarX.value&&!!t.scrollbarY.value),i=R(()=>t.type.value!=="scroll"&&c.value);return(p,u)=>i.value?(C(),$(ut,T({key:0},e,{ref:r(o)}),{default:b(()=>[A(p.$slots,"default")]),_:3},16)):V("v-if",!0)}}),pt=dt;function ge(f,e){return o=>{if(f[0]===f[1]||e[0]===e[1])return e[0];const t=(e[1]-e[0])/(f[1]-f[0]);return e[0]+t*(o-f[0])}}function K(f){const e=ye(f.viewport,f.content),o=f.scrollbar.paddingStart+f.scrollbar.paddingEnd,t=(f.scrollbar.size-o)*e;return Math.max(t,18)}function ye(f,e){const o=f/e;return Number.isNaN(o)?0:o}function ft(f,e=()=>{}){let o={left:f.scrollLeft,top:f.scrollTop},t=0;return(function c(){const i={left:f.scrollLeft,top:f.scrollTop},p=o.left!==i.left,u=o.top!==i.top;(p||u)&&e(),o=i,t=window.requestAnimationFrame(c)})(),()=>window.cancelAnimationFrame(t)}function he(f,e,o="ltr"){const t=K(e),c=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-c,p=e.content-e.viewport,u=i-t,_=o==="ltr"?[0,p]:[p*-1,0],v=rt(f,_[0],_[1]);return ge([0,p],[0,u])(v)}function X(f){return f?Number.parseInt(f,10):0}function ht(f,e,o,t="ltr"){const c=K(o),i=c/2,p=e||i,u=c-p,_=o.scrollbar.paddingStart+p,v=o.scrollbar.size-o.scrollbar.paddingEnd-u,s=o.content-o.viewport,w=t==="ltr"?[0,s]:[s*-1,0];return ge([_,v],w)(f)}function ve(f,e){return f>0&&f<e}var vt=L({__name:"ScrollAreaScrollbarX",setup(f){const e=F(),o=Q(),{forwardRef:t,currentElement:c}=j();I(()=>{c.value&&e.onScrollbarXChange(c.value)});const i=R(()=>o.sizes.value);return(p,u)=>(C(),$(Se,{ref:r(t),"is-horizontal":!0,"data-orientation":"horizontal",style:G({bottom:0,left:r(e).dir.value==="rtl"?"var(--reka-scroll-area-corner-width)":0,right:r(e).dir.value==="ltr"?"var(--reka-scroll-area-corner-width)":0,"--reka-scroll-area-thumb-width":i.value?`${r(K)(i.value)}px`:void 0}),onOnDragScroll:u[0]||(u[0]=_=>r(o).onDragScroll(_.x))},{default:b(()=>[A(p.$slots,"default")]),_:3},8,["style"]))}}),mt=vt,_t=L({__name:"ScrollAreaScrollbarY",setup(f){const e=F(),o=Q(),{forwardRef:t,currentElement:c}=j();I(()=>{c.value&&e.onScrollbarYChange(c.value)});const i=R(()=>o.sizes.value);return(p,u)=>(C(),$(Se,{ref:r(t),"is-horizontal":!1,"data-orientation":"vertical",style:G({top:0,right:r(e).dir.value==="ltr"?0:void 0,left:r(e).dir.value==="rtl"?0:void 0,bottom:"var(--reka-scroll-area-corner-height)","--reka-scroll-area-thumb-height":i.value?`${r(K)(i.value)}px`:void 0}),onOnDragScroll:u[0]||(u[0]=_=>r(o).onDragScroll(_.y))},{default:b(()=>[A(p.$slots,"default")]),_:3},8,["style"]))}}),bt=_t,gt=L({__name:"ScrollAreaScrollbarAuto",props:{forceMount:{type:Boolean,required:!1}},setup(f){const e=F(),o=Z(),{forwardRef:t}=j(),c=k(!1),i=_e(()=>{if(e.viewport.value){const p=e.viewport.value.offsetWidth<e.viewport.value.scrollWidth,u=e.viewport.value.offsetHeight<e.viewport.value.scrollHeight;c.value=o.isHorizontal.value?p:u}},10);return I(()=>i()),W(e.viewport,i),W(e.content,i),(p,u)=>(C(),$(r(ae),{present:p.forceMount||c.value},{default:b(()=>[y(ne,T(p.$attrs,{ref:r(t),"data-state":c.value?"visible":"hidden"}),{default:b(()=>[A(p.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),we=gt,yt=L({inheritAttrs:!1,__name:"ScrollAreaScrollbarHover",props:{forceMount:{type:Boolean,required:!1}},setup(f){const e=F(),{forwardRef:o}=j();let t;const c=k(!1);function i(){window.clearTimeout(t),c.value=!0}function p(){t=window.setTimeout(()=>{c.value=!1},e.scrollHideDelay.value)}return I(()=>{const u=e.scrollArea.value;u&&(u.addEventListener("pointerenter",i),u.addEventListener("pointerleave",p))}),J(()=>{const u=e.scrollArea.value;u&&(window.clearTimeout(t),u.removeEventListener("pointerenter",i),u.removeEventListener("pointerleave",p))}),(u,_)=>(C(),$(r(ae),{present:u.forceMount||c.value},{default:b(()=>[y(we,T(u.$attrs,{ref:r(o),"data-state":c.value?"visible":"hidden"}),{default:b(()=>[A(u.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),wt=yt,St=L({__name:"ScrollAreaScrollbarScroll",props:{forceMount:{type:Boolean,required:!1}},setup(f){const e=F(),o=Z(),{forwardRef:t}=j(),{state:c,dispatch:i}=et("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}}),p=R(()=>c.value!=="hidden");ce(_=>{if(c.value==="idle"){const v=window.setTimeout(()=>i("HIDE"),e.scrollHideDelay.value);_(()=>{window.clearTimeout(v)})}});const u=_e(()=>i("SCROLL_END"),100);return ce(_=>{const v=e.viewport.value,s=o.isHorizontal.value?"scrollLeft":"scrollTop";if(v){let w=v[s];const n=()=>{const h=v[s];w!==h&&(i("SCROLL"),u()),w=h};v.addEventListener("scroll",n),_(()=>{v.removeEventListener("scroll",n)})}}),(_,v)=>(C(),$(r(ae),{present:_.forceMount||p.value},{default:b(()=>[y(ne,T(_.$attrs,{ref:r(t),"data-state":p.value?"visible":"hidden"}),{default:b(()=>[A(_.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),Ct=St;const[Z,xt]=le("ScrollAreaScrollbar");var kt=L({inheritAttrs:!1,__name:"ScrollAreaScrollbar",props:{orientation:{type:String,required:!1,default:"vertical"},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(f){const e=f,{forwardRef:o}=j(),t=F(),c=R(()=>e.orientation==="horizontal");Y(c,()=>{c.value?t.onScrollbarXEnabledChange(!0):t.onScrollbarYEnabledChange(!0)},{immediate:!0}),J(()=>{t.onScrollbarXEnabledChange(!1),t.onScrollbarYEnabledChange(!1)});const{orientation:i,forceMount:p,asChild:u,as:_}=oe(e);return xt({orientation:i,forceMount:p,isHorizontal:c,as:_,asChild:u}),(v,s)=>r(t).type.value==="hover"?(C(),$(wt,T({key:0},v.$attrs,{ref:r(o),"force-mount":r(p)}),{default:b(()=>[A(v.$slots,"default")]),_:3},16,["force-mount"])):r(t).type.value==="scroll"?(C(),$(Ct,T({key:1},v.$attrs,{ref:r(o),"force-mount":r(p)}),{default:b(()=>[A(v.$slots,"default")]),_:3},16,["force-mount"])):r(t).type.value==="auto"?(C(),$(we,T({key:2},v.$attrs,{ref:r(o),"force-mount":r(p)}),{default:b(()=>[A(v.$slots,"default")]),_:3},16,["force-mount"])):r(t).type.value==="always"?(C(),$(ne,T({key:3},v.$attrs,{ref:r(o),"data-state":"visible"}),{default:b(()=>[A(v.$slots,"default")]),_:3},16)):V("v-if",!0)}}),$t=kt;const[Q,Et]=le("ScrollAreaScrollbarVisible");var Pt=L({__name:"ScrollAreaScrollbarVisible",setup(f){const e=F(),o=Z(),{forwardRef:t}=j(),c=k({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),i=R(()=>{const l=ye(c.value.viewport,c.value.content);return l>0&&l<1}),p=k(),u=k(0);function _(l,m){if(h.value){const g=e.viewport.value.scrollLeft+l.deltaY;e.viewport.value.scrollLeft=g,ve(g,m)&&l.preventDefault()}else{const g=e.viewport.value.scrollTop+l.deltaY;e.viewport.value.scrollTop=g,ve(g,m)&&l.preventDefault()}}function v(l,m){h.value?u.value=m.x:u.value=m.y}function s(l){u.value=0}function w(l){c.value=l}function n(l,m){return ht(l,u.value,c.value,m)}const h=R(()=>o.isHorizontal.value);function a(l){h.value?e.viewport.value.scrollLeft=n(l,e.dir.value):e.viewport.value.scrollTop=n(l)}function d(){if(h.value){if(e.viewport.value&&p.value){const l=e.viewport.value.scrollLeft,m=he(l,c.value,e.dir.value);p.value.style.transform=`translate3d(${m}px, 0, 0)`}}else if(e.viewport.value&&p.value){const l=e.viewport.value.scrollTop,m=he(l,c.value);p.value.style.transform=`translate3d(0, ${m}px, 0)`}}function S(l){p.value=l}return Et({sizes:c,hasThumb:i,handleWheelScroll:_,handleThumbDown:v,handleThumbUp:s,handleSizeChange:w,onThumbPositionChange:d,onThumbChange:S,onDragScroll:a}),(l,m)=>h.value?(C(),$(mt,T({key:0},l.$attrs,{ref:r(t)}),{default:b(()=>[A(l.$slots,"default")]),_:3},16)):(C(),$(bt,T({key:1},l.$attrs,{ref:r(t)}),{default:b(()=>[A(l.$slots,"default")]),_:3},16))}}),ne=Pt,At=L({__name:"ScrollAreaScrollbarImpl",props:{isHorizontal:{type:Boolean,required:!0}},emits:["onDragScroll","onWheelScroll","onThumbPointerDown"],setup(f,{emit:e}){const o=f,t=e,c=F(),i=Q(),p=Z(),{forwardRef:u,currentElement:_}=j(),v=k(""),s=k();function w(l){if(s.value){const m=l.clientX-s.value?.left,g=l.clientY-s.value?.top;t("onDragScroll",{x:m,y:g})}}function n(l){l.button===0&&(l.target.setPointerCapture(l.pointerId),s.value=_.value.getBoundingClientRect(),v.value=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",c.viewport&&(c.viewport.value.style.scrollBehavior="auto"),w(l))}function h(l){w(l)}function a(l){const m=l.target;m.hasPointerCapture(l.pointerId)&&m.releasePointerCapture(l.pointerId),document.body.style.webkitUserSelect=v.value,c.viewport&&(c.viewport.value.style.scrollBehavior=""),s.value=void 0}function d(l){const m=l.target,g=_.value?.contains(m),x=i.sizes.value.content-i.sizes.value.viewport;g&&i.handleWheelScroll(l,x)}I(()=>{document.addEventListener("wheel",d,{passive:!1})}),J(()=>{document.removeEventListener("wheel",d)});function S(){_.value&&(o.isHorizontal?i.handleSizeChange({content:c.viewport.value?.scrollWidth??0,viewport:c.viewport.value?.offsetWidth??0,scrollbar:{size:_.value.clientWidth??0,paddingStart:X(getComputedStyle(_.value).paddingLeft),paddingEnd:X(getComputedStyle(_.value).paddingRight)}}):i.handleSizeChange({content:c.viewport.value?.scrollHeight??0,viewport:c.viewport.value?.offsetHeight??0,scrollbar:{size:_.value?.clientHeight??0,paddingStart:X(getComputedStyle(_.value).paddingLeft),paddingEnd:X(getComputedStyle(_.value).paddingRight)}}))}return W(_,S),W(c.content,S),(l,m)=>(C(),$(r(q),{ref:r(u),style:{position:"absolute"},"data-scrollbarimpl":"",as:r(p).as.value,"as-child":r(p).asChild.value,onPointerdown:n,onPointermove:h,onPointerup:a},{default:b(()=>[A(l.$slots,"default")]),_:3},8,["as","as-child"]))}}),Se=At,Lt=L({__name:"ScrollAreaThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(f){const e=f,o=F(),t=Q();function c(n){const a=n.target.getBoundingClientRect(),d=n.clientX-a.left,S=n.clientY-a.top;t.handleThumbDown(n,{x:d,y:S})}function i(n){t.handleThumbUp(n)}const{forwardRef:p,currentElement:u}=j(),_=k(),v=R(()=>o.viewport.value);function s(){if(!_.value){const n=ft(v.value,t.onThumbPositionChange);_.value=n,t.onThumbPositionChange()}}const w=R(()=>t.sizes.value);return tt(w,()=>{t.onThumbChange(u.value),v.value&&(t.onThumbPositionChange(),v.value.addEventListener("scroll",s))}),J(()=>{v.value.removeEventListener("scroll",s),o.viewport.value?.removeEventListener("scroll",s)}),(n,h)=>(C(),$(r(q),{ref:r(p),"data-state":r(t).hasThumb?"visible":"hidden",style:{width:"var(--reka-scroll-area-thumb-width)",height:"var(--reka-scroll-area-thumb-height)"},"as-child":e.asChild,as:n.as,onPointerdown:c,onPointerup:i},{default:b(()=>[A(n.$slots,"default")]),_:3},8,["data-state","as-child","as"]))}}),Tt=Lt,Rt=L({inheritAttrs:!1,__name:"ScrollAreaViewport",props:{nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(f,{expose:e}){const o=f,{nonce:t}=oe(o),c=ot(t),i=F(),p=k();I(()=>{i.onViewportChange(p.value),i.onContentChange(_.value)}),e({viewportElement:p});const{forwardRef:u,currentElement:_}=j();return(v,s)=>(C(),O(re,null,[P("div",T({ref_key:"viewportElement",ref:p,"data-reka-scroll-area-viewport":"",style:{overflowX:r(i).scrollbarXEnabled.value?"scroll":"hidden",overflowY:r(i).scrollbarYEnabled.value?"scroll":"hidden"}},v.$attrs,{tabindex:0}),[y(r(q),{ref:r(u),style:G({minWidth:r(i).scrollbarXEnabled.value?"fit-content":void 0}),"as-child":o.asChild,as:v.as},{default:b(()=>[A(v.$slots,"default")]),_:3},8,["style","as-child","as"])],16),y(r(q),{as:"style",nonce:r(c)},{default:b(()=>s[0]||(s[0]=[D(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-scroll-area-viewport] { scrollbar-width:none; -ms-overflow-style:none; -webkit-overflow-scrolling:touch; } [data-reka-scroll-area-viewport]::-webkit-scrollbar { display:none; } ")])),_:1,__:[0]},8,["nonce"])],64))}}),Dt=Rt;/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=B("BookCheckIcon",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=B("FileDownIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=B("Maximize2Icon",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=B("MenuIcon",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=B("PanelLeftCloseIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=B("PanelLeftOpenIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=B("PanelRightCloseIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=B("PanelRightOpenIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]),Ft=L({__name:"ScrollBar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(f){const e=f,o=be(e,"class");return(t,c)=>(C(),$(r($t),T({"data-slot":"scroll-area-scrollbar"},r(o),{class:r(me)("flex touch-none p-px transition-colors select-none",t.orientation==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t.orientation==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e.class)}),{default:b(()=>[y(r(Tt),{"data-slot":"scroll-area-thumb",class:"bg-border relative flex-1 rounded-full"})]),_:1},16,["class"]))}}),Ht=L({__name:"ScrollArea",props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(f){const e=f,o=be(e,"class");return(t,c)=>(C(),$(r(ct),T({"data-slot":"scroll-area"},r(o),{class:r(me)("relative",e.class)}),{default:b(()=>[y(r(Dt),{"data-slot":"scroll-area-viewport",class:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1"},{default:b(()=>[A(t.$slots,"default")]),_:3}),y(Ft),y(r(pt))]),_:3},16,["class"]))}}),Mt=L({__name:"RichTextViewer",props:{content:{},showFontControls:{type:Boolean,default:!0}},setup(f){const e=Ce(Fe);se.initialize({startOnLoad:!1,theme:"default",securityLevel:"loose",fontFamily:"Arial, sans-serif"});const o=f,t=async s=>{const w=s.querySelectorAll("pre code.language-mermaid, .mermaid-diagram");for(let n=0;n<w.length;n++){const h=w[n],a=h.textContent||"";try{const{svg:d}=await se.render(`mermaid-${Date.now()}-${n}`,a),S=document.createElement("div");S.className="mermaid-container",S.innerHTML=d,h.parentElement?.replaceWith(S)}catch(d){console.error("Mermaid rendering error:",d),h.parentElement?.classList.add("mermaid-error")}}},c=s=>s?(s=s.replace(/```mermaid\n?([\s\S]*?)```/g,(w,n)=>`<pre><code class="language-mermaid">${n.trim()}</code></pre>`),s=s.replace(/``mermaid\n?([\s\S]*?)``/g,(w,n)=>`<pre><code class="language-mermaid">${n.trim()}</code></pre>`),s=s.replace(/`mermaid\n?([\s\S]*?)`/g,(w,n)=>`<pre><code class="language-mermaid">${n.trim()}</code></pre>`),s):"",i=s=>s?(s=s.replace(/```(\w+)\n?([\s\S]*?)```/g,(w,n,h)=>`<pre><code class="language-${n}">${h.trim()}</code></pre>`),s=s.replace(/```\n?([\s\S]*?)```/g,(w,n)=>`<pre><code>${n.trim()}</code></pre>`),s):"",p=s=>{if(!s)return"";const w=s.split(`
`);let n=[],h=0;for(;h<w.length;){const a=w[h];if(a.includes("|")){const d=u(w,h);if(d.html){n.push(d.html),h=d.nextIndex;continue}}n.push(a),h++}return n.join(`
`)},u=(s,w)=>{let n=s[w];if(!n||!n.includes("|"))return{html:null,nextIndex:w+1};const h=n.split("|").map(m=>m.trim()).filter(m=>m.length>0);if(h.length===0)return{html:null,nextIndex:w+1};const a=s[w+1];if(!a||!a.includes("|")||!a.includes("-"))return{html:null,nextIndex:w+1};let d=[],S=w+2;for(;S<s.length;){const m=s[S];if(!m||!m.includes("|"))break;const g=m.split("|").map(x=>x.trim()).filter(x=>x.length>0);g.length>0&&d.push(g),S++}let l='<div class="tableWrapper"><table>';return l+="<thead><tr>",h.forEach(m=>{l+=`<th>${m}</th>`}),l+="</tr></thead>",d.length>0&&(l+="<tbody>",d.forEach(m=>{l+="<tr>";for(let g=0;g<h.length;g++){const x=m[g]||"";l+=`<td>${x}</td>`}l+="</tr>"}),l+="</tbody>"),l+="</table></div>",{html:l,nextIndex:S}},_=s=>{if(!s)return"";if(s.includes("<p>")||s.includes("<h1>")||s.includes("<h2>")||s.includes("<div>")){let a=c(s);return a=i(a),a}let n=s;return n=c(n),n=i(n),n=n.replace(/^#### (.*$)/gim,"<h4>$1</h4>"),n=n.replace(/^### (.*$)/gim,"<h3>$1</h3>"),n=n.replace(/^## (.*$)/gim,"<h2>$1</h2>"),n=n.replace(/^# (.*$)/gim,"<h1>$1</h1>"),n=n.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),n=n.replace(new RegExp("(?<!\\*)\\*([^*\\n]+?)\\*(?!\\*)","g"),"<em>$1</em>"),n=n.replace(/`([^`]+)`/g,"<code>$1</code>"),n=p(n),n.split(/\n\s*\n/).filter(a=>a.trim()).map(a=>{const d=a.trim();if(d.startsWith("<h1>")||d.startsWith("<h2>")||d.startsWith("<h3>")||d.startsWith("<h4>"))return d;if(d.includes(`
`)){const l=d.split(`
`).map(x=>x.trim()).filter(x=>x),m=l.some(x=>x.match(/^\d+\.\s/)),g=l.some(x=>x.match(/^[-*]\s/));if(m||g){const x=l.map(M=>M.match(/^\d+\.\s/)?`<li>${M.replace(/^\d+\.\s/,"")}</li>`:M.match(/^[-*]\s/)?`<li>${M.replace(/^[-*]\s/,"")}</li>`:M);let U=[],z="";for(const M of x)M.startsWith("<li>")?(z&&U.push(z),z=M):z&&(z=z.replace("</li>",` ${M}</li>`));return z&&U.push(z),m?`<ol>${U.join("")}</ol>`:`<ul>${U.join("")}</ul>`}}return`<p>${d.replace(/\n/g,"<br>")}</p>`}).join("")},v=xe({content:_(o.content),editable:!1,extensions:[ke.configure({heading:{levels:[1,2,3]},codeBlock:!1}),$e.configure({lowlight:e,HTMLAttributes:{class:"code-block-highlighted"}}),Ee,Pe,Ae,Le.configure({resizable:!0}),Te,Re,De],editorProps:{attributes:{class:"prose prose-sm dark:prose-invert max-w-none focus:outline-none"}}});return k("12"),I(()=>{setTimeout(async()=>{if(v.value){v.value.chain().selectAll().setFontSize("12pt").run(),await ie();const s=document.querySelector(".ProseMirror");s&&await t(s)}},100)}),Y(()=>o.content,async s=>{if(v.value&&v.value.getHTML()!==s){const w=_(s);v.value.commands.setContent(w),await ie();const n=document.querySelector(".ProseMirror");n&&await t(n)}}),He(()=>{v.value&&v.value.destroy()}),(s,w)=>(C(),O("div",null,[y(r(je),{editor:r(v)},null,8,["editor"])]))}}),wr=Be(Mt,[["__scopeId","data-v-107ec45b"]]),zt={class:"inline-flex"},Bt={class:"space-y-4"},It={class:"flex items-center justify-between"},Ut={class:"flex items-center gap-2 text-sm text-muted-foreground"},Ot={class:"flex items-center gap-2"},qt={class:"space-y-2"},Wt={class:"flex items-start gap-3"},Nt={class:"flex-1 min-w-0"},Vt={class:"flex items-center gap-2 mb-1"},Xt={class:"font-medium truncate"},Yt={class:"flex items-center gap-4 text-sm text-muted-foreground"},Gt={key:0},Sr=L({__name:"ExportMenu",props:{project:{},currentChapter:{},allChapters:{},triggerElement:{default:"button"},size:{default:"default"},variant:{default:"outline"}},setup(f){const e=f,o=k(!1),t=k([]),c=R(()=>e.allChapters.filter(h=>h.content&&h.content.trim().length>0)),i=R(()=>t.value.length),p=R(()=>e.allChapters.filter(h=>t.value.includes(h.chapter_number)).reduce((h,a)=>h+a.word_count,0)),u=async()=>{E.loading("Generating project PDF...",{id:"export-project-pdf"});const h=ee("export.project.pdf",{project:e.project.slug});try{const a=await fetch(h,{method:"GET",headers:{Accept:"application/pdf"}});if(a.ok){const d=a.headers.get("content-type");if(d&&d.includes("application/json")){const g=await a.json();E.error("Export Failed",{id:"export-project-pdf",description:g.message||"An error occurred during PDF export."});return}const S=await a.blob(),l=window.URL.createObjectURL(S),m=document.createElement("a");m.href=l,m.download=`${e.project.slug}_full_project.pdf`,document.body.appendChild(m),m.click(),document.body.removeChild(m),window.URL.revokeObjectURL(l),E.success("Project PDF exported successfully!",{id:"export-project-pdf",description:`${e.project.title} has been downloaded as PDF.`})}else try{const d=await a.json();E.error("Export Failed",{id:"export-project-pdf",description:d.message||"An error occurred during PDF export."})}catch{E.error("Export Failed",{id:"export-project-pdf",description:"Unable to export project as PDF. Please try again."})}}catch{E.error("Export Failed",{id:"export-project-pdf",description:"Network error occurred. Please check your connection and try again."})}},_=async()=>{if(t.value.length===0){E.error("No chapters selected",{description:"Please select at least one chapter to export."});return}try{E.loading(`Exporting ${t.value.length} chapters...`,{id:"export-chapters"});const h=ee("export.chapters.word",{project:e.project.slug}),a=new FormData;t.value.forEach(l=>{a.append("chapters[]",l.toString())});const d=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");d&&a.append("_token",d);const S=await fetch(h,{method:"POST",body:a,headers:{Accept:"application/json"}});if(S.ok){const l=S.headers.get("content-type");if(l&&l.includes("application/json")){const U=await S.json();E.error("Export Failed",{id:"export-chapters",description:U.message||"An error occurred during export."});return}const m=await S.blob(),g=window.URL.createObjectURL(m),x=document.createElement("a");x.href=g,x.download=`${e.project.slug}-chapters-${t.value.join("-")}.docx`,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(g),E.success("Selected chapters exported successfully!",{id:"export-chapters",description:`${t.value.length} chapters exported to Word.`}),t.value=[],o.value=!1}else try{const l=await S.json();E.error("Export Failed",{id:"export-chapters",description:l.message||"An error occurred during export."})}catch{E.error("Export Failed",{id:"export-chapters",description:"Unable to export selected chapters. Please try again."})}}catch{E.error("Export Failed",{id:"export-chapters",description:"Network error occurred. Please check your connection and try again."})}},v=h=>{const a=t.value.indexOf(h);a>-1?t.value.splice(a,1):t.value.push(h)},s=()=>{t.value=c.value.map(h=>h.chapter_number)},w=()=>{t.value=[]},n=async()=>{E.loading("Generating PDF...",{id:"export-chapter-pdf"});const h=ee("export.chapter.pdf",{project:e.project.slug,chapterNumber:e.currentChapter.chapter_number});try{const a=await fetch(h,{method:"GET",headers:{Accept:"application/pdf"}});if(a.ok){const d=a.headers.get("content-type");if(d&&d.includes("application/json")){const g=await a.json();E.error("Export Failed",{id:"export-chapter-pdf",description:g.message||"An error occurred during PDF export."});return}const S=await a.blob(),l=window.URL.createObjectURL(S),m=document.createElement("a");m.href=l,m.download=`chapter_${e.currentChapter.chapter_number}_${e.currentChapter.title.toLowerCase().replace(/\s+/g,"_")}.pdf`,document.body.appendChild(m),m.click(),document.body.removeChild(m),window.URL.revokeObjectURL(l),E.success("PDF exported successfully!",{id:"export-chapter-pdf",description:`${e.currentChapter.title} has been downloaded as PDF.`})}else try{const d=await a.json();E.error("Export Failed",{id:"export-chapter-pdf",description:d.message||"An error occurred during PDF export."})}catch{E.error("Export Failed",{id:"export-chapter-pdf",description:"Unable to export chapter as PDF. Please try again."})}}catch{E.error("Export Failed",{id:"export-chapter-pdf",description:"Network error occurred. Please check your connection and try again."})}};return(h,a)=>(C(),O("div",zt,[y(r(Ge),null,{default:b(()=>[y(r(Je),{asChild:""},{default:b(()=>[y(r(N),{variant:h.variant,size:h.size,class:"gap-2"},{default:b(()=>[h.triggerElement==="button"?(C(),O(re,{key:0},[y(r(te),{class:"h-4 w-4"}),a[2]||(a[2]=D(" Export ",-1)),y(r(at),{class:"h-3 w-3"})],64)):(C(),$(r(te),{key:1,class:"h-4 w-4"}))]),_:1},8,["variant","size"])]),_:1}),y(r(Ke),{align:"end",class:"w-64"},{default:b(()=>[y(r(de),null,{default:b(()=>[...a[3]||(a[3]=[D("Current Chapter",-1)])]),_:1}),y(r(pe),{onClick:n,class:"gap-2"},{default:b(()=>[y(r(fe),{class:"h-4 w-4"}),a[4]||(a[4]=P("div",{class:"flex flex-col"},[P("span",{class:"font-medium"},"Export as PDF"),P("span",{class:"text-xs text-muted-foreground"}," Professional academic format ")],-1))]),_:1}),y(r(Ze)),y(r(de),null,{default:b(()=>[...a[5]||(a[5]=[D("Full Project",-1)])]),_:1}),y(r(pe),{onClick:u,class:"gap-2"},{default:b(()=>[y(r(fe),{class:"h-4 w-4"}),a[6]||(a[6]=P("div",{class:"flex flex-col"},[P("span",{class:"font-medium"},"Export as PDF"),P("span",{class:"text-xs text-muted-foreground"}," Professional academic format with cover page ")],-1))]),_:1})]),_:1})]),_:1}),y(r(qe),{open:o.value,"onUpdate:open":a[1]||(a[1]=d=>o.value=d)},{default:b(()=>[y(r(We),{class:"max-w-2xl"},{default:b(()=>[y(r(Ne),null,{default:b(()=>[y(r(Ve),{class:"flex items-center gap-2"},{default:b(()=>[y(r(jt),{class:"h-5 w-5"}),a[7]||(a[7]=D(" Select Chapters to Export ",-1))]),_:1}),y(r(Xe),null,{default:b(()=>[...a[8]||(a[8]=[D(" Choose which chapters you want to include in your Word export. Only chapters with content can be exported. ",-1)])]),_:1})]),_:1}),P("div",Bt,[P("div",It,[P("div",Ut,[P("span",null,H(i.value)+" of "+H(c.value.length)+" chapters selected",1),p.value>0?(C(),$(r(ue),{key:0,variant:"outline",class:"text-xs"},{default:b(()=>[D(H(p.value.toLocaleString())+" words ",1)]),_:1})):V("",!0)]),P("div",Ot,[y(r(N),{onClick:s,variant:"ghost",size:"sm"},{default:b(()=>[...a[9]||(a[9]=[D(" Select All ",-1)])]),_:1}),y(r(N),{onClick:w,variant:"ghost",size:"sm"},{default:b(()=>[...a[10]||(a[10]=[D(" Clear ",-1)])]),_:1})])]),y(r(lt)),y(r(Ht),{class:"h-[300px]"},{default:b(()=>[P("div",qt,[(C(!0),O(re,null,Me(c.value,d=>(C(),$(r(Ie),{key:d.id,class:ze(["cursor-pointer transition-colors hover:bg-muted/50",{"ring-2 ring-primary":t.value.includes(d.chapter_number),"bg-muted/30":t.value.includes(d.chapter_number)}]),onClick:S=>v(d.chapter_number)},{default:b(()=>[y(r(Ue),{class:"p-4"},{default:b(()=>[P("div",Wt,[y(r(Oe),{checked:t.value.includes(d.chapter_number),"onUpdate:checked":S=>v(d.chapter_number),class:"mt-1"},null,8,["checked","onUpdate:checked"]),P("div",Nt,[P("div",Vt,[P("h4",Xt," Chapter "+H(d.chapter_number)+": "+H(d.title),1),y(r(ue),{variant:d.status==="approved"?"default":"secondary",class:"text-xs"},{default:b(()=>[D(H(d.status.replace("_"," ")),1)]),_:2},1032,["variant"])]),P("div",Yt,[P("span",null,H(d.word_count.toLocaleString())+" words",1),d.word_count>0?(C(),O("span",Gt,H(Math.ceil(d.word_count/250))+" pages approx. ",1)):V("",!0)])])])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))])]),_:1})]),y(r(Ye),null,{default:b(()=>[y(r(N),{onClick:a[0]||(a[0]=d=>o.value=!1),variant:"outline"},{default:b(()=>[...a[11]||(a[11]=[D(" Cancel ",-1)])]),_:1}),y(r(N),{onClick:_,disabled:i.value===0,class:"gap-2"},{default:b(()=>[y(r(te),{class:"h-4 w-4"}),D(" Export "+H(i.value)+" Chapter"+H(i.value===1?"":"s"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]))}});function Cr(f="",e=50){const o=k([f]),t=k(0);return{contentHistory:o,historyIndex:t,addToHistory:v=>{o.value[t.value]!==v&&(o.value=o.value.slice(0,t.value+1),o.value.push(v),o.value.length>e?o.value.shift():t.value++)},undo:()=>t.value>0?(t.value--,o.value[t.value]):null,redo:()=>t.value<o.value.length-1?(t.value++,o.value[t.value]):null,canUndo:()=>t.value>0,canRedo:()=>t.value<o.value.length-1}}export{hr as B,mr as M,_r as P,wr as R,Ht as _,Sr as a,vr as b,br as c,gr as d,yr as e,Cr as u};
