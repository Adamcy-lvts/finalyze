import{_ as E}from"./index-cQ0efRpz.js";import{_ as C}from"./index-BO9Svwi4.js";import{_ as v,a as y}from"./CardContent.vue_vue_type_script_setup_true_lang-DkB0_NxU.js";import{_ as ie}from"./CardDescription.vue_vue_type_script_setup_true_lang-DOZRJ1Jm.js";import{_ as O,a as W}from"./CardTitle.vue_vue_type_script_setup_true_lang-BliVHvDR.js";import{_ as L,a as U,b as V}from"./CollapsibleTrigger.vue_vue_type_script_setup_true_lang-BIebN2X_.js";import{_ as ne}from"./Separator.vue_vue_type_script_setup_true_lang-DFML_k35.js";import{_ as le}from"./AppLayout.vue_vue_type_script_setup_true_lang-binl0-qL.js";import{d as me,r as f,m as X,q as ce,Q as ue,g as b,o as d,w as i,b as e,c as l,e as a,u as s,b6 as pe,ar as D,t as n,h as u,ap as Y,ay as T,Y as $,Z as H,F as A,a as c,b7 as I,av as ge,aL as K,f as F,n as R,aA as fe,j as xe,a0 as Z,aM as J,a3 as be,at as he,ab as Q,bg as _e,_ as z,aI as N,bh as ve,au as ye}from"./vendor-uetObkEM.js";import{_ as we}from"./SafeHtmlText.vue_vue_type_script_setup_true_lang-h53oMtwf.js";import"./index-COt2L8if.js";import"./Presence-CW2p5zTq.js";import"./useForwardExpose-DPVzQ8i8.js";import"./CollapsibleTrigger-CNdRD7kD.js";import"./Separator-DpkRU7uW.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-v_exjHTe.js";import"./DialogTitle-DTYFw5kd.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-CQiyiXzP.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D0QDUflG.js";import"./VisuallyHidden-B8kbowo_.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-Cjl2joc8.js";import"./WordBalanceDisplay.vue_vue_type_script_setup_true_lang-61K7D1z0.js";import"./app-Csa4C17R.js";import"./useWordBalance-CYMZHoPw.js";import"./purify.es-DxJI3Wx7.js";const ke={class:"p-4 md:p-6"},je={class:"max-w-5xl mx-auto space-y-6 md:space-y-8"},Se={class:"mb-6 md:mb-8"},Ce={class:"space-y-1.5 md:space-y-2"},Te={class:"flex flex-wrap items-center gap-3 md:gap-4 text-xs md:text-sm text-muted-foreground"},$e={class:"flex items-center gap-1"},Ae={class:"hidden sm:inline"},Ge={class:"sm:hidden"},Pe={class:"flex items-center gap-1"},Ee={class:"flex items-center gap-1"},Fe={class:"hidden sm:inline"},Re={class:"sm:hidden"},ze={key:0,class:"mt-6"},Ne={class:"flex justify-center"},Be={key:0,class:"space-y-6"},Me={class:"flex flex-col items-center space-y-6"},qe={class:"relative"},Oe={class:"w-16 h-16 md:w-20 md:h-20 rounded-full bg-muted/30 flex items-center justify-center"},We={class:"space-y-4 max-w-lg"},Le={class:"space-y-2"},Ue={class:"text-muted-foreground text-sm md:text-base"},Ve={class:"w-full bg-muted rounded-full h-2 overflow-hidden"},Xe={class:"flex justify-between items-center text-sm text-muted-foreground"},De={class:"font-medium"},Ye={key:0,class:"flex items-center gap-1"},He={class:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-950/20 dark:to-purple-950/20 rounded-lg p-4 border border-indigo-200/50 dark:border-indigo-800/30"},Ie={class:"flex items-center gap-2 mb-2"},Ke={key:1,class:"space-y-4 md:space-y-6"},Ze={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4 md:mb-6"},Je={class:"flex items-center gap-2"},Qe={class:"relative"},et={class:"space-y-4 md:space-y-6"},tt={class:"ml-12 md:ml-16"},st={class:"flex items-center justify-between"},at={class:"flex items-center gap-3 md:gap-5"},rt={class:"relative"},ot={class:"flex items-center justify-center w-10 h-10 md:w-12 md:h-12 rounded-lg md:rounded-xl bg-gradient-to-br from-primary to-primary/80 text-primary-foreground shadow-lg"},dt={key:0,class:"absolute -top-1 -right-1 w-3 h-3 md:w-4 md:h-4 bg-green-500 rounded-full border-2 border-background flex items-center justify-center"},it={class:"space-y-1 md:space-y-2"},nt={key:0,class:"flex items-center text-xs bg-primary/10 text-primary px-2 py-1 rounded-full hidden md:flex"},lt={class:"flex items-center gap-1"},mt={class:"hidden sm:inline"},ct={class:"sm:hidden"},ut={class:"flex items-center"},pt={class:"p-1.5 md:p-2 rounded-lg hover:bg-primary/10 transition-colors"},gt={key:0,class:"space-y-4 md:space-y-6"},ft={class:"bg-gradient-to-r from-indigo-50 to-blue-50 dark:from-indigo-950/20 dark:to-blue-950/20 rounded-lg p-3 md:p-4 border border-indigo-200 dark:border-indigo-800/30"},xt={class:"flex items-center gap-2 mb-1.5 md:mb-2"},bt={class:"text-xs md:text-sm text-indigo-700 dark:text-indigo-300 leading-relaxed"},ht={key:0,class:"space-y-3 md:space-y-4"},_t={class:"relative pl-6 md:pl-8"},vt={class:"space-y-4 md:space-y-6"},yt={class:"flex items-center justify-between"},wt={class:"flex items-center gap-2 md:gap-3"},kt={class:"flex items-center justify-center w-6 h-6 md:w-8 md:h-8 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-500 text-white text-xs md:text-sm font-bold shadow-sm"},jt={class:"text-xs md:text-sm text-muted-foreground mt-1"},St={key:0,class:"mx-1 hidden md:inline"},Ct={key:1,class:"line-clamp-1 hidden md:inline"},Tt={class:"flex items-center gap-1 md:gap-2"},$t={key:0,class:"bg-gradient-to-br from-slate-50 to-gray-50 dark:from-slate-950/20 dark:to-gray-950/20 rounded-lg p-3 md:p-4 border border-slate-200 dark:border-slate-800/30"},At={class:"flex items-start gap-2 md:gap-3"},Gt={class:"text-xs md:text-sm text-slate-700 dark:text-slate-300 leading-relaxed"},Pt={key:1,class:"bg-gradient-to-br from-amber-50 to-yellow-50 dark:from-amber-950/20 dark:to-yellow-950/20 rounded-lg p-3 md:p-4 border border-amber-200 dark:border-amber-800/30"},Et={class:"flex items-start gap-2 md:gap-3"},Ft={class:"text-xs md:text-sm text-amber-700 dark:text-amber-300 leading-relaxed"},Rt={key:2,class:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 rounded-lg p-3 md:p-4 border border-green-200 dark:border-green-800/30"},zt={class:"flex items-center gap-2 mb-2 md:mb-3"},Nt={class:"space-y-1.5 md:space-y-2"},Bt={class:"text-xs md:text-sm text-green-700 dark:text-green-300"},Mt={key:3,class:"text-center py-6 px-4"},qt={class:"text-muted-foreground text-sm"},Ot={key:1,class:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/20 dark:to-orange-950/20 rounded-lg p-4 md:p-6 border border-amber-200 dark:border-amber-800/30"},Wt={class:"flex items-start gap-3"},Lt={class:"flex items-center justify-center w-8 h-8 rounded-full bg-amber-100 dark:bg-amber-900/30 flex-shrink-0"},Ut={key:1,class:"text-center py-12 px-6"},Vt={class:"relative"},Xt={class:"mt-12 text-center"},Dt={class:"space-y-4"},Yt={class:"text-muted-foreground max-w-2xl mx-auto"},Ht={class:"flex gap-4 justify-center"},ws=me({__name:"Guidance",props:{project:{},structure:{},timeline:{},facultyName:{},hasAnyGuidance:{type:Boolean},guidanceStatus:{}},setup(ee){const p=ee,w=f({1:!0}),k=f({});(()=>{k.value["1-0"]=!0})();const h=f(!1),_=f(!1),j=f(0),G=f(null),g=f("Preparing your guidance..."),S=f([]),B=X(()=>(p.project?.mode??"manual")!=="auto");ce(()=>p.structure?.chapters,o=>{o&&Array.isArray(o)&&(S.value=[...o])},{immediate:!0});const M=X(()=>S.value.reduce((o,t)=>o+(t.word_count||0),0)),q=()=>{z.visit(route("projects.show",p.project.slug))},te=()=>{z.visit(route("projects.writing",p.project.slug))},se=()=>{const o=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(o)return o;const t=document.cookie.match(/XSRF-TOKEN=([^;]+)/);return t?decodeURIComponent(t[1]):""},ae=async()=>{h.value=!0;try{const o=se();if(!o)throw new Error("CSRF token not found. Please refresh the page and try again.");const t=await fetch(`/api/projects/${p.project.slug}/guidance/proceed-to-writing`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":o},credentials:"same-origin"});if(t.status===419){N("ðŸ”„ Session Expired",{description:"Please refresh the page and try again."}),setTimeout(()=>{window.location.reload()},2e3);return}if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);const r=await t.json();if(r.success)N("ðŸš€ Ready to Write!",{description:"Let's start crafting your academic project. Good luck!"}),setTimeout(()=>{z.visit(route("projects.writing",p.project.slug))},1e3);else throw new Error(r.message||"Failed to proceed to writing")}catch(o){console.error("Failed to proceed to writing:",o);let t="Failed to proceed to writing phase. Please try again.";o.message.includes("CSRF")&&(t="Session expired. Please refresh the page and try again."),N("âŒ Error",{description:t}),h.value=!1}},re=async()=>{_.value=!0,j.value=0,g.value="Preparing your guidance...";try{const o=new EventSource(`/api/projects/${p.project.slug}/guidance/stream-bulk-generation`);o.onmessage=t=>{try{const r=JSON.parse(t.data);switch(r.type){case"start":g.value="Starting guidance generation...";break;case"progress":j.value=r.progress,G.value=r.current_chapter,g.value=`Generating guidance for Chapter ${r.current_chapter}: ${r.chapter_title}`;break;case"chapter_complete":break;case"complete":g.value="Guidance generation completed!",o.close(),setTimeout(()=>{window.location.reload()},1e3);break;case"error":g.value=`Error: ${r.message}`,o.close(),_.value=!1;break}}catch(r){console.error("Failed to parse SSE data:",r)}},o.onerror=t=>{console.error("SSE connection error:",t),o.close(),_.value=!1,g.value="Failed to generate guidance. Please try again."}}catch(o){console.error("Error starting guidance generation:",o),_.value=!1,g.value="Failed to start guidance generation."}};ue(()=>{B.value&&p.guidanceStatus==="missing"&&re()});const oe=o=>({1:K,2:J,3:D,4:ye,5:ve})[o]||T;return(o,t)=>(d(),b(le,{title:"Project Guidance"},{default:i(()=>[e("div",ke,[e("div",je,[e("div",Se,[a(s(C),{variant:"ghost",size:"sm",onClick:q,class:"mb-3 md:mb-4 text-muted-foreground hover:text-foreground"},{default:i(()=>[a(s(pe),{class:"mr-2 h-3 w-3 md:h-4 md:w-4"}),t[0]||(t[0]=e("span",{class:"text-xs md:text-sm"},"Back to Project",-1))]),_:1}),e("div",Ce,[t[1]||(t[1]=e("h1",{class:"text-2xl md:text-4xl font-bold tracking-tight"}," Project Guidance ",-1)),a(we,{as:"p",class:"text-base md:text-xl text-muted-foreground line-clamp-2 md:line-clamp-none",content:o.project.title},null,8,["content"]),e("div",Te,[e("span",$e,[a(s(D),{class:"h-3 w-3 md:h-4 md:w-4"}),e("span",Ae,n(o.facultyName)+" Faculty",1),e("span",Ge,n(o.facultyName),1)]),e("span",Pe,[a(s(Y),{class:"h-3 w-3 md:h-4 md:w-4"}),u(" "+n(o.timeline.total_duration),1)]),e("span",Ee,[a(s(T),{class:"h-3 w-3 md:h-4 md:w-4"}),e("span",Fe,n(M.value.toLocaleString())+" words",1),e("span",Re,n(Math.round(M.value/1e3))+"k",1)])])])]),B.value?(d(),l(A,{key:1},[_.value?(d(),l("div",Be,[a(s(v),{class:"border border-border shadow-sm bg-card"},{default:i(()=>[a(s(y),{class:"p-6 md:p-8 text-center"},{default:i(()=>[e("div",Me,[e("div",qe,[e("div",Oe,[a(s(I),{class:"h-8 w-8 md:h-10 md:w-10 text-primary animate-pulse"})]),t[5]||(t[5]=e("div",{class:"absolute inset-0 w-16 h-16 md:w-20 md:h-20 rounded-full border-2 border-muted border-t-primary animate-spin"},null,-1))]),e("div",We,[e("div",Le,[t[6]||(t[6]=e("h3",{class:"text-xl md:text-2xl font-bold tracking-tight"},"Preparing Your Academic Guidance",-1)),e("p",Ue,n(g.value),1)]),e("div",Ve,[e("div",{class:"bg-primary h-full rounded-full transition-all duration-700 ease-out",style:ge({width:`${j.value}%`})},null,4)]),e("div",Xe,[e("span",De,"Progress: "+n(Math.round(j.value))+"%",1),G.value?(d(),l("span",Ye,[a(s(K),{class:"h-3 w-3"}),u(" Chapter "+n(G.value),1)])):c("",!0)])]),e("div",He,[e("div",Ie,[a(s($),{class:"h-4 w-4 text-indigo-600 dark:text-indigo-400"}),t[7]||(t[7]=e("span",{class:"font-semibold text-sm text-indigo-800 dark:text-indigo-200"},"AI Enhancement in Progress",-1))]),t[8]||(t[8]=e("p",{class:"text-xs text-indigo-700 dark:text-indigo-300 leading-relaxed"}," Our AI is analyzing your project details and generating personalized, faculty-specific guidance for each chapter. This process ensures you receive the most relevant and detailed academic assistance. ",-1))])])]),_:1})]),_:1})])):o.hasAnyGuidance?(d(),l("div",Ke,[e("div",Ze,[e("div",Je,[a(s($),{class:"h-4 w-4 md:h-5 md:w-5 text-muted-foreground"}),t[9]||(t[9]=e("h2",{class:"text-lg md:text-2xl font-semibold"},"AI-Powered Chapter Guide",-1)),a(s(E),{variant:"secondary",class:"text-xs hidden sm:inline-flex"},{default:i(()=>[u(" Tailored for "+n(o.facultyName),1)]),_:1})])]),e("div",Qe,[t[26]||(t[26]=e("div",{class:"absolute left-6 md:left-8 top-6 bottom-6 w-0.5 bg-border"},null,-1)),e("div",et,[(d(!0),l(A,null,F(S.value,(r,Kt)=>(d(),l("div",{key:r.number,class:"relative"},[e("div",{class:R(["absolute left-4 md:left-6 top-6 w-3 h-3 md:w-4 md:h-4 rounded-full border-2 md:border-4 border-background shadow-lg z-10",r.is_required?"bg-foreground":"bg-muted-foreground"])},null,2),e("div",tt,[a(s(v),{class:"hover:shadow-xl transition-all duration-300 border-2 hover:border-primary/20 bg-gradient-to-br from-background to-muted/10"},{default:i(()=>[a(s(L),{open:w.value[r.number],"onUpdate:open":m=>w.value[r.number]=m},{default:i(()=>[a(s(U),{class:"w-full p-0 text-left"},{default:i(()=>[a(s(O),{class:"hover:bg-gradient-to-r hover:from-primary/5 hover:to-primary/10 transition-all duration-300 rounded-t-lg p-3 md:p-4"},{default:i(()=>[e("div",st,[e("div",at,[e("div",rt,[e("div",ot,[(d(),b(fe(oe(r.number)),{class:"h-5 w-5 md:h-6 md:w-6"}))]),r.ai_guidance?(d(),l("div",dt,[a(s($),{class:"h-1.5 w-1.5 md:h-2 md:w-2 text-white"})])):c("",!0)]),e("div",it,[a(s(W),{class:"text-lg md:text-xl font-bold flex items-center gap-2"},{default:i(()=>[u(" Chapter "+n(r.number)+": "+n(r.title)+" ",1),w.value[r.number]?(d(),l("div",nt,[...t[10]||(t[10]=[e("span",{class:"animate-pulse"},"Expanded",-1)])])):c("",!0)]),_:2},1024),a(s(ie),{class:"flex items-center gap-2 md:gap-4 text-xs md:text-sm"},{default:i(()=>[e("span",lt,[a(s(T),{class:"h-3 w-3"}),e("span",mt,n(r.word_count.toLocaleString())+" words",1),e("span",ct,n(Math.round(r.word_count/1e3))+"k",1)]),a(s(E),{variant:r.is_required?"default":"secondary",class:"text-xs"},{default:i(()=>[u(n(r.is_required?"Required":"Optional"),1)]),_:2},1032,["variant"])]),_:2},1024)])]),e("div",ut,[e("div",pt,[w.value[r.number]?(d(),b(s(Z),{key:1,class:"h-4 w-4 md:h-5 md:w-5 text-primary animate-pulse"})):(d(),b(s(xe),{key:0,class:"h-4 w-4 md:h-5 md:w-5 text-muted-foreground transition-transform duration-200"}))])])])]),_:2},1024)]),_:2},1024),a(s(V),{class:"overflow-hidden"},{default:i(()=>[a(s(y),{class:"p-3 md:p-4 pt-0 space-y-6 md:space-y-8 animate-in slide-in-from-top-2 duration-300"},{default:i(()=>[a(s(ne)),r.ai_guidance?(d(),l("div",gt,[e("div",ft,[e("div",xt,[a(s(J),{class:"h-3.5 w-3.5 md:h-4 md:w-4 text-indigo-600 dark:text-indigo-400"}),t[11]||(t[11]=e("span",{class:"font-semibold text-xs md:text-sm text-indigo-800 dark:text-indigo-200"},"Chapter Sections",-1))]),e("p",bt," This chapter contains "+n(r.ai_guidance.sections?.length||0)+" sections with detailed guidance and tips. Expand each section below to see specific writing guidance. ",1)]),r.ai_guidance?.sections&&Array.isArray(r.ai_guidance.sections)&&r.ai_guidance.sections.length>0?(d(),l("div",ht,[t[20]||(t[20]=e("div",{class:"flex items-center gap-2 mb-4"},[e("div",{class:"w-6 h-0.5 bg-gradient-to-r from-blue-400 dark:from-blue-600 to-transparent"}),e("span",{class:"text-sm font-medium text-muted-foreground"},"Chapter Sections"),e("div",{class:"flex-1 h-0.5 bg-gradient-to-r from-blue-200 dark:from-blue-800 to-transparent"})],-1)),e("div",_t,[t[19]||(t[19]=e("div",{class:"absolute left-1.5 top-3 bottom-0 w-0.5 bg-gradient-to-b from-blue-300 dark:from-blue-700 to-transparent"},null,-1)),e("div",vt,[(d(!0),l(A,null,F(r.ai_guidance.sections,(m,x)=>(d(),l("div",{key:`${r.number}-section-${x}`,class:"relative"},[e("div",{class:R(["absolute -left-5.5 md:-left-7.5 top-6 w-3 h-3 rounded-full border-2 border-background shadow-sm z-10",x===0?"bg-blue-500":"bg-muted-foreground/60"])},null,2),a(s(v),{class:"hover:shadow-lg transition-all duration-200 border hover:border-blue-200 dark:hover:border-blue-800/30"},{default:i(()=>[a(s(L),{open:k.value[`${r.number}-${x}`],"onUpdate:open":P=>k.value[`${r.number}-${x}`]=P},{default:i(()=>[a(s(U),{class:"w-full p-0 text-left"},{default:i(()=>[a(s(O),{class:"p-3 md:p-4 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 dark:hover:from-blue-950/10 dark:hover:to-indigo-950/10 transition-all duration-200"},{default:i(()=>[e("div",yt,[e("div",wt,[e("div",kt,n(x+1),1),e("div",null,[a(s(W),{class:"text-sm md:text-base font-semibold"},{default:i(()=>[u(n(m.title),1)]),_:2},1024),e("p",jt,[u(" Target: "+n(m.word_count||500)+" words ",1),m.description?(d(),l("span",St,"â€¢")):c("",!0),m.description?(d(),l("span",Ct,n(m.description),1)):c("",!0)])])]),e("div",Tt,[x===0?(d(),b(s(E),{key:0,variant:"secondary",class:"text-xs hidden md:inline-flex"},{default:i(()=>[...t[12]||(t[12]=[u("First Section",-1)])]),_:1})):c("",!0),a(s(Z),{class:R(["h-3 w-3 md:h-4 md:w-4 text-muted-foreground transition-transform duration-200",{"rotate-180":k.value[`${r.number}-${x}`]}])},null,8,["class"])])])]),_:2},1024)]),_:2},1024),a(s(V),null,{default:i(()=>[a(s(y),{class:"px-3 md:px-4 pb-3 md:pb-4 pt-0 space-y-3 md:space-y-4"},{default:i(()=>[m.description?(d(),l("div",$t,[e("div",At,[a(s(T),{class:"h-3.5 w-3.5 md:h-4 md:w-4 text-slate-600 dark:text-slate-400 mt-1 flex-shrink-0"}),e("div",null,[t[13]||(t[13]=e("p",{class:"font-medium text-xs md:text-sm text-slate-800 dark:text-slate-200 mb-1"},"Section Overview",-1)),e("p",Gt,n(m.description),1)])])])):c("",!0),m.guidance?(d(),l("div",Pt,[e("div",Et,[a(s(be),{class:"h-3.5 w-3.5 md:h-4 md:w-4 text-amber-600 dark:text-amber-400 mt-1 flex-shrink-0"}),e("div",null,[t[14]||(t[14]=e("p",{class:"font-medium text-xs md:text-sm text-amber-800 dark:text-amber-200 mb-1"},"Writing Guidance",-1)),e("p",Ft,n(m.guidance),1)])])])):c("",!0),m.tips&&Array.isArray(m.tips)&&m.tips.length>0?(d(),l("div",Rt,[e("div",zt,[a(s(he),{class:"h-3.5 w-3.5 md:h-4 md:w-4 text-green-600 dark:text-green-400"}),t[15]||(t[15]=e("p",{class:"font-medium text-xs md:text-sm text-green-800 dark:text-green-200"},"Pro Tips",-1))]),e("div",Nt,[(d(!0),l(A,null,F(m.tips,(P,de)=>(d(),l("div",{key:de,class:"flex items-start gap-2 p-2 bg-green-50/50 dark:bg-green-950/10 rounded-md border border-green-100 dark:border-green-800/20 shadow-sm"},[t[16]||(t[16]=e("div",{class:"w-1.5 h-1.5 bg-green-500 rounded-full mt-1.5 md:mt-2 flex-shrink-0"},null,-1)),e("span",Bt,n(P),1)]))),128))])])):c("",!0),!m.description&&!m.guidance&&(!m.tips||m.tips.length===0)?(d(),l("div",Mt,[e("div",qt,[a(s(Q),{class:"h-8 w-8 mx-auto mb-2 opacity-50"}),t[17]||(t[17]=e("p",{class:"font-medium mb-1"},"No content available",-1)),t[18]||(t[18]=e("p",{class:"text-xs"},"This section doesn't have detailed guidance yet.",-1))])])):c("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["open","onUpdate:open"])]),_:2},1024)]))),128))])])])):r.ai_guidance&&(!r.ai_guidance.sections||!Array.isArray(r.ai_guidance.sections)||r.ai_guidance.sections.length===0)?(d(),l("div",Ot,[e("div",Wt,[e("div",Lt,[a(s(Q),{class:"h-4 w-4 text-amber-600 dark:text-amber-400"})]),t[21]||(t[21]=e("div",{class:"flex-1"},[e("h4",{class:"font-semibold text-sm md:text-base text-amber-800 dark:text-amber-200 mb-2"}," Enhanced Guidance Available "),e("p",{class:"text-xs md:text-sm text-amber-700 dark:text-amber-300 leading-relaxed mb-3"}," This chapter has foundational guidance. Section-by-section recommendations will appear automatically once enhanced guidance is generated for your faculty. ")],-1))])])):c("",!0)])):(d(),l("div",Ut,[e("div",Vt,[t[22]||(t[22]=e("div",{class:"absolute inset-0 flex items-center justify-center"},[e("div",{class:"w-20 h-20 border-4 border-blue-200 border-t-blue-500 rounded-full animate-spin"})],-1)),a(s(I),{class:"h-16 w-16 mx-auto mb-6 text-blue-500 opacity-60"})]),t[23]||(t[23]=e("h4",{class:"font-semibold text-lg mb-2 text-gray-700"},"Generating AI Guidance",-1)),t[24]||(t[24]=e("p",{class:"text-muted-foreground mb-4"},"Our AI is crafting personalized guidance for this chapter...",-1)),t[25]||(t[25]=e("p",{class:"text-xs text-muted-foreground"}," This will refresh automatically once the chapter guidance is ready. ",-1))]))]),_:2},1024)]),_:2},1024)]),_:2},1032,["open","onUpdate:open"])]),_:2},1024)])]))),128))])])])):c("",!0),e("div",Xt,[a(s(v),null,{default:i(()=>[a(s(y),{class:"p-8"},{default:i(()=>[e("div",Dt,[t[28]||(t[28]=e("h3",{class:"text-2xl font-bold"},"Ready to Start Writing?",-1)),e("p",Yt," You've reviewed the guidance for your "+n(S.value.length)+" chapters. Time to begin your academic journey! ",1),e("div",Ht,[a(s(C),{onClick:ae,disabled:h.value,size:"lg",class:"font-semibold px-8"},{default:i(()=>[h.value?(d(),b(s(Y),{key:1,class:"mr-2 h-5 w-5 animate-spin"})):(d(),b(s(_e),{key:0,class:"mr-2 h-5 w-5"})),u(" "+n(h.value?"Starting...":"Start Writing")+" ",1),a(s(H),{class:"ml-2 h-5 w-5"})]),_:1},8,["disabled"]),a(s(C),{onClick:q,variant:"outline",size:"lg"},{default:i(()=>[...t[27]||(t[27]=[u(" Review Project ",-1)])]),_:1})])])]),_:1})]),_:1})])],64)):(d(),l("div",ze,[a(s(v),{class:"border border-border/80 bg-muted/30"},{default:i(()=>[a(s(y),{class:"p-6 md:p-8 text-center space-y-4"},{default:i(()=>[e("div",Ne,[a(s($),{class:"h-6 w-6 text-muted-foreground"})]),t[3]||(t[3]=e("h2",{class:"text-xl md:text-2xl font-semibold"},"Guidance Not Required",-1)),t[4]||(t[4]=e("p",{class:"text-sm md:text-base text-muted-foreground max-w-xl mx-auto"}," This project is set to auto mode, so we skip the guidance stage and head straight into the writing workspace. ",-1)),a(s(C),{onClick:te,size:"lg",class:"font-semibold px-6"},{default:i(()=>[t[2]||(t[2]=u(" Continue to Writing ",-1)),a(s(H),{class:"ml-2 h-4 w-4"})]),_:1})]),_:1})]),_:1})]))])])]),_:1}))}});export{ws as default};
