import{d as Y,a as u,o as n,r as q,n as N,u as s,W as I,E as j,g as B,c,w as r,e,T as R,y as x,k as o,s as d,t as i,F as y,z as h,b as J,f as X,R as z,S as w}from"./app-BI3B-WKV.js";import{_ as C,a as P}from"./index-CVRpcFQ1.js";import{_ as Z}from"./AlertTitle.vue_vue_type_script_setup_true_lang-B18tCxGA.js";import{_ as F}from"./index-BVhQ2dbN.js";import{a as G,_ as S,L as O}from"./index-G9NCJgAI.js";import{_ as U,a as A}from"./CardContent.vue_vue_type_script_setup_true_lang-Crb8HVKN.js";import{_ as H}from"./CardDescription.vue_vue_type_script_setup_true_lang-C31iubih.js";import{_ as D,a as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-DyR4agyE.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-DhTOwKc2.js";import{t as f}from"./Sonner.vue_vue_type_script_setup_true_lang-CCODHGN7.js";import{C as Q}from"./circle-alert-DGbsf_S3.js";import{C as $}from"./check-Dz3DOZKS.js";import{S as ee}from"./sparkles-DDvjZHSj.js";import{Z as te}from"./zap-YtsEHZ04.js";import"./useForwardExpose-DM1p2FeE.js";import"./UserInfo.vue_vue_type_script_setup_true_lang-DN1JgSYv.js";import"./VisuallyHidden-WCocV3L8.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BNjDpoNs.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-C5zVXWfQ.js";import"./chevron-right-Bxrlt0jD.js";import"./triangle-alert-BySPhGmw.js";import"./circle-check-NO4dix3F.js";const W=Y({__name:"CardFooter",props:{class:{}},setup(k){const v=k;return(_,m)=>(n(),u("div",{"data-slot":"card-footer",class:N(s(G)("flex items-center px-6 [.border-t]:pt-6",v.class))},[q(_.$slots,"default")],2))}}),se={class:"min-h-screen bg-gradient-to-b from-background to-muted/30"},ae={class:"container mx-auto px-4 py-12"},re={class:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto mb-16"},oe={class:"mb-6"},ne={class:"text-4xl font-bold"},le={class:"bg-muted/50 rounded-lg p-4 mb-6"},ie={class:"text-3xl font-bold text-primary"},de={class:"space-y-3 text-left"},ce={class:"text-sm"},ue={class:"max-w-4xl mx-auto"},me={class:"text-center mb-8"},pe={class:"grid md:grid-cols-3 gap-6"},fe={class:"text-2xl font-bold mb-1"},ye={class:"text-primary font-medium mb-4"},_e={class:"space-y-1"},We=Y({__name:"Pricing",props:{packages:{},wordBalance:{},paystackPublicKey:{},paystackConfigured:{type:Boolean}},setup(k){const v=k,_=I(),m=j(null),b=j(!1),g=B(()=>_.props.flash),E=B(()=>!!_.props.auth?.user),T=async l=>{if(!v.paystackConfigured){f.error("Payment system is not available at the moment. Please contact support.");return}if(!E.value){z.visit(w("login"),{data:{redirect:w("pricing")}});return}m.value=l.id;try{const t=await(await fetch(w("payments.initialize"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({package_id:l.id})})).json();t.success?K(t.data):f.error(t.message||"Failed to initialize payment")}catch(a){console.error("Payment initialization error:",a),f.error("Something went wrong. Please try again.")}finally{m.value=null}},K=l=>{PaystackPop.setup({key:v.paystackPublicKey,email:_.props.auth?.user?.email,amount:0,ref:l.reference,access_code:l.access_code,onClose:()=>{f.info("Payment window closed")},callback:t=>{L(t.reference)}}).openIframe()},L=async l=>{try{const t=await(await fetch(w("payments.verify"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({reference:l})})).json();t.success?(f.success(`Payment successful! ${t.data.words_credited.toLocaleString()} words added to your balance.`),z.reload()):f.error(t.message||"Payment verification failed")}catch(a){console.error("Payment verification error:",a),f.error("Could not verify payment. Please check your balance.")}};return(l,a)=>(n(),c(M,{title:"Pricing"},{default:r(()=>[(n(),c(R("script"),{src:"https://js.paystack.co/v1/inline.js"})),e("div",se,[e("div",ae,[a[8]||(a[8]=e("div",{class:"text-center mb-12"},[e("h1",{class:"text-4xl font-bold tracking-tight mb-4"}," Simple, Transparent Pricing "),e("p",{class:"text-xl text-muted-foreground max-w-2xl mx-auto"}," Pay once for your project. No subscriptions. Words never expire. ")],-1)),l.paystackConfigured?x("",!0):(n(),c(s(C),{key:0,variant:"destructive",class:"mb-8 max-w-2xl mx-auto"},{default:r(()=>[o(s(Q),{class:"h-4 w-4"}),o(s(Z),null,{default:r(()=>[...a[1]||(a[1]=[d("Payment System Unavailable",-1)])]),_:1}),o(s(P),null,{default:r(()=>[...a[2]||(a[2]=[d(" The payment system is currently not configured. You can view pricing, but payments cannot be processed at this time. Please contact support if you need to make a purchase. ",-1)])]),_:1})]),_:1})),g.value?.success?(n(),c(s(C),{key:1,class:"mb-8 max-w-2xl mx-auto border-green-500 bg-green-50 dark:bg-green-950"},{default:r(()=>[o(s($),{class:"h-4 w-4 text-green-600"}),o(s(P),{class:"text-green-800 dark:text-green-200"},{default:r(()=>[d(i(g.value.success),1)]),_:1})]),_:1})):x("",!0),g.value?.error?(n(),c(s(C),{key:2,variant:"destructive",class:"mb-8 max-w-2xl mx-auto"},{default:r(()=>[o(s(P),null,{default:r(()=>[d(i(g.value.error),1)]),_:1})]),_:1})):x("",!0),e("div",re,[(n(!0),u(y,null,h(l.packages.projects,t=>(n(),c(s(U),{key:t.id,class:N(["relative transition-all duration-300 hover:shadow-lg",t.is_popular?"border-primary shadow-md":""])},{default:r(()=>[t.is_popular?(n(),c(s(F),{key:0,class:"absolute -top-3 left-1/2 -translate-x-1/2"},{default:r(()=>[o(s(ee),{class:"w-3 h-3 mr-1"}),a[3]||(a[3]=d(" Most Popular ",-1))]),_:1})):x("",!0),o(s(D),{class:"text-center pb-2"},{default:r(()=>[o(s(V),{class:"text-2xl"},{default:r(()=>[d(i(t.name),1)]),_:2},1024),o(s(H),{class:"text-sm"},{default:r(()=>[d(i(t.description),1)]),_:2},1024)]),_:2},1024),o(s(A),{class:"text-center"},{default:r(()=>[e("div",oe,[e("span",ne,i(t.formatted_price),1),a[4]||(a[4]=e("span",{class:"text-muted-foreground ml-2"},"one-time",-1))]),e("div",le,[e("div",ie,i(t.formatted_words),1),a[5]||(a[5]=e("div",{class:"text-sm text-muted-foreground"},"words included",-1))]),e("ul",de,[(n(!0),u(y,null,h(t.features,p=>(n(),u("li",{key:p,class:"flex items-start gap-2"},[o(s($),{class:"h-5 w-5 text-green-500 shrink-0 mt-0.5"}),e("span",ce,i(p),1)]))),128))])]),_:2},1024),o(s(W),null,{default:r(()=>[o(s(S),{class:"w-full",size:"lg",variant:t.is_popular?"default":"outline",disabled:!l.paystackConfigured||m.value===t.id,onClick:p=>T(t)},{default:r(()=>[m.value===t.id?(n(),c(s(O),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(n(),u(y,{key:1},[d(i(l.paystackConfigured?"Get Started":"Unavailable"),1)],64))]),_:2},1032,["variant","disabled","onClick"])]),_:2},1024)]),_:2},1032,["class"]))),128))]),e("div",ue,[e("div",me,[o(s(S),{variant:"ghost",onClick:a[0]||(a[0]=t=>b.value=!b.value),class:"text-muted-foreground"},{default:r(()=>[o(s(te),{class:"w-4 h-4 mr-2"}),d(" "+i(b.value?"Hide":"Show")+" Top-up Packs ",1)]),_:1}),a[6]||(a[6]=e("p",{class:"text-sm text-muted-foreground mt-2"}," Need more words? Buy additional word packs anytime. ",-1))]),J(e("div",pe,[(n(!0),u(y,null,h(l.packages.topups,t=>(n(),c(s(U),{key:t.id,class:N(["relative transition-all duration-300 hover:shadow-md",t.is_popular?"border-primary":""])},{default:r(()=>[t.is_popular?(n(),c(s(F),{key:0,variant:"secondary",class:"absolute -top-2 right-4"},{default:r(()=>[...a[7]||(a[7]=[d(" Best Value ",-1)])]),_:1})):x("",!0),o(s(D),{class:"pb-2"},{default:r(()=>[o(s(V),{class:"text-lg"},{default:r(()=>[d(i(t.name),1)]),_:2},1024)]),_:2},1024),o(s(A),null,{default:r(()=>[e("div",fe,i(t.formatted_price),1),e("div",ye,i(t.formatted_words)+" words ",1),e("ul",_e,[(n(!0),u(y,null,h(t.features,p=>(n(),u("li",{key:p,class:"flex items-center gap-2 text-xs text-muted-foreground"},[o(s($),{class:"h-3 w-3 text-green-500"}),d(" "+i(p),1)]))),128))])]),_:2},1024),o(s(W),null,{default:r(()=>[o(s(S),{variant:"outline",class:"w-full",disabled:!l.paystackConfigured||m.value===t.id,onClick:p=>T(t)},{default:r(()=>[m.value===t.id?(n(),c(s(O),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(n(),u(y,{key:1},[d(i(l.paystackConfigured?"Buy Now":"Unavailable"),1)],64))]),_:2},1032,["disabled","onClick"])]),_:2},1024)]),_:2},1032,["class"]))),128))],512),[[X,b.value]])]),a[9]||(a[9]=e("div",{class:"max-w-2xl mx-auto mt-16 text-center"},[e("h2",{class:"text-xl font-semibold mb-6"},"Frequently Asked Questions"),e("div",{class:"space-y-4 text-left"},[e("div",{class:"p-4 rounded-lg bg-muted/30"},[e("h3",{class:"font-medium mb-1"},"Do words expire?"),e("p",{class:"text-sm text-muted-foreground"}," No! Your words never expire. Use them whenever you're ready. ")]),e("div",{class:"p-4 rounded-lg bg-muted/30"},[e("h3",{class:"font-medium mb-1"},"What if I run out of words?"),e("p",{class:"text-sm text-muted-foreground"}," Simply purchase a top-up pack. Your new words are added instantly. ")]),e("div",{class:"p-4 rounded-lg bg-muted/30"},[e("h3",{class:"font-medium mb-1"},"Can I use words across multiple projects?"),e("p",{class:"text-sm text-muted-foreground"}," Yes! Your word balance is account-wide. Use it for any project, seminar, or presentation. ")]),e("div",{class:"p-4 rounded-lg bg-muted/30"},[e("h3",{class:"font-medium mb-1"},"What payment methods are accepted?"),e("p",{class:"text-sm text-muted-foreground"}," We accept all Nigerian bank cards, bank transfers, and USSD payments via Paystack. ")])])],-1))])])]),_:1}))}});export{We as default};
