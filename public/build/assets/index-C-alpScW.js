import{bt as _,e7 as v,ei as V,bs as S,gH as M,bw as N,ci as z,cn as h,co as p,bE as e,gI as H,d0 as x,cp as g,dx as b,ck as I,cG as P,e8 as O,gJ as G,bA as L,cR as E,gK as T,gL as q,cs as A,ct as U,fo as R,cB as D,cq as k,d1 as J,gM as K,gN as j,gO as Q,gP as W,cr as X,fT as F}from"./vendor-DwcF3VNb.js";import{c as y}from"./index-BpTO5Kag.js";const ne=_({__name:"Command",props:{modelValue:{default:""},defaultValue:{},multiple:{type:Boolean},orientation:{},dir:{},disabled:{type:Boolean},selectionBehavior:{},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(i,{emit:s}){const o=i,n=s,d=v(o,"class"),a=V(d,n),t=S(new Map),c=S(new Map),{contains:C}=M({sensitivity:"base"}),r=N({search:"",filtered:{count:0,items:new Map,groups:new Set}});function B(){if(!r.search){r.filtered.count=t.value.size;return}r.filtered.groups=new Set;let m=0;for(const[u,f]of t.value){const l=C(f,r.search);r.filtered.items.set(u,l?1:0),l&&m++}for(const[u,f]of c.value)for(const l of f)if(r.filtered.items.get(l)>0){r.filtered.groups.add(u);break}r.filtered.count=m}return z(()=>r.search,()=>{B()}),ee({allItems:t,allGroups:c,filterState:r}),(m,u)=>(p(),h(e(H),x({"data-slot":"command"},e(a),{class:e(y)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",o.class)}),{default:g(()=>[b(m.$slots,"default")]),_:3},16,["class"]))}}),re=_({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{},class:{}},setup(i){const s=i,o=v(s,"class"),{filterState:n}=w(),d=I(()=>!!n.search&&n.filtered.count===0);return(a,t)=>d.value?(p(),h(e(O),x({key:0,"data-slot":"command-empty"},e(o),{class:e(y)("py-6 text-center text-sm",s.class)}),{default:g(()=>[b(a.$slots,"default")]),_:3},16,["class"])):P("",!0)}}),le=_({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{},class:{},heading:{}},setup(i){const s=i,o=v(s,"class"),{allGroups:n,filterState:d}=w(),a=G(),t=I(()=>d.search?d.filtered.groups.has(a):!0);return se({id:a}),L(()=>{n.value.has(a)||n.value.set(a,new Set)}),E(()=>{n.value.delete(a)}),(c,C)=>(p(),h(e(T),x(e(o),{id:e(a),"data-slot":"command-group",class:e(y)("text-foreground overflow-hidden p-1",s.class),hidden:t.value?void 0:!0}),{default:g(()=>[c.heading?(p(),h(e(q),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:g(()=>[A(U(c.heading),1)]),_:1})):P("",!0),b(c.$slots,"default")]),_:3},16,["id","class","hidden"]))}}),Y={"data-slot":"command-input-wrapper",class:"flex h-12 items-center gap-2 border-b px-3"},de=_({inheritAttrs:!1,__name:"CommandInput",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(i){const s=i,o=v(s,"class"),n=R(o),{filterState:d}=w();return(a,t)=>(p(),D("div",Y,[k(e(J),{class:"size-4 shrink-0 opacity-50"}),k(e(K),x({...e(n),...a.$attrs},{modelValue:e(d).search,"onUpdate:modelValue":t[0]||(t[0]=c=>e(d).search=c),"data-slot":"command-input","auto-focus":"",class:e(y)("placeholder:text-muted-foreground flex h-12 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",s.class)}),null,16,["modelValue","class"])]))}}),ce=_({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(i,{emit:s}){const o=i,n=s,d=v(o,"class"),a=V(d,n),t=G(),{filterState:c,allItems:C,allGroups:r}=w(),B=te(),m=I(()=>{if(c.search){const l=c.filtered.items.get(t);return l===void 0?!0:l>0}else return!0}),u=S(),f=j(u);return L(()=>{if(!(f.value instanceof HTMLElement))return;C.value.set(t,f.value.textContent??o.value?.toString()??"");const l=B?.id;l&&(r.value.has(l)?r.value.get(l)?.add(t):r.value.set(l,new Set([t])))}),E(()=>{C.value.delete(t)}),(l,$)=>m.value?(p(),h(e(Q),x({key:0},e(a),{id:e(t),ref_key:"itemRef",ref:u,"data-slot":"command-item",class:e(y)("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-3 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",o.class),onSelect:$[0]||($[0]=()=>{e(c).search=""})}),{default:g(()=>[b(l.$slots,"default")]),_:3},16,["id","class"])):P("",!0)}}),Z={role:"presentation"},ie=_({__name:"CommandList",props:{asChild:{type:Boolean},as:{},class:{}},setup(i){const s=i,o=v(s,"class"),n=R(o);return(d,a)=>(p(),h(e(W),x({"data-slot":"command-list"},e(n),{class:e(y)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",s.class)}),{default:g(()=>[X("div",Z,[b(d.$slots,"default")])]),_:3},16,["class"]))}}),[w,ee]=F("Command"),[te,se]=F("CommandGroup");export{ne as _,de as a,re as b,ie as c,le as d,ce as e};
